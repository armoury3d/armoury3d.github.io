!function(e,t){"use strict";function a(e,t){function a(){}a.prototype=e;var i=new a;for(var s in t)i[s]=t[s];return t.toString!==Object.prototype.toString&&(i.toString=t.toString),i}function i(e,t){if(null==t)return null;null==t.__id__&&(t.__id__=vi++);var a;return null==e.hx__closures__?e.hx__closures__={}:a=e.hx__closures__[t.__id__],null==a&&((a=function(){return a.method.apply(a.scope,arguments)}).scope=e,a.method=t,e.hx__closures__[t.__id__]=a),a}e.kha=e.kha||{},e.kha.input=e.kha.input||{},e.kha._Color=e.kha._Color||{};var s={},n=function(){return at.__string_rec(this,"")},r=function(e,t){this.r=new RegExp(e,t.split("u").join(""))};s.EReg=r,r.__name__=!0,r.prototype={match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&e>=0&&e<this.r.m.length)return this.r.m[e];throw new tt("EReg::matched")},__class__:r};var l=function(){};s.HxOverrides=l,l.__name__=!0,l.strDate=function(e){switch(e.length){case 8:var t=e.split(":"),a=new Date;return a.setTime(0),a.setUTCHours(t[0]),a.setUTCMinutes(t[1]),a.setUTCSeconds(t[2]),a;case 10:var i=e.split("-");return new Date(i[0],i[1]-1,i[2],0,0,0);case 19:var s=e.split(" "),n=s[0].split("-"),r=s[1].split(":");return new Date(n[0],n[1]-1,n[2],r[0],r[1],r[2]);default:throw new tt("Invalid date format : "+e)}},l.cca=function(e,t){var a=e.charCodeAt(t);if(a==a)return a},l.substr=function(e,t,a){if(null==a)a=e.length;else if(a<0){if(0!=t)return"";a=e.length+a}return e.substr(t,a)},l.remove=function(e,t){var a=e.indexOf(t);return-1!=a&&(e.splice(a,1),!0)},l.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var g=function(){this.length=0};s.List=g,g.__name__=!0,g.prototype={add:function(e){var t=new o(e,null);null==this.h?this.h=t:this.q.next=t,this.q=t,this.length++},push:function(e){var t=new o(e,this.h);this.h=t,null==this.q&&(this.q=t),this.length++},first:function(){return null==this.h?null:this.h.item},iterator:function(){return new h(this.h)},__class__:g};var o=function(e,t){this.item=e,this.next=t};s["_List.ListNode"]=o,o.__name__=!0,o.prototype={__class__:o};var h=function(e){this.head=e};s["_List.ListIterator"]=h,h.__name__=!0,h.prototype={hasNext:function(){return null!=this.head},next:function(){var e=this.head.item;return this.head=this.head.next,e},__class__:h};var c=s["kha.WindowMode"]={__ename__:!0,__constructs__:["Window","BorderlessWindow","Fullscreen"]};c.Window=["Window",0],c.Window.toString=n,c.Window.__enum__=c,c.BorderlessWindow=["BorderlessWindow",1],c.BorderlessWindow.toString=n,c.BorderlessWindow.__enum__=c,c.Fullscreen=["Fullscreen",2],c.Fullscreen.toString=n,c.Fullscreen.__enum__=c;var d=function(){};s.Main=d,d.__name__=!0,d.main=function(){Ge.skinMaxBones=67,d.state=1,d.state--,d.start()},d.start=function(){d.state>0||(b.register(),d.projectWindowMode==c.Fullscreen&&(d.projectWindowMode=c.BorderlessWindow,d.projectWidth=It.width(0),d.projectHeight=It.height(0)),_t.init({title:"animation",width:d.projectWidth,height:d.projectHeight,samplesPerPixel:1,vSync:!0,windowMode:d.projectWindowMode,resizable:!1,maximizable:!1,minimizable:!0},function(){$.init(function(){$.notifyOnRender2D(M.render),le.setActive("Scene",function(e){ie.setActive(B.get())})})}))},Math.__name__=!0;var I=function(){};s.Reflect=I,I.__name__=!0,I.field=function(e,t){try{return e[t]}catch(e){return null}},I.getProperty=function(e,t){var a;if(null==e)return null;var i;return i=!!e.__properties__&&(a=e.__properties__["get_"+t]),i?e[a]():e[t]},I.setProperty=function(e,t,a){var i;!!e.__properties__&&(i=e.__properties__["set_"+t])?e[i](a):e[t]=a},I.fields=function(e){var t=[];if(null!=e){var a=Object.prototype.hasOwnProperty;for(var i in e)"__id__"!=i&&"hx__closures__"!=i&&a.call(e,i)&&t.push(i)}return t},I.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)};var u=function(){};s.Std=u,u.__name__=!0,u.string=function(e){return at.__string_rec(e,"")},u.parseInt=function(e){var t=parseInt(e,10);return 0!=t||120!=l.cca(e,1)&&88!=l.cca(e,1)||(t=parseInt(e)),isNaN(t)?null:t};var C=function(){};s.StringTools=C,C.__name__=!0,C.endsWith=function(e,t){var a=t.length,i=e.length;return i>=a&&l.substr(e,i-a,a)==t},C.replace=function(e,t,a){return e.split(t).join(a)};var m=function(){};s.Type=m,m.__name__=!0,m.resolveClass=function(e){var t=s[e];return null!=t&&t.__name__?t:null},m.resolveEnum=function(e){var t=s[e];return null!=t&&t.__ename__?t:null},m.createInstance=function(e,t){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6]);case 8:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]);case 9:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]);case 10:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9]);case 11:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10]);case 12:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11]);case 13:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12]);case 14:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13]);default:throw new tt("Too many arguments")}},m.createEmptyInstance=function(e){function t(){}return t.prototype=e.prototype,new t},m.createEnum=function(e,t,a){var i=I.field(e,t);if(null==i)throw new tt("No such constructor "+t);if(I.isFunction(i)){if(null==a)throw new tt("Constructor "+t+" need parameters");return i.apply(e,a)}if(null!=a&&0!=a.length)throw new tt("Constructor "+t+" does not need parameters");return i};var p={};s["_UInt.UInt_Impl_"]=p,p.__name__=!0,p.gt=function(e,t){var a=e<0;return a!=t<0?a:e>t},p.gte=function(e,t){var a=e<0;return a!=t<0?a:e>=t},p.toFloat=function(e){var t=e;return t<0?4294967296+t:t+0};var b=function(){};s["armory.object.Uniforms"]=b,b.__name__=!0,b.register=function(){je.externalTextureLinks=[b.externalTextureLink],je.externalVec3Links=[b.externalVec3Link],je.externalFloatLinks=[b.externalFloatLink]},b.externalTextureLink=function(e){if("_smaaSearch"==e){var t=le.active.embedded;return null!=Wi["smaa_search.png"]?t.getReserved("smaa_search.png"):t.h["smaa_search.png"]}if("_smaaArea"==e){var a=le.active.embedded;return null!=Wi["smaa_area.png"]?a.getReserved("smaa_area.png"):a.h["smaa_area.png"]}if("_lensTexture"==e){var i=le.active.embedded;return null!=Wi["lenstexture.jpg"]?i.getReserved("lenstexture.jpg"):i.h["lenstexture.jpg"]}if("_cloudsTexture"==e){var s=le.active.embedded;return null!=Wi["cloudstexture.png"]?s.getReserved("cloudstexture.png"):s.h["cloudstexture.png"]}return null},b.externalVec3Link=function(e){var t=null;return"_hosekA"==e?(null==w.data&&w.init(le.active.world),(t=je.helpVec).x=w.data.A.x,t.y=w.data.A.y,t.z=w.data.A.z):"_hosekB"==e?(null==w.data&&w.init(le.active.world),(t=je.helpVec).x=w.data.B.x,t.y=w.data.B.y,t.z=w.data.B.z):"_hosekC"==e?(null==w.data&&w.init(le.active.world),(t=je.helpVec).x=w.data.C.x,t.y=w.data.C.y,t.z=w.data.C.z):"_hosekD"==e?(null==w.data&&w.init(le.active.world),(t=je.helpVec).x=w.data.D.x,t.y=w.data.D.y,t.z=w.data.D.z):"_hosekE"==e?(null==w.data&&w.init(le.active.world),(t=je.helpVec).x=w.data.E.x,t.y=w.data.E.y,t.z=w.data.E.z):"_hosekF"==e?(null==w.data&&w.init(le.active.world),(t=je.helpVec).x=w.data.F.x,t.y=w.data.F.y,t.z=w.data.F.z):"_hosekG"==e?(null==w.data&&w.init(le.active.world),(t=je.helpVec).x=w.data.G.x,t.y=w.data.G.y,t.z=w.data.G.z):"_hosekH"==e?(null==w.data&&w.init(le.active.world),(t=je.helpVec).x=w.data.H.x,t.y=w.data.H.y,t.z=w.data.H.z):"_hosekI"==e?(null==w.data&&w.init(le.active.world),(t=je.helpVec).x=w.data.I.x,t.y=w.data.I.y,t.z=w.data.I.z):"_hosekZ"==e&&(null==w.data&&w.init(le.active.world),(t=je.helpVec).x=w.data.Z.x,t.y=w.data.Z.y,t.z=w.data.Z.z),t},b.externalFloatLink=function(e){return"_dynamicScale"==e?f.dynamicScale:0};var f=function(){};s["armory.renderpath.DynamicResolutionScale"]=f,f.__name__=!0;var A=function(e,t,a,i){this.Z=new bi,this.I=new bi,this.H=new bi,this.G=new bi,this.F=new bi,this.E=new bi,this.D=new bi,this.C=new bi,this.B=new bi,this.A=new bi;for(var s=0;s<3;){var n=s++;this.setVector(this.A,n,this.evaluate(v.datasetsRGB[n],0,9,t,a,e)),this.setVector(this.B,n,this.evaluate(v.datasetsRGB[n],1,9,t,a,e)),this.setVector(this.C,n,this.evaluate(v.datasetsRGB[n],2,9,t,a,e)),this.setVector(this.D,n,this.evaluate(v.datasetsRGB[n],3,9,t,a,e)),this.setVector(this.E,n,this.evaluate(v.datasetsRGB[n],4,9,t,a,e)),this.setVector(this.F,n,this.evaluate(v.datasetsRGB[n],5,9,t,a,e)),this.setVector(this.G,n,this.evaluate(v.datasetsRGB[n],6,9,t,a,e)),this.setVector(this.H,n,this.evaluate(v.datasetsRGB[n],8,9,t,a,e)),this.setVector(this.I,n,this.evaluate(v.datasetsRGB[n],7,9,t,a,e)),this.setVector(this.Z,n,this.evaluate(v.datasetsRGBRad[n],0,1,t,a,e))}if(0!=i){var r=this.hosek_wilkie(Math.cos(e),0,1,this.A,this.B,this.C,this.D,this.E,this.F,this.G,this.H,this.I);r.x*=this.Z.x,r.y*=this.Z.y,r.z*=this.Z.z;.7152,.0722;var l=.2126*r.x+.7152*r.y+.0722*r.z;this.Z.x/=l,this.Z.y/=l,this.Z.z/=l;var g=this.Z;this.Z=new bi(g.x*i,g.y*i,g.z*i)}};s["armory.renderpath.HosekWilkieRadianceData"]=A,A.__name__=!0,A.prototype={evaluateSpline:function(e,t,a,i){return Math.pow(1-i,5)*e[t+0*a]+5*Math.pow(1-i,4)*Math.pow(i,1)*e[t+a]+10*Math.pow(1-i,3)*Math.pow(i,2)*e[t+2*a]+10*Math.pow(1-i,2)*Math.pow(i,3)*e[t+3*a]+5*Math.pow(1-i,1)*Math.pow(i,4)*e[t+4*a]+Math.pow(i,5)*e[t+5*a]},clamp:function(e,t,a){return e<=t?t:e>=a?a:e},clampF:function(e,t,a){return e<=t?t:e>=a?a:e},evaluate:function(e,t,a,i,s,n){var r=Math.pow(Math.max(0,1-n/(Math.PI/2)),.3333333333333333),l=this.clamp(0|i,1,10),g=0|Math.min(l+1,10),o=this.clampF(i-l,0,1),h=t,c=t+6*a*10;return this.evaluateSpline(e,h+6*a*(l-1),a,r)*(1-s)*(1-o)+this.evaluateSpline(e,c+6*a*(l-1),a,r)*s*(1-o)+this.evaluateSpline(e,h+6*a*(g-1),a,r)*(1-s)*o+this.evaluateSpline(e,c+6*a*(g-1),a,r)*s*o},hosek_wilkie:function(e,t,a,i,s,n,r,l,g,o,h,c){var d,I,u=1+a*a,C=u/Math.pow(1+h.x*h.x-2*a*h.x,1.5);I=u/Math.pow(1+h.y*h.y-2*a*h.y,1.5),d=u/Math.pow(1+h.z*h.z-2*a*h.z,1.5);var m=(1+i.x*Math.exp(s.x/(e+.01)))*(n.x+r.x*Math.exp(l.x*t)+g.x*(a*a)+o.x*C+c.x*Math.sqrt(Math.max(0,e))),p=(1+i.y*Math.exp(s.y/(e+.01)))*(n.y+r.y*Math.exp(l.y*t)+g.y*(a*a)+o.y*I+c.y*Math.sqrt(Math.max(0,e))),b=(1+i.z*Math.exp(s.z/(e+.01)))*(n.z+r.z*Math.exp(l.z*t)+g.z*(a*a)+o.z*d+c.z*Math.sqrt(Math.max(0,e)));return new bi(m,p,b)},setVector:function(e,t,a){0==t?e.x=a:1==t?e.y=a:e.z=a},__class__:A};var w=function(){};s["armory.renderpath.HosekWilkie"]=w,w.__name__=!0,w.recompute=function(e,t,a,i){w.data=new A(e,t,a,i)},w.init=function(e){var t=e.getGlobalProbe(),a=t.raw.sun_direction;w.sunDirection=new bi(a[0],a[1],a[2]);var i=Math.acos(w.sunDirection.z),s=t.raw.turbidity,n=t.raw.ground_albedo;w.recompute(i,s,n,1.15)};var v=function(){};s["armory.renderpath.HosekWilkieData"]=v,v.__name__=!0;var B=function(){};s["armory.renderpath.RenderPathCreator"]=B,B.__name__=!0,B.get=function(){return B.path=new ie,B.init(),B.path.commands=B.commands,B.path},B.init=function(){B.path.loadMaterial("_worldMaterial"),B.path.createDepthBuffer("main","DEPTH24");var e=new se;e.name="tex",e.width=0,e.height=0,e.displayp=null,e.format="RGBA64";e.depth_buffer="main",B.path.createRenderTarget(e);var t=new se;t.name="buf",t.width=0,t.height=0,t.displayp=null,t.format="RGBA64";B.path.createRenderTarget(t),B.path.createDepthBuffer("main","DEPTH24");var a=new se;a.name="gbuffer0",a.width=0,a.height=0,a.displayp=null,a.format="RGBA64";a.depth_buffer="main",B.path.createRenderTarget(a);var i=new se;i.name="gbuffer1",i.width=0,i.height=0,i.displayp=null,i.format="RGBA64";B.path.createRenderTarget(i),B.path.loadShader("deferred_indirect/deferred_indirect/deferred_indirect"),B.path.loadShader("deferred_light/deferred_light/deferred_light"),B.path.loadShader("deferred_light_quad/deferred_light_quad/deferred_light_quad"),B.path.loadShader("ssao_pass/ssao_pass/ssao_pass"),B.path.loadShader("blur_edge_pass/blur_edge_pass/blur_edge_pass_x"),B.path.loadShader("blur_edge_pass/blur_edge_pass/blur_edge_pass_y");var s=new se;s.name="bufa",s.width=0,s.height=0,s.displayp=null,s.format="RGBA32";B.path.createRenderTarget(s);var n=new se;n.name="bufb",n.width=0,n.height=0,n.displayp=null,n.format="RGBA32";B.path.createRenderTarget(n),B.path.loadShader("compositor_pass/compositor_pass/compositor_pass")},B.commands=function(){B.path.setTarget("gbuffer0",["gbuffer1"]),B.path.clearTarget(null,1),B.path.drawMeshes("mesh"),B.path.setTarget("bufa"),B.path.bindTarget("_main","gbufferD"),B.path.bindTarget("gbuffer0","gbuffer0"),B.path.drawShader("ssao_pass/ssao_pass/ssao_pass"),B.path.setTarget("bufb"),B.path.bindTarget("bufa","tex"),B.path.bindTarget("gbuffer0","gbuffer0"),B.path.drawShader("blur_edge_pass/blur_edge_pass/blur_edge_pass_x"),B.path.setTarget("bufa"),B.path.bindTarget("bufb","tex"),B.path.bindTarget("gbuffer0","gbuffer0"),B.path.drawShader("blur_edge_pass/blur_edge_pass/blur_edge_pass_y"),B.path.setTarget("tex"),B.path.bindTarget("_main","gbufferD"),B.path.bindTarget("gbuffer0","gbuffer0"),B.path.bindTarget("gbuffer1","gbuffer1"),B.path.bindTarget("bufa","ssaotex"),B.path.drawShader("deferred_indirect/deferred_indirect/deferred_indirect");for(var e=le.active.lamps,t=0,a=e.length;t<a;){var i=t++,s=e[i];if(s.visible){if(B.path.currentLampIndex=i,B.path.lampCastShadow()){for(var n=s.data.raw.shadowmap_cube?6:1,r=0,l=n;r<l;){var g=r++;n>1&&(B.path.currentFace=g),B.path.setTarget("shadowMap"),B.path.clearTarget(null,1),B.path.drawMeshes("shadowmap")}B.path.currentFace=-1}B.path.setTarget("tex"),B.path.bindTarget("_main","gbufferD"),B.path.bindTarget("gbuffer0","gbuffer0"),B.path.bindTarget("gbuffer1","gbuffer1"),B.path.lampCastShadow()&&B.path.bindTarget("shadowMap","shadowMap"),B.path.lampIsSun()?B.path.drawShader("deferred_light_quad/deferred_light_quad/deferred_light_quad"):B.path.drawLampVolume("deferred_light/deferred_light/deferred_light")}}B.path.currentLampIndex=0,B.path.drawSkydome("_worldMaterial");B.path.setTarget(""),B.path.bindTarget("tex","tex"),B.path.drawShader("compositor_pass/compositor_pass/compositor_pass")};var M=function(){};s["armory.trait.internal.LoadBar"]=M,M.__name__=!0,M.render=function(e){null!=le.active&&le.active.ready?$.removeRender2D(M.render):(e.set_color(-3200189),e.fillRect(0,_t.windowHeight()-4,_t.windowWidth()/20*he.assetsLoaded,4))};var _=function(){};s["haxe.IMap"]=_,_.__name__=!0;var Z=function(e,t){this.high=e,this.low=t};s["haxe._Int64.___Int64"]=Z,Z.__name__=!0,Z.prototype={__class__:Z};var y=function(){};s["haxe.Log"]=y,y.__name__=!0,y.trace=function(e,t){at.__trace(e,t)};var G=function(){};s["haxe._Unserializer.DefaultResolver"]=G,G.__name__=!0,G.prototype={resolveClass:function(e){return m.resolveClass(e)},resolveEnum:function(e){return m.resolveEnum(e)},__class__:G};var W=function(e){this.buf=e,this.length=e.length,this.pos=0,this.scache=[],this.cache=[];var t=W.DEFAULT_RESOLVER;null==t&&(t=new G,W.DEFAULT_RESOLVER=t),this.resolver=t};s["haxe.Unserializer"]=W,W.__name__=!0,W.initCodes=function(){for(var e=[],t=0,a=W.BASE64.length;t<a;){var i=t++;e[W.BASE64.charCodeAt(i)]=i}return e},W.run=function(e){return new W(e).unserialize()},W.prototype={readDigits:function(){for(var e=0,t=!1,a=this.pos;;){var i=this.buf.charCodeAt(this.pos);if(i!=i)break;if(45!=i){if(i<48||i>57)break;e=10*e+(i-48),this.pos++}else{if(this.pos!=a)break;t=!0,this.pos++}}return t&&(e*=-1),e},readFloat:function(){for(var e=this.pos;;){var t=this.buf.charCodeAt(this.pos);if(t!=t)break;if(!(t>=43&&t<58||101==t||69==t))break;this.pos++}return parseFloat(l.substr(this.buf,e,this.pos-e))},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw new tt("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var t=this.unserialize();if("string"!=typeof t)throw new tt("Invalid object key");var a=this.unserialize();e[t]=a}this.pos++},unserializeEnum:function(e,t){if(58!=this.buf.charCodeAt(this.pos++))throw new tt("Invalid enum format");var a=this.readDigits();if(0==a)return m.createEnum(e,t);for(var i=[];a-- >0;)i.push(this.unserialize());return m.createEnum(e,t,i)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var e=this.unserialize(),t=this.resolver.resolveClass(e);if(null==t)throw new tt("Class not found "+e);return t;case 66:var a=this.unserialize(),i=this.resolver.resolveEnum(a);if(null==i)throw new tt("Enum not found "+a);return i;case 67:var s=this.unserialize(),n=this.resolver.resolveClass(s);if(null==n)throw new tt("Class not found "+s);var r=m.createEmptyInstance(n);if(this.cache.push(r),r.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw new tt("Invalid custom data");return r;case 77:var o=new V;this.cache.push(o);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var h=this.unserialize();o.set(h,this.unserialize())}return this.pos++,o;case 82:var c=this.readDigits();if(c<0||c>=this.scache.length)throw new tt("Invalid string reference");return this.scache[c];case 97:this.buf;var d=[];for(this.cache.push(d);;){var I=this.buf.charCodeAt(this.pos);if(104==I){this.pos++;break}if(117==I){this.pos++;var u=this.readDigits();d[d.length+u-1]=null}else d.push(this.unserialize())}return d;case 98:var C=new k;this.cache.push(C);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var p=this.unserialize(),b=this.unserialize();null!=Wi[p]?C.setReserved(p,b):C.h[p]=b}return this.pos++,C;case 99:var f=this.unserialize(),A=this.resolver.resolveClass(f);if(null==A)throw new tt("Class not found "+f);var w=m.createEmptyInstance(A);return this.cache.push(w),this.unserializeObject(w),w;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:var v=this.unserialize(),B=this.resolver.resolveEnum(v);if(null==B)throw new tt("Enum not found "+v);this.pos++;var M=this.readDigits(),_=B.__constructs__.slice()[M];if(null==_)throw new tt("Unknown enum index "+v+"@"+M);var Z=this.unserializeEnum(B,_);return this.cache.push(Z),Z;case 107:return NaN;case 108:var y=new g;this.cache.push(y);for(this.buf;104!=this.buf.charCodeAt(this.pos);)y.add(this.unserialize());return this.pos++,y;case 109:return-1/0;case 110:return null;case 111:var G={};return this.cache.push(G),this.unserializeObject(G),G;case 112:return 1/0;case 113:var S=new N;this.cache.push(S);this.buf;for(var K=this.buf.charCodeAt(this.pos++);58==K;){var Y=this.readDigits(),X=this.unserialize();S.h[Y]=X,K=this.buf.charCodeAt(this.pos++)}if(104!=K)throw new tt("Invalid IntMap format");return S;case 114:var D=this.readDigits();if(D<0||D>=this.cache.length)throw new tt("Invalid reference");return this.cache[D];case 115:var H=this.readDigits(),x=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<H)throw new tt("Invalid bytes length");var F=W.CODES;null==F&&(F=W.initCodes(),W.CODES=F);for(var T=this.pos,j=3&H,R=T+(H-j),L=new z(new Si(3*(H>>2)+(j>=2?j-1:0))),Q=0;T<R;){var O=F[x.charCodeAt(T++)],E=F[x.charCodeAt(T++)];L.b[Q++]=255&(O<<2|E>>4);var J=F[x.charCodeAt(T++)];L.b[Q++]=255&(E<<4|J>>2);var U=F[x.charCodeAt(T++)];L.b[Q++]=255&(J<<6|U)}if(j>=2){var P=F[x.charCodeAt(T++)],q=F[x.charCodeAt(T++)];if(L.b[Q++]=255&(P<<2|q>>4),3==j){var $=F[x.charCodeAt(T++)];L.b[Q++]=255&(q<<4|$>>2)}}return this.pos+=H,this.cache.push(L),L;case 116:return!0;case 118:var ee;if(this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4))ee=l.strDate(l.substr(this.buf,this.pos,19)),this.pos+=19;else{var te=this.readFloat();ee=new Date(te)}return this.cache.push(ee),ee;case 119:var ae=this.unserialize(),ie=this.resolver.resolveEnum(ae);if(null==ie)throw new tt("Enum not found "+ae);var se=this.unserializeEnum(ie,this.unserialize());return this.cache.push(se),se;case 120:throw tt.wrap(this.unserialize());case 121:var ne=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<ne)throw new tt("Invalid string length");var re=l.substr(this.buf,this.pos,ne);return this.pos+=ne,re=decodeURIComponent(re.split("+").join(" ")),this.scache.push(re),re;case 122:return 0}throw this.pos--,new tt("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:W};var S=function(){this.a1=1,this.a2=0};s["haxe.crypto.Adler32"]=S,S.__name__=!0,S.read=function(e){var t=new S,a=e.readByte(),i=e.readByte(),s=e.readByte(),n=e.readByte();return t.a1=s<<8|n,t.a2=a<<8|i,t},S.prototype={update:function(e,t,a){for(var i=this.a1,s=this.a2,n=t,r=t+a;n<r;){var l=n++;s=(s+(i=(i+e.b[l])%65521))%65521}this.a1=i,this.a2=s},equals:function(e){return e.a1==this.a1&&e.a2==this.a2},__class__:S};var z=function(e){this.length=e.byteLength,this.b=new Vi(e),this.b.bufferValue=e,e.hxBytes=this,e.bytes=this.b};s["haxe.io.Bytes"]=z,z.__name__=!0,z.ofData=function(e){var t=e.hxBytes;return null!=t?t:new z(e)},z.prototype={blit:function(e,t,a,i){if(e<0||a<0||i<0||e+i>this.length||a+i>t.length)throw new tt(T.OutsideBounds);0==a&&i==t.b.byteLength?this.b.set(t.b,e):this.b.set(t.b.subarray(a,a+i),e)},sub:function(e,t){if(e<0||t<0||e+t>this.length)throw new tt(T.OutsideBounds);return new z(this.b.buffer.slice(e+this.b.byteOffset,e+this.b.byteOffset+t))},getFloat:function(e){return null==this.data&&(this.data=new zi(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat32(e,!0)},setInt32:function(e,t){null==this.data&&(this.data=new zi(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setInt32(e,t,!0)},getString:function(e,t){if(e<0||t<0||e+t>this.length)throw new tt(T.OutsideBounds);for(var a="",i=this.b,s=String.fromCharCode,n=e,r=e+t;n<r;){var l=i[n++];if(l<128){if(0==l)break;a+=s(l)}else if(l<224)a+=s((63&l)<<6|127&i[n++]);else if(l<240)a+=s((31&l)<<12|(127&i[n++])<<6|127&i[n++]);else{var g=(15&l)<<18|(127&i[n++])<<12|(127&i[n++])<<6|127&i[n++];a+=s(55232+(g>>10)),a+=s(1023&g|56320)}}return a},toString:function(){return this.getString(0,this.length)},__class__:z};var N=function(){this.h={}};s["haxe.ds.IntMap"]=N,N.__name__=!0,N.__interfaces__=[_],N.prototype={__class__:N};var V=function(){this.h={__keys__:{}}};s["haxe.ds.ObjectMap"]=V,V.__name__=!0,V.__interfaces__=[_],V.prototype={set:function(e,t){var a=e.__id__||(e.__id__=++V.count);this.h[a]=t,this.h.__keys__[a]=e},keys:function(){var e=[];for(var t in this.h.__keys__)this.h.hasOwnProperty(t)&&e.push(this.h.__keys__[t]);return l.iter(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e.__id__]}}},__class__:V};var K=function(e,t){this.map=e,this.keys=t,this.index=0,this.count=t.length};s["haxe.ds._StringMap.StringMapIterator"]=K,K.__name__=!0,K.prototype={hasNext:function(){return this.index<this.count},next:function(){var e=this.map,t=this.keys[this.index++];return null!=Wi[t]?e.getReserved(t):e.h[t]},__class__:K};var k=function(){this.h={}};s["haxe.ds.StringMap"]=k,k.__name__=!0,k.__interfaces__=[_],k.prototype={setReserved:function(e,t){null==this.rh&&(this.rh={}),this.rh["$"+e]=t},getReserved:function(e){return null==this.rh?null:this.rh["$"+e]},existsReserved:function(e){return null!=this.rh&&this.rh.hasOwnProperty("$"+e)},remove:function(e){return null!=Wi[e]?(e="$"+e,!(null==this.rh||!this.rh.hasOwnProperty(e))&&(delete this.rh[e],!0)):!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},arrayKeys:function(){var e=[];for(var t in this.h)this.h.hasOwnProperty(t)&&e.push(t);if(null!=this.rh)for(var t in this.rh)36==t.charCodeAt(0)&&e.push(t.substr(1));return e},__class__:k};var Y=function(){this.b=[]};s["haxe.io.BytesBuffer"]=Y,Y.__name__=!0,Y.prototype={getBytes:function(){var e=new z(new Vi(this.b).buffer);return this.b=null,e},__class__:Y};var X=function(){};s["haxe.io.Input"]=X,X.__name__=!0,X.prototype={readByte:function(){throw new tt("Not implemented")},readBytes:function(e,t,a){var i=a,s=e.b;if(t<0||a<0||t+a>e.length)throw new tt(T.OutsideBounds);try{for(;i>0;)s[t]=this.readByte(),++t,--i}catch(e){if(e instanceof tt&&(e=e.val),!at.__instanceof(e,F))throw e}return a-i},set_bigEndian:function(e){return this.bigEndian=e,e},readFullBytes:function(e,t,a){for(;a>0;){var i=this.readBytes(e,t,a);if(0==i)throw new tt(T.Blocked);t+=i,a-=i}},read:function(e){for(var t=new z(new Si(e)),a=0;e>0;){var i=this.readBytes(t,a,e);if(0==i)throw new tt(T.Blocked);a+=i,e-=i}return t},readFloat:function(){return j.i32ToFloat(this.readInt32())},readDouble:function(){var e=this.readInt32(),t=this.readInt32();return this.bigEndian?j.i64ToDouble(t,e):j.i64ToDouble(e,t)},readInt8:function(){var e=this.readByte();return e>=128?e-256:e},readInt16:function(){var e=this.readByte(),t=this.readByte(),a=this.bigEndian?t|e<<8:e|t<<8;return 0!=(32768&a)?a-65536:a},readUInt16:function(){var e=this.readByte(),t=this.readByte();return this.bigEndian?t|e<<8:e|t<<8},readInt32:function(){var e=this.readByte(),t=this.readByte(),a=this.readByte(),i=this.readByte();return this.bigEndian?i|a<<8|t<<16|e<<24:e|t<<8|a<<16|i<<24},readString:function(e){var t=new z(new Si(e));return this.readFullBytes(t,0,e),t.toString()},__class__:X,__properties__:{set_bigEndian:"set_bigEndian"}};var D=function(e,t,a){if(null==t&&(t=0),null==a&&(a=e.length-t),t<0||a<0||t+a>e.length)throw new tt(T.OutsideBounds);this.b=e.b,this.pos=t,this.len=a,this.totlen=a};s["haxe.io.BytesInput"]=D,D.__name__=!0,D.__super__=X,D.prototype=a(X.prototype,{set_position:function(e){return e<0?e=0:e>this.totlen&&(e=this.totlen),this.len=this.totlen-e,this.pos=e},readByte:function(){if(0==this.len)throw new tt(new F);return this.len--,this.b[this.pos++]},readBytes:function(e,t,a){if(t<0||a<0||t+a>e.length)throw new tt(T.OutsideBounds);if(0==this.len&&a>0)throw new tt(new F);this.len<a&&(a=this.len);for(var i=this.b,s=e.b,n=0,r=a;n<r;){var l=n++;s[t+l]=i[this.pos+l]}return this.pos+=a,this.len-=a,a},__class__:D,__properties__:a(X.prototype.__properties__,{set_position:"set_position"})});var H=function(){};s["haxe.io.Output"]=H,H.__name__=!0,H.prototype={writeByte:function(e){throw new tt("Not implemented")},writeBytes:function(e,t,a){if(t<0||a<0||t+a>e.length)throw new tt(T.OutsideBounds);for(var i=e.b,s=a;s>0;)this.writeByte(i[t]),++t,--s;return a},write:function(e){for(var t=e.length,a=0;t>0;){var i=this.writeBytes(e,a,t);if(0==i)throw new tt(T.Blocked);a+=i,t-=i}},writeFloat:function(e){this.writeInt32(j.floatToI32(e))},writeInt32:function(e){this.bigEndian?(this.writeByte(e>>>24),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)):(this.writeByte(255&e),this.writeByte(e>>8&255),this.writeByte(e>>16&255),this.writeByte(e>>>24))},__class__:H};var x=function(){this.b=new Y};s["haxe.io.BytesOutput"]=x,x.__name__=!0,x.__super__=H,x.prototype=a(H.prototype,{writeByte:function(e){this.b.b.push(e)},writeBytes:function(e,t,a){var i=this.b;if(t<0||a<0||t+a>e.length)throw new tt(T.OutsideBounds);i.b;for(var s=e.b,n=t,r=t+a;n<r;){var l=n++;i.b.push(s[l])}return a},getBytes:function(){return this.b.getBytes()},__class__:x});var F=function(){};s["haxe.io.Eof"]=F,F.__name__=!0,F.prototype={toString:function(){return"Eof"},__class__:F};var T=s["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};T.Blocked=["Blocked",0],T.Blocked.toString=n,T.Blocked.__enum__=T,T.Overflow=["Overflow",1],T.Overflow.toString=n,T.Overflow.__enum__=T,T.OutsideBounds=["OutsideBounds",2],T.OutsideBounds.toString=n,T.OutsideBounds.__enum__=T,T.Custom=function(e){var t=["Custom",3,e];return t.__enum__=T,t.toString=n,t};var j=function(){};s["haxe.io.FPHelper"]=j,j.__name__=!0,j.i32ToFloat=function(e){var t=1-(e>>>31<<1),a=e>>>23&255,i=8388607&e;return 0==i&&0==a?0:t*(1+Math.pow(2,-23)*i)*Math.pow(2,a-127)},j.floatToI32=function(e){if(0==e)return 0;var t=e<0?-e:e,a=Math.floor(Math.log(t)/.6931471805599453);a<-127?a=-127:a>128&&(a=128);var i=Math.round(8388608*(t/Math.pow(2,a)-1));return 8388608==i&&a<128&&(i=0,++a),(e<0?-2147483648:0)|a+127<<23|i},j.i64ToDouble=function(e,t){var a=1-(t>>>31<<1),i=(t>>20&2047)-1023,s=4294967296*(1048575&t)+2147483648*(e>>>31)+(2147483647&e);return 0==s&&-1023==i?0:a*(1+Math.pow(2,-52)*s)*Math.pow(2,i)},j.doubleToI64=function(e){var t=j.i64tmp;if(0==e)t.low=0,t.high=0;else if(isFinite(e)){var a=e<0?-e:e,i=Math.floor(Math.log(a)/.6931471805599453),s=Math.round(4503599627370496*(a/Math.pow(2,i)-1)),n=0|s,r=s/4294967296|0;t.low=n,t.high=(e<0?-2147483648:0)|i+1023<<20|r}else e>0?(t.low=0,t.high=2146435072):(t.low=0,t.high=-1048576);return t};var R={};s["haxe.io._UInt8Array.UInt8Array_Impl_"]=R,R.__name__=!0,R.fromBytes=function(e,t,a){return null==t&&(t=0),null==a&&(a=e.length-t),new Vi(e.b.bufferValue,t,a)};var L=s["haxe.zip.ExtraField"]={__ename__:!0,__constructs__:["FUnknown","FInfoZipUnicodePath","FUtf8"]};L.FUnknown=function(e,t){var a=["FUnknown",0,e,t];return a.__enum__=L,a.toString=n,a},L.FInfoZipUnicodePath=function(e,t){var a=["FInfoZipUnicodePath",1,e,t];return a.__enum__=L,a.toString=n,a},L.FUtf8=["FUtf8",2],L.FUtf8.toString=n,L.FUtf8.__enum__=L;var Q=s["haxe.zip.Huffman"]={__ename__:!0,__constructs__:["Found","NeedBit","NeedBits"]};Q.Found=function(e){var t=["Found",0,e];return t.__enum__=Q,t.toString=n,t},Q.NeedBit=function(e,t){var a=["NeedBit",1,e,t];return a.__enum__=Q,a.toString=n,a},Q.NeedBits=function(e,t){var a=["NeedBits",2,e,t];return a.__enum__=Q,a.toString=n,a};var O=function(){};s["haxe.zip.HuffTools"]=O,O.__name__=!0,O.prototype={treeDepth:function(e){switch(e[1]){case 0:return 0;case 1:var t=e[3],a=e[2],i=this.treeDepth(a),s=this.treeDepth(t);return 1+(i<s?i:s);case 2:throw new tt("assert")}},treeCompress:function(e){var t=this.treeDepth(e);if(0==t)return e;if(1==t){if(1==e[1]){var a=e[3],i=e[2];return Q.NeedBit(this.treeCompress(i),this.treeCompress(a))}throw new tt("assert")}for(var s=[],n=0,r=1<<t;n<r;){n++;s.push(Q.Found(-1))}return this.treeWalk(s,0,0,t,e),Q.NeedBits(t,s)},treeWalk:function(e,t,a,i,s){if(1==s[1]){var n=s[3],r=s[2];i>0?(this.treeWalk(e,t,a+1,i-1,r),this.treeWalk(e,t|1<<a,a+1,i-1,n)):e[t]=this.treeCompress(s)}else e[t]=this.treeCompress(s)},treeMake:function(e,t,a,i){if(i>t)throw new tt("Invalid huffman");var s=a<<5|i;return e.h.hasOwnProperty(s)?Q.Found(e.h[s]):(a<<=1,++i,Q.NeedBit(this.treeMake(e,t,a,i),this.treeMake(e,t,1|a,i)))},make:function(e,t,a,i){var s=[],n=[];if(i>32)throw new tt("Invalid huffman");for(var r=0,l=i;r<l;){r++;s.push(0),n.push(0)}for(var g=0,o=a;g<o;){var h=e[g+++t];if(h>=i)throw new tt("Invalid huffman");s[h]++}for(var c=0,d=1,I=i-1;d<I;){var u=d++;c=c+s[u]<<1,n[u]=c}for(var C=new N,m=0,p=a;m<p;){var b=m++,f=e[b+t];if(0!=f){var A=n[f-1];n[f-1]=A+1,C.h[A<<5|f]=b}}return this.treeCompress(Q.NeedBit(this.treeMake(C,i,0,1),this.treeMake(C,i,1,1)))},__class__:O};var E=function(e){this.buffer=new z(new Si(65536)),this.pos=0,e&&(this.crc=new S)};s["haxe.zip._InflateImpl.Window"]=E,E.__name__=!0,E.prototype={slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var e=new z(new Si(65536));this.pos-=32768,e.blit(0,this.buffer,32768,this.pos),this.buffer=e},addBytes:function(e,t,a){this.pos+a>65536&&this.slide(),this.buffer.blit(this.pos,e,t,a),this.pos+=a},addByte:function(e){65536==this.pos&&this.slide(),this.buffer.b[this.pos]=255&e,this.pos++},getLastChar:function(){return this.buffer.b[this.pos-1]},available:function(){return this.pos},checksum:function(){return null!=this.crc&&this.crc.update(this.buffer,0,this.pos),this.crc},__class__:E};var J=s["haxe.zip._InflateImpl.State"]={__ename__:!0,__constructs__:["Head","Block","CData","Flat","Crc","Dist","DistOne","Done"]};J.Head=["Head",0],J.Head.toString=n,J.Head.__enum__=J,J.Block=["Block",1],J.Block.toString=n,J.Block.__enum__=J,J.CData=["CData",2],J.CData.toString=n,J.CData.__enum__=J,J.Flat=["Flat",3],J.Flat.toString=n,J.Flat.__enum__=J,J.Crc=["Crc",4],J.Crc.toString=n,J.Crc.__enum__=J,J.Dist=["Dist",5],J.Dist.toString=n,J.Dist.__enum__=J,J.DistOne=["DistOne",6],J.DistOne.toString=n,J.DistOne.__enum__=J,J.Done=["Done",7],J.Done.toString=n,J.Done.__enum__=J;var U=function(e,t,a){null==a&&(a=!0),null==t&&(t=!0),this.final=!1,this.htools=new O,this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.len=0,this.dist=0,this.state=t?J.Head:J.Block,this.input=e,this.bits=0,this.nbits=0,this.needed=0,this.output=null,this.outpos=0,this.lengths=[];for(var i=0;i<19;){i++;this.lengths.push(-1)}this.window=new E(a)};s["haxe.zip.InflateImpl"]=U,U.__name__=!0,U.prototype={buildFixedHuffman:function(){if(null!=U.FIXED_HUFFMAN)return U.FIXED_HUFFMAN;for(var e=[],t=0;t<288;){var a=t++;e.push(a<=143?8:a<=255?9:a<=279?7:8)}return U.FIXED_HUFFMAN=this.htools.make(e,0,288,10)},readBytes:function(e,t,a){if(this.needed=a,this.outpos=t,this.output=e,a>0)for(;this.inflateLoop(););return a-this.needed},getBits:function(e){for(;this.nbits<e;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=8;var t=this.bits&(1<<e)-1;return this.nbits-=e,this.bits>>=e,t},getBit:function(){0==this.nbits&&(this.nbits=8,this.bits=this.input.readByte());var e=1==(1&this.bits);return this.nbits--,this.bits>>=1,e},getRevBits:function(e){return 0==e?0:this.getBit()?1<<e-1|this.getRevBits(e-1):this.getRevBits(e-1)},resetBits:function(){this.bits=0,this.nbits=0},addBytes:function(e,t,a){this.window.addBytes(e,t,a),this.output.blit(this.outpos,e,t,a),this.needed-=a,this.outpos+=a},addByte:function(e){this.window.addByte(e),this.output.b[this.outpos]=255&e,this.needed--,this.outpos++},addDistOne:function(e){for(var t=this.window.getLastChar(),a=0,i=e;a<i;){a++;this.addByte(t)}},addDist:function(e,t){this.addBytes(this.window.buffer,this.window.pos-e,t)},applyHuffman:function(e){switch(e[1]){case 0:return e[2];case 1:var t=e[3],a=e[2];return this.applyHuffman(this.getBit()?t:a);case 2:var i=e[3],s=e[2];return this.applyHuffman(i[this.getBits(s)])}},inflateLengths:function(e,t){for(var a=0,i=0;a<t;){var s=this.applyHuffman(this.huffman);switch(s){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:i=s,e[a]=s,++a;break;case 16:var n=a+3+this.getBits(2);if(n>t)throw new tt("Invalid data");for(;a<n;)e[a]=i,++a;break;case 17:if((a+=3+this.getBits(3))>t)throw new tt("Invalid data");break;case 18:if((a+=11+this.getBits(7))>t)throw new tt("Invalid data");break;default:throw new tt("Invalid data")}}},inflateLoop:function(){switch(this.state[1]){case 0:var e=this.input.readByte();if(8!=(15&e))throw new tt("Invalid data");var t=this.input.readByte(),a=0!=(32&t);if(((e<<8)+t)%31!=0)throw new tt("Invalid data");if(a)throw new tt("Unsupported dictionary");return this.state=J.Block,!0;case 1:switch(this.final=this.getBit(),this.getBits(2)){case 0:if(this.len=this.input.readUInt16(),this.input.readUInt16()!=65535-this.len)throw new tt("Invalid data");this.state=J.Flat;var i=this.inflateLoop();return this.resetBits(),i;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=J.CData,!0;case 2:for(var s=this.getBits(5)+257,n=this.getBits(5)+1,r=this.getBits(4)+4,l=0,g=r;l<g;){var o=l++;this.lengths[U.CODE_LENGTHS_POS[o]]=this.getBits(3)}for(var h=r;h<19;){var c=h++;this.lengths[U.CODE_LENGTHS_POS[c]]=0}this.huffman=this.htools.make(this.lengths,0,19,8);for(var d=[],I=0,u=s+n;I<u;){I++;d.push(0)}return this.inflateLengths(d,s+n),this.huffdist=this.htools.make(d,s,n,16),this.huffman=this.htools.make(d,0,s,16),this.state=J.CData,!0;default:throw new tt("Invalid data")}break;case 2:var C=this.applyHuffman(this.huffman);if(C<256)return this.addByte(C),this.needed>0;if(256==C)return this.state=this.final?J.Crc:J.Block,!0;C-=257;var m=U.LEN_EXTRA_BITS_TBL[C];if(-1==m)throw new tt("Invalid data");this.len=U.LEN_BASE_VAL_TBL[C]+this.getBits(m);var p=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist);if(-1==(m=U.DIST_EXTRA_BITS_TBL[p]))throw new tt("Invalid data");if(this.dist=U.DIST_BASE_VAL_TBL[p]+this.getBits(m),this.dist>this.window.available())throw new tt("Invalid data");return this.state=1==this.dist?J.DistOne:J.Dist,!0;case 3:var b=this.len<this.needed?this.len:this.needed,f=this.input.read(b);return this.len-=b,this.addBytes(f,0,b),0==this.len&&(this.state=this.final?J.Crc:J.Block),this.needed>0;case 4:var A=this.window.checksum();if(null==A)return this.state=J.Done,!0;var w=S.read(this.input);if(!A.equals(w))throw new tt("Invalid CRC");return this.state=J.Done,!0;case 5:for(;this.len>0&&this.needed>0;){var v=this.len<this.dist?this.len:this.dist,B=this.needed<v?this.needed:v;this.addDist(this.dist,B),this.len-=B}return 0==this.len&&(this.state=J.CData),this.needed>0;case 6:var M=this.len<this.needed?this.len:this.needed;return this.addDistOne(M),this.len-=M,0==this.len&&(this.state=J.CData),this.needed>0;case 7:return!1}},__class__:U};var P=function(e){this.i=e};s["haxe.zip.Reader"]=P,P.__name__=!0,P.readZip=function(e){return new P(e).read()},P.unzip=function(e){if(!e.compressed)return e.data;var t=new q(-15),a=new z(new Si(e.fileSize)),i=t.execute(e.data,0,a,0);if(t.close(),!i.done||i.read!=e.data.length||i.write!=e.fileSize)throw new tt("Invalid compressed data for "+e.fileName);return e.compressed=!1,e.dataSize=e.fileSize,e.data=a,e.data},P.prototype={readZipDate:function(){var e=this.i.readUInt16(),t=e>>11&31,a=e>>5&63,i=31&e,s=this.i.readUInt16(),n=s>>9,r=s>>5&15,l=31&s;return new Date(n+1980,r-1,l,t,a,i<<1)},readExtraFields:function(e){for(var t=new g;e>0;){if(e<4)throw new tt("Invalid extra fields data");var a=this.i.readUInt16(),i=this.i.readUInt16();if(e<i)throw new tt("Invalid extra fields data");if(28789==a){var s=this.i.readByte();if(1!=s){var n=new Y;n.b.push(s);for(var r=this.i.read(i-1),l=(n.b,r.b),o=0,h=r.length;o<h;){var c=o++;n.b.push(l[c])}t.add(L.FUnknown(a,n.getBytes()))}else{var d=this.i.readInt32(),I=this.i.read(i-5).toString();t.add(L.FInfoZipUnicodePath(I,d))}}else t.add(L.FUnknown(a,this.i.read(i)));e-=4+i}return t},readEntryHeader:function(){var e=this.i,t=e.readInt32();if(33639248==t||101010256==t)return null;if(67324752!=t)throw new tt("Invalid Zip Data");e.readUInt16();var a=e.readUInt16(),i=0!=(2048&a);if(0!=(63473&a))throw new tt("Unsupported flags "+a);var s=e.readUInt16(),n=0!=s;if(n&&8!=s)throw new tt("Unsupported compression "+s);var r=this.readZipDate(),l=e.readInt32(),g=e.readInt32(),o=e.readInt32(),h=e.readInt16(),c=e.readInt16(),d=e.readString(h),I=this.readExtraFields(c);i&&I.push(L.FUtf8);return 0!=(8&a)&&(l=null),{fileName:d,fileSize:o,fileTime:r,compressed:n,dataSize:g,data:null,crc32:l,extraFields:I}},read:function(){for(var e=new g,t=null;;){var a=this.readEntryHeader();if(null==a)break;if(null==a.crc32){if(a.compressed){null==t&&(t=new z(new Si(65536)));for(var i=new Y,s=new U(this.i,!1,!1);;){var n=s.readBytes(t,0,65536);if(n<0||n>t.length)throw new tt(T.OutsideBounds);i.b;for(var r=t.b,l=0,o=n;l<o;){var h=l++;i.b.push(r[h])}if(n<65536)break}a.data=i.getBytes()}else a.data=this.i.read(a.dataSize);a.crc32=this.i.readInt32(),134695760==a.crc32&&(a.crc32=this.i.readInt32()),a.dataSize=this.i.readInt32(),a.fileSize=this.i.readInt32(),a.dataSize=a.fileSize,a.compressed=!1}else a.data=this.i.read(a.dataSize);e.add(a)}return e},__class__:P};var q=function(e){throw new tt("Not implemented for this platform")};s["haxe.zip.Uncompress"]=q,q.__name__=!0,q.prototype={execute:function(e,t,a,i){return null},close:function(){},__class__:q};var $=function(e){e(),_t.notifyOnRender($.render),wt.addTimeTask($.update,0,.016666666666666666*$e.scale)};s["iron.App"]=$,$.__name__=!0,$.init=function(e){new $(e)},$.update=function(){if(!$.pauseUpdates){if(et.update(),$e.update(),null!=le.active&&le.active.updateFrame(),$.traitInits.length>0){for(var e=0,t=$.traitInits;e<t.length;){var a=t[e];if(++e,0==$.traitInits.length)break;a()}$.traitInits.splice(0,$.traitInits.length)}for(var i=0,s=$.traitUpdates.length;i<s;)$.traitUpdates[i](),s<=$.traitUpdates.length?++i:s=$.traitUpdates.length;for(i=0,s=$.traitLateUpdates.length;i<s;)$.traitLateUpdates[i](),s<=$.traitLateUpdates.length?++i:s=$.traitLateUpdates.length;Qe.endFrame()}},$.render=function(e){if($.traitInits.length>0){for(var t=0,a=$.traitInits;t<a.length;){var i=a[t];if(++t,0==$.traitInits.length)break;i()}$.traitInits.splice(0,$.traitInits.length)}null!=le.active&&le.active.renderFrame(e.get_g4());for(var s=0,n=$.traitRenders;s<n.length;){var r=n[s];if(++s,0==$.traitRenders.length)break;r(e.get_g4())}if($.traitRenders2D.length>0){e.get_g2().begin(!1);for(var l=0,g=$.traitRenders2D;l<g.length;){var o=g[l];if(++l,0==$.traitRenders2D.length)break;o(e.get_g2())}e.get_g2().end()}},$.removeInit=function(e){l.remove($.traitInits,e)},$.removeUpdate=function(e){l.remove($.traitUpdates,e)},$.removeLateUpdate=function(e){l.remove($.traitLateUpdates,e)},$.removeRender=function(e){l.remove($.traitRenders,e)},$.notifyOnRender2D=function(e){$.traitRenders2D.push(e)},$.removeRender2D=function(e){l.remove($.traitRenders2D,e)},$.prototype={__class__:$};var ee=function(e,t,a,i,s,n,r,l,g,o,h,c,d,I,u,C){this._00=e,this._10=t,this._20=a,this._30=i,this._01=s,this._11=n,this._21=r,this._31=l,this._02=g,this._12=o,this._22=h,this._32=c,this._03=d,this._13=I,this._23=u,this._33=C};s["kha.math.FastMatrix4"]=ee,ee.__name__=!0,ee.orthogonalProjection=function(e,t,a,i,s,n){return new ee(2/(t-e),0,0,-(t+e)/(t-e),0,2/(i-a),0,-(i+a)/(i-a),0,0,-2/(n-s),-(n+s)/(n-s),0,0,0,1)},ee.prototype={__class__:ee};var te=function(e,t,a,i){null==i&&(i=1),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t,this.z=a,this.w=i};s["iron.math.Vec4"]=te,te.__name__=!0,te.lerp=function(e,t,a){var i=new te;return i.x=t.x+(e.x-t.x)*a,i.y=t.y+(e.y-t.y)*a,i.z=t.z+(e.z-t.z)*a,i},te.distance3d=function(e,t){var a=e.x-t.x,i=e.y-t.y,s=e.z-t.z;return Math.sqrt(a*a+i*i+s*s)},te.distance3df=function(e,t,a,i,s,n){var r=e-i,l=t-s,g=a-n;return Math.sqrt(r*r+l*l+g*g)},te.xAxis=function(){return new te(1,0,0)},te.yAxis=function(){return new te(0,1,0)},te.zAxis=function(){return new te(0,0,1)},te.prototype={set:function(e,t,a,i){return null==i&&(i=1),this.x=e,this.y=t,this.z=a,this.w=i,this},addf:function(e,t,a){return this.x+=e,this.y+=t,this.z+=a,this},addvecs:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},mult:function(e){return this.x*=e,this.y*=e,this.z*=e,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},setFrom:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},applymat:function(e){var t=this.x,a=this.y,i=this.z;return this.x=e.self._00*t+e.self._10*a+e.self._20*i+e.self._30,this.y=e.self._01*t+e.self._11*a+e.self._21*i+e.self._31,this.z=e.self._02*t+e.self._12*a+e.self._22*i+e.self._32,this},applymat4:function(e){var t=this.x,a=this.y,i=this.z,s=this.w;return this.x=e.self._00*t+e.self._10*a+e.self._20*i+e.self._30*s,this.y=e.self._01*t+e.self._11*a+e.self._21*i+e.self._31*s,this.z=e.self._02*t+e.self._12*a+e.self._22*i+e.self._32*s,this.w=e.self._03*t+e.self._13*a+e.self._23*i+e.self._33*s,this},__class__:te};var ae=function(e,t,a,i,s,n,r,l,g,o,h,c,d,I,u,C){this.self=new ee(e,t,a,i,s,n,r,l,g,o,h,c,d,I,u,C)};s["iron.math.Mat4"]=ae,ae.__name__=!0,ae.identity=function(){return new ae(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},ae.fromFloat32Array=function(e,t){return null==t&&(t=0),new ae(e[t],e[1+t],e[2+t],e[3+t],e[4+t],e[5+t],e[6+t],e[7+t],e[8+t],e[9+t],e[10+t],e[11+t],e[12+t],e[13+t],e[14+t],e[15+t])},ae.perspective=function(e,t,a,i){var s=1/Math.tan(e/2);return new ae(s/t,0,0,0,0,s,0,0,0,0,(i+a)/(a-i),2*i*a/(a-i),0,0,-1,0)},ae.orthogonal=function(e,t,a,i,s,n,r){null==r&&(r=2);var l=t-e,g=i-a,o=n-s;return new ae(r/l,0,0,-((t+e)/l),0,r/g,0,-((i+a)/g),0,0,-r/o,-((n+s)/o),0,0,0,1)},ae.prototype={compose:function(e,t,a){return this.fromQuaternion(t),this.scale(a),this.setLocation(e),this},decompose:function(e,t,a){ae.helpVec.w=0;var i=ae.helpVec.set(this.self._00,this.self._01,this.self._02),s=Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z),n=ae.helpVec.set(this.self._10,this.self._11,this.self._12),r=Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z),l=ae.helpVec.set(this.self._20,this.self._21,this.self._22),g=Math.sqrt(l.x*l.x+l.y*l.y+l.z*l.z),o=this.self,h=o._12,c=o._22,d=o._32,I=o._13,u=o._23,C=o._33,m=o._11*(c*C-d*u)-o._21*(h*C-d*I)+o._31*(h*u-c*I),p=o._12,b=o._22,f=o._32,A=o._13,w=o._23,v=o._33,B=o._10*(b*v-f*w)-o._20*(p*v-f*A)+o._30*(p*w-b*A),M=o._11,_=o._21,Z=o._31,y=o._13,G=o._23,W=o._33,S=o._10*(_*W-Z*G)-o._20*(M*W-Z*y)+o._30*(M*G-_*y),z=o._11,N=o._21,V=o._31,K=o._12,k=o._22,Y=o._32,X=o._10*(N*Y-V*k)-o._20*(z*Y-V*K)+o._30*(z*k-N*K);o._00*m-o._01*B+o._02*S-o._03*X<0&&(s=-s),e.x=this.self._30,e.y=this.self._31,e.z=this.self._32,ae.helpMat.self._00=this.self._00,ae.helpMat.self._10=this.self._10,ae.helpMat.self._20=this.self._20,ae.helpMat.self._30=this.self._30,ae.helpMat.self._01=this.self._01,ae.helpMat.self._11=this.self._11,ae.helpMat.self._21=this.self._21,ae.helpMat.self._31=this.self._31,ae.helpMat.self._02=this.self._02,ae.helpMat.self._12=this.self._12,ae.helpMat.self._22=this.self._22,ae.helpMat.self._32=this.self._32,ae.helpMat.self._03=this.self._03,ae.helpMat.self._13=this.self._13,ae.helpMat.self._23=this.self._23,ae.helpMat.self._33=this.self._33;var D=1/s,H=1/r,x=1/g;return ae.helpMat.self._00*=D,ae.helpMat.self._01*=D,ae.helpMat.self._02*=D,ae.helpMat.self._03=0,ae.helpMat.self._10*=H,ae.helpMat.self._11*=H,ae.helpMat.self._12*=H,ae.helpMat.self._13=0,ae.helpMat.self._20*=x,ae.helpMat.self._21*=x,ae.helpMat.self._22*=x,ae.helpMat.self._23=0,ae.helpMat.self._30=0,ae.helpMat.self._31=0,ae.helpMat.self._32=0,ae.helpMat.self._33=0,t.fromRotationMat(ae.helpMat),a.x=s,a.y=r,a.z=g,this},setLocation:function(e){return this.self._30=e.x,this.self._31=e.y,this.self._32=e.z,this},fromQuaternion:function(e){var t=e.x,a=e.y,i=e.z,s=e.w,n=t+t,r=a+a,l=i+i,g=t*n,o=t*r,h=t*l,c=a*r,d=a*l,I=i*l,u=s*n,C=s*r,m=s*l;return this.self._00=1-(c+I),this.self._10=o-m,this.self._20=h+C,this.self._01=o+m,this.self._11=1-(g+I),this.self._21=d-u,this.self._02=h-C,this.self._12=d+u,this.self._22=1-(g+c),this.self._03=0,this.self._13=0,this.self._23=0,this.self._30=0,this.self._31=0,this.self._32=0,this.self._33=1,this},setIdentity:function(){return this.self._00=1,this.self._01=0,this.self._02=0,this.self._03=0,this.self._10=0,this.self._11=1,this.self._12=0,this.self._13=0,this.self._20=0,this.self._21=0,this.self._22=1,this.self._23=0,this.self._30=0,this.self._31=0,this.self._32=0,this.self._33=1,this},initTranslate:function(e,t,a){null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.self._00=1,this.self._01=0,this.self._02=0,this.self._03=0,this.self._10=0,this.self._11=1,this.self._12=0,this.self._13=0,this.self._20=0,this.self._21=0,this.self._22=1,this.self._23=0,this.self._30=e,this.self._31=t,this.self._32=a,this.self._33=1},scale:function(e){this.self._00*=e.x,this.self._01*=e.x,this.self._02*=e.x,this.self._03*=e.x,this.self._10*=e.y,this.self._11*=e.y,this.self._12*=e.y,this.self._13*=e.y,this.self._20*=e.z,this.self._21*=e.z,this.self._22*=e.z,this.self._23*=e.z},multmat3x4:function(e,t){var a=e.self._00,i=e.self._01,s=e.self._02,n=e.self._10,r=e.self._11,l=e.self._12,g=e.self._20,o=e.self._21,h=e.self._22,c=e.self._30,d=e.self._31,I=e.self._32,u=t.self._00,C=t.self._01,m=t.self._02,p=t.self._10,b=t.self._11,f=t.self._12,A=t.self._20,w=t.self._21,v=t.self._22,B=t.self._30,M=t.self._31,_=t.self._32;this.self._00=a*u+i*p+s*A,this.self._01=a*C+i*b+s*w,this.self._02=a*m+i*f+s*v,this.self._03=0,this.self._10=n*u+r*p+l*A,this.self._11=n*C+r*b+l*w,this.self._12=n*m+r*f+l*v,this.self._13=0,this.self._20=g*u+o*p+h*A,this.self._21=g*C+o*b+h*w,this.self._22=g*m+o*f+h*v,this.self._23=0,this.self._30=c*u+d*p+I*A+B,this.self._31=c*C+d*b+I*w+M,this.self._32=c*m+d*f+I*v+_,this.self._33=1},multmat2:function(e){var t=this.self._00,a=this.self._01,i=this.self._02,s=this.self._03,n=this.self._10,r=this.self._11,l=this.self._12,g=this.self._13,o=this.self._20,h=this.self._21,c=this.self._22,d=this.self._23,I=this.self._30,u=this.self._31,C=this.self._32,m=this.self._33,p=e.self._00,b=e.self._01,f=e.self._02,A=e.self._03,w=e.self._10,v=e.self._11,B=e.self._12,M=e.self._13,_=e.self._20,Z=e.self._21,y=e.self._22,G=e.self._23,W=e.self._30,S=e.self._31,z=e.self._32,N=e.self._33;return this.self._00=t*p+a*w+i*_+s*W,this.self._01=t*b+a*v+i*Z+s*S,this.self._02=t*f+a*B+i*y+s*z,this.self._03=t*A+a*M+i*G+s*N,this.self._10=n*p+r*w+l*_+g*W,this.self._11=n*b+r*v+l*Z+g*S,this.self._12=n*f+r*B+l*y+g*z,this.self._13=n*A+r*M+l*G+g*N,this.self._20=o*p+h*w+c*_+d*W,this.self._21=o*b+h*v+c*Z+d*S,this.self._22=o*f+h*B+c*y+d*z,this.self._23=o*A+h*M+c*G+d*N,this.self._30=I*p+u*w+C*_+m*W,this.self._31=I*b+u*v+C*Z+m*S,this.self._32=I*f+u*B+C*y+m*z,this.self._33=I*A+u*M+C*G+m*N,this},multmats:function(e,t){var a=e.self._00,i=e.self._10,s=e.self._20,n=e.self._30,r=e.self._01,l=e.self._11,g=e.self._21,o=e.self._31,h=e.self._02,c=e.self._12,d=e.self._22,I=e.self._32,u=e.self._03,C=e.self._13,m=e.self._23,p=e.self._33,b=t.self._00,f=t.self._10,A=t.self._20,w=t.self._30,v=t.self._01,B=t.self._11,M=t.self._21,_=t.self._31,Z=t.self._02,y=t.self._12,G=t.self._22,W=t.self._32,S=t.self._03,z=t.self._13,N=t.self._23,V=t.self._33;return this.self._00=a*b+i*v+s*Z+n*S,this.self._10=a*f+i*B+s*y+n*z,this.self._20=a*A+i*M+s*G+n*N,this.self._30=a*w+i*_+s*W+n*V,this.self._01=r*b+l*v+g*Z+o*S,this.self._11=r*f+l*B+g*y+o*z,this.self._21=r*A+l*M+g*G+o*N,this.self._31=r*w+l*_+g*W+o*V,this.self._02=h*b+c*v+d*Z+I*S,this.self._12=h*f+c*B+d*y+I*z,this.self._22=h*A+c*M+d*G+I*N,this.self._32=h*w+c*_+d*W+I*V,this.self._03=u*b+C*v+m*Z+p*S,this.self._13=u*f+C*B+m*y+p*z,this.self._23=u*A+C*M+m*G+p*N,this.self._33=u*w+C*_+m*W+p*V,this},getInverse:function(e){var t=e.self._00,a=e.self._10,i=e.self._20,s=e.self._30,n=e.self._01,r=e.self._11,l=e.self._21,g=e.self._31,o=e.self._02,h=e.self._12,c=e.self._22,d=e.self._32,I=e.self._03,u=e.self._13,C=e.self._23,m=e.self._33;this.self._00=l*d*u-g*c*u+g*h*C-r*d*C-l*h*m+r*c*m,this.self._10=s*c*u-i*d*u-s*h*C+a*d*C+i*h*m-a*c*m,this.self._20=i*g*u-s*l*u+s*r*C-a*g*C-i*r*m+a*l*m,this.self._30=s*l*h-i*g*h-s*r*c+a*g*c+i*r*d-a*l*d,this.self._01=g*c*I-l*d*I-g*o*C+n*d*C+l*o*m-n*c*m,this.self._11=i*d*I-s*c*I+s*o*C-t*d*C-i*o*m+t*c*m,this.self._21=s*l*I-i*g*I-s*n*C+t*g*C+i*n*m-t*l*m,this.self._31=i*g*o-s*l*o+s*n*c-t*g*c-i*n*d+t*l*d,this.self._02=r*d*I-g*h*I+g*o*u-n*d*u-r*o*m+n*h*m,this.self._12=s*h*I-a*d*I-s*o*u+t*d*u+a*o*m-t*h*m,this.self._22=a*g*I-s*r*I+s*n*u-t*g*u-a*n*m+t*r*m,this.self._32=s*r*o-a*g*o-s*n*h+t*g*h+a*n*d-t*r*d,this.self._03=l*h*I-r*c*I-l*o*u+n*c*u+r*o*C-n*h*C,this.self._13=a*c*I-i*h*I+i*o*u-t*c*u-a*o*C+t*h*C,this.self._23=i*r*I-a*l*I-i*n*u+t*l*u+a*n*C-t*r*C,this.self._33=a*l*o-i*r*o+i*n*h-t*l*h-a*n*c+t*r*c;var p=t*this.self._00+n*this.self._10+o*this.self._20+I*this.self._30;return 0==p?this.setIdentity():(this.mult(1/p),this)},transpose:function(){var e=this.self._01;this.self._01=this.self._10,this.self._10=e,e=this.self._02,this.self._02=this.self._20,this.self._20=e,e=this.self._03,this.self._03=this.self._30,this.self._30=e,e=this.self._12,this.self._12=this.self._21,this.self._21=e,e=this.self._13,this.self._13=this.self._31,this.self._31=e,e=this.self._23,this.self._23=this.self._32,this.self._32=e},transpose3x3:function(){var e=this.self._01;this.self._01=this.self._10,this.self._10=e,e=this.self._02,this.self._02=this.self._20,this.self._20=e,e=this.self._12,this.self._12=this.self._21,this.self._21=e},setF32:function(e,t){null==t&&(t=0),this.self._00=e[t],this.self._10=e[1+t],this.self._20=e[2+t],this.self._30=e[3+t],this.self._01=e[4+t],this.self._11=e[5+t],this.self._21=e[6+t],this.self._31=e[7+t],this.self._02=e[8+t],this.self._12=e[9+t],this.self._22=e[10+t],this.self._32=e[11+t],this.self._03=e[12+t],this.self._13=e[13+t],this.self._23=e[14+t],this.self._33=e[15+t]},setFrom:function(e){this.self._00=e.self._00,this.self._01=e.self._01,this.self._02=e.self._02,this.self._03=e.self._03,this.self._10=e.self._10,this.self._11=e.self._11,this.self._12=e.self._12,this.self._13=e.self._13,this.self._20=e.self._20,this.self._21=e.self._21,this.self._22=e.self._22,this.self._23=e.self._23,this.self._30=e.self._30,this.self._31=e.self._31,this.self._32=e.self._32,this.self._33=e.self._33},getScale:function(){return new te(Math.sqrt(this.self._00*this.self._00+this.self._10*this.self._10+this.self._20*this.self._20),Math.sqrt(this.self._01*this.self._01+this.self._11*this.self._11+this.self._21*this.self._21),Math.sqrt(this.self._02*this.self._02+this.self._12*this.self._12+this.self._22*this.self._22))},mult:function(e){return this.self._00*=e,this.self._10*=e,this.self._20*=e,this.self._30*=e,this.self._01*=e,this.self._11*=e,this.self._21*=e,this.self._31*=e,this.self._02*=e,this.self._12*=e,this.self._22*=e,this.self._32*=e,this.self._03*=e,this.self._13*=e,this.self._23*=e,this.self._33*=e,this},toRotation:function(){var e=new te,t=e.set(this.self._00,this.self._01,this.self._02),a=1/Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z),i=e.set(this.self._10,this.self._11,this.self._12),s=1/Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z),n=e.set(this.self._20,this.self._21,this.self._22),r=1/Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z);return this.self._00*=a,this.self._01*=a,this.self._02*=a,this.self._03=0,this.self._10*=s,this.self._11*=s,this.self._12*=s,this.self._13=0,this.self._20*=r,this.self._21*=r,this.self._22*=r,this.self._23=0,this.self._30=0,this.self._31=0,this.self._32=0,this.self._33=1,this},setLookAt:function(e,t,a){var i=t.x-e.x,s=t.y-e.y,n=t.z-e.z,r=1/Math.sqrt(i*i+s*s+n*n);i*=r,n*=r;var l=(s*=r)*a.z-n*a.y,g=n*a.x-i*a.z,o=i*a.y-s*a.x,h=(g*=r=1/Math.sqrt(l*l+g*g+o*o))*n-(o*=r)*s,c=o*i-(l*=r)*n,d=l*s-g*i,I=-e.x*l-e.y*g-e.z*o,u=-e.x*h-e.y*c-e.z*d,C=e.x*i+e.y*s+e.z*n;return this.self._00=l,this.self._10=g,this.self._20=o,this.self._30=I,this.self._01=h,this.self._11=c,this.self._21=d,this.self._31=u,this.self._02=-i,this.self._12=-s,this.self._22=-n,this.self._32=C,this.self._03=0,this.self._13=0,this.self._23=0,this.self._33=1,this},__class__:ae};var ie=function(){this.depthBuffers=[],this.currentMaterial=null,this.depthToRenderTarget=new k,this.renderTargets=new k,this.commands=null,this.cachedShaderContexts=new k,this.loading=0,this.currentLampIndex=0,this.lastH=0,this.lastW=0,this.viewportScaled=!1,this.scissorSet=!1,this.frameScissorH=0,this.frameScissorW=0,this.frameScissorY=0,this.frameScissorX=0,this.frameScissor=!1;var e=new se;e.name="arm_empty",e.width=1,e.height=1,e.format="DEPTH16",this.createRenderTarget(e);var t=new se;t.name="arm_empty_cube",t.width=1,t.height=1,t.format="DEPTH16",t.is_cubemap=!0,this.createRenderTarget(t)};s["iron.RenderPath"]=ie,ie.__name__=!0,ie.setActive=function(e){ie.active=e},ie.sortMeshes=function(e,t){for(var a=t.transform.world.self._30,i=t.transform.world.self._31,s=t.transform.world.self._32,n=0;n<e.length;){var r=e[n];++n;var l=a-r.transform.world.self._30,g=i-r.transform.world.self._31,o=s-r.transform.world.self._32;r.cameraDistance=Math.sqrt(l*l+g*g+o*o)}e.sort(function(e,t){return e.cameraDistance>=t.cameraDistance?1:-1})},ie.prototype={get_ready:function(){return 0==this.loading},lampCastShadow:function(){return(le.active.lamps.length>0?le.active.lamps[this.currentLampIndex]:null).data.raw.cast_shadow},lampIsSun:function(){return"sun"==(le.active.lamps.length>0?le.active.lamps[this.currentLampIndex]:null).data.raw.type},renderFrame:function(e){if(this.get_ready()){this.lastW>0&&(this.lastW!=_t.windowWidth()||this.lastH!=_t.windowHeight())&&this.resize(),this.lastW=_t.windowWidth(),this.lastH=_t.windowHeight(),this.frameG=null==le.active.camera.data.mirror?e:le.active.camera.data.mirror.get_g4(),this.currentG=this.frameG,this.currentW=_t.windowWidth(),this.currentH=_t.windowHeight(),this.currentD=1,this.currentCube=!1,this.currentFace=-1,this.meshesSorted=!1,this.currentLampIndex=0;for(var t=0,a=le.active.lamps;t<a.length;){var i=a[t];++t,i.visible&&i.buildMatrices(le.active.camera)}this.commands()}},setTarget:function(e,t,a){if(null==a&&(a=1),""==e)this.currentG=this.frameG,this.currentW=_t.windowWidth(),this.currentH=_t.windowHeight(),this.currentD=1,this.currentCube=!1,this.currentFace=-1,this.frameScissor&&this.setFrameScissor(),this.currentG.begin(null);else{var i=this.renderTargets,s=null!=Wi[e]?i.getReserved(e):i.h[e];if("shadowMap"==e&&(le.active.lamps.length>0?le.active.lamps[this.currentLampIndex]:null).data.raw.shadowmap_cube){var n=this.renderTargets,r=e+"Cube";if(null==(s=null!=Wi[r]?n.getReserved(r):n.h[r])){var l=0|(le.active.lamps.length>0?le.active.lamps[this.currentLampIndex]:null).data.raw.shadowmap_size,g=new se;g.name=e+"Cube",g.width=l,g.height=l,g.format="DEPTH16",g.is_cubemap=!0,s=this.createRenderTarget(g)}}if("shadowMap"==e&&null==s){var o=(le.active.lamps.length>0?le.active.lamps[this.currentLampIndex]:null).data.raw.shadowmap_size,h=o,c=new se;c.name=e,c.width=o,c.height=h,c.format="DEPTH16",s=this.createRenderTarget(c)}var d=null;if(null!=t){d=[];for(var I=0;I<t.length;){var u=t[I];++I;var C=this.renderTargets,m=null!=Wi[u]?C.getReserved(u):C.h[u];d.push(m.image)}}this.currentG=s.isCubeMap?s.cubeMap.get_g4():s.image.get_g4(),this.currentW=s.isCubeMap?s.cubeMap.get_width():s.image.get_width(),this.currentH=s.isCubeMap?s.cubeMap.get_height():s.image.get_height(),s.is3D&&(this.currentD=s.image.get_depth()),this.currentCube=s.isCubeMap;var p=this.currentG,b=this.currentFace;b>=0?p.beginFace(5-b):p.begin(d)}if(1!=a){this.viewportScaled=!0;var f=this.currentW*a|0,A=this.currentH*a|0;this.currentG.viewport(0,A,f,A),this.currentG.scissor(0,A,f,A)}else this.viewportScaled&&(this.viewportScaled=!1,this.setCurrentViewport(this.currentW,this.currentH),this.setCurrentScissor(this.currentW,this.currentH));this.bindParams=null},setCurrentViewport:function(e,t){this.currentG.viewport(0,this.currentH-t,e,t)},setCurrentScissor:function(e,t){this.currentG.scissor(0,this.currentH-t,e,t),this.scissorSet=!0},setFrameScissor:function(){this.frameG.scissor(this.frameScissorX,this.currentH-(this.frameScissorH-this.frameScissorY),this.frameScissorW,this.frameScissorH)},clearTarget:function(e,t){-1==e&&(e=le.active.world.raw.background_color),this.currentG.clear(e,t,null)},drawMeshes:function(e){var t=le.active.lamps.length>0?le.active.lamps[this.currentLampIndex]:null;if((null==t||t.visible||!(this.currentLampIndex>0))&&(!("shadowmap"==e)||null!=t&&t.data.raw.cast_shadow)){this.currentFace>=0&&null!=t&&t.setCubeFace(5-this.currentFace,le.active.camera);var a=this.currentG;this.submitDraw(e),a.end(),this.scissorSet&&(a.disableScissor(),this.scissorSet=!1),this.bindParams=null}},submitDraw:function(e){var t=le.active.lamps.length>0?le.active.lamps[this.currentLampIndex]:null,a=this.currentG;this.meshesSorted||(ie.sortMeshes(le.active.meshes,le.active.camera),this.meshesSorted=!0);for(var i=0,s=le.active.meshes;i<s.length;){var n=s[i];++i,n.render(a,e,le.active.camera,t,this.bindParams)}},parseMaterialLink:function(e){return"_worldMaterial"==e&&null!=le.active.world?le.active.world.raw.material_ref.split("/"):null},drawSkydome:function(e){null==de.skydomeVB&&de.createSkydomeData();var t=this.cachedShaderContexts,a=null!=Wi[e]?t.getReserved(e):t.h[e];if(null!=a.context){var i=this.currentG;i.setPipeline(a.context.pipeState);var s=le.active.lamps.length>0?le.active.lamps[this.currentLampIndex]:null;je.setConstants(i,a.context,null,le.active.camera,s,this.bindParams),null!=a.materialContext&&je.setMaterialConstants(i,a.context,a.materialContext),i.setVertexBuffer(de.skydomeVB),i.setIndexBuffer(de.skydomeIB),i.drawIndexedVertices(),i.end(),this.scissorSet&&(i.disableScissor(),this.scissorSet=!1),this.bindParams=null}},drawLampVolume:function(e){var t=null,a=null,i=le.active.lamps.length>0?le.active.lamps[this.currentLampIndex]:null,s=i.data.raw.type;"point"==s||"area"==s?(null==de.sphereVB&&de.createSphereData(),t=de.sphereVB,a=de.sphereIB):"spot"==s&&(null==de.sphereVB&&de.createSphereData(),t=de.sphereVB,a=de.sphereIB);var n=this.cachedShaderContexts,r=null!=Wi[e]?n.getReserved(e):n.h[e],l=this.currentG;l.setPipeline(r.context.pipeState),je.setConstants(l,r.context,null,le.active.camera,i,this.bindParams),null!=r.materialContext&&je.setMaterialConstants(l,r.context,r.materialContext),l.setVertexBuffer(t),l.setIndexBuffer(a),l.drawIndexedVertices(),l.end(),this.scissorSet&&(l.disableScissor(),this.scissorSet=!1),this.bindParams=null},bindTarget:function(e,t){null!=this.bindParams?(this.bindParams.push(e),this.bindParams.push(t)):this.bindParams=[e,t]},drawShader:function(e){var t=this.cachedShaderContexts,a=null!=Wi[e]?t.getReserved(e):t.h[e];this.drawQuad(a)},drawQuad:function(e){null==de.screenAlignedVB&&de.createScreenAlignedData();var t=this.currentG;t.setPipeline(e.context.pipeState);var a=le.active.lamps.length>0?le.active.lamps[this.currentLampIndex]:null;je.setConstants(t,e.context,null,le.active.camera,a,this.bindParams),null!=e.materialContext&&je.setMaterialConstants(t,e.context,e.materialContext),t.setVertexBuffer(de.screenAlignedVB),t.setIndexBuffer(de.screenAlignedIB),t.drawIndexedVertices(),t.end(),this.scissorSet&&(t.disableScissor(),this.scissorSet=!1),this.bindParams=null},loadMaterial:function(e){var t=this;this.loading++;var a=this.cachedShaderContexts,i=null!=Wi[e]?a.getReserved(e):a.h[e];if(null==i){i=new re;var s=this.cachedShaderContexts;null!=Wi[e]?s.setReserved(e,i):s.h[e]=i;var n=null;null!=(n="_"==e.charAt(0)?this.parseMaterialLink(e):e.split("/"))?he.getMaterial(n[0],n[1],function(e){i.materialContext=e.getContext(n[2]),i.context=e.shader.getContext(n[2]),t.loading--}):this.loading--}else this.loading--},loadShader:function(e){var t=this;this.loading++;var a=this.cachedShaderContexts,i=null!=Wi[e]?a.getReserved(e):a.h[e];if(null==i){i=new re;var s=this.cachedShaderContexts;null!=Wi[e]?s.setReserved(e,i):s.h[e]=i;var n=e.split("/");he.getShader(n[0],n[1],null,function(e){i.materialContext=null,i.context=e.getContext(n[2]),t.loading--})}else this.loading--},resize:function(){for(var e=this.renderTargets,t=new K(e,e.arrayKeys());t.hasNext();){var a=t.next();if(0==a.raw.width&&(a.image.unload(),a.image=this.createImage(a.raw,a.depthStencil),""!=a.depthStencilFrom)){var i=a.depthStencilFrom,s=this.depthToRenderTarget;a.image.setDepthStencilFrom((null!=Wi[i]?s.getReserved(i):s.h[i]).image)}}},createRenderTarget:function(e){var t=this.createTarget(e),a=e.name,i=this.renderTargets;return null!=Wi[a]?i.setReserved(a,t):i.h[a]=t,t},createDepthBuffer:function(e,t){this.depthBuffers.push({name:e,format:t})},createTarget:function(e){var t=new ne(e);if(null!=e.depth_buffer){t.hasDepth=!0;var a=e.depth_buffer,i=this.depthToRenderTarget,s=null!=Wi[a]?i.getReserved(a):i.h[a];if(null==s)for(var n=0,r=this.depthBuffers;n<r.length;){var l=r[n];if(++n,l.name==e.depth_buffer){var g=l.name,o=this.depthToRenderTarget;null!=Wi[g]?o.setReserved(g,t):o.h[g]=t;var h,c=l.format;if(null==c||""==c)h=1;else switch(c){case"DEPTH16":h=5;break;case"DEPTH24":h=1;break;default:h=1}t.depthStencil=h,t.image=this.createImage(e,t.depthStencil);break}}else t.depthStencil=0,t.depthStencilFrom=e.depth_buffer,t.image=this.createImage(e,t.depthStencil),t.image.setDepthStencilFrom(s.image)}else t.hasDepth=!1,null!=e.depth&&e.depth>1&&(t.is3D=!0),e.is_cubemap?(t.isCubeMap=!0,t.depthStencil=0,t.cubeMap=this.createCubeMap(e,t.depthStencil)):(t.depthStencil=0,t.image=this.createImage(e,t.depthStencil));return t},createImage:function(e,t){var a=0==e.width?_t.windowWidth():e.width,i=0==e.height?_t.windowHeight():e.height,s=null!=e.depth?e.depth:0;if(null!=e.displayp&&(a>i?(i=i*(e.displayp/a)|0,a=e.displayp):(a=a*(e.displayp/i)|0,i=e.displayp)),null!=e.scale&&(a=a*e.scale|0,i=i*e.scale|0,s=s*e.scale|0),null!=e.depth&&e.depth>1){var n;if(null!=e.format)switch(e.format){case"A16":n=xa.A16;break;case"A32":n=xa.A32;break;case"A8":n=xa.L8;break;case"DEPTH16":n=xa.DEPTH16;break;case"R16":n=xa.A16;break;case"R32":n=xa.A32;break;case"R8":n=xa.L8;break;case"RGBA128":n=xa.RGBA128;break;case"RGBA32":n=xa.RGBA32;break;case"RGBA64":n=xa.RGBA64;break;default:n=xa.RGBA32}else n=xa.RGBA32;return ot.create3D(a,i,s,n)}if(null!=e.is_image&&e.is_image){var r;if(null!=e.format)switch(e.format){case"A16":r=xa.A16;break;case"A32":r=xa.A32;break;case"A8":r=xa.L8;break;case"DEPTH16":r=xa.DEPTH16;break;case"R16":r=xa.A16;break;case"R32":r=xa.A32;break;case"R8":r=xa.L8;break;case"RGBA128":r=xa.RGBA128;break;case"RGBA32":r=xa.RGBA32;break;case"RGBA64":r=xa.RGBA64;break;default:r=xa.RGBA32}else r=xa.RGBA32;return ot.create(a,i,r)}var l;if(null!=e.format)switch(e.format){case"A16":l=xa.A16;break;case"A32":l=xa.A32;break;case"A8":l=xa.L8;break;case"DEPTH16":l=xa.DEPTH16;break;case"R16":l=xa.A16;break;case"R32":l=xa.A32;break;case"R8":l=xa.L8;break;case"RGBA128":l=xa.RGBA128;break;case"RGBA32":l=xa.RGBA32;break;case"RGBA64":l=xa.RGBA64;break;default:l=xa.RGBA32}else l=xa.RGBA32;return ot.createRenderTarget(a,i,l,t)},createCubeMap:function(e,t){var a;if(null!=e.format)switch(e.format){case"A16":a=xa.A16;break;case"A32":a=xa.A32;break;case"A8":a=xa.L8;break;case"DEPTH16":a=xa.DEPTH16;break;case"R16":a=xa.A16;break;case"R32":a=xa.A32;break;case"R8":a=xa.L8;break;case"RGBA128":a=xa.RGBA128;break;case"RGBA32":a=xa.RGBA32;break;case"RGBA64":a=xa.RGBA64;break;default:a=xa.RGBA32}else a=xa.RGBA32;return va.createRenderTarget(e.width,a,t)},__class__:ie,__properties__:{get_ready:"get_ready"}};var se=function(){this.is_cubemap=null,this.is_image=null,this.depth=null,this.mipmaps=null,this.depth_buffer=null,this.displayp=null,this.scale=null,this.format=null};s["iron.RenderTargetRaw"]=se,se.__name__=!0,se.prototype={__class__:se};var ne=function(e){this.isCubeMap=!1,this.is3D=!1,this.hasDepth=!1,this.cubeMap=null,this.image=null,this.depthStencilFrom="",this.raw=e};s["iron.RenderTarget"]=ne,ne.__name__=!0,ne.prototype={__class__:ne};var re=function(){};s["iron.CachedShaderContext"]=re,re.__name__=!0,re.prototype={__class__:re};var le=function(){this.traitInits=[],this.groups=null,this.meshBatch=null,this.meshes=[],this.lamps=[],this.cameras=[],this.speakers=[],this.decals=[],this.empties=[],this.animations=[],this.armatures=[],this.embedded=new k,this.root=new We,this.root.name="Root",this.traitInits=[],null==le.global&&(le.global=new We)};s["iron.Scene"]=le,le.__name__=!0,le.create=function(e,t){le.active=new le,le.active.ready=!1,le.active.raw=e,he.getWorld(e.name,e.world_ref,function(a){le.active.world=a,le.active.addScene(e.name,null,function(a){0==le.active.cameras.length&&(y.trace('No camera found for scene "'+e.name+'"!',{fileName:"Scene.hx",lineNumber:91,className:"iron.Scene",methodName:"create"}),t(null)),le.active.camera=le.active.getCamera(e.camera_ref),t(a);for(var i=0,s=le.active.traitInits;i<s.length;){var n=s[i];++i,n()}le.active.traitInits=[]})})},le.setActive=function(e,t){le.framePassed&&(le.framePassed=!1,null!=le.active&&le.active.remove(),he.getSceneRaw(e,function(e){le.create(e,function(e){null!=t&&t(e),le.active.ready=!0})}))},le.generateTranform=function(e,t){t.world=ae.fromFloat32Array(e.transform.values),t.world.decompose(t.loc,t.rot,t.scale),null!=e.local_transform_only&&(t.localOnly=e.local_transform_only),null!=t.object.parent&&t.update()},le.createTraits=function(e,t){if(null!=e)for(var a=0;a<e.length;){var i=e[a];if(++a,"Script"==i.type){var s=[];if(null!=i.parameters)for(var n=0,r=i.parameters;n<r.length;){var l=r[n];++n,s.push(le.parseArg(l))}var g=le.createTraitClassInstance(i.class_name,s);if(null==g){y.trace("Error: Trait '"+i.class_name+"' referenced in object '"+t.name+"' not found",{fileName:"Scene.hx",lineNumber:575,className:"iron.Scene",methodName:"createTraits"});continue}if(null!=i.props)for(var o=0,h=i.props.length/2|0;o<h;){var c=o++,d=i.props[2*c],u=i.props[2*c+1];""!=u&&I.setProperty(g,d,le.parseArg(u))}t.addTrait(g)}}},le.parseArg=function(e){if("true"==e)return!0;if("false"==e)return!1;if("null"==e)return null;if("'"==e.charAt(0))return C.replace(e,"'","");if('"'==e.charAt(0))return C.replace(e,'"',"");if("["==e.charAt(0)){e=C.replace(e,"[",""),e=C.replace(e,"]","");for(var t=[],a=(e=C.replace(e," ","")).split(","),i=0;i<a.length;){var s=a[i];++i,t.push(le.parseArg(s))}return t}var n=parseFloat(e),r=u.parseInt(e);return n==r?r:n},le.createConstraints=function(e,t){if(null!=e){t.constraints=[];for(var a=0;a<e.length;){var i=e[a];++a;var s=new Ne(i);t.constraints.push(s)}}},le.createTraitClassInstance=function(e,t){var a=m.resolveClass(e);return null==a?null:m.createInstance(a,t)},le.prototype={remove:function(){null!=this.meshBatch&&this.meshBatch.remove();for(var e=0,t=this.meshes;e<t.length;){var a=t[e];++e,a.remove()}for(var i=0,s=this.lamps;i<s.length;){var n=s[i];++i,n.remove()}for(var r=0,l=this.cameras;r<l.length;){var g=l[r];++r,g.remove()}for(var o=0,h=this.speakers;o<h.length;){var c=h[o];++o,c.remove()}for(var d=0,I=this.decals;d<I.length;){var u=I[d];++d,u.remove()}for(var C=0,m=this.empties;C<m.length;){var p=m[C];++C,p.remove()}this.groups=null,this.root.remove()},updateFrame:function(){if(this.ready){for(var e=0,t=this.animations;e<t.length;){var a=t[e];++e,a.update(.016666666666666666*$e.scale)}for(var i=0,s=this.empties;i<s.length;){var n=s[i];++i,null!=n&&null!=n.parent&&n.transform.update()}}},renderFrame:function(e){if(this.ready&&null!=ie.active){le.framePassed=!0;for(var t=this.camera,a=0,i=this.cameras;a<i.length;){var s=i[a];++a,null!=s.data.mirror&&(this.camera=s,this.camera.renderFrame(e))}this.camera=t,this.camera.renderFrame(e)}},addObject:function(e){var t=new We;return null!=e?e.addChild(t):this.root.addChild(t),t},getChild:function(e){return this.root.getChild(e)},getCamera:function(e){for(var t=0,a=this.cameras;t<a.length;){var i=a[t];if(++t,i.name==e)return i}return null},addMeshObject:function(e,t,a){var i=new ke(e,t);return null!=a?a.addChild(i):this.root.addChild(i),i},addLampObject:function(e,t){var a=new Ke(e);return null!=t?t.addChild(a):this.root.addChild(a),a},addCameraObject:function(e,t){var a=new Se(e);return null!=t?t.addChild(a):this.root.addChild(a),a},addSpeakerObject:function(e,t){var a=new He(e);return null!=t?t.addChild(a):this.root.addChild(a),a},addDecalObject:function(e,t){var a=new Ve(e);return null!=t?t.addChild(a):this.root.addChild(a),a},addScene:function(e,t,a){var i=this;null==t&&((t=this.addObject()).name=e),he.getSceneRaw(e,function(e){le.createTraits(e.traits,t),i.loadEmbeddedData(e.embedded_datas,function(){var s=0,n=i.getObjectsCount(e.objects),r=null;(r=function(t,a,l,g){if(null!=a)for(var o=0,h=a.length;o<h;){var c=[a[o++]];if(null==c[0].spawn||0!=c[0].spawn){var d=c[0],I=function(e){return function(t){null!=t&&r(t,e[0].children,e[0],g),(s+=1)==n&&g()}}(c);i.createObject(d,e,t,l,I)}else(s+=1)==n&&g()}})(t,e.objects,null,function(){a(t)})})})},getObjectsCount:function(e,t){null==t&&(t=!0);for(var a=e.length,i=0;i<e.length;){var s=e[i];++i,t&&null!=s.spawn&&0==s.spawn||null!=s.children&&(a+=this.getObjectsCount(s.children))}return a},spawnObject:function(e,t,a,i){null==i&&(i=!0);var s=this,n=0,r=this.getObj(this.raw,e),l=i?this.getObjectsCount([r],!1):1,g=null;(g=function(e,t,a){s.createObject(e,s.raw,t,null,function(t){if(i&&null!=e.children)for(var s=0,r=e.children;s<r.length;){var o=r[s];++s,g(o,t,a)}(n+=1)==l&&null!=a&&a(t)})})(r,t,a)},getObj:function(e,t){return this.traverseObjs(e.objects,t)},traverseObjs:function(e,t){for(var a=0;a<e.length;){var i=e[a];if(++a,i.name==t)return i;if(null!=i.children){var s=this.traverseObjs(i.children,t);if(null!=s)return s}}return null},createObject:function(e,t,a,i,s){var n=this,r=t.name;if("camera_object"==e.type)he.getCamera(r,e.data_ref,function(t){var i=n.addCameraObject(t,a);n.returnObject(i,e,s)});else if("lamp_object"==e.type)he.getLamp(r,e.data_ref,function(t){var i=n.addLampObject(t,a);n.returnObject(i,e,s)});else if("mesh_object"==e.type)if(null==e.material_refs||0==e.material_refs.length){var l=this.addObject(a);this.returnObject(l,e,s)}else for(var g=e.material_refs.length,o=new Array(g),h=0,c=0,d=e.material_refs.length;c<d;){var I=[c++],u=e.material_refs[I[0]],C=function(t){return function(l){if(o[t[0]]=l,(h+=1)==e.material_refs.length){var g=e.data_ref.split("/"),c="",d="";if(2==g.length?(c=g[0],d=g[1]):(c=r,d=e.data_ref),null!=i&&null!=i.bone_actions)for(var I=[],u=0,C=i.bone_actions;u<C.length;){var m=C[u];++u,he.getSceneRaw(m,function(t){if(I.push(t),I.length==i.bone_actions.length){var l=new oe(i.name,I);n.armatures.push(l),n.returnMeshObject(c,d,r,l,o,a,e,s)}})}else n.returnMeshObject(c,d,r,null,o,a,e,s)}}}(I);he.getMaterial(r,u,C)}else if("speaker_object"==e.type){var m=this.addSpeakerObject(he.getSpeakerRawByName(t.speaker_datas,e.data_ref),a);this.returnObject(m,e,s)}else if("decal_object"==e.type)if(null!=e.material_refs&&e.material_refs.length>0)he.getMaterial(r,e.material_refs[0],function(t){var i=n.addDecalObject(t,a);n.returnObject(i,e,s)});else{var p=this.addDecalObject(null,a);this.returnObject(p,e,s)}else if("object"==e.type){var b=this.addObject(a);this.returnObject(b,e,function(t){if(null!=e.group_ref){var a=0,i=n.getGroupObjectRefs(e.group_ref);if(0==i.length)s(t);else for(var r=0;r<i.length;){var l=i[r];++r,n.spawnObject(l,t,function(e){(a+=1)==i.length&&s(t)})}}else s(t)})}else s(null)},getGroupObjectRefs:function(e){for(var t=0,a=this.raw.groups;t<a.length;){var i=a[t];if(++t,i.name==e)return i.object_refs}return null},returnMeshObject:function(e,t,a,i,s,n,r,l){var g=this;he.getMesh(e,t,i,function(e){var t=g.addMeshObject(e,s,n);if(null!=r.particle_refs)for(var i=0,o=r.particle_refs;i<o.length;){var h=o[i];++i,at.__cast(t,ke).setupParticleSystem(a,h)}null!=r.tilesheet_ref&&at.__cast(t,ke).setupTilesheet(a,r.tilesheet_ref,r.tilesheet_action_ref),g.returnObject(t,r,l)})},returnObject:function(e,t,a){var i=this;if(null!=e&&null!=t.object_actions){for(var s=[];s.length<t.object_actions.length;)s.push(null);for(var n=0,r=0,l=t.object_actions.length;r<l;){var g=[r++],o=t.object_actions[g[0]];he.getSceneRaw(o,function(r){return function(l){s[r[0]]=l,(n+=1)==t.object_actions.length&&i.returnObjectLoaded(e,t,s,a)}}(g))}}else this.returnObjectLoaded(e,t,null,a)},returnObjectLoaded:function(e,t,a,i){if(null!=e){if(e.raw=t,e.name=t.name,null!=t.visible&&(e.visible=t.visible),null!=t.visible_mesh&&(e.visibleMesh=t.visible_mesh),null!=t.visible_shadow&&(e.visibleShadow=t.visible_shadow),le.createConstraints(t.constraints,e),le.generateTranform(t,e.transform),e.setupAnimation(a),null!=t.groups){null==this.groups&&(this.groups=new k);for(var s=0,n=t.groups;s<n.length;){var r=n[s];++s;var l=this.groups,g=null!=Wi[r]?l.getReserved(r):l.h[r];if(null==g){g=[];var o=this.groups;null!=Wi[r]?o.setReserved(r,g):o.h[r]=g}g.push(e)}}le.createTraits(t.traits,e)}i(e)},loadEmbeddedData:function(e,t){var a=this;if(null!=e)for(var i=0,s=0;s<e.length;){var n=[e[s]];++s,he.getImage(n[0],function(s){return function(n){var r=a.embedded;null!=Wi[s[0]]?r.setReserved(s[0],n):r.h[s[0]]=n,(i+=1)==e.length&&t()}}(n))}else t()},notifyOnInit:function(e){this.ready?e():this.traitInits.push(e)},__class__:le};var ge=function(){this._render2D=null,this._render=null,this._lateUpdate=null,this._update=null,this._remove=null,this._init=null,this._add=null};s["iron.Trait"]=ge,ge.__name__=!0,ge.prototype={remove:function(){this.object.removeTrait(this)},__class__:ge};var oe=function(e,t){this.matsReady=!1,this.actions=[],this.name=e;for(var a=0;a<t.length;){var i=t[a];++a;for(var s=0,n=i.objects;s<n.length;){var r=n[s];++s,oe.setParents(r)}var l=[[]];oe.traverseBones(i.objects,function(e){return function(t){e[0].push(t)}}(l)),this.actions.push({name:i.name,bones:l[0],mats:null})}};s["iron.data.Armature"]=oe,oe.__name__=!0,oe.setParents=function(e){if(null!=e.children)for(var t=0,a=e.children;t<a.length;){var i=a[t];++t,i.parent=e,oe.setParents(i)}},oe.traverseBones=function(e,t){for(var a=0,i=e.length;a<i;){var s=a++;oe.traverseBonesStep(e[s],t)}},oe.traverseBonesStep=function(e,t){if("bone_object"==e.type&&t(e),null!=e.children)for(var a=0,i=e.children.length;a<i;){var s=a++;oe.traverseBonesStep(e.children[s],t)}},oe.prototype={initMats:function(){if(!this.matsReady){this.matsReady=!0;for(var e=0,t=this.actions;e<t.length;){var a=t[e];if(++e,null==a.mats){a.mats=new V;for(var i=0,s=a.bones;i<s.length;){var n=s[i];++i,a.mats.set(n,ae.fromFloat32Array(n.transform.values))}}}}},getAction:function(e){for(var t=0,a=this.actions;t<a.length;){var i=a[t];if(++t,i.name==e)return i}return null},__class__:oe};var he=function(){};s["iron.data.Data"]=he,he.__name__=!0,he.getMesh=function(e,t,a,i){var s=e+t,n=he.cachedMeshes,r=null!=Wi[s]?n.getReserved(s):n.h[s];if(null==r){var l=he.loadingMeshes,g=null!=Wi[s]?l.getReserved(s):l.h[s];if(null==g){var o=he.loadingMeshes,h=e+t,c=[i];null!=Wi[h]?o.setReserved(h,c):o.h[h]=c,fe.parse(e,t,a,function(a){var i=he.cachedMeshes,n=e+t;null!=Wi[n]?i.setReserved(n,a):i.h[n]=a,a.handle=s;for(var r=0,l=he.loadingMeshes,g=e+t,o=null!=Wi[g]?l.getReserved(g):l.h[g];r<o.length;){var h=o[r];++r,h(a)}he.loadingMeshes.remove(e+t)})}else g.push(i)}else i(r)},he.getLamp=function(e,t,a){var i=he.cachedLamps,s=e+t,n=null!=Wi[s]?i.getReserved(s):i.h[s];if(null==n){var r=he.loadingLamps,l=e+t,g=null!=Wi[l]?r.getReserved(l):r.h[l];if(null==g){var o=he.loadingLamps,h=e+t,c=[a];null!=Wi[h]?o.setReserved(h,c):o.h[h]=c,ue.parse(e,t,function(a){var i=he.cachedLamps,s=e+t;null!=Wi[s]?i.setReserved(s,a):i.h[s]=a;for(var n=0,r=he.loadingLamps,l=e+t,g=null!=Wi[l]?r.getReserved(l):r.h[l];n<g.length;){var o=g[n];++n,o(a)}he.loadingLamps.remove(e+t)})}else g.push(a)}else a(n)},he.getCamera=function(e,t,a){var i=he.cachedCameras,s=e+t,n=null!=Wi[s]?i.getReserved(s):i.h[s];if(null==n){var r=he.loadingCameras,l=e+t,g=null!=Wi[l]?r.getReserved(l):r.h[l];if(null==g){var o=he.loadingCameras,h=e+t,c=[a];null!=Wi[h]?o.setReserved(h,c):o.h[h]=c,ce.parse(e,t,function(a){var i=he.cachedCameras,s=e+t;null!=Wi[s]?i.setReserved(s,a):i.h[s]=a;for(var n=0,r=he.loadingCameras,l=e+t,g=null!=Wi[l]?r.getReserved(l):r.h[l];n<g.length;){var o=g[n];++n,o(a)}he.loadingCameras.remove(e+t)})}else g.push(a)}else a(n)},he.getMaterial=function(e,t,a){var i=he.cachedMaterials,s=e+t,n=null!=Wi[s]?i.getReserved(s):i.h[s];if(null==n){var r=he.loadingMaterials,l=e+t,g=null!=Wi[l]?r.getReserved(l):r.h[l];if(null==g){var o=he.loadingMaterials,h=e+t,c=[a];null!=Wi[h]?o.setReserved(h,c):o.h[h]=c,Ce.parse(e,t,function(a){var i=he.cachedMaterials,s=e+t;null!=Wi[s]?i.setReserved(s,a):i.h[s]=a;for(var n=0,r=he.loadingMaterials,l=e+t,g=null!=Wi[l]?r.getReserved(l):r.h[l];n<g.length;){var o=g[n];++n,o(a)}he.loadingMaterials.remove(e+t)})}else g.push(a)}else a(n)},he.getParticle=function(e,t,a){var i=he.cachedParticles,s=e+t,n=null!=Wi[s]?i.getReserved(s):i.h[s];if(null==n){var r=he.loadingParticles,l=e+t,g=null!=Wi[l]?r.getReserved(l):r.h[l];if(null==g){var o=he.loadingParticles,h=e+t,c=[a];null!=Wi[h]?o.setReserved(h,c):o.h[h]=c,Ae.parse(e,t,function(a){var i=he.cachedParticles,s=e+t;null!=Wi[s]?i.setReserved(s,a):i.h[s]=a;for(var n=0,r=he.loadingParticles,l=e+t,g=null!=Wi[l]?r.getReserved(l):r.h[l];n<g.length;){var o=g[n];++n,o(a)}he.loadingParticles.remove(e+t)})}else g.push(a)}else a(n)},he.getWorld=function(e,t,a){if(null!=t){var i=he.cachedWorlds,s=e+t,n=null!=Wi[s]?i.getReserved(s):i.h[s];if(null==n){var r=he.loadingWorlds,l=e+t,g=null!=Wi[l]?r.getReserved(l):r.h[l];if(null==g){var o=he.loadingWorlds,h=e+t,c=[a];null!=Wi[h]?o.setReserved(h,c):o.h[h]=c,Be.parse(e,t,function(a){var i=he.cachedWorlds,s=e+t;null!=Wi[s]?i.setReserved(s,a):i.h[s]=a;for(var n=0,r=he.loadingWorlds,l=e+t,g=null!=Wi[l]?r.getReserved(l):r.h[l];n<g.length;){var o=g[n];++n,o(a)}he.loadingWorlds.remove(e+t)})}else g.push(a)}else a(n)}else a(null)},he.getShader=function(e,t,a,i){var s=t;null!=a&&(s+="2");var n=he.cachedShaders,r=null!=Wi[s]?n.getReserved(s):n.h[s];if(null==r){var l=he.loadingShaders,g=null!=Wi[s]?l.getReserved(s):l.h[s];if(null==g){var o=he.loadingShaders,h=[i];null!=Wi[s]?o.setReserved(s,h):o.h[s]=h,we.parse(e,t,a,function(e){var t=he.cachedShaders;null!=Wi[s]?t.setReserved(s,e):t.h[s]=e;for(var a=0,i=he.loadingShaders,n=null!=Wi[s]?i.getReserved(s):i.h[s];a<n.length;){var r=n[a];++a,r(e)}he.loadingShaders.remove(s)})}else g.push(i)}else i(r)},he.getSceneRaw=function(e,t){var a=he.cachedSceneRaws,i=null!=Wi[e]?a.getReserved(e):a.h[e];if(null==i){var s=he.loadingSceneRaws,n=null!=Wi[e]?s.getReserved(e):s.h[e];if(null==n){var r=he.loadingSceneRaws,l=[t];null!=Wi[e]?r.setReserved(e,l):r.h[e]=l;var g=C.endsWith(e,".zip"),o=g||C.endsWith(e,".arm")?"":".arm";he.getBlob(e+o,function(t){if(g){var a=new D(t.toBytes()),i=P.readZip(a).first();if(null==i)return void y.trace("Failed to uncompress "+e,{fileName:"Data.hx",lineNumber:237,className:"iron.data.Data",methodName:"getSceneRaw"});t=i.compressed?ei.fromBytes(P.unzip(i)):ei.fromBytes(i.data)}var s=new D(t.toBytes());s.set_bigEndian(!0);var n=Re.read(s);he.returnSceneRaw(e,n)})}else n.push(t)}else t(i)},he.returnSceneRaw=function(e,t){var a=he.cachedSceneRaws;null!=Wi[e]?a.setReserved(e,t):a.h[e]=t;for(var i=0,s=he.loadingSceneRaws,n=null!=Wi[e]?s.getReserved(e):s.h[e];i<n.length;){var r=n[i];++i,r(t)}he.loadingSceneRaws.remove(e)},he.getMeshRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var i=e[a];if(++a,i.name==t)return i}return null},he.getLampRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var i=e[a];if(++a,i.name==t)return i}return null},he.getCameraRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var i=e[a];if(++a,i.name==t)return i}return null},he.getMaterialRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var i=e[a];if(++a,i.name==t)return i}return null},he.getParticleRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var i=e[a];if(++a,i.name==t)return i}return null},he.getWorldRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var i=e[a];if(++a,i.name==t)return i}return null},he.getShaderRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var i=e[a];if(++a,i.name==t)return i}return null},he.getSpeakerRawByName=function(e,t){if(""==t)return e[0];for(var a=0;a<e.length;){var i=e[a];if(++a,i.name==t)return i}return null},he.getBlob=function(e,t){var a=he.cachedBlobs,i=null!=Wi[e]?a.getReserved(e):a.h[e];if(null==i){var s=he.loadingBlobs,n=null!=Wi[e]?s.getReserved(e):s.h[e];if(null==n){var r=he.loadingBlobs,l=[t];null!=Wi[e]?r.setReserved(e,l):r.h[e]=l;var g={files:[e]};bt.loadBlobFromDescription(g,function(t){var a=he.cachedBlobs;null!=Wi[e]?a.setReserved(e,t):a.h[e]=t;for(var i=0,s=he.loadingBlobs,n=null!=Wi[e]?s.getReserved(e):s.h[e];i<n.length;){var r=n[i];++i,r(t)}he.loadingBlobs.remove(e),he.assetsLoaded++})}else n.push(t)}else t(i)},he.getImage=function(e,t,a,i){null==i&&(i="RGBA32"),null==a&&(a=!1);var s=he.cachedImages,n=null!=Wi[e]?s.getReserved(e):s.h[e];if(null==n){var r=he.loadingImages,l=null!=Wi[e]?r.getReserved(e):r.h[e];if(null==l){var g=he.loadingImages,o=[t];null!=Wi[e]?g.setReserved(e,o):g.h[e]=o;var h={files:[e],readable:a,format:i};bt.loadImageFromDescription(h,function(t){var a=he.cachedImages;null!=Wi[e]?a.setReserved(e,t):a.h[e]=t;for(var i=0,s=he.loadingImages,n=null!=Wi[e]?s.getReserved(e):s.h[e];i<n.length;){var r=n[i];++i,r(t)}he.loadingImages.remove(e),he.assetsLoaded++})}else l.push(t)}else t(n)},he.getSound=function(e,t){C.endsWith(e,".wav")&&(e=e.substring(0,e.length-4)+".ogg");var a=he.cachedSounds,i=null!=Wi[e]?a.getReserved(e):a.h[e];if(null==i){var s=he.loadingSounds,n=null!=Wi[e]?s.getReserved(e):s.h[e];if(null==n){var r=he.loadingSounds,l=[t];null!=Wi[e]?r.setReserved(e,l):r.h[e]=l;var g={files:[e]};bt.loadSoundFromDescription(g,function(t){t.uncompress(function(){var a=he.cachedSounds;null!=Wi[e]?a.setReserved(e,t):a.h[e]=t;for(var i=0,s=he.loadingSounds,n=null!=Wi[e]?s.getReserved(e):s.h[e];i<n.length;){var r=n[i];++i,r(t)}he.loadingSounds.remove(e),he.assetsLoaded++})})}else n.push(t)}else t(i)},he.prototype={__class__:he};var ce=function(e,t,a){null==a&&(a=""),this.mirror=null,he.call(this),this.raw=e,this.name=e.name,e.render_to_texture&&(this.mirror=ot.createRenderTarget(e.texture_resolution_x,e.texture_resolution_y,xa.RGBA32,0)),t(this)};s["iron.data.CameraData"]=ce,ce.__name__=!0,ce.parse=function(e,t,a){he.getSceneRaw(e,function(i){var s=he.getCameraRawByName(i.camera_datas,t);null==s&&(y.trace('Camera data "'+t+'" not found!',{fileName:"CameraData.hx",lineNumber:30,className:"iron.data.CameraData",methodName:"parse"}),a(null)),new ce(s,a,e)})},ce.__super__=he,ce.prototype=a(he.prototype,{__class__:ce});var de=function(){};s["iron.data.ConstData"]=de,de.__name__=!0,de.createScreenAlignedData=function(){var e=[-1,-1,3,-1,-1,3],t=[0,1,2],a=new Oa;a.add("pos",Ra.Float2),de.screenAlignedVB=new ja(e.length/(a.byteSize()/4|0)|0,a,Ta.StaticUsage);for(var i=de.screenAlignedVB.lock(),s=0,n=i.length;s<n;){var r=s++;i[r]=e[r]}de.screenAlignedVB.unlock(),de.screenAlignedIB=new za(t.length,Ta.StaticUsage);for(var l=de.screenAlignedIB.lock(),g=0,o=l.length;g<o;){var h=g++;l[h]=t[h]}de.screenAlignedIB.unlock()},de.createSkydomeData=function(){var e=new Oa;e.add("pos",Ra.Float3),e.add("nor",Ra.Float3);var t=e.byteSize()/4|0,a=de.skydomePos,i=de.skydomeNor;de.skydomeVB=new ja(a.length/3|0,e,Ta.StaticUsage);for(var s=de.skydomeVB.lock(),n=0,r=s.length/t|0;n<r;){var l=n++;s[l*t]=a[3*l],s[l*t+1]=a[3*l+1],s[l*t+2]=a[3*l+2],s[l*t+3]=-i[3*l],s[l*t+4]=-i[3*l+1],s[l*t+5]=-i[3*l+2]}de.skydomeVB.unlock();var g=de.skydomeIndices;de.skydomeIB=new za(g.length,Ta.StaticUsage);for(var o=de.skydomeIB.lock(),h=0,c=o.length;h<c;){var d=h++;o[d]=g[d]}de.skydomeIB.unlock()},de.createSphereData=function(){var e=new Oa;e.add("pos",Ra.Float3);var t=de.spherePos;de.sphereVB=new ja(t.length/(e.byteSize()/4|0)|0,e,Ta.StaticUsage);for(var a=de.sphereVB.lock(),i=0,s=a.length;i<s;){var n=i++;a[n]=t[n]}de.sphereVB.unlock();var r=de.sphereIndices;de.sphereIB=new za(r.length,Ta.StaticUsage);for(var l=de.sphereIB.lock(),g=0,o=l.length;g<o;){var h=g++;l[h]=r[h]}de.sphereIB.unlock()};var Ie=function(e,t,a,i,s,n,r,l,g,o,h,c){this.mats=null,this.actions=null,this.skeletonBoneRefs=null,this.skeletonTransformsI=null,this.skeletonTransforms=null,this.skinBoneWeights=null,this.skinBoneIndices=null,this.skinBoneCounts=null,this.skinTransformI=null,this.skinTransform=null,this.instanceCount=0,this.instanced=!1,this.instancedVB=null,this.numTris=0,this.ready=!1,null==h&&(h=Ta.StaticUsage),this.indices=e,this.materialIndices=t,this.usage=h,this.positions=a,this.normals=i,this.uvs=s,this.uvs1=n,this.cols=r,this.tangents=l,this.bones=g,this.weights=o,this.instanceOffsets=c,this.struct=Ie.getVertexStructure(null!=a,null!=i,null!=s,null!=n,null!=r,null!=l,null!=g,null!=o),this.structLength=this.struct.byteSize()/4|0};s["iron.data.Geometry"]=Ie,Ie.__name__=!0,Ie.getVertexStructure=function(e,t,a,i,s,n,r,l){null==l&&(l=!1),null==r&&(r=!1),null==n&&(n=!1),null==s&&(s=!1),null==i&&(i=!1),null==a&&(a=!1),null==t&&(t=!1),null==e&&(e=!1);var g=new Oa;return e&&g.add("pos",Ra.Float3),t&&g.add("nor",Ra.Float3),a&&g.add("tex",Ra.Float2),i&&g.add("tex1",Ra.Float2),s&&g.add("col",Ra.Float3),n&&g.add("tang",Ra.Float3),r&&g.add("bone",Ra.Float4),l&&g.add("weight",Ra.Float4),g},Ie.buildVertices=function(e,t,a,i,s,n,r,l,g,o){null==o&&(o=0);for(var h=-1+o,c=0,d=t.length/3|0;c<d;){var I=c++;e[++h]=t[3*I],e[++h]=t[3*I+1],e[++h]=t[3*I+2],null!=a&&(e[++h]=a[3*I],e[++h]=a[3*I+1],e[++h]=a[3*I+2]),null!=i&&(e[++h]=i[2*I],e[++h]=i[2*I+1]),null!=s&&(e[++h]=s[2*I],e[++h]=s[2*I+1]),null!=n&&(e[++h]=n[3*I],e[++h]=n[3*I+1],e[++h]=n[3*I+2]),null!=r&&(e[++h]=r[3*I],e[++h]=r[3*I+1],e[++h]=r[3*I+2]),null!=l&&(e[++h]=l[4*I],e[++h]=l[4*I+1],e[++h]=l[4*I+2],e[++h]=l[4*I+3]),null!=g&&(e[++h]=g[4*I],e[++h]=g[4*I+1],e[++h]=g[4*I+2],e[++h]=g[4*I+3])}},Ie.prototype={applyScale:function(e,t,a){for(var i=this.vertexBuffer.lock(),s=0,n=i.length/this.structLength|0;s<n;){var r=s++;i[r*this.structLength]*=e,i[r*this.structLength+1]*=t,i[r*this.structLength+2]*=a}this.vertexBuffer.unlock()},setupInstanced:function(e,t){this.offsetVecs=[];for(var a=0,i=e.length/3|0;a<i;){var s=a++;this.offsetVecs.push(new te(e[3*s],e[3*s+1],e[3*s+2]))}this.instanced=!0,this.instanceCount=e.length/3|0;var n=new Oa;n.instanced=!0,n.add("off",Ra.Float3),this.instancedVB=new ja(this.instanceCount,n,t,1);for(var r=this.instancedVB.lock(),l=0,g=r.length;l<g;){var o=l++;r[o]=e[o]}this.instancedVB.unlock()},build:function(){if(!this.ready){this.vertexBuffer=new ja(this.positions.length/3|0,this.struct,this.usage),this.vertices=this.vertexBuffer.lock(),Ie.buildVertices(this.vertices,this.positions,this.normals,this.uvs,this.uvs1,this.cols,this.tangents,this.bones,this.weights),this.vertexBuffer.unlock(),this.indexBuffers=[];for(var e=0,t=this.indices;e<t.length;){var a=t[e];if(++e,0!=a.length){var i=new za(a.length,this.usage);this.numTris+=a.length/3|0,i._data=a,i.unlock(),this.indexBuffers.push(i)}}null!=this.instanceOffsets&&this.setupInstanced(this.instanceOffsets,this.usage),this.ready=!0}},setArmature:function(e){for(var t=0,a=e.actions;t<a.length;){var i=a[t];++t,this.addAction(i.bones,i.name)}},addAction:function(e,t){null==this.actions&&(this.actions=new k,this.mats=new k);for(var a=[],i=0,s=this.skeletonBoneRefs;i<s.length;){var n=s[i];++i;for(var r=0;r<e.length;){var l=e[r];++r,l.name==n&&a.push(l)}}var g=this.actions;null!=Wi[t]?g.setReserved(t,a):g.h[t]=a;for(var o=new V,h=0;h<a.length;){var c=a[h];++h,o.set(c,ae.fromFloat32Array(c.transform.values))}var d=this.mats;null!=Wi[t]?d.setReserved(t,o):d.h[t]=o},initSkeletonTransforms:function(e){this.skeletonTransforms=[],this.skeletonTransformsI=[];for(var t=0;t<e.length;){var a=e[t];++t;var i=ae.fromFloat32Array(a);this.skeletonTransforms.push(i);var s=ae.identity();s.getInverse(i),this.skeletonTransformsI.push(s)}},initSkinTransform:function(e){this.skinTransform=ae.fromFloat32Array(e),this.skinTransformI=ae.identity(),this.skinTransformI.getInverse(this.skinTransform)},__class__:Ie};var ue=function(e,t){this.colorTexture=null;var a=this;he.call(this),this.raw=e,this.name=e.name,null!=e.color_texture?he.getImage(e.color_texture,function(e){a.colorTexture=e,t(a)}):t(this)};s["iron.data.LampData"]=ue,ue.__name__=!0,ue.parse=function(e,t,a){he.getSceneRaw(e,function(e){var i=he.getLampRawByName(e.lamp_datas,t);null==i&&(y.trace('Lamp data "'+t+'" not found!',{fileName:"LampData.hx",lineNumber:42,className:"iron.data.LampData",methodName:"parse"}),a(null)),new ue(i,a)})},ue.__super__=he,ue.prototype=a(he.prototype,{__class__:ue});var Ce=function(e,t,a){null==a&&(a=""),this.contexts=null;var i=this;he.call(this),this.uid=++Ce.uidCounter,this.raw=e,this.name=e.name;var s=e.shader.split("/"),n="",r="";2==s.length?(n=s[0],r=s[1]):(n=a,r=e.shader),he.getShader(n,r,e.override_context,function(a){for(i.shader=a,i.contexts=[];i.contexts.length<e.contexts.length;)i.contexts.push(null);for(var s=0,n=0,r=e.contexts.length;n<r;){var l=[n++],g=e.contexts[l[0]];new me(g,function(a){return function(n){i.contexts[a[0]]=n,(s+=1)==e.contexts.length&&t(i)}}(l))}})};s["iron.data.MaterialData"]=Ce,Ce.__name__=!0,Ce.parse=function(e,t,a){he.getSceneRaw(e,function(i){var s=he.getMaterialRawByName(i.material_datas,t);null==s&&(y.trace('Material data "'+t+'" not found!',{fileName:"MaterialData.hx",lineNumber:61,className:"iron.data.MaterialData",methodName:"parse"}),a(null)),new Ce(s,a,e)})},Ce.__super__=he,Ce.prototype=a(he.prototype,{getContext:function(e){for(var t=0,a=this.contexts;t<a.length;){var i=a[t];if(++t,l.substr(i.raw.name,0,e.length)==e)return i}return null},__class__:Ce});var me=function(e,t){this.id=0,this.textures=null;var a=this;if(this.raw=e,this.id=me.num++,null!=e.bind_textures&&e.bind_textures.length>0){var i=e.bind_textures.length,s=new Array(i);this.textures=s;for(var n=0,r=0,l=e.bind_textures.length;r<l;){var g=[r++],o=[e.bind_textures[g[0]]];""!=o[0].file?he.getImage(o[0].file,function(i,s){return function(r){if(a.textures[s[0]]=r,n+=1,null!=i[0].mipmaps){for(var l=[];l.length<i[0].mipmaps.length;)l.push(null);for(var g=0,o=0,h=i[0].mipmaps.length;o<h;){var c=[o++],d=i[0].mipmaps[c[0]];he.getImage(d,function(i,s){return function(o){l[i[0]]=o,(g+=1)==s[0].mipmaps.length&&(r.setMipmaps(l),s[0].mipmaps=null,s[0].generate_mipmaps=!1,n==e.bind_textures.length&&t(a))}}(c,i))}}else 1==i[0].generate_mipmaps&&null!=r?(r.generateMipmaps(1e3),i[0].mipmaps=null,i[0].generate_mipmaps=!1,n==e.bind_textures.length&&t(a)):n==e.bind_textures.length&&t(a)}}(o,g),!1,null!=o[0].format?o[0].format:"RGBA32"):(n+=1)==e.bind_textures.length&&t(this)}}else t(this)};s["iron.data.MaterialContext"]=me,me.__name__=!0,me.prototype={setTextureParameters:function(e,t,a,i){var s=this.raw.bind_textures[t];null==s.params_set&&(a.setTextureParameters(e,i,s),s.params_set=!0)},__class__:me};var pe=function(){this.buckets=new V};s["iron.data.MeshBatch"]=pe,pe.__name__=!0,pe.prototype={remove:function(){for(var e=this.buckets.iterator();e.hasNext();){e.next();this.remove()}},__class__:pe};var be=function(){};s["iron.data.Bucket"]=be,be.__name__=!0;var fe=function(e,t){this.refcount=0,he.call(this),this.raw=e,this.name=e.name;for(var a=[],i=[],s=0,n=e.index_arrays;s<n.length;){var r=n[s];++s,a.push(r.values),i.push(r.material)}var l=this.getVertexArrayValues("pos"),g=this.getVertexArrayValues("nor"),o=this.getVertexArrayValues("tex"),h=this.getVertexArrayValues("tex1"),c=this.getVertexArrayValues("col"),d=this.getVertexArrayValues("tang");this.isSkinned=null!=e.skin;var I=Ta.StaticUsage;null!=e.dynamic_usage&&1==e.dynamic_usage&&(I=Ta.DynamicUsage);var u=(this.isSkinned,I),C=null,m=null;if(this.isSkinned){var p=4*(l.length/3|0);C=new Ni(p),m=new Ni(p);for(var b=0,f=0,A=0,w=l.length/3|0;A<w;){for(var v=A++,B=e.skin.bone_count_array[v],M=b,_=b+B;M<_;){var Z=M++;C[f]=e.skin.bone_index_array[Z],m[f]=e.skin.bone_weight_array[Z],++f}for(var y=B;y<4;){y++;C[f]=0,m[f]=0,++f}b+=B}}this.geom=new Ie(a,i,l,g,o,h,c,d,C,m,u,e.instance_offsets),t(this)};s["iron.data.MeshData"]=fe,fe.__name__=!0,fe.parse=function(e,t,a,i){he.getSceneRaw(e,function(e){var s=he.getMeshRawByName(e.mesh_datas,t);null==s&&(y.trace('Mesh data "'+t+'" not found!',{fileName:"MeshData.hx",lineNumber:105,className:"iron.data.MeshData",methodName:"parse"}),i(null)),new fe(s,function(t){null!=s.skin&&(t.geom.initSkinTransform(s.skin.transform.values),t.geom.skinBoneCounts=s.skin.bone_count_array,t.geom.skinBoneIndices=s.skin.bone_index_array,t.geom.skinBoneWeights=s.skin.bone_weight_array,t.geom.skeletonBoneRefs=s.skin.skeleton.bone_ref_array,t.geom.initSkeletonTransforms(s.skin.skeleton.transforms),null!=a?t.geom.setArmature(a):t.geom.addAction(e.objects,"none")),i(t)})})},fe.__super__=he,fe.prototype=a(he.prototype,{getVertexArrayValues:function(e){for(var t=0,a=this.raw.vertex_arrays;t<a.length;){var i=a[t];if(++t,i.attrib==e)return i.values}return null},__class__:fe});var Ae=function(e,t){he.call(this),this.raw=e,this.name=e.name,t(this)};s["iron.data.ParticleData"]=Ae,Ae.__name__=!0,Ae.parse=function(e,t,a){he.getSceneRaw(e,function(e){var i=he.getParticleRawByName(e.particle_datas,t);null==i&&(y.trace('Particle data "'+t+'" not found!',{fileName:"ParticleData.hx",lineNumber:23,className:"iron.data.ParticleData",methodName:"parse"}),a(null)),new Ae(i,a)})},Ae.__super__=he,Ae.prototype=a(he.prototype,{__class__:Ae});var we=function(e,t,a){this.contexts=[];var i=this;he.call(this),this.raw=e,this.name=e.name;for(var s=0,n=e.contexts;s<n.length;){n[s];++s,this.contexts.push(null)}for(var r=0,l=0,g=e.contexts.length;l<g;){var o=[l++],h=e.contexts[o[0]];new ve(h,t,function(t){return function(s){i.contexts[t[0]]=s,(r+=1)==e.contexts.length&&a(i)}}(o))}};s["iron.data.ShaderData"]=we,we.__name__=!0,we.parse=function(e,t,a,i){he.getSceneRaw(e,function(e){var s=he.getShaderRawByName(e.shader_datas,t);null==s&&(y.trace('Shader data "'+t+'" not found!',{fileName:"ShaderData.hx",lineNumber:49,className:"iron.data.ShaderData",methodName:"parse"}),i(null)),new we(s,a,i)})},we.__super__=he,we.prototype=a(he.prototype,{getContext:function(e){for(var t=0,a=this.contexts;t<a.length;){var i=a[t];if(++t,i.raw.name==e)return i}return null},__class__:we});var ve=function(e,t,a){this.instancing=!1,this.raw=e,this.overrideContext=t,"rect"==e.name?(this.structure=ve.getStructureRect(),this.instancing=!1):this.parseVertexStructure(),this.compile(a)};s["iron.data.ShaderContext"]=ve,ve.__name__=!0,ve.getStructureRect=function(){return null==ve.structureRect&&(ve.structureRect=new Oa,ve.structureRect.add("pos",Ra.Float2)),ve.structureRect},ve.prototype={compile:function(e){if(null!=this.pipeState&&this.pipeState.delete(),this.pipeState=new Ka,this.constants=[],this.textureUnits=[],this.instancing){var t=new Oa;t.add("off",Ra.Float3),t.instanced=!0,this.pipeState.inputLayout=[this.structure,t]}else this.pipeState.inputLayout=[this.structure];if(this.pipeState.depthWrite=this.raw.depth_write,this.pipeState.depthMode=this.getCompareMode(this.raw.compare_mode),null!=this.raw.stencil_mode&&("always"==this.raw.stencil_mode?this.pipeState.stencilMode=Aa.Always:"equal"==this.raw.stencil_mode?this.pipeState.stencilMode=Aa.Equal:"not_equal"==this.raw.stencil_mode&&(this.pipeState.stencilMode=Aa.NotEqual)),null!=this.raw.stencil_pass&&("replace"==this.raw.stencil_pass?this.pipeState.stencilBothPass=ka.Replace:"keep"==this.raw.stencil_pass&&(this.pipeState.stencilBothPass=ka.Keep)),null!=this.raw.stencil_fail&&"keep"==this.raw.stencil_fail&&(this.pipeState.stencilDepthFail=ka.Keep,this.pipeState.stencilFail=ka.Keep),null!=this.raw.stencil_reference_value&&(this.pipeState.stencilReferenceValue=this.raw.stencil_reference_value),this.pipeState.cullMode=this.getCullMode(this.raw.cull_mode),null!=this.raw.blend_source&&(this.pipeState.blendSource=this.getBlendingFactor(this.raw.blend_source)),null!=this.raw.blend_destination&&(this.pipeState.blendDestination=this.getBlendingFactor(this.raw.blend_destination)),null!=this.raw.blend_operation&&(this.pipeState.blendOperation=this.getBlendingOperation(this.raw.blend_operation)),null!=this.raw.alpha_blend_source&&(this.pipeState.alphaBlendSource=this.getBlendingFactor(this.raw.alpha_blend_source)),null!=this.raw.alpha_blend_destination&&(this.pipeState.alphaBlendDestination=this.getBlendingFactor(this.raw.alpha_blend_destination)),null!=this.raw.alpha_blend_operation&&(this.pipeState.alphaBlendOperation=this.getBlendingOperation(this.raw.alpha_blend_operation)),null!=this.raw.color_write_red&&(this.pipeState.colorWriteMaskRed=this.raw.color_write_red),null!=this.raw.color_write_green&&(this.pipeState.colorWriteMaskGreen=this.raw.color_write_green),null!=this.raw.color_write_blue&&(this.pipeState.colorWriteMaskBlue=this.raw.color_write_blue),null!=this.raw.color_write_alpha&&(this.pipeState.colorWriteMaskAlpha=this.raw.color_write_alpha),null!=this.raw.conservative_raster&&(this.pipeState.conservativeRasterization=this.raw.conservative_raster),this.raw.shader_from_source)this.pipeState.fragmentShader=Ma.fromSource(this.raw.fragment_shader),this.pipeState.vertexShader=Qa.fromSource(this.raw.vertex_shader),this.finishCompile(e);else{var a=C.replace(this.raw.fragment_shader,".","_");this.pipeState.fragmentShader=I.field(Bt,a);var i=C.replace(this.raw.vertex_shader,".","_");if(this.pipeState.vertexShader=I.field(Bt,i),null!=this.raw.geometry_shader){var s=C.replace(this.raw.geometry_shader,".","_");this.pipeState.geometryShader=I.field(Bt,s)}if(null!=this.raw.tesscontrol_shader){var n=C.replace(this.raw.tesscontrol_shader,".","_");this.pipeState.tessellationControlShader=I.field(Bt,n)}if(null!=this.raw.tesseval_shader){var r=C.replace(this.raw.tesseval_shader,".","_");this.pipeState.tessellationEvaluationShader=I.field(Bt,r)}this.finishCompile(e)}},finishCompile:function(e){if(null!=this.overrideContext&&null!=this.overrideContext.cull_mode&&(this.pipeState.cullMode=this.getCullMode(this.overrideContext.cull_mode)),this.pipeState.compile(),null!=this.raw.constants)for(var t=0,a=this.raw.constants;t<a.length;){var i=a[t];++t,this.addConstant(i)}if(null!=this.raw.texture_units)for(var s=0,n=this.raw.texture_units;s<n.length;){var r=n[s];++s,this.addTexture(r)}e(this)},sizeToVD:function(e){return 1==e?Ra.Float1:2==e?Ra.Float2:3==e?Ra.Float3:4==e?Ra.Float4:null},parseVertexStructure:function(){this.structure=new Oa;for(var e=0,t=this.raw.vertex_structure;e<t.length;){var a=t[e];++e,"off"!=a.name?this.structure.add(a.name,this.sizeToVD(a.size)):this.instancing=!0}},getCompareMode:function(e){switch(e){case"always":return Aa.Always;case"equal":return Aa.Equal;case"greater":return Aa.Greater;case"greater_equal":return Aa.GreaterEqual;case"less":return Aa.Less;case"less_equal":return Aa.LessEqual;case"never":return Aa.Never;case"not_equal":return Aa.NotEqual;default:return Aa.Less}},getCullMode:function(e){switch(e){case"clockwise":return Ba.Clockwise;case"none":return Ba.None;default:return Ba.CounterClockwise}},getBlendingOperation:function(e){switch(e){case"add":return fa.Add;case"max":return fa.Max;case"min":return fa.Min;case"reverse_substract":return fa.ReverseSubtract;case"substract":return fa.Subtract;default:return fa.Add}},getBlendingFactor:function(e){switch(e){case"blend_one":return ba.BlendOne;case"blend_zero":return ba.BlendZero;case"destination_alpha":return ba.DestinationAlpha;case"destination_color":return ba.DestinationColor;case"inverse_destination_alpha":return ba.InverseDestinationAlpha;case"inverse_destination_color":return ba.InverseDestinationColor;case"inverse_source_alpha":return ba.InverseSourceAlpha;case"inverse_source_color":return ba.InverseSourceColor;case"source_alpha":return ba.SourceAlpha;case"source_color":return ba.SourceColor;default:return ba.Undefined}},getTextureAddresing:function(e){switch(e){case"mirror":return Da.Mirror;case"repeat":return Da.Repeat;default:return Da.Clamp}},getTextureFilter:function(e){switch(e){case"linear":return Ha.LinearFilter;case"point":return Ha.PointFilter;default:return Ha.AnisotropicFilter}},getMipmapFilter:function(e){switch(e){case"no":return Na.NoMipFilter;case"point":return Na.PointMipFilter;default:return Na.LinearMipFilter}},addConstant:function(e){this.constants.push(this.pipeState.getConstantLocation(e.name))},addTexture:function(e){var t=this.pipeState.getTextureUnit(e.name);this.textureUnits.push(t)},setTextureParameters:function(e,t,a){var i=this.textureUnits[t];e.setTextureParameters(i,null==a.u_addressing?Da.Repeat:this.getTextureAddresing(a.u_addressing),null==a.v_addressing?Da.Repeat:this.getTextureAddresing(a.v_addressing),null==a.min_filter?Ha.LinearFilter:this.getTextureFilter(a.min_filter),null==a.mag_filter?Ha.LinearFilter:this.getTextureFilter(a.mag_filter),null==a.mipmap_filter?Na.NoMipFilter:this.getMipmapFilter(a.mipmap_filter))},__class__:ve};var Be=function(e,t){this.vec=new te,this.shirr=null;var a=this;if(he.call(this),this.raw=e,this.name=e.name,null!=e.probes&&e.probes.length>0){this.probes=[];for(var i=0,s=e.probes;i<s.length;){var n=s[i];++i,new Me(n,function(i){a.probes.push(i),a.probes.length==e.probes.length&&t(a)})}}else t(this)};s["iron.data.WorldData"]=Be,Be.__name__=!0,Be.parse=function(e,t,a){he.getSceneRaw(e,function(e){var i=he.getWorldRawByName(e.world_datas,t);null==i&&(y.trace('World data "'+t+'" not found!',{fileName:"WorldData.hx",lineNumber:40,className:"iron.data.WorldData",methodName:"parse"}),a(null)),new Be(i,a)})},Be.getEmptyIrradiance=function(){if(null==Be.emptyIrr){var e=new Array(28);Be.emptyIrr=e;for(var t=0,a=Be.emptyIrr.length;t<a;){var i=t++;Be.emptyIrr[i]=0}}return Be.emptyIrr},Be.__super__=he,Be.prototype=a(he.prototype,{getGlobalProbe:function(){return this.probes[0]},getSHIrradiance:function(){if(null==this.shirr){var e=new Array(28);this.shirr=e;for(var t=this.probes[0],a=0,i=t.irradiance.length;a<i;){var s=a++;this.shirr[s]=t.irradiance[s]}}return this.shirr},getProbeID:function(e){this.vec.x=e.world.self._30,this.vec.y=e.world.self._31,this.vec.z=e.world.self._32;for(var t=e.dim,a=1,i=this.probes.length;a<i;){var s=a++,n=this.probes[s];if(!(this.vec.x+t.x/2<n.volumeMin.x||this.vec.x-t.x/2>n.volumeMax.x||this.vec.y+t.y/2<n.volumeMin.y||this.vec.y-t.y/2>n.volumeMax.y||this.vec.z+t.z/2<n.volumeMin.z||this.vec.z-t.z/2>n.volumeMax.z))return s}return 0},getProbeVolumeCenter:function(e){return this.probes[this.getProbeID(e)].volumeCenter},getProbeVolumeSize:function(e){return this.probes[this.getProbeID(e)].volume},getProbeStrength:function(e){return this.probes[this.getProbeID(e)].raw.strength},getProbeBlending:function(e){return this.probes[this.getProbeID(e)].raw.blending},__class__:Be});var Me=function(e,t){var a=this;this.raw=e,this.setIrradiance(function(i){a.irradiance=i,null!=e.radiance?he.getImage(e.radiance,function(i){a.radiance=i;for(var s=[];s.length<e.radiance_mipmaps;)s.push(null);for(var n=e.radiance.substring(e.radiance.length-4),r=e.radiance.substring(0,e.radiance.length-4),l=0,g=0,o=e.radiance_mipmaps;g<o;){var h=[g++];he.getImage(r+"_"+h[0]+n,function(i){return function(n){s[i[0]]=n,(l+=1)==e.radiance_mipmaps&&(a.radiance.setMipmaps(s),a.mipsSet(t))}}(h),!0)}}):a.mipsSet(t)})};s["iron.data.Probe"]=Me,Me.__name__=!0,Me.prototype={mipsSet:function(e){this.volume=new te(this.raw.volume[0],this.raw.volume[1],this.raw.volume[2]),this.volumeCenter=new te(this.raw.volume_center[0],this.raw.volume_center[1],this.raw.volume_center[2]),this.volumeMin=new te(this.volumeCenter.x-this.volume.x,this.volumeCenter.y-this.volume.y,this.volumeCenter.z-this.volume.z),this.volumeMax=new te(this.volumeCenter.x+this.volume.x,this.volumeCenter.y+this.volume.y,this.volumeCenter.z+this.volume.z),e(this)},setIrradiance:function(e){""==this.raw.irradiance?e([.7759665994411109,1.1676103577251633,1.498638725994038,.1336947481217397,.2152815237067897,.05665912629858376,-.02226816760879319,-.019376587567080147,-.010651384270937897,.000279290102432495,.0001858273851672515,633030727032015e-19,-678543609893525e-19,-.0003936997772915445,-.0007750453454300294,.010973699524451886,.02726825295855786,.04391820633315139,.08526796789315332,.07367063541652231,.03887702349408202,-134621815948975e-19,-39675084850967e-18,-37799572176155e-18,.13517727692935497,.11561459222778457,.06079408647605916]):he.getBlob(this.raw.irradiance+".arm",function(t){var a=new D(t.toBytes());a.set_bigEndian(!0);for(var i=Re.read(a),s=new Array(28),n=0;n<27;){var r=n++;s[r]=i.irradiance[r]}s[27]=0,e(s)})},__class__:Me};var _e=function(e,t,a,i,s,n,r,l,g){this.self=new Te(e,t,a,i,s,n,r,l,g)};s["iron.math.Mat3"]=_e,_e.__name__=!0,_e.identity=function(){return new _e(1,0,0,0,1,0,0,0,1)},_e.prototype={setFrom4:function(e){this.self._00=e.self._00,this.self._01=e.self._01,this.self._02=e.self._02,this.self._10=e.self._10,this.self._11=e.self._11,this.self._12=e.self._12,this.self._20=e.self._20,this.self._21=e.self._21,this.self._22=e.self._22},__class__:_e};var Ze=function(e,t,a,i){null==i&&(i=1),null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t,this.z=a,this.w=i};s["iron.math.Quat"]=Ze,Ze.__name__=!0,Ze.lerp=function(e,t,a){var i=new Ze,s=new Ze;return s.setFrom(e),e.dot(t)<0&&(s.w=-s.w,s.x=-s.x,s.y=-s.y,s.z=-s.z),i.x=s.x+(t.x-s.x)*a,i.y=s.y+(t.y-s.y)*a,i.z=s.z+(t.z-s.z)*a,i.w=s.w+(t.w-s.w)*a,i.normalize(),i},Ze.slerp=function(e,t,a){var i=new Ze,s=e.dot(t);if(Math.abs(s)>=1)return i.x=e.x,i.y=e.y,i.z=e.z,i.w=e.w,i;var n=Math.acos(s),r=1/Math.sqrt(1-s*s);if(Math.abs(r)>1e3)return Ze.lerp(e,t,.5);var l=Math.sin((1-a)*n)*r,g=Math.sin(a*n)*r*(s<0?-1:1);return i.x=e.x*l+t.x*g,i.y=e.y*l+t.y*g,i.z=e.z*l+t.z*g,i.w=e.w*l+t.w*g,i},Ze.prototype={set:function(e,t,a,i){this.x=e,this.y=t,this.z=a,this.w=i},fromRotationMat:function(e){var t=e.self._00,a=e.self._10,i=e.self._20,s=e.self._01,n=e.self._11,r=e.self._21,l=e.self._02,g=e.self._12,o=e.self._22,h=t+n+o,c=0;return h>0?(c=.5/Math.sqrt(h+1),this.w=.25/c,this.x=(g-r)*c,this.y=(i-l)*c,this.z=(s-a)*c):t>n&&t>o?(c=2*Math.sqrt(1+t-n-o),this.w=(g-r)/c,this.x=.25*c,this.y=(a+s)/c,this.z=(i+l)/c):n>o?(c=2*Math.sqrt(1+n-t-o),this.w=(i-l)/c,this.x=(a+s)/c,this.y=.25*c,this.z=(r+g)/c):(c=2*Math.sqrt(1+o-t-n),this.w=(s-a)/c,this.x=(i+l)/c,this.y=(r+g)/c,this.z=.25*c),this},multquats:function(e,t){var a=e.x*t.w+e.w*t.x+e.y*t.z-e.z*t.y,i=e.w*t.y-e.x*t.z+e.y*t.w+e.z*t.x,s=e.w*t.z+e.x*t.y-e.y*t.x+e.z*t.w,n=e.w*t.w-e.x*t.x-e.y*t.y-e.z*t.z;this.x=a,this.y=i,this.z=s,this.w=n},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0==e?(this.x=0,this.y=0,this.z=0,this.w=0):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e)},setFrom:function(e){this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w},fromEuler:function(e,t,a){var i=Math.cos(e/2),s=Math.cos(t/2),n=Math.cos(a/2),r=Math.sin(e/2),l=Math.sin(t/2),g=Math.sin(a/2);return this.x=r*s*n+i*l*g,this.y=i*l*n+r*s*g,this.z=i*s*g-r*l*n,this.w=i*s*n-r*l*g,this},toMat:function(e){var t=this.x+this.x,a=this.y+this.y,i=this.z+this.z,s=this.x*t,n=this.x*a,r=this.x*i,l=this.y*a,g=this.y*i,o=this.z*i,h=this.w*t,c=this.w*a,d=this.w*i;return e.self._00=1-(l+o),e.self._10=n-d,e.self._20=r+c,e.self._01=n+d,e.self._11=1-(s+o),e.self._21=g-h,e.self._02=r-c,e.self._12=g+h,e.self._22=1-(s+l),e.self._03=0,e.self._13=0,e.self._23=0,e.self._30=0,e.self._31=0,e.self._32=0,e.self._33=1,e},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},__class__:Ze};var ye=function(){this.markerEvents=null,this.lastFrameIndex=-1,this.blendAction="",this.blendCurrent=0,this.blendTime=0,this.paused=!1,this.onComplete=null,this.frameIndex=0,this.loop=!0,this.speed=1,this.time=0,this.action="",le.active.animations.push(this),this.frameTime=le.active.raw.frame_time,this.play()};s["iron.object.Animation"]=ye,ye.__name__=!0,ye.prototype={play:function(e,t,a,i,s){null==s&&(s=!0),null==i&&(i=1),null==a&&(a=0),null==e&&(e=""),a>0?(this.blendTime=a,this.blendCurrent=0,this.blendAction=this.action):this.frameIndex=-1,this.action=e,this.onComplete=t,this.speed=i,this.loop=s,this.paused=!1},remove:function(){l.remove(le.active.animations,this)},update:function(e){this.paused||(this.time+=e*this.speed,this.blendTime>0&&(this.blendCurrent+=e,this.blendCurrent>=this.blendTime&&(this.blendTime=0)))},rewind:function(e){this.frameIndex=this.speed>0?0:e.frames.length-1,this.time=e.frames[this.frameIndex]*this.frameTime},updateTrack:function(e){if(null!=e){var t=e.tracks[0];-1==this.frameIndex&&this.rewind(t);for(var a=this.speed>0?1:-1;;){var i=t.frames;if(!(this.speed>0?this.frameIndex+1<i.length&&this.time>i[this.frameIndex+1]*this.frameTime:this.frameIndex-1>-1&&this.time<i[this.frameIndex-1]*this.frameTime))break;this.frameIndex+=a}if(null!=this.markerEvents&&null!=e.marker_names&&this.frameIndex!=this.lastFrameIndex){for(var s=0,n=e.marker_frames.length;s<n;){var r=s++;if(this.frameIndex==e.marker_frames[r])for(var l=e.marker_names[r],g=this.markerEvents,o=null!=Wi[l]?g.getReserved(l):g.h[l],h=0;h<o.length;){var c=o[h];++h,c()}}this.lastFrameIndex=this.frameIndex}(this.speed>0?this.frameIndex>=t.frames.length-1:this.frameIndex<=0)&&(null!=this.onComplete&&0==this.blendTime&&this.onComplete(),this.loop||this.blendTime>0?this.rewind(t):(this.frameIndex-=a,this.paused=!0))}},updateAnimSampled:function(e,t){if(null!=e){var a=e.tracks[0],i=this.speed>0?1:-1,s=this.time,n=this.frameIndex,r=a.frames[n]*this.frameTime,l=(s-r)/(a.frames[n+i]*this.frameTime-r);ye.m1.setF32(a.values,16*n),ye.m2.setF32(a.values,16*(n+i)),ye.m1.decompose(ye.vpos,ye.q1,ye.vscl),ye.m2.decompose(ye.vpos2,ye.q2,ye.vscl2);var g=te.lerp(ye.vpos,ye.vpos2,1-l),o=te.lerp(ye.vscl,ye.vscl2,1-l),h=t;Ze.lerp(ye.q1,ye.q2,l).toMat(h),h.scale(o),h.self._30=g.x,h.self._31=g.y,h.self._32=g.z}},__class__:ye};var Ge=function(e){null==e&&(e=""),this.bm=ae.identity(),this.m2=ae.identity(),this.m1=ae.identity(),this.m=ae.identity(),this.boneChildren=null,this.skeletonMatsBlend=null,this.skeletonBonesBlend=null,this.skeletonMats=null,this.skeletonBones=null,ye.call(this),this.isSampled=!1;for(var t=0,a=le.active.armatures;t<a.length;){var i=a[t];if(++t,i.name==e){this.armature=i;break}}};s["iron.object.BoneAnimation"]=Ge,Ge.__name__=!0,Ge.__super__=ye,Ge.prototype=a(ye.prototype,{setSkin:function(e){var t=this;if(this.object=e,this.data=null!=e?e.data:null,this.isSkinned=null!=this.data&&this.data.isSkinned,this.isSkinned){var a=8*Ge.skinMaxBones,i=new Array(a);this.skinBuffer=i;for(var s=0,n=this.skinBuffer.length;s<n;){var r=s++;this.skinBuffer[r]=0}var l=e.parent.raw.bone_actions;null!=l&&l.length>0&&he.getSceneRaw(l[0],function(e){t.play(e.name)})}},addBoneChild:function(e,t){null==this.boneChildren&&(this.boneChildren=new k);var a=this.boneChildren,i=null!=Wi[e]?a.getReserved(e):a.h[e];if(null==i){i=[];var s=this.boneChildren;null!=Wi[e]?s.setReserved(e,i):s.h[e]=i}i.push(t)},updateBoneChildren:function(e,t){var a=e.name,i=this.boneChildren,s=null!=Wi[a]?i.getReserved(a):i.h[a];if(null!=s)for(var n=0;n<s.length;){var r=s[n];++n;var l=r.transform;if(null==l.boneParent&&(l.boneParent=ae.identity()),null!=r.raw.parent_bone_tail){var g=r.raw.parent_bone_tail;l.boneParent.initTranslate(g[0],g[1],g[2]),l.boneParent.multmat2(t)}else l.boneParent.setFrom(t);l.buildMatrix()}},setAction:function(e){if(this.isSkinned){var t=this.data.geom.actions;this.skeletonBones=null!=Wi[e]?t.getReserved(e):t.h[e];var a=this.data.geom.mats;this.skeletonMats=null!=Wi[e]?a.getReserved(e):a.h[e]}else{this.armature.initMats();var i=this.armature.getAction(e);this.skeletonBones=i.bones,this.skeletonMats=i.mats}},setActionBlend:function(e){if(this.isSkinned){this.skeletonBonesBlend=this.skeletonBones,this.skeletonMatsBlend=this.skeletonMats;var t=this.data.geom.actions;this.skeletonBones=null!=Wi[e]?t.getReserved(e):t.h[e];var a=this.data.geom.mats;this.skeletonMats=null!=Wi[e]?a.getReserved(e):a.h[e]}else{this.armature.initMats();var i=this.armature.getAction(e);this.skeletonBones=i.bones,this.skeletonMats=i.mats}},play:function(e,t,a,i,s){null==s&&(s=!0),null==i&&(i=1),null==a&&(a=0),null==e&&(e=""),ye.prototype.play.call(this,e,t,a,i,s),""!=e&&(a>0?this.setActionBlend(e):this.setAction(e))},update:function(e){this.isSkinned||null!=this.skeletonBones||this.setAction(this.armature.actions[0].name),(null==this.object||this.object.visible&&!this.object.culled)&&null!=this.skeletonBones&&0!=this.skeletonBones.length&&(ye.prototype.update.call(this,e),this.paused||this.updateAnim())},updateAnim:function(){for(var e=0,t=this.skeletonBones;e<t.length;){var a=t[e];if(++e,null!=a.anim){this.updateTrack(a.anim);break}}for(var i=0,s=this.skeletonBones;i<s.length;){var n=s[i];++i,this.updateAnimSampled(n.anim,this.skeletonMats.h[n.__id__])}if(this.blendTime>0&&null!=this.skeletonBonesBlend){for(var r=0,l=this.skeletonBonesBlend;r<l.length;){var g=l[r];if(++r,null!=g.anim){this.updateTrack(g.anim);break}}for(var o=0,h=this.skeletonBonesBlend;o<h.length;){var c=h[o];++o,this.updateAnimSampled(c.anim,this.skeletonMatsBlend.h[c.__id__])}}this.isSkinned?this.updateSkinGpu():this.updateBonesOnly()},updateBonesOnly:function(){for(var e=0,t=this.skeletonBones;e<t.length;){var a=t[e];++e,this.m.setFrom(this.skeletonMats.h[a.__id__]),this.applyParent(this.m,a,this.skeletonMats),null!=this.boneChildren&&this.updateBoneChildren(a,this.m)}},applyParent:function(e,t,a){for(var i=t.parent;null!=i;){var s=a.h[i.__id__];null==s&&(s=ae.fromFloat32Array(i.transform.values),a.set(i,s)),e.multmat2(s),i=i.parent}},updateSkinGpu:function(){var e=this.skeletonBones,t=this.blendCurrent/this.blendTime;t=t*t*(3-2*t);for(var a=0,i=e.length;a<i;){var s=a++;if(this.bm.setFrom(this.data.geom.skinTransform),this.bm.multmat2(this.data.geom.skeletonTransformsI[s]),this.blendTime>0){var n=this.skeletonBonesBlend;this.m1.setFrom(this.skeletonMatsBlend.h[n[s].__id__]),this.applyParent(this.m1,n[s],this.skeletonMatsBlend),this.m2.setFrom(this.skeletonMats.h[e[s].__id__]),this.applyParent(this.m2,e[s],this.skeletonMats),this.m1.decompose(Ge.vpos,Ge.q1,Ge.vscl),this.m2.decompose(Ge.vpos2,Ge.q2,Ge.vscl2);var r=te.lerp(Ge.vpos,Ge.vpos2,1-t),l=te.lerp(Ge.vscl,Ge.vscl2,1-t);Ze.lerp(Ge.q1,Ge.q2,t).toMat(this.m),this.m.scale(l),this.m.self._30=r.x,this.m.self._31=r.y,this.m.self._32=r.z}else this.m.setFrom(this.skeletonMats.h[e[s].__id__]),this.applyParent(this.m,e[s],this.skeletonMats);this.bm.multmat2(this.m),null!=this.boneChildren&&this.updateBoneChildren(e[s],this.m),this.bm.decompose(Ge.vpos,Ge.q1,Ge.vscl),Ge.q1.normalize(),Ge.q2.set(Ge.vpos.x,Ge.vpos.y,Ge.vpos.z,0),Ge.q2.multquats(Ge.q2,Ge.q1),Ge.q2.x*=.5,Ge.q2.y*=.5,Ge.q2.z*=.5,Ge.q2.w*=.5,this.skinBuffer[8*s]=Ge.q1.x,this.skinBuffer[8*s+1]=Ge.q1.y,this.skinBuffer[8*s+2]=Ge.q1.z,this.skinBuffer[8*s+3]=Ge.q1.w,this.skinBuffer[8*s+4]=Ge.q2.x,this.skinBuffer[8*s+5]=Ge.q2.y,this.skinBuffer[8*s+6]=Ge.q2.z,this.skinBuffer[8*s+7]=Ge.q2.w}},__class__:Ge});var We=function(){this.isEmpty=!1,this.culledShadow=!1,this.culledMesh=!1,this.culled=!1,this.visibleShadow=!0,this.visibleMesh=!0,this.visible=!0,this.animation=null,this.lods=null,this.children=[],this.parent=null,this.traits=[],this.constraints=null,this.name="",this.raw=null,this.uid=We.uidCounter++,this.urandom=We.seededRandom(),this.transform=new Fe(this),this.isEmpty=at.getClass(this)==We,this.isEmpty&&null!=le.active&&le.active.empties.push(this)};s["iron.object.Object"]=We,We.__name__=!0,We.seededRandom=function(){return We.seed=(9301*We.seed+49297)%233280,We.seed/233280},We.prototype={addChild:function(e,t){null==t&&(t=!1),e.parent!=this&&(this.children.push(e),e.parent=this,t&&e.transform.applyParentInverse())},remove:function(){for(this.isEmpty&&null!=le.active&&l.remove(le.active.empties,this),null!=this.animation&&this.animation.remove();this.children.length>0;)this.children[0].remove();for(;this.traits.length>0;)this.traits[0].remove();null!=this.parent&&(l.remove(this.parent.children,this),this.parent=null)},getChild:function(e){if(this.name==e)return this;for(var t=0,a=this.children;t<a.length;){var i=a[t];++t;var s=i.getChild(e);if(null!=s)return s}return null},addTrait:function(e){if(this.traits.push(e),e.object=this,null!=e._add){for(var t=0,a=e._add;t<a.length;){var i=a[t];++t,i()}e._add=null}},removeTrait:function(e){if(null!=e._init){for(var t=0,a=e._init;t<a.length;){var i=a[t];++t,$.removeInit(i)}e._init=null}if(null!=e._update){for(var s=0,n=e._update;s<n.length;){var r=n[s];++s,$.removeUpdate(r)}e._update=null}if(null!=e._lateUpdate){for(var g=0,o=e._lateUpdate;g<o.length;){var h=o[g];++g,$.removeLateUpdate(h)}e._lateUpdate=null}if(null!=e._render){for(var c=0,d=e._render;c<d.length;){var I=d[c];++c,$.removeRender(I)}e._render=null}if(null!=e._render2D){for(var u=0,C=e._render2D;u<C.length;){var m=C[u];++u,$.removeRender2D(m)}e._render2D=null}if(null!=e._remove){for(var p=0,b=e._remove;p<b.length;){var f=b[p];++p,f()}e._remove=null}l.remove(this.traits,e),e.object=null},setupAnimation:function(e){null!=e&&(this.animation=new Ye(this,e))},__class__:We};var Se=function(e){if(this.frustumPlanes=null,this.prevV=null,We.call(this),this.data=e,this.nearPlane=e.raw.near_plane,this.farPlane=e.raw.far_plane,this.buildProjection(),this.V=ae.identity(),this.VP=ae.identity(),e.raw.frustum_culling){this.frustumPlanes=[];for(var t=0;t<6;){t++;this.frustumPlanes.push(new ze)}}le.active.cameras.push(this)};s["iron.object.CameraObject"]=Se,Se.__name__=!0,Se.buildViewFrustum=function(e,t){var a=t[0],i=e.self._33+e.self._30;a.normal.set(e.self._03+e.self._00,e.self._13+e.self._10,e.self._23+e.self._20),a.constant=i;var s=t[1],n=e.self._33-e.self._30;s.normal.set(e.self._03-e.self._00,e.self._13-e.self._10,e.self._23-e.self._20),s.constant=n;var r=t[2],l=e.self._33-e.self._31;r.normal.set(e.self._03-e.self._01,e.self._13-e.self._11,e.self._23-e.self._21),r.constant=l;var g=t[3],o=e.self._33+e.self._31;g.normal.set(e.self._03+e.self._01,e.self._13+e.self._11,e.self._23+e.self._21),g.constant=o;var h=t[4],c=e.self._32;h.normal.set(e.self._02,e.self._12,e.self._22),h.constant=c;var d=t[5],I=e.self._33-e.self._32;d.normal.set(e.self._03-e.self._02,e.self._13-e.self._12,e.self._23-e.self._22),d.constant=I;for(var u=0;u<t.length;){var C=t[u];++u,C.normalize()}},Se.sphereInFrustum=function(e,t,a,i,s,n){null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),null==a&&(a=1);for(var r=t.radius*a,l=0;l<e.length;){var g=e[l];if(++l,Se.sphereCenter.set(t.world.self._30+i,t.world.self._31+s,t.world.self._32+n),g.distanceToSphere(Se.sphereCenter,r)+2*r<0)return!1}return!0},Se.__super__=We,Se.prototype=a(We.prototype,{buildProjection:function(){if("perspective"==this.data.raw.type){var e=null!=this.data.raw.aspect?this.data.raw.aspect:_t.windowWidth()/_t.windowHeight();this.P=ae.perspective(this.data.raw.fov,e,this.nearPlane,this.farPlane)}else"orthographic"==this.data.raw.type&&(this.P=ae.orthogonal(-10,10,-6,6,-this.farPlane,this.farPlane))},remove:function(){l.remove(le.active.cameras,this),We.prototype.remove.call(this)},renderFrame:function(e){this.buildMatrix(),null==this.prevV&&(this.prevV=ae.identity(),this.prevV.setFrom(this.V)),ie.active.renderFrame(e),this.prevV.setFrom(this.V)},buildMatrix:function(){this.transform.buildMatrix();var e=this.transform.world.getScale();Se.temp.set(1/e.x,1/e.y,1/e.z),this.transform.world.scale(Se.temp),this.V.getInverse(this.transform.world),this.VP.multmats(this.P,this.V),this.data.raw.frustum_culling&&Se.buildViewFrustum(this.VP,this.frustumPlanes)},__class__:Se});var ze=function(){this.constant=0,this.normal=new te(1,0,0)};s["iron.object.FrustumPlane"]=ze,ze.__name__=!0,ze.prototype={normalize:function(){var e=this.normal,t=1/Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);this.normal.mult(t),this.constant*=t},distanceToSphere:function(e,t){return this.normal.dot(e)+this.constant-t},__class__:ze};var Ne=function(e){this.target=null,this.raw=e};s["iron.object.Constraint"]=Ne,Ne.__name__=!0,Ne.prototype={apply:function(e){null==this.target&&null!=this.raw.target&&(this.target=le.active.getChild(this.raw.target).transform),"COPY_LOCATION"==this.raw.type&&(this.raw.use_x&&(e.world.self._30=this.target.loc.x,this.raw.use_offset&&(e.world.self._30+=e.loc.x)),this.raw.use_y&&(e.world.self._31=this.target.loc.y,this.raw.use_offset&&(e.world.self._31+=e.loc.y)),this.raw.use_z&&(e.world.self._32=this.target.loc.z,this.raw.use_offset&&(e.world.self._32+=e.loc.z)))},__class__:Ne};var Ve=function(e){We.call(this),this.material=e,le.active.decals.push(this)};s["iron.object.DecalObject"]=Ve,Ve.__name__=!0,Ve.__super__=We,Ve.prototype=a(We.prototype,{remove:function(){null!=le.active&&l.remove(le.active.decals,this),We.prototype.remove.call(this)},__class__:Ve});var Ke=function(e){this.frustumPlanes=null,this.VP=ae.identity(),this.P=null,this.V=ae.identity(),this.camSlicedP=null,We.call(this),this.data=e;var t=e.raw.type,a=e.raw.fov;if("sun"==t){if(null==Ke.corners){Ke.corners=[];for(var i=0;i<8;){i++;Ke.corners.push(new te)}}this.P=ae.identity()}else"point"==t||"area"==t?this.P=ae.perspective(a,1,e.raw.near_plane,e.raw.far_plane):"spot"==t&&(this.P=ae.perspective(a,1,e.raw.near_plane,e.raw.far_plane));le.active.lamps.push(this)};s["iron.object.LampObject"]=Ke,Ke.__name__=!0,Ke.setCorners=function(){Ke.corners[0].set(-1,-1,1),Ke.corners[1].set(-1,-1,-1),Ke.corners[2].set(-1,1,1),Ke.corners[3].set(-1,1,-1),Ke.corners[4].set(1,-1,1),Ke.corners[5].set(1,-1,-1),Ke.corners[6].set(1,1,1),Ke.corners[7].set(1,1,-1)},Ke.__super__=We,Ke.prototype=a(We.prototype,{remove:function(){null!=le.active&&l.remove(le.active.lamps,this),We.prototype.remove.call(this)},buildMatrices:function(e){this.transform.buildMatrix(),"sun"==this.data.raw.type?this.setCascade(e,0):(this.V.getInverse(this.transform.world),this.updateViewFrustum(e))},setCascade:function(e,t){if(Ke.m.setFrom(e.V),null==this.camSlicedP){var a=e.data.raw.fov,i=this.data.raw.near_plane,s=this.data.raw.far_plane,n=null!=e.data.raw.aspect?e.data.raw.aspect:_t.windowWidth()/_t.windowHeight();this.camSlicedP=ae.perspective(a,n,i,s)}Ke.m.multmat2(this.camSlicedP),Ke.m.getInverse(Ke.m),this.V.getInverse(this.transform.world),this.V.toRotation(),Ke.m.multmat2(this.V),Ke.setCorners();for(var r=0,l=Ke.corners;r<l.length;){var g=l[r];++r,g.applymat4(Ke.m),g.set(g.x/g.w,g.y/g.w,g.z/g.w)}for(var o=Ke.corners[0].x,h=Ke.corners[0].y,c=Ke.corners[0].z,d=Ke.corners[0].x,I=Ke.corners[0].y,u=Ke.corners[0].z,C=0,m=Ke.corners;C<m.length;){var p=m[C];++C,p.x<o&&(o=p.x),p.x>d&&(d=p.x),p.y<h&&(h=p.y),p.y>I&&(I=p.y),p.z<c&&(c=p.z),p.z>u&&(u=p.z)}var b=Ke.corners[0],f=Ke.corners[7],A=b.x-f.x,w=b.y-f.y,v=b.z-f.z,B=Math.sqrt(A*A+w*w+v*v),M=.5*(B-(d-o)),_=.5*(B-(I-h));o-=M,d+=M,h-=_,I+=_;var Z=this.data.raw.shadowmap_size,y=(d-o)/Z,G=(I-h)/Z,W=(u-c)/Z;o=Math.floor(o/y)*y,h=Math.floor(h/G)*G,c=Math.floor(c/W)*W;var S=((d=Math.floor(d/y)*y)-o)/2,z=((I=Math.floor(I/G)*G)-h)/2,N=((u=Math.floor(u/W)*W)-c)/2;this.V.self._30=-(o+S),this.V.self._31=-(h+z),this.V.self._32=-(c+N),Ke.m=ae.orthogonal(-S,S,-z,z,4*-N,N),this.P.setFrom(Ke.m),this.updateViewFrustum(e)},updateViewFrustum:function(e){if(this.VP.multmats(this.P,this.V),e.data.raw.frustum_culling){if(null==this.frustumPlanes){this.frustumPlanes=[];for(var t=0;t<6;){t++;this.frustumPlanes.push(new ze)}}Se.buildViewFrustum(this.VP,this.frustumPlanes)}},setCubeFace:function(e,t){switch(Ke.p1.set(this.transform.world.self._30,this.transform.world.self._31,this.transform.world.self._32),Ke.p2.setFrom(Ke.p1),e){case 0:Ke.p2.addf(1,0,0),Ke.p3.set(0,-1,0);break;case 1:Ke.p2.addf(-1,0,0),Ke.p3.set(0,-1,0);break;case 2:Ke.p2.addf(0,1,0),Ke.p3.set(0,0,1);break;case 3:Ke.p2.addf(0,-1,0),Ke.p3.set(0,0,-1);break;case 4:Ke.p2.addf(0,0,1),Ke.p3.set(0,-1,0);break;case 5:Ke.p2.addf(0,0,-1),Ke.p3.set(0,-1,0)}this.V.setLookAt(Ke.p1,Ke.p2,Ke.p3),this.updateViewFrustum(t)},__class__:Ke});var ke=function(e,t){this.tilesheet=null,this.frustumCulling=!0,this.screenSize=0,this.particleIndex=-1,this.particleOwner=null,this.particleChildren=null,this.particleSystems=null,this.data=null,We.call(this),this.setData(e),this.materials=t,le.active.meshes.push(this)};s["iron.object.MeshObject"]=ke,ke.__name__=!0,ke.__super__=We,ke.prototype=a(We.prototype,{setData:function(e){this.data=e,e.refcount++;e.geom.build()},remove:function(){if(null!=this.particleSystems){for(var e=0,t=this.particleSystems;e<t.length;){var a=t[e];++e,a.remove()}this.particleSystems=null}null!=this.tilesheet&&this.tilesheet.remove(),null!=le.active&&l.remove(le.active.meshes,this),this.data.refcount--,We.prototype.remove.call(this)},setupAnimation:function(e){if(null!=this.parent&&null!=this.parent.raw&&null!=this.parent.raw.bone_actions){for(var t=this.parent.name,a=0,i=le.active.animations;a<i.length;){var s=i[a];if(++a,null!=s.armature&&s.armature.name==t){this.animation=s;break}}null==this.animation&&(this.animation=new Ge(t));var n=at.__cast(this.animation,Ge);this.data.isSkinned?n.setSkin(this):null!=this.raw.parent_bone&&n.addBoneChild(this.raw.parent_bone,this)}We.prototype.setupAnimation.call(this,e)},setupParticleSystem:function(e,t){null==this.particleSystems&&(this.particleSystems=[]);var a=new Xe(e,t);this.particleSystems.push(a)},setupTilesheet:function(e,t,a){this.tilesheet=new xe(e,t,a)},setCulled:function(e,t){return e?this.culledShadow=t:this.culledMesh=t,this.culled=this.culledMesh&&this.culledShadow,t},cullMaterial:function(e,t){var a=this.materials;if((null==this.raw||null==this.raw.lod_material||1!=this.raw.lod_material)&&null==a[0].getContext(e))return!0;var i="shadowmap"==e;return this.visibleMesh||i?!this.visibleShadow&&i?this.setCulled(i,!0):this.skipContext(e)?this.setCulled(i,!0):this.setCulled(i,!1):this.setCulled(i,!0)},cullMesh:function(e,t,a){if(t.data.raw.frustum_culling&&this.frustumCulling){var i=this.data.isSkinned?2:1;null==this.particleSystems&&null==this.particleOwner||(i*=1e3),"voxel"==e&&(i*=100);var s="shadowmap"==e,n=s?a.frustumPlanes:t.frustumPlanes;if(s&&"sun"!=a.data.raw.type&&(a.transform.radius=a.data.raw.far_plane,!Se.sphereInFrustum(t.frustumPlanes,a.transform)))return this.setCulled(s,!0);if(this.data.geom.instanced){for(var r=!1,l=0,g=this.data.geom.offsetVecs;l<g.length;){var o=g[l];if(++l,Se.sphereInFrustum(n,this.transform,i,o.x,o.y,o.z)){r=!0;break}}if(!r)return this.setCulled(s,!0)}else if(!Se.sphereInFrustum(n,this.transform,i))return this.setCulled(s,!0)}return this.culled=!1,this.culled},skipContext:function(e){for(var t=0,a=this.materials;t<a.length;){var i=a[t];if(++t,null!=i.raw.skip_context&&i.raw.skip_context==e)return!0}return!1},getContexts:function(e,t,a,i){for(var s=0;s<t.length;){var n=t[s];++s;for(var r=0,g=n.raw.contexts.length;r<g;){var o=r++;if(l.substr(n.raw.contexts[o].name,0,e.length)==e){a.push(n.contexts[o]),i.push(n.shader.getContext(e));break}}}},render:function(e,t,a,i,s){if(null!=this.data&&this.data.geom.ready&&this.visible&&!this.cullMaterial(t,a)&&!(this.cullMesh(t,a,i)||null!=this.raw&&this.raw.is_particle&&null==this.particleOwner)){var n=null!=this.raw&&"mesh"==t;if(null!=this.particleSystems&&n){if(null==this.particleChildren){this.particleChildren=[];for(var r=0,l=this.particleSystems;r<l.length;){var g=l[r];++r;var o=le.active.getChild(g.data.raw.dupli_object);this.particleChildren.push(o),null!=o&&(o.particleOwner=this,o.particleIndex=this.particleChildren.length-1,o.transform=this.transform)}}for(var h=0,c=this.particleSystems.length;h<c;){var d=h++;this.particleSystems[d].update(this.particleChildren[d],this)}}null!=this.tilesheet&&this.tilesheet.update();var I=this.materials,u=this;if(null!=this.raw&&null!=this.raw.lods&&this.raw.lods.length>0){var C=this.transform,m=C.dim.x*C.scale.x*C.dim.y*C.scale.y*C.dim.z*C.scale.z;if(this.screenSize=m*(1/this.cameraDistance),this.screenSize=this.screenSize>1?1:this.screenSize,null==this.lods){this.lods=[];for(var p=0,b=this.raw.lods;p<b.length;){var f=b[p];++p,""==f.object_ref?this.lods.push(null):this.lods.push(le.active.getChild(f.object_ref))}}for(var A=0,w=this.raw.lods.length;A<w;){var v=A++;if(this.screenSize>this.raw.lods[v].screen_size)break;u=this.lods[v],null!=this.raw&&null!=this.raw.lod_material&&1==this.raw.lod_material&&(I=u.materials)}if(null==u)return}if(null==this.raw||null==this.raw.lod_material||1!=this.raw.lod_material||null!=I[0].getContext(t)){var B=[],M=[];this.getContexts(t,I,B,M),this.transform.update();var _=u.data;_.geom.instanced?e.setVertexBuffers([_.geom.vertexBuffer,_.geom.instancedVB]):e.setVertexBuffer(_.geom.vertexBuffer);for(var Z=0,y=_.geom.indexBuffers.length;Z<y;){var G=Z++,W=_.geom.materialIndices[G];M.length<=W||(e.setIndexBuffer(_.geom.indexBuffers[G]),e.setPipeline(M[W].pipeState),je.setConstants(e,M[W],this,a,i,s),B.length>W&&je.setMaterialConstants(e,M[W],B[W]),_.geom.instanced?e.drawIndexedVerticesInstanced(_.geom.instanceCount):e.drawIndexedVertices())}}}},__class__:ke});var Ye=function(e,t){this.object=e,this.oactions=t,this.isSkinned=!1,ye.call(this)};s["iron.object.ObjectAnimation"]=Ye,Ye.__name__=!0,Ye.__super__=ye,Ye.prototype=a(ye.prototype,{getAction:function(e){for(var t=0,a=this.oactions;t<a.length;){var i=a[t];if(++t,i.objects[0].name==e)return i.objects[0]}return null},play:function(e,t,a,i,s){null==s&&(s=!0),null==i&&(i=1),null==a&&(a=0),null==e&&(e=""),ye.prototype.play.call(this,e,t,a,i,s),""==this.action&&(this.action=this.oactions[0].objects[0].name),this.oaction=this.getAction(this.action),null!=this.oaction&&(this.isSampled=null!=this.oaction.sampled&&this.oaction.sampled)},update:function(e){this.object.visible&&!this.object.culled&&(ye.prototype.update.call(this,e),this.paused||this.isSkinned||this.updateObjectAnim())},updateObjectAnim:function(){if(this.isSampled){this.updateTrack(this.oaction.anim),this.updateAnimSampled(this.oaction.anim,this.object.transform.world),this.object.transform.world.decompose(this.object.transform.loc,this.object.transform.rot,this.object.transform.scale);for(var e=0,t=this.object.children;e<t.length;){var a=t[e];++e,a.transform.buildMatrix()}}else this.updateAnimNonSampled(this.oaction.anim,this.object.transform),this.object.transform.buildMatrix()},interpolateLinear:function(e,t,a){return(e-t)/(a-t)},interpolateBezier:function(e,t,a){var i=(e-t)/(a-t);return i=i*i*(3-2*i)},updateAnimNonSampled:function(e,t){if(null!=e){var a=e.end*this.frameTime-e.begin*this.frameTime;if(e.has_delta){var s=t;null==s.dloc&&(s.dloc=new te,s.drot=new Ze,s.dscale=new te),s.dloc.set(0,0,0),s.dscale.set(0,0,0),s._deulerX=s._deulerY=s._deulerZ=0}for(var n=0,r=e.tracks;n<r.length;){var l=r[n];++n,-1==this.frameIndex&&this.rewind(l);for(var g=this.speed>0?1:-1,o=this.time+e.begin*this.frameTime;;){var h=l.frames;if(!(this.speed>0?this.frameIndex<h.length-2&&o>h[this.frameIndex+1]*this.frameTime:this.frameIndex>1&&o>h[this.frameIndex-1]*this.frameTime))break;this.frameIndex+=g}if(!(this.frameIndex>=l.frames.length)){if(this.time>a&&(null!=this.onComplete&&this.onComplete(),this.rewind(l),this.paused))return;var c=this.frameIndex,d=l.frames[c]*this.frameTime,I=l.frames[c+g]*this.frameTime,u=i(this,this.interpolateLinear);switch(l.curve){case"bezier":u=i(this,this.interpolateBezier);break;case"linear":u=i(this,this.interpolateLinear)}var C=u(o,d,I),m=1-C,p=l.values[c]*m+l.values[c+g]*C;switch(l.target){case"dxloc":t.dloc.x=p;break;case"dxrot":t._deulerX=p;break;case"dxscl":t.dscale.x=p;break;case"dyloc":t.dloc.y=p;break;case"dyrot":t._deulerY=p;break;case"dyscl":t.dscale.y=p;break;case"dzloc":t.dloc.z=p;break;case"dzrot":t._deulerZ=p;break;case"dzscl":t.dscale.z=p;break;case"xloc":t.loc.x=p;break;case"xrot":t.setRotation(p,t._eulerY,t._eulerZ);break;case"xscl":t.scale.x=p;break;case"yloc":t.loc.y=p;break;case"yrot":t.setRotation(t._eulerX,p,t._eulerZ);break;case"yscl":t.scale.y=p;break;case"zloc":t.loc.z=p;break;case"zrot":t.setRotation(t._eulerX,t._eulerY,p);break;case"zscl":t.scale.z=p}}}}},__class__:Ye});var Xe=function(e,t){this.m=ae.identity(),this.lapTime=0,this.lap=0,this.count=0,this.emitFrom=null,this.seed=0,this.spawnRate=0,this.time=0,this.animtime=0,this.lifetime=0,this.frameRate=24;var a=this;this.seed=t.seed,this.particles=[],this.ready=!1,he.getParticle(e,t.particle,function(e){a.data=e,a.r=a.data.raw,a.gx=le.active.raw.gravity[0]*a.r.weight_gravity,a.gy=le.active.raw.gravity[1]*a.r.weight_gravity,a.gz=le.active.raw.gravity[2]*a.r.weight_gravity,a.alignx=a.r.object_align_factor[0]/2,a.aligny=a.r.object_align_factor[1]/2,a.alignz=a.r.object_align_factor[2]/2,a.lifetime=a.r.lifetime/a.frameRate,a.animtime=(a.r.frame_end-a.r.frame_start)/a.frameRate,a.spawnRate=(a.r.frame_end-a.r.frame_start)/a.r.count/a.frameRate;for(var t=0,i=a.r.count;t<i;){var s=t++;a.particles.push(new De(s))}a.ready=!0})};s["iron.object.ParticleSystem"]=Xe,Xe.__name__=!0,Xe.prototype={getData:function(){return this.m.self._00=this.r.loop?this.animtime:-this.animtime,this.m.self._01=this.spawnRate,this.m.self._02=this.lifetime,this.m.self._03=this.particles.length,this.m.self._10=this.alignx,this.m.self._11=this.aligny,this.m.self._12=this.alignz,this.m.self._13=this.r.factor_random,this.m.self._20=this.gx*this.r.mass,this.m.self._21=this.gy*this.r.mass,this.m.self._22=this.gz*this.r.mass,this.m.self._23=this.r.lifetime_random,this.m.self._30=this.tilesx,this.m.self._31=this.tilesy,this.m.self._32=1/this.tilesFramerate,this.m.self._33=this.lapTime,this.m},update:function(e,t){this.ready&&(this.dimx=e.transform.dim.x,this.dimy=e.transform.dim.y,null!=e.tilesheet&&(this.tilesx=e.tilesheet.raw.tilesx,this.tilesy=e.tilesheet.raw.tilesy,this.tilesFramerate=e.tilesheet.raw.framerate),this.time+=.016666666666666666*$e.scale,this.lap=this.time/this.animtime|0,this.lapTime=this.time-this.lap*this.animtime,this.count=this.lapTime/this.spawnRate|0,this.r.gpu_sim?this.updateGpu(e,t):this.updateCpu(e,t))},updateGpu:function(e,t){e.data.geom.instanced||this.setupGeomGpu(e,t)},updateCpu:function(e,t){if(e.data.geom.instanced||this.setupGeomCpu(e,t),0==this.r.type)for(var a=0,i=this.particles;a<i.length;){var s=i[a];++a,this.computePos(s,e,this.particles.length,this.lap,this.count)}for(var n=e.data.geom.instancedVB.lock(),r=0,l=this.particles.length;r<l;){var g=r++,o=this.particles[g],h=o.x,c=o.y,d=o.z;h+=this.emitFrom[3*g],c+=this.emitFrom[3*g+1],d+=this.emitFrom[3*g+2],n[3*g]=h,n[3*g+1]=c,n[3*g+2]=d}e.data.geom.instancedVB.unlock()},computePos:function(e,t,a,i,s){var n=e.i,r=this.lapTime-e.i*this.spawnRate;if(r-=r*this.fhash(n)*this.r.lifetime_random,this.r.loop)for(;r<0;)r+=this.animtime;r<0||r>this.lifetime?e.x=e.y=e.z=-99999:1==this.r.physics_type&&this.computeNewton(e,n,r)},computeNewton:function(e,t,a){e.x=this.alignx,e.y=this.aligny,e.z=this.alignz;var i=this.particles.length;e.x+=this.fhash(e.i+0*i)*this.r.factor_random-this.r.factor_random/2,e.y+=this.fhash(e.i+i)*this.r.factor_random-this.r.factor_random/2,e.z+=this.fhash(e.i+2*i)*this.r.factor_random-this.r.factor_random/2,e.x+=this.gx*this.r.mass*a/5,e.y+=this.gy*this.r.mass*a/5,e.z+=this.gz*this.r.mass*a/5,e.x*=a,e.y*=a,e.z*=a},setupGeomGpu:function(e,t){var a=new Ni(3*this.particles.length),i=0;if(0==this.r.emit_from)for(var s=t.data.geom.positions,n=0,r=this.particles;n<r.length;){r[n];++n;var l=this.fhash(i)*(s.length/3)|0;a[i]=s[3*l],a[++i]=s[3*l+1],a[++i]=s[3*l+2],++i}else for(var g=0,o=this.particles;g<o.length;){o[g];++g,a[i]=(2*Math.random()-1)*(e.transform.dim.x/2),a[++i]=(2*Math.random()-1)*(e.transform.dim.y/2),a[++i]=(2*Math.random()-1)*(e.transform.dim.z/2),++i}1!=this.r.particle_size&&e.data.geom.applyScale(this.r.particle_size,this.r.particle_size,this.r.particle_size),e.data.geom.setupInstanced(a,Ta.StaticUsage)},setupGeomCpu:function(e,t){for(var a=new Ni(3*this.particles.length),i=0,s=0,n=this.particles;s<n.length;){n[s];++s,a[i]=0,a[++i]=0,a[++i]=0,++i}1!=this.r.particle_size&&e.data.geom.applyScale(this.r.particle_size,this.r.particle_size,this.r.particle_size),e.data.geom.setupInstanced(a,Ta.DynamicUsage);var r=new Ni(3*this.particles.length);if(this.emitFrom=r,i=0,0==this.r.emit_from)for(var l=t.data.geom.positions,g=0,o=this.particles;g<o.length;){o[g];++g;var h=this.fhash(i)*(l.length/3)|0;this.emitFrom[i]=l[3*h],++i,this.emitFrom[i]=l[3*h+1],++i,this.emitFrom[i]=l[3*h+2],++i}else for(var c=0,d=this.particles;c<d.length;){d[c];++c,this.emitFrom[i]=(2*Math.random()-1)*(e.transform.dim.x/2),++i,this.emitFrom[i]=(2*Math.random()-1)*(e.transform.dim.y/2),++i,this.emitFrom[i]=(2*Math.random()-1)*(e.transform.dim.z/2),++i}},fhash:function(e){var t=e+1;return t*=9301%t,(t=(9301*t+49297)%233280)/233280},remove:function(){},__class__:Xe};var De=function(e){this.z=0,this.y=0,this.x=0,this.i=e};s["iron.object.Particle"]=De,De.__name__=!0,De.prototype={__class__:De};var He=function(e){this.sound=null;var t=this;We.call(this),this.data=e,le.active.speakers.push(this),""!=e.sound&&he.getSound(e.sound,function(e){t.sound=e,t.visible&&le.active.notifyOnInit(i(t,t.play))})};s["iron.object.SpeakerObject"]=He,He.__name__=!0,He.__super__=We,He.prototype=a(We.prototype,{play:function(){null==this.sound||this.data.muted||Le.play(this.sound,this.data.loop)},remove:function(){null!=le.active&&l.remove(le.active.speakers,this),We.prototype.remove.call(this)},__class__:He});var xe=function(e,t,a){this.onActionComplete=null,this.time=0,this.frame=0,this.paused=!1,this.action=null,this.tileY=0,this.tileX=0;var i=this;this.ready=!1,he.getSceneRaw(e,function(e){for(var s=0,n=e.tilesheet_datas;s<n.length;){var r=n[s];if(++s,r.name==t){i.raw=r,i.play(a),i.ready=!0;break}}})};s["iron.object.Tilesheet"]=xe,xe.__name__=!0,xe.prototype={play:function(e,t){this.onActionComplete=t;for(var a=0,i=this.raw.actions;a<i.length;){var s=i[a];if(++a,s.name==e){this.action=s;break}}this.setFrame(this.action.start),this.paused=!1},remove:function(){},update:function(){!this.ready||this.paused||this.action.start>=this.action.end||(this.time+=.016666666666666666*$e.scale,this.time>=1/this.raw.framerate&&this.setFrame(this.frame+1))},setFrame:function(e){this.frame=e,this.time=0;var t=this.frame%this.raw.tilesx,a=this.frame/this.raw.tilesx|0;this.tileX=t*(1/this.raw.tilesx),this.tileY=a*(1/this.raw.tilesy),this.frame>=this.action.end&&this.action.start<this.action.end&&(null!=this.onActionComplete&&this.onActionComplete(),this.action.loop?this.setFrame(this.action.start):this.paused=!0)},__class__:xe};var Fe=function(e){this.dscale=null,this.drot=null,this.dloc=null,this.boneParent=null,this.appendMats=null,this.prependMats=null,this.localOnly=!1,this.object=e,this.reset()};s["iron.object.Transform"]=Fe,Fe.__name__=!0,Fe.prototype={reset:function(){this.world=ae.identity(),this.local=ae.identity(),this.loc=new te,this.rot=new Ze,this.scale=new te(1,1,1),this.dim=new te(2,2,2),this.dirty=!0},update:function(){this.dirty&&(this.dirty=!1,this.buildMatrix())},composeDelta:function(){this.dloc.addvecs(this.loc,this.dloc),this.dscale.addvecs(this.dscale,this.scale),this.drot.fromEuler(this._deulerX,this._deulerY,this._deulerZ),this.drot.multquats(this.rot,this.drot),this.local.compose(this.dloc,this.drot,this.dscale)},buildMatrix:function(){if(null==this.dloc?this.local.compose(this.loc,this.rot,this.scale):this.composeDelta(),null!=this.prependMats){Fe.temp.setIdentity();for(var e=0,t=this.prependMats;e<t.length;){var a=t[e];++e,Fe.temp.multmat2(a)}Fe.temp.multmat2(this.local),this.local.setFrom(Fe.temp)}if(null!=this.appendMats)for(var i=0,s=this.appendMats;i<s.length;){var n=s[i];++i,this.local.multmat2(n)}if(null!=this.boneParent&&this.local.multmats(this.boneParent,this.local),null==this.object.parent||this.localOnly?this.world.setFrom(this.local):this.world.multmat3x4(this.local,this.object.parent.transform.world),null!=this.object.constraints)for(var r=0,l=this.object.constraints;r<l.length;){var g=l[r];++r,g.apply(this)}this.computeDim();for(var o=0,h=this.object.children;o<h.length;){var c=h[o];++o,c.transform.buildMatrix()}},decompose:function(){this.local.decompose(this.loc,this.rot,this.scale)},setRotation:function(e,t,a){this.rot.fromEuler(e,t,a),this.dirty=!0,this._eulerX=e,this._eulerY=t,this._eulerZ=a},computeRadius:function(){this.radius=Math.sqrt(this.dim.x*this.dim.x+this.dim.y*this.dim.y+this.dim.z*this.dim.z)},computeDim:function(){if(null!=this.object.raw){var e=this.object.raw.dimensions;null==e?this.dim.set(2*this.scale.x,2*this.scale.y,2*this.scale.z):this.dim.set(e[0]*this.scale.x,e[1]*this.scale.y,e[2]*this.scale.z),this.computeRadius()}},applyParentInverse:function(){var e=this.object.parent.transform;e.buildMatrix(),Fe.temp.getInverse(e.world),this.local.multmat2(Fe.temp),this.decompose(),this.buildMatrix()},__class__:Fe};var Te=function(e,t,a,i,s,n,r,l,g){this._00=e,this._10=t,this._20=a,this._01=i,this._11=s,this._21=n,this._02=r,this._12=l,this._22=g};s["kha.math.FastMatrix3"]=Te,Te.__name__=!0,Te.prototype={__class__:Te};var je=function(){};s["iron.object.Uniforms"]=je,je.__name__=!0,je.setConstants=function(e,t,a,i,s,n){if(null!=t.raw.constants)for(var r=0,g=t.raw.constants.length;r<g;){var o=r++,h=t.raw.constants[o];je.setConstant(e,a,i,s,t.constants[o],h)}if(null!=n)for(var c=0,d=n.length/2|0;c<d;){var I=2*c++,u=n[I],C=n[I+1],m=!1;if("_"==u.charAt(0)&&(m=!0),m&&(u=l.substr(u,1,null)),"shadowMap"==u&&null!=s&&s.data.raw.shadowmap_cube){var p=ie.active.renderTargets;je.bindRenderTarget(e,null!=Wi.arm_empty?p.getReserved("arm_empty"):p.h.arm_empty,t,C,m),u+="Cube",C+="Cube"}else{var b=ie.active.renderTargets;je.bindRenderTarget(e,null!=Wi.arm_empty_cube?b.getReserved("arm_empty_cube"):b.h.arm_empty_cube,t,C+"Cube",m)}var f;if(m){var A=ie.active.depthToRenderTarget;f=null!=Wi[u]?A.getReserved(u):A.h[u]}else{var w=ie.active.renderTargets;f=null!=Wi[u]?w.getReserved(u):w.h[u]}je.bindRenderTarget(e,f,t,C,m)}if(null!=t.raw.texture_units)for(var v=0,B=t.raw.texture_units.length;v<B;){var M=v++,_=t.raw.texture_units[M].link;if(null!=_){t.raw.texture_units[M].name;if("_envmapRadiance"==_){var Z=le.active.world;null!=Z&&(e.setTexture(t.textureUnits[M],Z.getGlobalProbe().radiance),e.setTextureParameters(t.textureUnits[M],Da.Repeat,Da.Repeat,Ha.LinearFilter,Ha.LinearFilter,Na.LinearMipFilter))}else if("_envmapBrdf"==_){var y=le.active.embedded;e.setTexture(t.textureUnits[M],null!=Wi["brdf.png"]?y.getReserved("brdf.png"):y.h["brdf.png"])}else if("_noise8"==_){var G=le.active.embedded;e.setTexture(t.textureUnits[M],null!=Wi["noise8.png"]?G.getReserved("noise8.png"):G.h["noise8.png"]),e.setTextureParameters(t.textureUnits[M],Da.Repeat,Da.Repeat,Ha.LinearFilter,Ha.LinearFilter,Na.NoMipFilter)}else if("_noise64"==_){var W=le.active.embedded;e.setTexture(t.textureUnits[M],null!=Wi["noise64.png"]?W.getReserved("noise64.png"):W.h["noise64.png"]),e.setTextureParameters(t.textureUnits[M],Da.Repeat,Da.Repeat,Ha.LinearFilter,Ha.LinearFilter,Na.NoMipFilter)}else if("_noise256"==_){var S=le.active.embedded;e.setTexture(t.textureUnits[M],null!=Wi["noise256.png"]?S.getReserved("noise256.png"):S.h["noise256.png"]),e.setTextureParameters(t.textureUnits[M],Da.Repeat,Da.Repeat,Ha.LinearFilter,Ha.LinearFilter,Na.NoMipFilter)}else if("_lampColorTexture"==_)null!=s&&(e.setTexture(t.textureUnits[M],s.data.colorTexture),e.setTextureParameters(t.textureUnits[M],Da.Repeat,Da.Repeat,Ha.LinearFilter,Ha.LinearFilter,Na.NoMipFilter));else if("_iesTexture"==_){var z=le.active.embedded;e.setTexture(t.textureUnits[M],null!=Wi["iestexture.png"]?z.getReserved("iestexture.png"):z.h["iestexture.png"]),e.setTextureParameters(t.textureUnits[M],Da.Repeat,Da.Repeat,Ha.LinearFilter,Ha.LinearFilter,Na.NoMipFilter)}else if("_sdfTexture"!=_&&null!=je.externalTextureLinks)for(var N=0,V=je.externalTextureLinks;N<V.length;){var K=V[N];++N;var k=K(_);if(null!=k){e.setTexture(t.textureUnits[M],k);break}}}}},je.bindRenderTarget=function(e,t,a,i,s){if(null!=t)for(var n=a.raw.texture_units,r=0,l=n.length;r<l;){var g=r++;i==n[g].name&&(null!=n[g].is_image&&n[g].is_image||(t.isCubeMap?s?e.setCubeMapDepth(a.textureUnits[g],t.cubeMap):e.setCubeMap(a.textureUnits[g],t.cubeMap):s?e.setTextureDepth(a.textureUnits[g],t.image):e.setTexture(a.textureUnits[g],t.image)),t.raw.mipmaps&&null==n[g].params_set&&(n[g].params_set=!0,e.setTextureParameters(a.textureUnits[g],Da.Clamp,Da.Clamp,Ha.LinearFilter,Ha.LinearFilter,Na.LinearMipFilter)))}},je.setConstant=function(e,t,a,i,s,n){if(null!=n.link)if("mat4"==n.type){var r=null;if("_worldMatrix"==n.link)r=t.transform.world;else if("_inverseWorldMatrix"==n.link)je.helpMat.getInverse(t.transform.world),r=je.helpMat;else if("_viewMatrix"==n.link)r=a.V;else if("_transposeInverseViewMatrix"==n.link)je.helpMat.setFrom(a.V),je.helpMat.getInverse(je.helpMat),je.helpMat.transpose(),r=je.helpMat;else if("_inverseViewMatrix"==n.link)je.helpMat.getInverse(a.V),r=je.helpMat;else if("_transposeViewMatrix"==n.link)je.helpMat.setFrom(a.V),je.helpMat.transpose3x3(),r=je.helpMat;else if("_projectionMatrix"==n.link)r=a.P;else if("_inverseProjectionMatrix"==n.link)je.helpMat.getInverse(a.P),r=je.helpMat;else if("_inverseViewProjectionMatrix"==n.link)je.helpMat.setFrom(a.V),je.helpMat.multmat2(a.P),je.helpMat.getInverse(je.helpMat),r=je.helpMat;else if("_worldViewProjectionMatrix"==n.link)je.helpMat.setFrom(t.transform.world),je.helpMat.multmat2(a.V),je.helpMat.multmat2(a.P),r=je.helpMat;else if("_worldViewProjectionMatrixSphere"==n.link)je.helpMat.setFrom(t.transform.world),je.helpMat.multmat2(a.V),je.helpMat.self._00=1,je.helpMat.self._10=0,je.helpMat.self._20=0,je.helpMat.self._01=0,je.helpMat.self._11=1,je.helpMat.self._21=0,je.helpMat.self._02=0,je.helpMat.self._12=0,je.helpMat.self._22=1,je.helpMat.multmat2(a.P),r=je.helpMat;else if("_worldViewProjectionMatrixCylinder"==n.link)je.helpMat.setFrom(t.transform.world),je.helpMat.multmat2(a.V),je.helpMat.self._00=1,je.helpMat.self._20=0,je.helpMat.self._01=0,je.helpMat.self._21=0,je.helpMat.self._02=0,je.helpMat.self._22=1,je.helpMat.multmat2(a.P),r=je.helpMat;else if("_worldViewMatrix"==n.link)je.helpMat.setFrom(t.transform.world),je.helpMat.multmat2(a.V),r=je.helpMat;else if("_viewProjectionMatrix"==n.link)r=a.VP;else if("_prevViewProjectionMatrix"==n.link)je.helpMat.setFrom(a.prevV),je.helpMat.multmat2(a.P),r=je.helpMat;else if("_lampWorldViewProjectionMatrix"==n.link)null!=i&&(null==t?je.helpMat.setIdentity():je.helpMat.setFrom(t.transform.world),je.helpMat.multmat2(i.VP),r=je.helpMat);else if("_lampWorldViewProjectionMatrixSphere"==n.link)null!=i&&(je.helpMat.setFrom(t.transform.world),je.helpMat.multmat2(a.V),je.helpMat.self._00=1,je.helpMat.self._10=0,je.helpMat.self._20=0,je.helpMat.self._01=0,je.helpMat.self._11=1,je.helpMat.self._21=0,je.helpMat.self._02=0,je.helpMat.self._12=0,je.helpMat.self._22=1,je.helpMat2.getInverse(a.V),je.helpMat.multmat2(je.helpMat2),je.helpMat.multmat2(i.VP),r=je.helpMat);else if("_lampWorldViewProjectionMatrixCylinder"==n.link)null!=i&&(je.helpMat.setFrom(t.transform.world),je.helpMat.multmat2(a.V),je.helpMat.self._00=1,je.helpMat.self._20=0,je.helpMat.self._01=0,je.helpMat.self._21=0,je.helpMat.self._02=0,je.helpMat.self._22=1,je.helpMat2.getInverse(a.V),je.helpMat.multmat2(je.helpMat2),je.helpMat.multmat2(i.VP),r=je.helpMat);else if("_biasLampWorldViewProjectionMatrix"==n.link)null!=i&&(null==t?je.helpMat.setIdentity():je.helpMat.setFrom(t.transform.world),je.helpMat.multmat2(i.VP),je.helpMat.multmat2(je.biasMat),r=je.helpMat);else if("_lampViewProjectionMatrix"==n.link)null!=i&&(r=i.VP);else if("_biasLampViewProjectionMatrix"==n.link)null!=i&&(je.helpMat.setFrom(i.VP),je.helpMat.multmat2(je.biasMat),r=je.helpMat);else if("_lampVolumeWorldViewProjectionMatrix"==n.link){if(null!=i){var l=i.transform,g=i.data.raw.type;"spot"==g?(je.helpVec.set(l.world.self._30,l.world.self._31,l.world.self._32),je.helpVec2.set(i.data.raw.far_plane,2*i.data.raw.far_plane,2*i.data.raw.far_plane),je.helpMat.compose(je.helpVec,je.helpQuat,je.helpVec2)):"point"!=g&&"area"!=g||(je.helpVec.set(l.world.self._30,l.world.self._31,l.world.self._32),je.helpVec2.set(i.data.raw.far_plane,2*i.data.raw.far_plane,2*i.data.raw.far_plane),je.helpMat.compose(je.helpVec,je.helpQuat,je.helpVec2)),je.helpMat.multmat2(a.V),je.helpMat.multmat2(a.P),r=je.helpMat}}else if("_skydomeMatrix"==n.link){var o=a.transform;je.helpVec.set(o.world.self._30,o.world.self._31,o.world.self._32-3.5);var h=.95*a.farPlane;je.helpVec2.set(h,h,h),je.helpMat.compose(je.helpVec,je.helpQuat,je.helpVec2),je.helpMat.multmat2(a.V),je.helpMat.multmat2(a.P),r=je.helpMat}else if("_lampViewMatrix"==n.link)null!=i&&(r=i.V);else if("_lampProjectionMatrix"==n.link)null!=i&&(r=i.P);else if("_particleData"==n.link){var c=at.__cast(t,ke);null!=c.particleOwner&&(r=c.particleOwner.particleSystems[c.particleIndex].getData())}else if(null!=je.externalMat4Links)for(var d=0,I=je.externalMat4Links;d<I.length;){var u=I[d];if(++d,null!=(r=u(n.link)))break}if(null==r)return;e.setMatrix(s,r.self)}else if("mat3"==n.type){var C=null;if("_normalMatrix"==n.link&&(je.helpMat.setFrom(t.transform.world),je.helpMat.getInverse(je.helpMat),je.helpMat.transpose3x3(),je.helpMat3.setFrom4(je.helpMat),C=je.helpMat3),null==C)return;e.setMatrix3(s,C.self)}else if("vec4"==n.type){var m=null;if(je.helpVec.set(0,0,0),"_input"==n.link)je.helpVec.set(Qe.getMouse().x/_t.windowWidth(),Qe.getMouse().y/_t.windowHeight(),Qe.getMouse().down()?1:0,0),m=je.helpVec;else if(null!=je.externalVec4Links)for(var p=0,b=je.externalVec4Links;p<b.length;){var f=b[p];if(++p,null!=(m=f(n.link)))break}if(null==m)return;e.setFloat4(s,m.x,m.y,m.z,m.w)}else if("vec3"==n.type){var A=null;if(je.helpVec.set(0,0,0),"_lampPosition"==n.link)null!=i&&je.helpVec.set(i.transform.world.self._30,i.transform.world.self._31,i.transform.world.self._32),A=je.helpVec;else if("_lampDirection"==n.link)null!=i&&(je.helpVec=new te(i.V.self._02,i.V.self._12,i.V.self._22)),A=je.helpVec;else if("_lampColor"==n.link){if(null!=i){var w=i.data.raw.strength;je.helpVec.set(i.data.raw.color[0]*w,i.data.raw.color[1]*w,i.data.raw.color[2]*w)}A=je.helpVec}else if("_lampColorVoxel"==n.link){if(null!=i){var v=i.data.raw.strength;je.helpVec.set(i.data.raw.color[0]*v,i.data.raw.color[1]*v,i.data.raw.color[2]*v)}A=je.helpVec}else if("_lampArea0"==n.link){if(null!=i&&null!=i.data.raw.size){var B=i.data.raw.size/2,M=i.data.raw.size_y/2;je.helpVec.set(-B,M,0),je.helpVec.applymat(i.transform.world),A=je.helpVec}}else if("_lampArea1"==n.link){if(null!=i&&null!=i.data.raw.size){var _=i.data.raw.size/2,Z=i.data.raw.size_y/2;je.helpVec.set(_,Z,0),je.helpVec.applymat(i.transform.world),A=je.helpVec}}else if("_lampArea2"==n.link){if(null!=i&&null!=i.data.raw.size){var y=i.data.raw.size/2,G=i.data.raw.size_y/2;je.helpVec.set(y,-G,0),je.helpVec.applymat(i.transform.world),A=je.helpVec}}else if("_lampArea3"==n.link){if(null!=i&&null!=i.data.raw.size){var W=i.data.raw.size/2,S=i.data.raw.size_y/2;je.helpVec.set(-W,-S,0),je.helpVec.applymat(i.transform.world),A=je.helpVec}}else if("_cameraPosition"==n.link)je.helpVec.set(a.transform.world.self._30,a.transform.world.self._31,a.transform.world.self._32),A=je.helpVec;else if("_cameraPositionSnap"!=n.link)if("_cameraLook"==n.link)je.helpVec=new te(-a.transform.world.self._20,-a.transform.world.self._21,-a.transform.world.self._22),A=je.helpVec;else if("_cameraUp"==n.link)je.helpVec=new te(a.transform.world.self._10,a.transform.world.self._11,a.transform.world.self._12),A=je.helpVec;else if("_cameraRight"==n.link)je.helpVec=new te(a.transform.world.self._00,a.transform.world.self._01,a.transform.world.self._02),A=je.helpVec;else if("_backgroundCol"==n.link)je.helpVec.set(a.data.raw.clear_color[0],a.data.raw.clear_color[1],a.data.raw.clear_color[2]),A=je.helpVec;else if("_probeVolumeCenter"==n.link)A=le.active.world.getProbeVolumeCenter(t.transform);else if("_probeVolumeSize"==n.link)A=le.active.world.getProbeVolumeSize(t.transform);else if(null!=je.externalVec3Links)for(var z=0,N=je.externalVec3Links;z<N.length;){var V=N[z];if(++z,null!=(A=V(n.link)))break}if(null==A)return;e.setFloat3(s,A.x,A.y,A.z)}else if("vec2"==n.type){var K=0,k=0;if("_vec2x"==n.link)K=1;else if("_vec2xInv"==n.link)K=1/ie.active.currentW;else if("_vec2x2"==n.link)K=2;else if("_vec2x2Inv"==n.link)K=2/ie.active.currentW;else if("_vec2y"==n.link)k=1;else if("_vec2yInv"==n.link)k=1/ie.active.currentH;else if("_vec2y2"==n.link)k=2;else if("_vec2y2Inv"==n.link)k=2/ie.active.currentH;else if("_vec2y3"==n.link)k=3;else if("_vec2y3Inv"==n.link)k=3/ie.active.currentH;else if("_windowSize"==n.link)K=_t.windowWidth(),k=_t.windowHeight();else if("_windowSizeInv"==n.link)K=1/_t.windowWidth(),k=1/_t.windowHeight();else if("_screenSize"==n.link)K=ie.active.currentW,k=ie.active.currentH;else if("_screenSizeInv"==n.link)K=1/ie.active.currentW,k=1/ie.active.currentH;else if("_aspectRatio"==n.link)K=ie.active.currentH/ie.active.currentW,k=ie.active.currentW/ie.active.currentH,K=K>1?1:K,k=k>1?1:k;else if("_cameraPlane"==n.link)K=a.data.raw.near_plane,k=a.data.raw.far_plane;else if("_cameraPlaneProj"==n.link){var Y=a.data.raw.near_plane,X=a.data.raw.far_plane;K=X/(X-Y),k=-X*Y/(X-Y)}else if("_lampPlane"==n.link)K=null==i?0:i.data.raw.near_plane,k=null==i?0:i.data.raw.far_plane;else if("_lampPlaneProj"==n.link){if(null!=i){var D=i.data.raw.near_plane,H=i.data.raw.far_plane,x=H-D;K=(H+D)/x,k=2*H*D/x}}else if("_spotlampData"==n.link)K=null==i?0:i.data.raw.spot_size,k=null==i?0:K-i.data.raw.spot_blend;else if("_tilesheetOffset"==n.link){var F=at.__cast(t,ke).tilesheet;K=F.tileX,k=F.tileY}else if(null!=je.externalVec2Links)for(var T=0,j=je.externalVec2Links;T<j.length;){var R=j[T];++T;var L=R(n.link);if(null!=L){K=L.x,k=L.y;break}}e.setFloat2(s,K,k)}else if("float"==n.type){var Q=0;if("_time"==n.link)Q=wt.time();else if("_deltaTime"==n.link)Q=.016666666666666666*$e.scale;else if("_lampRadius"==n.link)Q=null==i?0:i.data.raw.far_plane;else if("_lampShadowsBias"==n.link)Q=null==i?0:i.data.raw.shadows_bias;else if("_lampSize"==n.link)null!=i&&null!=i.data.raw.lamp_size&&(Q=i.data.raw.lamp_size);else if("_lampSizeUV"==n.link)null!=i&&null!=i.data.raw.lamp_size&&(Q=i.data.raw.lamp_size/i.data.raw.fov);else if("_envmapStrength"==n.link)Q=null==le.active.world?0:le.active.world.getGlobalProbe().raw.strength;else if("_probeStrength"==n.link)Q=le.active.world.getProbeStrength(t.transform);else if("_probeBlending"==n.link)Q=le.active.world.getProbeBlending(t.transform);else if("_aspectRatioF"==n.link)Q=ie.active.currentW/ie.active.currentH;else if("_aspectRatioWindowF"==n.link)Q=_t.windowWidth()/_t.windowHeight();else if("_objectInfoIndex"==n.link)Q=t.uid;else if("_objectInfoMaterialIndex"==n.link)Q=null!=ie.active.currentMaterial?ie.active.currentMaterial.uid:at.__cast(t,ke).materials[0].uid;else if("_objectInfoRandom"==n.link)Q=t.urandom;else if(null!=je.externalFloatLinks)for(var O=0,E=je.externalFloatLinks;O<E.length;){var J=E[O];++O;var U=J(n.link);if(null!=U){Q=U;break}}e.setFloat(s,Q)}else if("floats"==n.type){var P=null;if("_skinBones"==n.link)null!=t.animation&&(P=at.__cast(t.animation,Ge).skinBuffer);else if("_envmapIrradiance"==n.link)P=null==le.active.world?Be.getEmptyIrradiance():le.active.world.getSHIrradiance();else if(null!=je.externalFloatsLinks)for(var q=0,$=je.externalFloatsLinks;q<$.length;){var ee=$[q];if(++q,null!=(P=ee(n.link)))break}null!=P&&e.setFloats(s,P)}else if("int"==n.type){var ae=0;if("_uid"==n.link&&(ae=t.uid),"_lampType"==n.link)if(null==i)ae=0;else switch(i.data.raw.type){case"area":ae=3;break;case"point":ae=1;break;case"spot":ae=2;break;case"sun":ae=0;break;default:ae=0}else if("_lampIndex"==n.link)ae=ie.active.currentLampIndex;else if("_lampCastShadow"==n.link)null!=i&&i.data.raw.cast_shadow&&(ae=i.data.raw.shadowmap_cube?2:1);else if("_envmapNumMipmaps"==n.link){var se=le.active.world;ae=null!=se?se.getGlobalProbe().raw.radiance_mipmaps+1-2:1}else if(null!=je.externalIntLinks)for(var ne=0,re=je.externalIntLinks;ne<re.length;){var ge=re[ne];++ne;var oe=ge(n.link);if(null!=oe){ae=oe;break}}e.setInt(s,ae)}},je.setMaterialConstants=function(e,t,a){if(null!=a.raw.bind_constants)for(var i=0,s=a.raw.bind_constants.length;i<s;){for(var n=i++,r=a.raw.bind_constants[n],l=-1,g=0,o=t.raw.constants.length;g<o;){var h=g++;if(t.raw.constants[h].name==r.name){l=h;break}}if(-1!=l){var c=t.raw.constants[l];je.setMaterialConstant(e,t.constants[l],c,r)}}if(null!=a.textures)for(var d=0,I=a.textures.length;d<I;)for(var u=d++,C=a.raw.bind_textures[u].name,m=0,p=t.textureUnits.length;m<p;){var b=m++;if(C==t.raw.texture_units[b].name){e.setTexture(t.textureUnits[b],a.textures[u]),a.setTextureParameters(e,u,t,b);break}}},je.setMaterialConstant=function(e,t,a,i){switch(a.type){case"bool":e.setBool(t,i.bool);break;case"float":e.setFloat(t,i.float);break;case"int":e.setInt(t,i.int);break;case"vec2":e.setFloat2(t,i.vec2[0],i.vec2[1]);break;case"vec3":e.setFloat3(t,i.vec3[0],i.vec3[1],i.vec3[2]);break;case"vec4":e.setFloat4(t,i.vec4[0],i.vec4[1],i.vec4[2],i.vec4[3])}};var Re=function(){};s["iron.system.ArmPack"]=Re,Re.__name__=!0,Re.read=function(e){try{var t=e.readByte();switch(t){case 192:return null;case 194:return!1;case 195:return!0;case 196:return e.read(e.readByte());case 197:return e.read(e.readUInt16());case 198:return e.read(e.readInt32());case 202:return e.readFloat();case 203:return e.readDouble();case 204:return e.readByte();case 205:return e.readUInt16();case 206:return e.readInt32();case 208:return e.readInt8();case 209:return e.readInt16();case 210:return e.readInt32();case 217:return e.readString(e.readByte());case 218:return e.readString(e.readUInt16());case 219:return e.readString(e.readInt32());case 220:return Re.readArray(e,e.readUInt16());case 221:return Re.readArray(e,e.readInt32());case 222:return Re.readMap(e,e.readUInt16());case 223:return Re.readMap(e,e.readInt32());default:if(t<128)return t;if(t<144)return Re.readMap(e,15&t);if(t<160)return Re.readArray(e,15&t);if(t<192)return e.readString(31&t);if(t>223)return-256|t}}catch(e){if(e instanceof tt&&(e=e.val),!at.__instanceof(e,F))throw e}return null},Re.readArray=function(e,t){var a=e.readByte(),i=e,s=i.pos;if(i.set_position(s-1),202==a){var n=e,r=n.pos;n.set_position(r+1);for(var l=new Ni(t),g=0,o=t;g<o;)l[g++]=e.readFloat();return l}if(210==a){var h=e,c=h.pos;h.set_position(c+1);for(var d=new Uint32Array(t),I=0,u=t;I<u;)d[I++]=e.readInt32();return d}for(var C=[],m=0,p=t;m<p;){m++;C.push(Re.read(e))}return C},Re.readMap=function(e,t){for(var a={},i=0,s=t;i<s;){i++;var n=Re.read(e),r=Re.read(e);a[u.string(n)]=r}return a};var Le=function(){};s["iron.system.Audio"]=Le,Le.__name__=!0,Le.play=function(e,t){null==t&&(t=!1),zt.play(e,t)};var Qe=function(){};s["iron.system.Input"]=Qe,Qe.__name__=!0,Qe.endFrame=function(){null!=Qe.mouse&&Qe.mouse.endFrame(),null!=Qe.keyboard&&Qe.keyboard.endFrame();for(var e=0,t=Qe.gamepads;e<t.length;){var a=t[e];++e,a.endFrame()}if(null!=Qe.virtualButtons)for(var i=Qe.virtualButtons,s=new K(i,i.arrayKeys());s.hasNext();){var n=s.next();n.started=n.released=!1}},Qe.getMouse=function(){return null==Qe.mouse&&(Qe.mouse=new Je),Qe.mouse};var Oe=function(){this.down=!1,this.released=!1,this.started=!1};s["iron.system.VirtualButton"]=Oe,Oe.__name__=!0,Oe.prototype={__class__:Oe};var Ee=function(){this.virtualButtons=null};s["iron.system.VirutalInput"]=Ee,Ee.__name__=!0,Ee.prototype={downVirtual:function(e){if(null!=this.virtualButtons){var t=this.virtualButtons,a=null!=Wi[e]?t.getReserved(e):t.h[e];null!=a&&(a.down=!0,a.started=!0)}},upVirtual:function(e){if(null!=this.virtualButtons){var t=this.virtualButtons,a=null!=Wi[e]?t.getReserved(e):t.h[e];null!=a&&(a.down=!1,a.released=!0)}},__class__:Ee};var Je=function(){this.lastY=0,this.lastX=0,this.wheelDelta=0,this.movementY=0,this.movementX=0,this.moved=!1,this.y=0,this.x=0,this.buttonsReleased=[!1,!1,!1],this.buttonsStarted=[!1,!1,!1],this.buttonsDown=[!1,!1,!1],Ee.call(this),Pa.get().notify(i(this,this.downListener),i(this,this.upListener),i(this,this.moveListener),i(this,this.wheelListener))};s["iron.system.Mouse"]=Je,Je.__name__=!0,Je.__super__=Ee,Je.prototype=a(Ee.prototype,{endFrame:function(){var e=this.buttonsStarted[1]=this.buttonsStarted[2]=!1;this.buttonsStarted[0]=e;var t=this.buttonsReleased[1]=this.buttonsReleased[2]=!1;this.buttonsReleased[0]=t,this.moved=!1,this.movementX=0,this.movementY=0,this.wheelDelta=0},buttonIndex:function(e){return"left"==e?0:"right"==e?1:2},down:function(e){return null==e&&(e="left"),this.buttonsDown[this.buttonIndex(e)]},downListener:function(e,t,a){this.buttonsDown[e]=!0,this.buttonsStarted[e]=!0,this.x=t,this.y=a,this.downVirtual(Je.buttons[e])},upListener:function(e,t,a){this.buttonsDown[e]=!1,this.buttonsReleased[e]=!0,this.x=t,this.y=a,this.upVirtual(Je.buttons[e])},moveListener:function(e,t,a,i){this.movementX=e-this.lastX,this.movementY=t-this.lastY,this.lastX=e,this.lastY=t,this.x=e,this.y=t,this.moved=!0},wheelListener:function(e){this.wheelDelta=e},__class__:Je});var Ue=function(){this.keysFrame=[],this.keysReleased=new k,this.keysStarted=new k};s["iron.system.Keyboard"]=Ue,Ue.__name__=!0,Ue.__super__=Ee,Ue.prototype=a(Ee.prototype,{endFrame:function(){if(this.keysFrame.length>0){for(var e=0,t=this.keysFrame;e<t.length;){var a=t[e];++e;var i=this.keysStarted;null!=Wi[a]?i.setReserved(a,!1):i.h[a]=!1;var s=this.keysReleased;null!=Wi[a]?s.setReserved(a,!1):s.h[a]=!1}this.keysFrame.splice(0,this.keysFrame.length)}},__class__:Ue});var Pe=function(){this.movementY=0,this.movementX=0,this.moved=!1};s["iron.system.GamepadStick"]=Pe,Pe.__name__=!0,Pe.prototype={__class__:Pe};var qe=function(){this.rightStick=new Pe,this.leftStick=new Pe,this.buttonsFrame=[],this.buttonsReleased=[],this.buttonsStarted=[]};s["iron.system.Gamepad"]=qe,qe.__name__=!0,qe.__super__=Ee,qe.prototype=a(Ee.prototype,{endFrame:function(){if(this.buttonsFrame.length>0){for(var e=0,t=this.buttonsFrame;e<t.length;){var a=t[e];++e,this.buttonsStarted[a]=!1,this.buttonsReleased[a]=!1}this.buttonsFrame.splice(0,this.buttonsFrame.length)}this.leftStick.moved=!1,this.leftStick.movementX=0,this.leftStick.movementY=0,this.rightStick.moved=!1,this.rightStick.movementX=0,this.rightStick.movementY=0},__class__:qe});var $e=function(){};s["iron.system.Time"]=$e,$e.__name__=!0,$e.update=function(){$e.realDelta=wt.realTime()-$e.last,$e.last=wt.realTime()};var et=function(){};s["iron.system.Tween"]=et,et.__name__=!0,et.update=function(){for(var e=.016666666666666666*$e.scale,t=et.anims.length;t-- >0&&et.anims.length>0;){var a=et.anims[t];if(!(a.delay>0&&(a.delay-=e,a.delay>0))){if(a._time+=e,null!=a.target){at.__instanceof(a.target,Fe)&&(a.target.dirty=!0);for(var i=I.fields(a.props),s=0,n=i.length;s<n;){var r=s++,l=i[r],g=a._time/a.duration;if(g>1&&(g=1),1==a._comps[r]){var o=a._x[r],h=o+(I.getProperty(a.props,l)-o)*et.eases[a.ease](g);I.setProperty(a.target,l,h)}else{var c=I.getProperty(a.props,l),d=I.getProperty(c,"x"),u=I.getProperty(c,"y"),C=I.getProperty(c,"z"),m=I.getProperty(c,"w");a._normalize[r]&&a._x[r]*d+a._y[r]*u+a._z[r]*C+a._w[r]*m<0&&(d=-d,u=-u,C=-C,m=-m);var p=a._x[r]+(d-a._x[r])*et.eases[a.ease](g),b=a._y[r]+(u-a._y[r])*et.eases[a.ease](g),f=a._z[r]+(C-a._z[r])*et.eases[a.ease](g),A=a._w[r]+(m-a._w[r])*et.eases[a.ease](g);if(a._normalize[r]){var w=Math.sqrt(p*p+b*b+f*f+A*A);w>0&&(p*=w=1/w,b*=w,f*=w,A*=w)}var v=I.getProperty(a.target,l);I.setProperty(v,"x",p),I.setProperty(v,"y",b),I.setProperty(v,"z",f),I.setProperty(v,"w",A)}}}null!=a.tick&&a.tick(),a._time>=a.duration&&(et.anims.splice(t,1),--t,null!=a.done&&a.done())}}},et.easeLinear=function(e){return e},et.easeSineIn=function(e){return 0==e?0:1==e?1:1-Math.cos(e*Math.PI/2)},et.easeSineOut=function(e){return 0==e?0:1==e?1:Math.sin(e*(.5*Math.PI))},et.easeSineInOut=function(e){return 0==e?0:1==e?1:-.5*(Math.cos(Math.PI*e)-1)},et.easeQuadIn=function(e){return e*e},et.easeQuadOut=function(e){return-e*(e-2)},et.easeQuadInOut=function(e){return e<.5?2*e*e:--e*e*-2+1},et.easeCubicIn=function(e){return e*e*e},et.easeCubicOut=function(e){return--e*e*e+1},et.easeCubicInOut=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},et.easeQuartIn=function(e){return(e*=e)*e},et.easeQuartOut=function(e){return 1-(e=--e*e)*e},et.easeQuartInOut=function(e){return(e*=2)<1?.5*(e*=e)*e:-.5*((e=(e-=2)*e)*e-2)},et.easeQuintIn=function(e){return e*(e*=e)*e},et.easeQuintOut=function(e){return--e*(e*=e)*e+1},et.easeQuintInOut=function(e){return(e*=2)<1?.5*e*(e*=e)*e:.5*(e-=2)*(e*=e)*e+1},et.easeExpoIn=function(e){return 0==e?0:Math.pow(2,10*(e-1))},et.easeExpoOut=function(e){return 1==e?1:1-Math.pow(2,-10*e)},et.easeExpoInOut=function(e){return 0==e?0:1==e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},et.easeCircIn=function(e){return-(Math.sqrt(1-e*e)-1)},et.easeCircOut=function(e){return Math.sqrt(1-(e-1)*(e-1))},et.easeCircInOut=function(e){return e<=.5?(Math.sqrt(1-e*e*4)-1)/-2:(Math.sqrt(1-(2*e-2)*(2*e-2))+1)/2},et.easeBackIn=function(e){return 0==e?0:1==e?1:e*e*(2.70158*e-1.70158)},et.easeBackOut=function(e){return 0==e?0:1==e?1:--e*e*(2.70158*e+1.70158)+1},et.easeBackInOut=function(e){return 0==e?0:1==e?1:(e*=2)<1?e*e*(3.5949095*e-2.5949095)*.5:.5*((e-=2)*e*(3.5949095*e+2.5949095)+2)};var tt=function(e){Error.call(this),this.val=e,this.message=String(e),Error.captureStackTrace&&Error.captureStackTrace(this,tt)};s["js._Boot.HaxeError"]=tt,tt.__name__=!0,tt.wrap=function(e){return e instanceof Error?e:new tt(e)},tt.__super__=Error,tt.prototype=a(Error.prototype,{__class__:tt});var at=function(){};s["js.Boot"]=at,at.__name__=!0,at.__unhtml=function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},at.__trace=function(e,t){var a=null!=t?t.fileName+":"+t.lineNumber+": ":"";if(a+=at.__string_rec(e,""),null!=t&&null!=t.customParams)for(var i=0,s=t.customParams;i<s.length;){var n=s[i];++i,a+=","+at.__string_rec(n,"")}var r;"undefined"!=typeof document&&null!=(r=document.getElementById("haxe:trace"))?r.innerHTML+=at.__unhtml(a)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(a)},at.getClass=function(e){if(e instanceof Array&&null==e.__enum__)return Array;var t=e.__class__;if(null!=t)return t;var a=at.__nativeClassName(e);return null!=a?at.__resolveNativeClass(a):null},at.__string_rec=function(e,t){if(null==e)return"null";if(t.length>=5)return"<...>";var a=typeof e;switch("function"==a&&(e.__name__||e.__ename__)&&(a="object"),a){case"function":return"<function>";case"object":if(e instanceof Array){if(e.__enum__){if(2==e.length)return e[0];var i=e[0]+"(";t+="\t";for(var s=2,n=e.length;s<n;){var r=s++;i+=2!=r?","+at.__string_rec(e[r],t):at.__string_rec(e[r],t)}return i+")"}var l="[";t+="\t";for(var g=0,o=e.length;g<o;){var h=g++;l+=(h>0?",":"")+at.__string_rec(e[h],t)}return l+="]"}var c;try{c=e.toString}catch(e){return"???"}if(null!=c&&c!=Object.toString&&"function"==typeof c){var d=e.toString();if("[object Object]"!=d)return d}var I=null,u="{\n";t+="\t";var C=null!=e.hasOwnProperty;for(var I in e)C&&!e.hasOwnProperty(I)||"prototype"!=I&&"__class__"!=I&&"__super__"!=I&&"__interfaces__"!=I&&"__properties__"!=I&&(2!=u.length&&(u+=", \n"),u+=t+I+" : "+at.__string_rec(e[I],t));return t=t.substring(1),u+="\n"+t+"}";case"string":return e;default:return String(e)}},at.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var a=e.__interfaces__;if(null!=a)for(var i=0,s=a.length;i<s;){var n=a[i++];if(n==t||at.__interfLoop(n,t))return!0}return at.__interfLoop(e.__super__,t)},at.__instanceof=function(e,t){if(null==t)return!1;switch(t){case Array:return e instanceof Array&&null==e.__enum__;case Zi:return"boolean"==typeof e;case Mi:return!0;case _i:return"number"==typeof e;case Bi:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof t){if(e instanceof t)return!0;if(at.__interfLoop(at.getClass(e),t))return!0}else if("object"==typeof t&&at.__isNativeObj(t)&&e instanceof t)return!0;return t==yi&&null!=e.__name__||(t==Gi&&null!=e.__ename__||e.__enum__==t)}},at.__cast=function(e,t){if(at.__instanceof(e,t))return e;throw new tt("Cannot cast "+u.string(e)+" to "+u.string(t))},at.__nativeClassName=function(e){var t=at.__toStr.call(e).slice(8,-1);return"Object"==t||"Function"==t||"Math"==t||"JSON"==t?null:t},at.__isNativeObj=function(e){return null!=at.__nativeClassName(e)},at.__resolveNativeClass=function(e){return t[e]};var it=function(e){if(e instanceof Array&&null==e.__enum__)this.a=e,this.byteLength=e.length;else{var t=e;this.a=[];for(var a=0,i=t;a<i;){var s=a++;this.a[s]=0}this.byteLength=t}};s["js.html.compat.ArrayBuffer"]=it,it.__name__=!0,it.sliceImpl=function(e,t){var a=new Vi(this,e,null==t?null:t-e),i=new Si(a.byteLength);return new Vi(i).set(a),i},it.prototype={slice:function(e,t){return new it(this.a.slice(e,t))},__class__:it};var st=function(e,t,a){if(this.buf=e,this.offset=null==t?0:t,this.length=null==a?e.byteLength-this.offset:a,this.offset<0||this.length<0||this.offset+this.length>e.byteLength)throw new tt(T.OutsideBounds);this.byteLength=this.length,this.byteOffset=this.offset,this.buffer=this.buf};s["js.html.compat.DataView"]=st,st.__name__=!0,st.prototype={getInt8:function(e){var t=this.buf.a[this.offset+e];return t>=128?t-256:t},getUint8:function(e){return this.buf.a[this.offset+e]},getInt16:function(e,t){var a=this.getUint16(e,t);return a>=32768?a-65536:a},getUint16:function(e,t){return t?this.buf.a[this.offset+e]|this.buf.a[this.offset+e+1]<<8:this.buf.a[this.offset+e]<<8|this.buf.a[this.offset+e+1]},getInt32:function(e,t){var a=this.offset+e,i=this.buf.a[a++],s=this.buf.a[a++],n=this.buf.a[a++],r=this.buf.a[a++];return t?i|s<<8|n<<16|r<<24:r|n<<8|s<<16|i<<24},getUint32:function(e,t){var a=this.getInt32(e,t);return a<0?a+4294967296:a},getFloat32:function(e,t){return j.i32ToFloat(this.getInt32(e,t))},getFloat64:function(e,t){var a=this.getInt32(e,t),i=this.getInt32(e+4,t);return j.i64ToDouble(t?a:i,t?i:a)},setInt8:function(e,t){this.buf.a[e+this.offset]=t<0?t+128&255:255&t},setUint8:function(e,t){this.buf.a[e+this.offset]=255&t},setInt16:function(e,t,a){this.setUint16(e,t<0?t+65536:t,a)},setUint16:function(e,t,a){var i=e+this.offset;a?(this.buf.a[i]=255&t,this.buf.a[i++]=t>>8&255):(this.buf.a[i++]=t>>8&255,this.buf.a[i]=255&t)},setInt32:function(e,t,a){this.setUint32(e,t,a)},setUint32:function(e,t,a){var i=e+this.offset;a?(this.buf.a[i++]=255&t,this.buf.a[i++]=t>>8&255,this.buf.a[i++]=t>>16&255,this.buf.a[i++]=t>>>24):(this.buf.a[i++]=t>>>24,this.buf.a[i++]=t>>16&255,this.buf.a[i++]=t>>8&255,this.buf.a[i++]=255&t)},setFloat32:function(e,t,a){this.setUint32(e,j.floatToI32(t),a)},setFloat64:function(e,t,a){var i=j.doubleToI64(t);a?(this.setUint32(e,i.low),this.setUint32(e,i.high)):(this.setUint32(e,i.high),this.setUint32(e,i.low))},__class__:st};var nt=function(){};s["js.html.compat.Float32Array"]=nt,nt.__name__=!0,nt._new=function(e,t,a){var i;if("number"==typeof e){i=[];for(var s=0,n=e;s<n;)i[s++]=0;i.byteLength=i.length<<2,i.byteOffset=0;for(var r=[],l=0,g=i.length<<2;l<g;){l++;r.push(0)}i.buffer=new it(r)}else if(at.__instanceof(e,it)){var o=e;null==t&&(t=0),null==a&&(a=o.byteLength-t>>2),i=[];for(var h=0,c=a;h<c;){h++;var d=o.a[t++]|o.a[t++]<<8|o.a[t++]<<16|o.a[t++]<<24;i.push(j.i32ToFloat(d))}i.byteLength=i.length<<2,i.byteOffset=t,i.buffer=o}else{if(!(e instanceof Array&&null==e.__enum__))throw new tt("TODO "+u.string(e));i=e.slice();for(var I=[],C=0;C<i.length;){var m=i[C];++C;var p=j.floatToI32(m);I.push(255&p),I.push(p>>8&255),I.push(p>>16&255),I.push(p>>>24)}i.byteLength=i.length<<2,i.byteOffset=0,i.buffer=new it(I)}return i.subarray=nt._subarray,i.set=nt._set,i},nt._set=function(e,t){if(at.__instanceof(e.buffer,it)){var a=e;if(e.byteLength+t>this.byteLength)throw new tt("set() outside of range");for(var i=0,s=e.byteLength;i<s;){var n=i++;this[n+t]=a[n]}}else{if(!(e instanceof Array&&null==e.__enum__))throw new tt("TODO");var r=e;if(r.length+t>this.byteLength)throw new tt("set() outside of range");for(var l=0,g=r.length;l<g;){var o=l++;this[o+t]=r[o]}}},nt._subarray=function(e,t){var a=nt._new(this.slice(e,t));return a.byteOffset=4*e,a};var rt=function(){};s["js.html.compat.Uint8Array"]=rt,rt.__name__=!0,rt._new=function(e,t,a){var i;if("number"==typeof e){i=[];for(var s=0,n=e;s<n;)i[s++]=0;i.byteLength=i.length,i.byteOffset=0,i.buffer=new it(i)}else if(at.__instanceof(e,it)){var r=e;null==t&&(t=0),null==a&&(a=r.byteLength-t),(i=0==t?r.a:r.a.slice(t,t+a)).byteLength=i.length,i.byteOffset=t,i.buffer=r}else{if(!(e instanceof Array&&null==e.__enum__))throw new tt("TODO "+u.string(e));(i=e.slice()).byteLength=i.length,i.byteOffset=0,i.buffer=new it(i)}return i.subarray=rt._subarray,i.set=rt._set,i},rt._set=function(e,t){if(at.__instanceof(e.buffer,it)){var a=e;if(e.byteLength+t>this.byteLength)throw new tt("set() outside of range");for(var i=0,s=e.byteLength;i<s;){var n=i++;this[n+t]=a[n]}}else{if(!(e instanceof Array&&null==e.__enum__))throw new tt("TODO");var r=e;if(r.length+t>this.byteLength)throw new tt("set() outside of range");for(var l=0,g=r.length;l<g;){var o=l++;this[o+t]=r[o]}}},rt._subarray=function(e,t){var a=rt._new(this.slice(e,t));return a.byteOffset=e,a};var lt=function(){};s["kha.Canvas"]=lt,lt.__name__=!0,lt.prototype={__class__:lt,__properties__:{get_g4:"get_g4",get_height:"get_height",get_width:"get_width"}};var gt=function(){};s["kha.Resource"]=gt,gt.__name__=!0;var ot=function(){};s["kha.Image"]=ot,ot.__name__=!0,ot.__interfaces__=[gt,lt],ot.__properties__={get_nonPow2Supported:"get_nonPow2Supported"},ot.create=function(e,t,a,i){return null==a&&(a=xa.RGBA32),null==i&&(i=Ta.StaticUsage),null==yt.gl?new ht(e,t,a,!1):new Gt(e,t,a,!1,0)},ot.create3D=function(e,t,a,i,s){return null},ot.createRenderTarget=function(e,t,a,i,s,n){return null==n&&(n=0),null==s&&(s=1),null==i&&(i=0),null==a&&(a=xa.RGBA32),null==yt.gl?new ht(e,t,a,!0):new Gt(e,t,a,!0,i)},ot.fromImage=function(e,t){if(null==yt.gl){var a=new ht(e.width,e.height,xa.RGBA32,!1);return a.image=e,a.createTexture(),a}var i=new Gt(e.width,e.height,xa.RGBA32,!1,0);return i.image=e,i.createTexture(),i},ot.fromBytes=function(e,t,a,i,s){if(null==i&&(i=xa.RGBA32),null==s&&(s=Ta.StaticUsage),null!=yt.gl){var n=new Gt(t,a,i,!1,0);return n.image=n.bytesToArray(e),n.createTexture(),n}return null},ot.get_nonPow2Supported=function(){return null!=yt.gl},ot.prototype={unload:function(){},lock:function(e){return null==e&&(e=0),null},unlock:function(){},generateMipmaps:function(e){},setMipmaps:function(e){},setDepthStencilFrom:function(e){},get_width:function(){return 0},get_height:function(){return 0},get_depth:function(){return 1},get_g4:function(){return null},__class__:ot,__properties__:{get_g4:"get_g4",get_depth:"get_depth",get_height:"get_height",get_width:"get_width"}};var ht=function(e,t,a,i){this.myWidth=e,this.myHeight=t,this.format=a,this.renderTarget=i,this.image=null,this.video=null,i&&this.createTexture()};s["kha.CanvasImage"]=ht,ht.__name__=!0,ht.init=function(){var e=window.document.createElement("canvas");null!=e&&(ht.context=e.getContext("2d"),e.width=2048,e.height=2048,ht.context.globalCompositeOperation="copy")},ht.__super__=ot,ht.prototype=a(ot.prototype,{get_g4:function(){return null},get_width:function(){return this.myWidth},get_height:function(){return this.myHeight},get_realWidth:function(){return this.myWidth},get_realHeight:function(){return this.myHeight},createTexture:function(){null!=yt.gl&&(this.texture=yt.gl.createTexture(),yt.gl.bindTexture(3553,this.texture),yt.gl.texParameteri(3553,10240,9729),yt.gl.texParameteri(3553,10241,9729),yt.gl.texParameteri(3553,10242,33071),yt.gl.texParameteri(3553,10243,33071),this.renderTarget?(this.frameBuffer=yt.gl.createFramebuffer(),yt.gl.bindFramebuffer(36160,this.frameBuffer),yt.gl.texImage2D(3553,0,6408,this.get_realWidth(),this.get_realHeight(),0,6408,5121,null),yt.gl.framebufferTexture2D(36160,36064,3553,this.texture,0),yt.gl.bindFramebuffer(36160,null)):null!=this.video?yt.gl.texImage2D(3553,0,6408,6408,5121,this.video):yt.gl.texImage2D(3553,0,6408,6408,5121,this.image),yt.gl.bindTexture(3553,null))},lock:function(e){return null==e&&(e=0),this.bytes=new z(new Si(this.format==xa.RGBA32?4*this.get_width()*this.get_height():this.get_width()*this.get_height())),this.bytes},unlock:function(){if(null!=yt.gl){if(this.texture=yt.gl.createTexture(),yt.gl.bindTexture(3553,this.texture),yt.gl.texParameteri(3553,10240,9729),yt.gl.texParameteri(3553,10241,9729),yt.gl.texParameteri(3553,10242,33071),yt.gl.texParameteri(3553,10243,33071),yt.gl.texImage2D(3553,0,6409,this.get_width(),this.get_height(),0,6409,5121,new Vi(this.bytes.b.bufferValue)),1282==yt.gl.getError()){for(var e=new z(new Si(this.get_width()*this.get_height()*4)),t=0,a=this.get_height();t<a;)for(var i=t++,s=0,n=this.get_width();s<n;){var r=s++,l=this.bytes,g=i*this.get_width()+r,o=l.b[g],h=i*this.get_width()*4+4*r;e.b[h]=255&o;var c=i*this.get_width()*4+4*r+1;e.b[c]=255&o;var d=i*this.get_width()*4+4*r+2;e.b[d]=255&o;var I=i*this.get_width()*4+4*r+3;e.b[I]=255}yt.gl.texImage2D(3553,0,6408,this.get_width(),this.get_height(),0,6408,5121,new Vi(e.b.bufferValue))}yt.gl.bindTexture(3553,null),this.bytes=null}},unload:function(){this.image=null,this.video=null,this.data=null},__class__:ht});var ct=e.kha._Color.Color_Impl_={};s["kha._Color.Color_Impl_"]=ct,ct.__name__=!0,ct.fromBytes=function(e,t,a,i){return null==i&&(i=255),ct._new(i<<24|e<<16|t<<8|a)},ct._new=function(e){return e};var dt=function(){};s["kha.CompilerDefines"]=dt,dt.__name__=!0;var It=function(){};s["kha.DisplayImpl"]=It,It.__name__=!0,It.width=function(e){return window.screen.width},It.height=function(e){return window.screen.height};var ut=function(){};s["kha.EnvironmentVariables"]=ut,ut.__name__=!0,ut.prototype={__class__:ut};var Ct=function(e,t,a,i){this.windowId=e,this.graphics1=t,this.graphics2=a,this.graphics4=i};s["kha.Framebuffer"]=Ct,Ct.__name__=!0,Ct.__interfaces__=[lt],Ct.prototype={init:function(e,t,a){this.graphics1=e,this.graphics2=t,this.graphics4=a},get_g2:function(){return this.graphics2},get_g4:function(){return this.graphics4},get_width:function(){return _t.windowWidth(this.windowId)},get_height:function(){return _t.windowHeight(this.windowId)},__class__:Ct,__properties__:{get_height:"get_height",get_width:"get_width",get_g4:"get_g4",get_g2:"get_g2"}};var mt=function(e,t,a,i,s,n,r,l){this.mySize=e,this.width=s,this.height=n,this.chars=r,this.baseline=t;for(var g=0;g<r.length;){var o=r[g];++g,o.yoff+=this.baseline}this.texture=ot.create(s,n,xa.L8);for(var h=this.texture.lock(),c=0,d=0,I=n;d<I;){d++;for(var u=0,C=s;u<C;){u++;var m=l.readU8(c);h.b[c]=255&m,++c}}this.texture.unlock()};s["kha.KravurImage"]=mt,mt.__name__=!0,mt.prototype={getTexture:function(){return this.texture},getCharWidth:function(e){return e<32?0:e-32>=this.chars.length?0:this.chars[e-32].xadvance},getHeight:function(){return this.mySize},stringWidth:function(e){for(var t=new String(e),a=0,i=0,s=t.length;i<s;){var n=i++;a+=this.getCharWidth(l.cca(t,n))}return a},charactersWidth:function(e,t,a){for(var i=0,s=t,n=t+a;s<n;){var r=s++;i+=this.getCharWidth(e[r])}return i},getBaselinePosition:function(){return this.baseline},__class__:mt};var pt=function(e){this.images=new N,this.blob=e};s["kha.Kravur"]=pt,pt.__name__=!0,pt.__interfaces__=[gt],pt.prototype={_get:function(e,t){var a=null==t?e:1e4*e+t.length;if(!this.images.h.hasOwnProperty(a)){if(null==t){t=[];for(var i=32;i<256;){var s=i++;t.push(s)}}for(var n=64,r=32,l=t.length,g=new Array(l),o=0,h=g.length;o<h;)g[o++]=new ha;for(var c=null,d=-1;d<0;)r<n?r*=2:n*=2,c=ei.alloc(n*r),d=pa.stbtt_BakeFontBitmap(this.blob,0,e,c,n,r,t,g);var I=new ca;pa.stbtt_InitFont(I,this.blob,0);var u=pa.stbtt_GetFontVMetrics(I),C=pa.stbtt_ScaleForPixelHeight(I,e),m=Math.round(u.ascent*C),p=Math.round(u.descent*C),b=Math.round(u.lineGap*C),f=new mt(0|e,m,p,b,n,r,g,c);return this.images.h[a]=f,f}return this.images.h[a]},__class__:pt};var bt=function(){};s["kha.LoaderImpl"]=bt,bt.__name__=!0,bt.loadImageFromDescription=function(e,t){var a=Object.prototype.hasOwnProperty.call(e,"readable")&&e.readable;if(C.endsWith(e.files[0],".hdr"))bt.loadBlobFromDescription(e,function(e){var i=ti.parse(e.toBytes()),s=ot.fromBytes(z.ofData(i.data.buffer),i.width,i.height,xa.RGBA128,a?Ta.DynamicUsage:Ta.StaticUsage);t(s)});else{var i=window.document.createElement("img");i.onload=function(e){var s=ot.fromImage(i,a);t(s)},i.src=e.files[0],i.crossOrigin=""}},bt.loadSoundFromDescription=function(e,t){if(yt._hasWebAudio){if(""!=window.document.createElement("audio").canPlayType("audio/mp4"))for(var a=0,i=e.files.length;a<i;){var s=a++,n=e.files[s];if(C.endsWith(n,".mp4"))return void new ci(n,t)}for(var r=0,l=e.files.length;r<l;){var g=r++,o=e.files[g];if(C.endsWith(o,".ogg"))return void new ci(o,t)}}else if(yt.mobile){if(""!=window.document.createElement("audio").canPlayType("audio/mp4"))for(var h=0,c=e.files.length;h<c;){var d=h++,I=e.files[d];if(C.endsWith(I,".mp4"))return void new oi(I,t)}for(var u=0,m=e.files.length;u<m;){var p=u++,b=e.files[p];if(C.endsWith(b,".ogg"))return void new oi(b,t)}}else new hi(e.files,t)},bt.loadBlobFromDescription=function(e,t){var a=new XMLHttpRequest;a.open("GET",e.files[0],!0),a.responseType="arraybuffer",a.onreadystatechange=function(){if(4==a.readyState)if(a.status>=200&&a.status<400||0==a.status&&""==a.statusText){var i=null,s=a.response;if(null!=s){var n=new Vi(s);i=z.ofData(n)}else if(null!=a.responseBody){var r=VBArray(a.responseBody).toArray();i=new z(new Si(r.length));for(var l=0,g=r.length;l<g;){var o=l++;i.b[o]=255&r[o]}}else y.trace("Error loading "+e.files[0],{fileName:"LoaderImpl.hx",lineNumber:145,className:"kha.LoaderImpl",methodName:"loadBlobFromDescription"}),window.console.log("loadBlob failed");t(new ei(i))}else y.trace("Error loading "+e.files[0],{fileName:"LoaderImpl.hx",lineNumber:151,className:"kha.LoaderImpl",methodName:"loadBlobFromDescription"}),window.console.log("loadBlob failed")},a.send(null)};var ft=function(){};s["kha.TimeTask"]=ft,ft.__name__=!0,ft.prototype={__class__:ft};var At=function(){};s["kha.FrameTask"]=At,At.__name__=!0,At.prototype={__class__:At};var wt=function(){};s["kha.Scheduler"]=wt,wt.__name__=!0,wt.init=function(){wt.deltas=[];for(var e=0,t=wt.DIF_COUNT;e<t;){var a=e++;wt.deltas[a]=0}wt.stopped=!0,wt.frame_tasks_sorted=!0,wt.current=wt.lastTime=wt.realTime(),wt.currentFrameTaskId=0,wt.currentTimeTaskId=0,wt.currentGroupId=0,wt.timeTasks=[],wt.pausedTimeTasks=[],wt.outdatedTimeTasks=[],wt.timeTasksScratchpad=[],wt.frameTasks=[],wt.toDeleteFrame=[]},wt.start=function(e){null==e&&(e=!1),wt.vsync=_t.get_vsync();var t=_t.get_refreshRate();t>=57&&t<=63&&(t=60),wt.onedifhz=1/t,wt.stopped=!1,wt.resetTime(),wt.lastTime=wt.realTime()-wt.startTime;for(var a=0,i=wt.DIF_COUNT;a<i;){var s=a++;wt.deltas[s]=0}if(e){for(var n=0,r=wt.timeTasks;n<r.length;){var l=r[n];++n,l.paused=!1}for(var g=0,o=wt.frameTasks;g<o.length;){var h=o[g];++g,h.paused=!1}}},wt.executeFrame=function(){var e=wt.realTime()-wt.startTime-wt.lastTime,t=wt.current;if(!(e<0)){if(e>wt.maxframetime)wt.startTime+=e-wt.maxframetime,t+=e=wt.maxframetime;else if(wt.vsync){for(var a=wt.onedifhz;a<e-wt.onedifhz;)a+=wt.onedifhz;e=a;for(var i=0,s=wt.DIF_COUNT-2;i<s;){var n=i++;e+=wt.deltas[n],wt.deltas[n]=wt.deltas[n+1]}e+=wt.deltas[wt.DIF_COUNT-2],e/=wt.DIF_COUNT,wt.deltas[wt.DIF_COUNT-2]=a,t+=e}else{for(var r=0,g=wt.DIF_COUNT-1;r<g;){var o=r++;wt.deltas[o]=wt.deltas[o+1]}wt.deltas[wt.DIF_COUNT-1]=e;for(var h=0,c=0,d=wt.DIF_COUNT;c<d;){var I=c++;h+=wt.deltas[I]}t+=h/=wt.DIF_COUNT}wt.lastTime=t,wt.stopped||(wt.current=t);for(var u=0,C=wt.pausedTimeTasks;u<C.length;){var m=C[u];++u,m.next+=e}if(wt.stopped)for(var p=0,b=wt.timeTasks;p<b.length;){var f=b[p];++p,f.next+=e}for(;wt.timeTasks.length>0&&(wt.activeTimeTask=wt.timeTasks[0],wt.activeTimeTask.next<=t);)wt.activeTimeTask.next+=wt.activeTimeTask.period,l.remove(wt.timeTasks,wt.activeTimeTask),wt.activeTimeTask.active&&wt.activeTimeTask.task()?wt.activeTimeTask.period>0&&(0==wt.activeTimeTask.duration||wt.activeTimeTask.duration>=wt.activeTimeTask.start+wt.activeTimeTask.next)?wt.insertSorted(wt.timeTasks,wt.activeTimeTask):wt.archiveTimeTask(wt.activeTimeTask,t):(wt.activeTimeTask.active=!1,wt.archiveTimeTask(wt.activeTimeTask,t));wt.activeTimeTask=null,wt.sortFrameTasks();for(var A=0,w=wt.frameTasks;A<w.length;){var v=w[A];++A,wt.stopped||v.paused||!v.active||v.task()||(v.active=!1)}for(var B=0,M=wt.frameTasks;B<M.length;){var _=M[B];++B,_.active||wt.toDeleteFrame.push(_)}for(;wt.toDeleteFrame.length>0;)l.remove(wt.frameTasks,wt.toDeleteFrame.pop())}},wt.archiveTimeTask=function(e,t){},wt.time=function(){return wt.current},wt.realTime=function(){return _t.get_time()},wt.resetTime=function(){var e=_t.get_time(),t=e-wt.startTime;wt.startTime=e;for(var a=0,i=wt.timeTasks;a<i.length;){var s=i[a];++a,s.start-=t,s.next-=t}for(var n=0,r=wt.DIF_COUNT;n<r;){var l=n++;wt.deltas[l]=0}wt.current=0,wt.lastTime=0},wt.addBreakableTimeTaskToGroup=function(e,t,a,i,s){null==s&&(s=0),null==i&&(i=0);var n=new ft;return n.active=!0,n.task=t,n.id=++wt.currentTimeTaskId,n.groupId=e,n.start=wt.current+a,n.period=0,0!=i&&(n.period=i),n.duration=0,0!=s&&(n.duration=n.start+s),n.next=n.start,wt.insertSorted(wt.timeTasks,n),n.id},wt.addTimeTaskToGroup=function(e,t,a,i,s){return null==s&&(s=0),null==i&&(i=0),wt.addBreakableTimeTaskToGroup(e,function(){return t(),!0},a,i,s)},wt.addTimeTask=function(e,t,a,i){return null==i&&(i=0),null==a&&(a=0),wt.addTimeTaskToGroup(0,e,t,a,i)},wt.insertSorted=function(e,t){for(var a=0,i=e.length;a<i;){var s=a++;if(e[s].next>t.next)return void e.splice(s,0,t)}e.push(t)},wt.sortFrameTasks=function(){wt.frame_tasks_sorted||(wt.frameTasks.sort(function(e,t){return e.priority>t.priority?1:e.priority<t.priority?-1:0}),wt.frame_tasks_sorted=!0)};var vt=s["kha.ScreenRotation"]={__ename__:!0,__constructs__:["RotationNone","Rotation90","Rotation180","Rotation270"]};vt.RotationNone=["RotationNone",0],vt.RotationNone.toString=n,vt.RotationNone.__enum__=vt,vt.Rotation90=["Rotation90",1],vt.Rotation90.toString=n,vt.Rotation90.__enum__=vt,vt.Rotation180=["Rotation180",2],vt.Rotation180.toString=n,vt.Rotation180.__enum__=vt,vt.Rotation270=["Rotation270",3],vt.Rotation270.toString=n,vt.Rotation270.__enum__=vt;var Bt=function(){};s["kha.Shaders"]=Bt,Bt.__name__=!0,Bt.init=function(){for(var e=[],t=0;t<3;){var a=t++,i=I.field(Bt,"BotBody_armskin_mesh_fragData"+a),s=W.run(i);e.push(ei.fromBytes(s))}Bt.BotBody_armskin_mesh_frag=new Ma(e,["BotBody_armskin_mesh.frag.essl","BotBody_armskin_mesh-relaxed.frag.essl","BotBody_armskin_mesh-webgl2.frag.essl"]);for(var n=[],r=0;r<3;){var l=r++,g=I.field(Bt,"BotBody_armskin_mesh_vertData"+l),o=W.run(g);n.push(ei.fromBytes(o))}Bt.BotBody_armskin_mesh_vert=new Qa(n,["BotBody_armskin_mesh.vert.essl","BotBody_armskin_mesh-relaxed.vert.essl","BotBody_armskin_mesh-webgl2.vert.essl"]);for(var h=[],c=0;c<3;){var d=c++,u=I.field(Bt,"BotBody_armskin_shadowmap_fragData"+d),C=W.run(u);h.push(ei.fromBytes(C))}Bt.BotBody_armskin_shadowmap_frag=new Ma(h,["BotBody_armskin_shadowmap.frag.essl","BotBody_armskin_shadowmap-relaxed.frag.essl","BotBody_armskin_shadowmap-webgl2.frag.essl"]);for(var m=[],p=0;p<3;){var b=p++,f=I.field(Bt,"BotBody_armskin_shadowmap_vertData"+b),A=W.run(f);m.push(ei.fromBytes(A))}Bt.BotBody_armskin_shadowmap_vert=new Qa(m,["BotBody_armskin_shadowmap.vert.essl","BotBody_armskin_shadowmap-relaxed.vert.essl","BotBody_armskin_shadowmap-webgl2.vert.essl"]);for(var w=[],v=0;v<3;){var B=v++,M=I.field(Bt,"BotJoints_armskin_mesh_fragData"+B),_=W.run(M);w.push(ei.fromBytes(_))}Bt.BotJoints_armskin_mesh_frag=new Ma(w,["BotJoints_armskin_mesh.frag.essl","BotJoints_armskin_mesh-relaxed.frag.essl","BotJoints_armskin_mesh-webgl2.frag.essl"]);for(var Z=[],y=0;y<3;){var G=y++,S=I.field(Bt,"BotJoints_armskin_mesh_vertData"+G),z=W.run(S);Z.push(ei.fromBytes(z))}Bt.BotJoints_armskin_mesh_vert=new Qa(Z,["BotJoints_armskin_mesh.vert.essl","BotJoints_armskin_mesh-relaxed.vert.essl","BotJoints_armskin_mesh-webgl2.vert.essl"]);for(var N=[],V=0;V<3;){var K=V++,k=I.field(Bt,"BotJoints_armskin_shadowmap_fragData"+K),Y=W.run(k);N.push(ei.fromBytes(Y))}Bt.BotJoints_armskin_shadowmap_frag=new Ma(N,["BotJoints_armskin_shadowmap.frag.essl","BotJoints_armskin_shadowmap-relaxed.frag.essl","BotJoints_armskin_shadowmap-webgl2.frag.essl"]);for(var X=[],D=0;D<3;){var H=D++,x=I.field(Bt,"BotJoints_armskin_shadowmap_vertData"+H),F=W.run(x);X.push(ei.fromBytes(F))}Bt.BotJoints_armskin_shadowmap_vert=new Qa(X,["BotJoints_armskin_shadowmap.vert.essl","BotJoints_armskin_shadowmap-relaxed.vert.essl","BotJoints_armskin_shadowmap-webgl2.vert.essl"]);for(var T=[],j=0;j<3;){var R=j++,L=I.field(Bt,"Cube_mesh_fragData"+R),Q=W.run(L);T.push(ei.fromBytes(Q))}Bt.Cube_mesh_frag=new Ma(T,["Cube_mesh.frag.essl","Cube_mesh-relaxed.frag.essl","Cube_mesh-webgl2.frag.essl"]);for(var O=[],E=0;E<3;){var J=E++,U=I.field(Bt,"Cube_mesh_vertData"+J),P=W.run(U);O.push(ei.fromBytes(P))}Bt.Cube_mesh_vert=new Qa(O,["Cube_mesh.vert.essl","Cube_mesh-relaxed.vert.essl","Cube_mesh-webgl2.vert.essl"]);for(var q=[],$=0;$<3;){var ee=$++,te=I.field(Bt,"Cube_shadowmap_fragData"+ee),ae=W.run(te);q.push(ei.fromBytes(ae))}Bt.Cube_shadowmap_frag=new Ma(q,["Cube_shadowmap.frag.essl","Cube_shadowmap-relaxed.frag.essl","Cube_shadowmap-webgl2.frag.essl"]);for(var ie=[],se=0;se<3;){var ne=se++,re=I.field(Bt,"Cube_shadowmap_vertData"+ne),le=W.run(re);ie.push(ei.fromBytes(le))}Bt.Cube_shadowmap_vert=new Qa(ie,["Cube_shadowmap.vert.essl","Cube_shadowmap-relaxed.vert.essl","Cube_shadowmap-webgl2.vert.essl"]);for(var ge=[],oe=0;oe<3;){var he=oe++,ce=I.field(Bt,"Ground_mesh_fragData"+he),de=W.run(ce);ge.push(ei.fromBytes(de))}Bt.Ground_mesh_frag=new Ma(ge,["Ground_mesh.frag.essl","Ground_mesh-relaxed.frag.essl","Ground_mesh-webgl2.frag.essl"]);for(var Ie=[],ue=0;ue<3;){var Ce=ue++,me=I.field(Bt,"Ground_mesh_vertData"+Ce),pe=W.run(me);Ie.push(ei.fromBytes(pe))}Bt.Ground_mesh_vert=new Qa(Ie,["Ground_mesh.vert.essl","Ground_mesh-relaxed.vert.essl","Ground_mesh-webgl2.vert.essl"]);for(var be=[],fe=0;fe<3;){var Ae=fe++,we=I.field(Bt,"Ground_shadowmap_fragData"+Ae),ve=W.run(we);be.push(ei.fromBytes(ve))}Bt.Ground_shadowmap_frag=new Ma(be,["Ground_shadowmap.frag.essl","Ground_shadowmap-relaxed.frag.essl","Ground_shadowmap-webgl2.frag.essl"]);for(var Be=[],Me=0;Me<3;){var _e=Me++,Ze=I.field(Bt,"Ground_shadowmap_vertData"+_e),ye=W.run(Ze);Be.push(ei.fromBytes(ye))}Bt.Ground_shadowmap_vert=new Qa(Be,["Ground_shadowmap.vert.essl","Ground_shadowmap-relaxed.vert.essl","Ground_shadowmap-webgl2.vert.essl"]);for(var Ge=[],We=0;We<3;){var Se=We++,ze=I.field(Bt,"blur_edge_pass_fragData"+Se),Ne=W.run(ze);Ge.push(ei.fromBytes(Ne))}Bt.blur_edge_pass_frag=new Ma(Ge,["blur_edge_pass.frag.essl","blur_edge_pass-relaxed.frag.essl","blur_edge_pass-webgl2.frag.essl"]);for(var Ve=[],Ke=0;Ke<3;){var ke=Ke++,Ye=I.field(Bt,"blur_edge_pass_vertData"+ke),Xe=W.run(Ye);Ve.push(ei.fromBytes(Xe))}Bt.blur_edge_pass_vert=new Qa(Ve,["blur_edge_pass.vert.essl","blur_edge_pass-relaxed.vert.essl","blur_edge_pass-webgl2.vert.essl"]);for(var De=[],He=0;He<3;){var xe=He++,Fe=I.field(Bt,"compositor_pass_fragData"+xe),Te=W.run(Fe);De.push(ei.fromBytes(Te))}Bt.compositor_pass_frag=new Ma(De,["compositor_pass.frag.essl","compositor_pass-relaxed.frag.essl","compositor_pass-webgl2.frag.essl"]);for(var je=[],Re=0;Re<3;){var Le=Re++,Qe=I.field(Bt,"compositor_pass_vertData"+Le),Oe=W.run(Qe);je.push(ei.fromBytes(Oe))}Bt.compositor_pass_vert=new Qa(je,["compositor_pass.vert.essl","compositor_pass-relaxed.vert.essl","compositor_pass-webgl2.vert.essl"]);for(var Ee=[],Je=0;Je<3;){var Ue=Je++,Pe=I.field(Bt,"deferred_indirect_fragData"+Ue),qe=W.run(Pe);Ee.push(ei.fromBytes(qe))}Bt.deferred_indirect_frag=new Ma(Ee,["deferred_indirect.frag.essl","deferred_indirect-relaxed.frag.essl","deferred_indirect-webgl2.frag.essl"]);for(var $e=[],et=0;et<3;){var tt=et++,at=I.field(Bt,"deferred_indirect_vertData"+tt),it=W.run(at);$e.push(ei.fromBytes(it))}Bt.deferred_indirect_vert=new Qa($e,["deferred_indirect.vert.essl","deferred_indirect-relaxed.vert.essl","deferred_indirect-webgl2.vert.essl"]);for(var st=[],nt=0;nt<3;){var rt=nt++,lt=I.field(Bt,"deferred_light_fragData"+rt),gt=W.run(lt);st.push(ei.fromBytes(gt))}Bt.deferred_light_frag=new Ma(st,["deferred_light.frag.essl","deferred_light-relaxed.frag.essl","deferred_light-webgl2.frag.essl"]);for(var ot=[],ht=0;ht<3;){var ct=ht++,dt=I.field(Bt,"deferred_light_vertData"+ct),It=W.run(dt);ot.push(ei.fromBytes(It))}Bt.deferred_light_vert=new Qa(ot,["deferred_light.vert.essl","deferred_light-relaxed.vert.essl","deferred_light-webgl2.vert.essl"]);for(var ut=[],Ct=0;Ct<3;){var mt=Ct++,pt=I.field(Bt,"deferred_light_quad_fragData"+mt),bt=W.run(pt);ut.push(ei.fromBytes(bt))}Bt.deferred_light_quad_frag=new Ma(ut,["deferred_light_quad.frag.essl","deferred_light_quad-relaxed.frag.essl","deferred_light_quad-webgl2.frag.essl"]);for(var ft=[],At=0;At<3;){var wt=At++,vt=I.field(Bt,"deferred_light_quad_vertData"+wt),Mt=W.run(vt);ft.push(ei.fromBytes(Mt))}Bt.deferred_light_quad_vert=new Qa(ft,["deferred_light_quad.vert.essl","deferred_light_quad-relaxed.vert.essl","deferred_light_quad-webgl2.vert.essl"]);for(var _t=[],Zt=0;Zt<3;){var yt=Zt++,Gt=I.field(Bt,"ssao_pass_fragData"+yt),Wt=W.run(Gt);_t.push(ei.fromBytes(Wt))}Bt.ssao_pass_frag=new Ma(_t,["ssao_pass.frag.essl","ssao_pass-relaxed.frag.essl","ssao_pass-webgl2.frag.essl"]);for(var St=[],zt=0;zt<3;){var Nt=zt++,Vt=I.field(Bt,"ssao_pass_vertData"+Nt),Kt=W.run(Vt);St.push(ei.fromBytes(Kt))}Bt.ssao_pass_vert=new Qa(St,["ssao_pass.vert.essl","ssao_pass-relaxed.vert.essl","ssao_pass-webgl2.vert.essl"]);for(var kt=[],Yt=0;Yt<3;){var Xt=Yt++,Dt=I.field(Bt,"world_fragData"+Xt),Ht=W.run(Dt);kt.push(ei.fromBytes(Ht))}Bt.world_frag=new Ma(kt,["world.frag.essl","world-relaxed.frag.essl","world-webgl2.frag.essl"]);for(var xt=[],Ft=0;Ft<3;){var Tt=Ft++,jt=I.field(Bt,"world_vertData"+Tt),Rt=W.run(jt);xt.push(ei.fromBytes(Rt))}Bt.world_vert=new Qa(xt,["world.vert.essl","world-relaxed.vert.essl","world-webgl2.vert.essl"]);for(var Lt=[],Qt=0;Qt<3;){var Ot=Qt++,Et=I.field(Bt,"painter_colored_fragData"+Ot),Jt=W.run(Et);Lt.push(ei.fromBytes(Jt))}Bt.painter_colored_frag=new Ma(Lt,["painter-colored.frag.essl","painter-colored-relaxed.frag.essl","painter-colored-webgl2.frag.essl"]);for(var Ut=[],Pt=0;Pt<3;){var qt=Pt++,$t=I.field(Bt,"painter_colored_vertData"+qt),ea=W.run($t);Ut.push(ei.fromBytes(ea))}Bt.painter_colored_vert=new Qa(Ut,["painter-colored.vert.essl","painter-colored-relaxed.vert.essl","painter-colored-webgl2.vert.essl"]);for(var ta=[],aa=0;aa<3;){var ia=aa++,sa=I.field(Bt,"painter_image_fragData"+ia),na=W.run(sa);ta.push(ei.fromBytes(na))}Bt.painter_image_frag=new Ma(ta,["painter-image.frag.essl","painter-image-relaxed.frag.essl","painter-image-webgl2.frag.essl"]);for(var ra=[],la=0;la<3;){var ga=la++,oa=I.field(Bt,"painter_image_vertData"+ga),ha=W.run(oa);ra.push(ei.fromBytes(ha))}Bt.painter_image_vert=new Qa(ra,["painter-image.vert.essl","painter-image-relaxed.vert.essl","painter-image-webgl2.vert.essl"]);for(var ca=[],da=0;da<3;){var Ia=da++,ua=I.field(Bt,"painter_text_fragData"+Ia),Ca=W.run(ua);ca.push(ei.fromBytes(Ca))}Bt.painter_text_frag=new Ma(ca,["painter-text.frag.essl","painter-text-relaxed.frag.essl","painter-text-webgl2.frag.essl"]);for(var ma=[],pa=0;pa<3;){var ba=pa++,fa=I.field(Bt,"painter_text_vertData"+ba),Aa=W.run(fa);ma.push(ei.fromBytes(Aa))}Bt.painter_text_vert=new Qa(ma,["painter-text.vert.essl","painter-text-relaxed.vert.essl","painter-text-webgl2.vert.essl"]);for(var wa=[],va=0;va<3;){var Ba=va++,_a=I.field(Bt,"painter_video_fragData"+Ba),Za=W.run(_a);wa.push(ei.fromBytes(Za))}Bt.painter_video_frag=new Ma(wa,["painter-video.frag.essl","painter-video-relaxed.frag.essl","painter-video-webgl2.frag.essl"]);for(var ya=[],Ga=0;Ga<3;){var Wa=Ga++,Sa=I.field(Bt,"painter_video_vertData"+Wa),za=W.run(Sa);ya.push(ei.fromBytes(za))}Bt.painter_video_vert=new Qa(ya,["painter-video.vert.essl","painter-video-relaxed.vert.essl","painter-video-webgl2.vert.essl"])};var Mt=function(){};s["kha.Sound"]=Mt,Mt.__name__=!0,Mt.__interfaces__=[gt],Mt.prototype={uncompress:function(e){var t=new x,a=Yt.readAll(this.compressedData,t,!0),i=t.getBytes(),s=i.length/4|0;if(1==a.channel){var n=new Array(2*s);this.uncompressedData=n;for(var r=0,l=s;r<l;){var g=r++;this.uncompressedData[2*g]=i.getFloat(4*g),this.uncompressedData[2*g+1]=i.getFloat(4*g)}}else{var o=new Array(s);this.uncompressedData=o;for(var h=0,c=s;h<c;){var d=h++;this.uncompressedData[d]=i.getFloat(4*d)}}this.compressedData=null,e()},__class__:Mt};var _t=function(){};s["kha.System"]=_t,_t.__name__=!0,_t.__properties__={get_refreshRate:"get_refreshRate",get_vsync:"get_vsync",get_time:"get_time"},_t.init=function(e,t){null==e.title&&(e.title="Kha"),null==e.width&&(e.width=800),null==e.height&&(e.height=600),null==e.samplesPerPixel&&(e.samplesPerPixel=1),null==e.vSync&&(e.vSync=!0),null==e.windowMode&&(e.windowMode=c.Window),null==e.resizable&&(e.resizable=!1),null==e.maximizable&&(e.maximizable=!1),null==e.minimizable&&(e.minimizable=!0),_t.theTitle=e.title,yt.init(e,t)},_t.notifyOnRender=function(e,t){for(null==t&&(t=0);t>=_t.renderListeners.length;)_t.renderListeners.push([]);_t.renderListeners[t].push(e)},_t.render=function(e,t){if(0!=_t.renderListeners.length)for(var a=0,i=_t.renderListeners[e];a<i.length;){var s=i[a];++a,s(t)}},_t.foreground=function(){for(var e=0,t=_t.foregroundListeners;e<t.length;){var a=t[e];++e,a()}},_t.background=function(){for(var e=0,t=_t.backgroundListeners;e<t.length;){var a=t[e];++e,a()}},_t.get_time=function(){return yt.getTime()},_t.windowWidth=function(e){return null==e&&(e=0),yt.windowWidth(e)},_t.windowHeight=function(e){return null==e&&(e=0),yt.windowHeight(e)},_t.get_vsync=function(){return yt.getVsync()},_t.get_refreshRate=function(){return yt.getRefreshRate()};var Zt=function(){this.axes=[],this.buttons=[]};s["kha.GamepadStates"]=Zt,Zt.__name__=!0,Zt.prototype={__class__:Zt};var yt=function(){};s["kha.SystemImpl"]=yt,yt.__name__=!0,yt.init=function(e,t){yt.options=e,yt.mobile=yt.isMobile(),yt.chrome=yt.isChrome(),yt.firefox=yt.isFirefox(),yt.init2(),t()},yt.isMobile=function(){var e=window.navigator.userAgent;return e.indexOf("Android")>=0||e.indexOf("webOS")>=0||e.indexOf("iPhone")>=0||e.indexOf("iPad")>=0||e.indexOf("iPod")>=0||e.indexOf("BlackBerry")>=0||e.indexOf("Windows Phone")>=0},yt.isChrome=function(){return window.navigator.userAgent.indexOf("Chrome")>=0},yt.isFirefox=function(){return window.navigator.userAgent.indexOf("Firefox")>=0},yt.windowWidth=function(e){return null==e&&(e=0),0==yt.khanvas.width&&null!=yt.options.width?yt.options.width:yt.khanvas.width},yt.windowHeight=function(e){return null==e&&(e=0),0==yt.khanvas.height&&null!=yt.options.height?yt.options.height:yt.khanvas.height},yt.setCanvas=function(e){yt.khanvas=e},yt.getTime=function(){return(window.performance?window.performance:window.Date).now()/1e3},yt.getVsync=function(){return!0},yt.getRefreshRate=function(){return 60},yt.init2=function(e){y.trace=at.__trace,yt.keyboard=new Ua,yt.mouse=new qa,yt.surface=new $a,yt.gamepads=[],yt.gamepadStates=[];for(var t=0;t<4;){var a=t++;yt.gamepads[a]=new Ea(a),yt.gamepadStates[a]=new Zt}yt.pressedKeys=[];for(var i=0;i<256;){i++;yt.pressedKeys.push(!1)}for(var s=0;s<256;){s++;yt.pressedKeys.push(null)}window.document.addEventListener("copy",function(e){var t=e;if(null!=_t.copyListener){var a=_t.copyListener();null!=a&&t.clipboardData.setData("text/plain",a),t.preventDefault()}}),window.document.addEventListener("cut",function(e){var t=e;if(null!=_t.cutListener){var a=_t.cutListener();null!=a&&t.clipboardData.setData("text/plain",a),t.preventDefault()}}),window.document.addEventListener("paste",function(e){var t=e;if(null!=_t.pasteListener){var a=t.clipboardData.getData("text/plain");_t.pasteListener(a),t.preventDefault()}}),ht.init(),wt.init(),yt.loadFinished(),ut.instance=new ni},yt.getMouse=function(e){return 0!=e?null:yt.mouse},yt.checkGamepad=function(e){for(var t=0,a=e.axes.length;t<a;){var i=t++;if(null!=e.axes[i]&&yt.gamepadStates[e.index].axes[i]!=e.axes[i]){var s=e.axes[i];i%2==1&&(s=-s),yt.gamepadStates[e.index].axes[i]=s,yt.gamepads[e.index].sendAxisEvent(i,s)}}for(var n=0,r=e.buttons.length;n<r;){var l=n++;null!=e.buttons[l]&&yt.gamepadStates[e.index].buttons[l]!=e.buttons[l].value&&(yt.gamepadStates[e.index].buttons[l]=e.buttons[l].value,yt.gamepads[e.index].sendButtonEvent(l,e.buttons[l].value))}e.axes.length<=4&&e.buttons.length>7&&(yt.gamepadStates[e.index].axes[4]=e.buttons[6].value,yt.gamepads[e.index].sendAxisEvent(4,e.buttons[6].value),yt.gamepadStates[e.index].axes[5]=e.buttons[7].value,yt.gamepads[e.index].sendAxisEvent(5,e.buttons[7].value))},yt.loadFinished=function(){var e=yt.khanvas;null==e&&(e=window.document.getElementById(dt.canvas_id)),e.style.cursor="default";var t=!1;try{yt.gl=e.getContext("webgl2",{alpha:!1,antialias:yt.options.samplesPerPixel>1,stencil:!0,preserveDrawingBuffer:!0}),yt.gl.pixelStorei(37441,1),yt.halfFloat={HALF_FLOAT_OES:5131},yt.depthTexture={UNSIGNED_INT_24_8_WEBGL:34042},yt.drawBuffers={COLOR_ATTACHMENT0_WEBGL:36064},yt.elementIndexUint=!0,yt.gl.getExtension("EXT_color_buffer_float"),yt.gl.getExtension("OES_texture_float_linear"),yt.gl.getExtension("OES_texture_half_float_linear"),yt.anisotropicFilter=yt.gl.getExtension("EXT_texture_filter_anisotropic"),null==yt.anisotropicFilter&&(yt.anisotropicFilter=yt.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")),t=!0,yt.gl2=!0,Bt.init()}catch(e){y.trace("Could not initialize WebGL 2, falling back to WebGL.",{fileName:"SystemImpl.hx",lineNumber:327,className:"kha.SystemImpl",methodName:"loadFinished"})}if(!yt.gl2)try{yt.gl=e.getContext("experimental-webgl",{alpha:!1,antialias:yt.options.samplesPerPixel>1,stencil:!0,preserveDrawingBuffer:!0}),null!=yt.gl&&(yt.gl.pixelStorei(37441,1),yt.gl.getExtension("OES_texture_float"),yt.gl.getExtension("OES_texture_float_linear"),yt.halfFloat=yt.gl.getExtension("OES_texture_half_float"),yt.gl.getExtension("OES_texture_half_float_linear"),yt.depthTexture=yt.gl.getExtension("WEBGL_depth_texture"),yt.gl.getExtension("EXT_shader_texture_lod"),yt.gl.getExtension("OES_standard_derivatives"),yt.anisotropicFilter=yt.gl.getExtension("EXT_texture_filter_anisotropic"),null==yt.anisotropicFilter&&(yt.anisotropicFilter=yt.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")),yt.drawBuffers=yt.gl.getExtension("WEBGL_draw_buffers"),yt.elementIndexUint=yt.gl.getExtension("OES_element_index_uint"),t=!0,Bt.init())}catch(e){y.trace("Could not initialize WebGL, falling back to Canvas.",{fileName:"SystemImpl.hx",lineNumber:351,className:"kha.SystemImpl",methodName:"loadFinished"})}if(yt.setCanvas(e),t){var a=new Ii;yt.frame=new Ct(0,null,null,a),yt.frame.init(new sa(yt.frame),new ui(yt.frame),a)}else{pt=ri;var i=new si(e.getContext("2d"));yt.frame=new Ct(0,null,i,null),yt.frame.init(new sa(yt.frame),i,null)}!yt.mobile&&St._init()?(yt._hasWebAudio=!0,zt._init()):yt.mobile?(yt._hasWebAudio=!1,li._init(),zt=li):(yt._hasWebAudio=!1,ii._compile(),zt=ii),mi.instance=new pi,wt.start();var s=window,n=s.requestAnimationFrame;null==n&&(n=s.mozRequestAnimationFrame),null==n&&(n=s.webkitRequestAnimationFrame),null==n&&(n=s.msRequestAnimationFrame);var r=null,l=r=function(t){var a=window;null==n?a.setTimeout(r,16.666666666666668):n(r);var i=yt.getGamepads();if(null!=i)for(var s=0,l=i.length;s<l;){var g=i[s++];null!=g&&yt.checkGamepad(g)}if(wt.executeFrame(),e.getContext){var o=e.clientWidth,h=e.clientHeight;e.width==o&&e.height==h||(e.width=o,e.height=h),_t.render(0,yt.frame),null!=yt.gl&&(yt.gl.clearColor(1,1,1,1),yt.gl.colorMask(!1,!1,!1,!0),yt.gl.clear(16384),yt.gl.colorMask(!0,!0,!0,!0))}};null==n?s.setTimeout(l,16.666666666666668):n(l),null==e.getAttribute("tabindex")&&e.setAttribute("tabindex","0"),e.focus(),e.oncontextmenu=function(e){e.stopPropagation(),e.preventDefault()},e.onmousedown=yt.mouseDown,e.onmousemove=yt.mouseMove,null!=yt.keyboard&&(e.onkeydown=yt.keyDown,e.onkeyup=yt.keyUp,e.onkeypress=yt.keyPress),e.onblur=yt.onBlur,e.onfocus=yt.onFocus,e.onmousewheel=e.onwheel=yt.mouseWheel,e.onmouseleave=yt.mouseLeave,e.addEventListener("wheel mousewheel",yt.mouseWheel,!1),e.addEventListener("touchstart",yt.touchDown,!1),e.addEventListener("touchend",yt.touchUp,!1),e.addEventListener("touchmove",yt.touchMove,!1),window.addEventListener("unload",yt.unload)},yt.unload=function(e){},yt.setMouseXY=function(e){var t=yt.khanvas.getBoundingClientRect(),a=yt.khanvas.clientLeft,i=yt.khanvas.clientTop;yt.mouseX=(e.clientX-t.left-a)*yt.khanvas.width/(t.width-2*a)|0,yt.mouseY=(e.clientY-t.top-i)*yt.khanvas.height/(t.height-2*i)|0},yt.unlockSoundOnIOS=function(){if(yt.mobile&&!yt.iosSoundEnabled){var e=li._context.createBuffer(1,1,22050),t=li._context.createBufferSource();t.buffer=e,t.connect(li._context.destination),t.noteOn&&t.noteOn(0),yt.iosSoundEnabled=!0}},yt.mouseLeave=function(){yt.mouse.sendLeaveEvent(0)},yt.mouseWheel=function(e){return yt.insideInputEvent=!0,yt.unlockSoundOnIOS(),e.preventDefault(),0==e.deltaMode?(e.deltaY<0?yt.mouse.sendWheelEvent(0,-1):e.deltaY>0&&yt.mouse.sendWheelEvent(0,1),yt.insideInputEvent=!1,!1):1==e.deltaMode?(yt.minimumScroll=0|Math.min(yt.minimumScroll,Math.abs(e.deltaY)),yt.mouse.sendWheelEvent(0,e.deltaY/yt.minimumScroll|0),yt.insideInputEvent=!1,!1):(yt.insideInputEvent=!1,!1)},yt.mouseDown=function(e){yt.insideInputEvent=!0,yt.unlockSoundOnIOS(),yt.setMouseXY(e),1==e.which?(e.ctrlKey?(yt.leftMouseCtrlDown=!0,yt.mouse.sendDownEvent(0,1,yt.mouseX,yt.mouseY)):(yt.leftMouseCtrlDown=!1,yt.mouse.sendDownEvent(0,0,yt.mouseX,yt.mouseY)),null!=(wi=yt.khanvas,i(wi,wi.setCapture))?yt.khanvas.setCapture():yt.khanvas.ownerDocument.addEventListener("mousemove",yt.documentMouseMove,!0),yt.khanvas.ownerDocument.addEventListener("mouseup",yt.mouseLeftUp)):2==e.which?(yt.mouse.sendDownEvent(0,2,yt.mouseX,yt.mouseY),yt.khanvas.ownerDocument.addEventListener("mouseup",yt.mouseMiddleUp)):3==e.which&&(yt.mouse.sendDownEvent(0,1,yt.mouseX,yt.mouseY),yt.khanvas.ownerDocument.addEventListener("mouseup",yt.mouseRightUp)),yt.insideInputEvent=!1},yt.mouseLeftUp=function(e){yt.unlockSoundOnIOS(),1==e.which&&(yt.insideInputEvent=!0,yt.khanvas.ownerDocument.removeEventListener("mouseup",yt.mouseLeftUp),null!=(wi=yt.khanvas,i(wi,wi.releaseCapture))?yt.khanvas.ownerDocument.releaseCapture():yt.khanvas.ownerDocument.removeEventListener("mousemove",yt.documentMouseMove,!0),yt.leftMouseCtrlDown?yt.mouse.sendUpEvent(0,1,yt.mouseX,yt.mouseY):yt.mouse.sendUpEvent(0,0,yt.mouseX,yt.mouseY),yt.leftMouseCtrlDown=!1,yt.insideInputEvent=!1)},yt.mouseMiddleUp=function(e){yt.unlockSoundOnIOS(),2==e.which&&(yt.insideInputEvent=!0,yt.khanvas.ownerDocument.removeEventListener("mouseup",yt.mouseMiddleUp),yt.mouse.sendUpEvent(0,2,yt.mouseX,yt.mouseY),yt.insideInputEvent=!1)},yt.mouseRightUp=function(e){yt.unlockSoundOnIOS(),3==e.which&&(yt.insideInputEvent=!0,yt.khanvas.ownerDocument.removeEventListener("mouseup",yt.mouseRightUp),yt.mouse.sendUpEvent(0,1,yt.mouseX,yt.mouseY),yt.insideInputEvent=!1)},yt.documentMouseMove=function(e){e.stopPropagation(),yt.mouseMove(e)},yt.mouseMove=function(e){yt.insideInputEvent=!0,yt.unlockSoundOnIOS();var t=yt.mouseX,a=yt.mouseY;yt.setMouseXY(e);var i=e.movementX,s=e.movementY;null==e.movementX&&(i=null!=e.mozMovementX?e.mozMovementX:null!=e.webkitMovementX?e.webkitMovementX:yt.mouseX-t,s=null!=e.mozMovementY?e.mozMovementY:null!=e.webkitMovementY?e.webkitMovementY:yt.mouseY-a),yt.firefox&&(i=i*window.devicePixelRatio|0,s=s*window.devicePixelRatio|0),yt.mouse.sendMoveEvent(0,yt.mouseX,yt.mouseY,i,s),yt.insideInputEvent=!1},yt.setTouchXY=function(e){var t=yt.khanvas.getBoundingClientRect(),a=yt.khanvas.clientLeft,i=yt.khanvas.clientTop;yt.touchX=(e.clientX-t.left-a)*yt.khanvas.width/(t.width-2*a)|0,yt.touchY=(e.clientY-t.top-i)*yt.khanvas.height/(t.height-2*i)|0},yt.touchDown=function(e){yt.insideInputEvent=!0,yt.unlockSoundOnIOS(),e.stopPropagation(),e.preventDefault();for(var t=0,a=e.changedTouches;t<a.length;){var i=a[t];++t,yt.setTouchXY(i),yt.mouse.sendDownEvent(0,0,yt.touchX,yt.touchY),yt.surface.sendTouchStartEvent(i.identifier,yt.touchX,yt.touchY)}yt.insideInputEvent=!1},yt.touchUp=function(e){yt.insideInputEvent=!0,yt.unlockSoundOnIOS();for(var t=0,a=e.changedTouches;t<a.length;){var i=a[t];++t,yt.setTouchXY(i),yt.mouse.sendUpEvent(0,0,yt.touchX,yt.touchY),yt.surface.sendTouchEndEvent(i.identifier,yt.touchX,yt.touchY)}yt.insideInputEvent=!1},yt.touchMove=function(e){yt.insideInputEvent=!0,yt.unlockSoundOnIOS();for(var t=0,a=0,i=e.changedTouches;a<i.length;){var s=i[a];if(++a,yt.setTouchXY(s),0==t){var n=yt.touchX-yt.lastFirstTouchX,r=yt.touchY-yt.lastFirstTouchY;yt.lastFirstTouchX=yt.touchX,yt.lastFirstTouchY=yt.touchY,yt.mouse.sendMoveEvent(0,yt.touchX,yt.touchY,n,r)}yt.surface.sendMoveEvent(s.identifier,yt.touchX,yt.touchY),++t}yt.insideInputEvent=!1},yt.onBlur=function(){_t.background()},yt.onFocus=function(){_t.foreground()},yt.keyDown=function(e){e.stopPropagation(),yt.pressedKeys[e.keyCode]?e.preventDefault():(yt.pressedKeys[e.keyCode]=!0,yt.keyboard.sendDownEvent(e.keyCode))},yt.keyUp=function(e){e.preventDefault(),e.stopPropagation(),yt.pressedKeys[e.keyCode]=!1,yt.keyboard.sendUpEvent(e.keyCode)},yt.keyPress=function(e){e.stopPropagation(),(!yt.firefox||0!=e.which&&8!=e.which)&&yt.keyboard.sendPressEvent(String.fromCharCode(e.which))},yt.getGamepads=function(){return yt.chrome&&mi.instance.IsVrEnabled()?null:navigator.getGamepads?window.navigator.getGamepads():null};var Gt=function(e,t,a,i,s){this.depthTexture=null,this.texture=null,this.renderBuffer=null,this.frameBuffer=null,this.myWidth=e,this.myHeight=t,this.format=a,this.renderTarget=i,this.image=null,this.video=null,this.depthStencilFormat=s,Gt.init(),i&&this.createTexture()};s["kha.WebGLImage"]=Gt,Gt.__name__=!0,Gt.init=function(){if(null==Gt.context){var e=window.document.createElement("canvas");null!=e&&(Gt.context=e.getContext("2d"),e.width=2048,e.height=2048,Gt.context.globalCompositeOperation="copy")}},Gt.formatByteSize=function(e){switch(e[1]){case 0:return 4;case 1:return 1;case 2:return 16;case 3:return 2;case 4:return 8;case 5:return 4;case 6:return 2}},Gt.__super__=ot,Gt.prototype=a(ot.prototype,{get_g4:function(){return null==this.graphics4&&(this.graphics4=new Ii(this)),this.graphics4},get_width:function(){return this.myWidth},get_height:function(){return this.myHeight},get_realWidth:function(){return this.myWidth},get_realHeight:function(){return this.myHeight},createTexture:function(){if(null!=yt.gl){if(this.texture=yt.gl.createTexture(),yt.gl.bindTexture(3553,this.texture),yt.gl.texParameteri(3553,10240,9729),yt.gl.texParameteri(3553,10241,9729),yt.gl.texParameteri(3553,10242,33071),yt.gl.texParameteri(3553,10243,33071),this.renderTarget){switch(this.frameBuffer=yt.gl.createFramebuffer(),yt.gl.bindFramebuffer(36160,this.frameBuffer),this.format[1]){case 0:yt.gl.texImage2D(3553,0,6408,this.get_realWidth(),this.get_realHeight(),0,6408,5121,null);break;case 2:yt.gl.texImage2D(3553,0,yt.gl2?34836:6408,this.get_realWidth(),this.get_realHeight(),0,6408,5126,null);break;case 3:yt.gl.texImage2D(3553,0,yt.gl2?33189:6402,this.get_realWidth(),this.get_realHeight(),0,6402,5123,null);break;case 4:yt.gl.texImage2D(3553,0,yt.gl2?34842:6408,this.get_realWidth(),this.get_realHeight(),0,6408,yt.halfFloat.HALF_FLOAT_OES,null);break;case 5:yt.gl.texImage2D(3553,0,yt.gl2?33326:6406,this.get_realWidth(),this.get_realHeight(),0,yt.gl2?6403:6406,5126,null);break;case 6:yt.gl.texImage2D(3553,0,yt.gl2?33325:6406,this.get_realWidth(),this.get_realHeight(),0,yt.gl2?6403:6406,yt.halfFloat.HALF_FLOAT_OES,null);break;default:yt.gl.texImage2D(3553,0,6408,this.get_realWidth(),this.get_realHeight(),0,6408,5121,null)}if(this.format==xa.DEPTH16){if(yt.gl.texParameteri(3553,10240,9728),yt.gl.texParameteri(3553,10241,9728),yt.gl.framebufferTexture2D(36160,36096,3553,this.texture,0),-1==navigator.appVersion.indexOf("Win")){var e=yt.gl.createTexture();yt.gl.bindTexture(3553,e),yt.gl.texImage2D(3553,0,6408,this.get_realWidth(),this.get_realHeight(),0,6408,5121,null),yt.gl.framebufferTexture2D(36160,36064,3553,e,0),yt.gl.bindTexture(3553,this.texture)}}else yt.gl.framebufferTexture2D(36160,36064,3553,this.texture,0);this.initDepthStencilBuffer(this.depthStencilFormat),36053!=yt.gl.checkFramebufferStatus(36160)&&y.trace("WebGL error: Framebuffer incomplete",{fileName:"WebGLImage.hx",lineNumber:206,className:"kha.WebGLImage",methodName:"createTexture"}),yt.gl.bindRenderbuffer(36161,null),yt.gl.bindFramebuffer(36160,null)}else if(null!=this.video)yt.gl.texImage2D(3553,0,6408,6408,5121,this.video);else switch(this.format[1]){case 0:at.__instanceof(this.image,Vi)?yt.gl.texImage2D(3553,0,6408,this.myWidth,this.myHeight,0,6408,5121,this.image):yt.gl.texImage2D(3553,0,6408,6408,5121,this.image);break;case 2:yt.gl.texImage2D(3553,0,yt.gl2?34836:6408,this.myWidth,this.myHeight,0,6408,5126,this.image);break;case 4:yt.gl.texImage2D(3553,0,yt.gl2?34842:6408,this.myWidth,this.myHeight,0,6408,yt.halfFloat.HALF_FLOAT_OES,this.image);break;case 5:yt.gl.texImage2D(3553,0,yt.gl2?33326:6406,this.myWidth,this.myHeight,0,yt.gl2?6403:6406,5126,this.image);break;case 6:yt.gl.texImage2D(3553,0,yt.gl2?33325:6406,this.myWidth,this.myHeight,0,yt.gl2?6403:6406,yt.halfFloat.HALF_FLOAT_OES,this.image);break;default:yt.gl.texImage2D(3553,0,6408,6408,5121,this.image)}yt.gl.bindTexture(3553,null)}},initDepthStencilBuffer:function(e){switch(e){case 0:break;case 1:case 5:null==yt.depthTexture?(this.renderBuffer=yt.gl.createRenderbuffer(),yt.gl.bindRenderbuffer(36161,this.renderBuffer),yt.gl.renderbufferStorage(36161,33189,this.get_realWidth(),this.get_realHeight()),yt.gl.framebufferRenderbuffer(36160,36096,36161,this.renderBuffer)):(this.depthTexture=yt.gl.createTexture(),yt.gl.bindTexture(3553,this.depthTexture),1==e?yt.gl.texImage2D(3553,0,yt.gl2?33190:6402,this.get_realWidth(),this.get_realHeight(),0,6402,5125,null):yt.gl.texImage2D(3553,0,yt.gl2?33189:6402,this.get_realWidth(),this.get_realHeight(),0,6402,5123,null),yt.gl.texParameteri(3553,10240,9728),yt.gl.texParameteri(3553,10241,9728),yt.gl.texParameteri(3553,10242,33071),yt.gl.texParameteri(3553,10243,33071),yt.gl.bindFramebuffer(36160,this.frameBuffer),yt.gl.framebufferTexture2D(36160,36096,3553,this.depthTexture,0));break;case 2:case 3:case 4:null==yt.depthTexture?(this.renderBuffer=yt.gl.createRenderbuffer(),yt.gl.bindRenderbuffer(36161,this.renderBuffer),yt.gl.renderbufferStorage(36161,34041,this.get_realWidth(),this.get_realHeight()),yt.gl.framebufferRenderbuffer(36160,33306,36161,this.renderBuffer)):(this.depthTexture=yt.gl.createTexture(),yt.gl.bindTexture(3553,this.depthTexture),yt.gl.texImage2D(3553,0,yt.gl2?35056:34041,this.get_realWidth(),this.get_realHeight(),0,34041,yt.depthTexture.UNSIGNED_INT_24_8_WEBGL,null),yt.gl.texParameteri(3553,10240,9728),yt.gl.texParameteri(3553,10241,9728),yt.gl.texParameteri(3553,10242,33071),yt.gl.texParameteri(3553,10243,33071),yt.gl.bindFramebuffer(36160,this.frameBuffer),yt.gl.framebufferTexture2D(36160,33306,3553,this.depthTexture,0))}},set:function(e){yt.gl.activeTexture(33984+e),yt.gl.bindTexture(3553,this.texture),null!=this.video&&yt.gl.texImage2D(3553,0,6408,6408,5121,this.video)},setDepth:function(e){yt.gl.activeTexture(33984+e),yt.gl.bindTexture(3553,this.depthTexture)},setDepthStencilFrom:function(e){yt.gl.bindFramebuffer(36160,this.frameBuffer),yt.gl.framebufferTexture2D(36160,36096,3553,at.__cast(e,Gt).depthTexture,0)},bytesToArray:function(e){switch(this.format[1]){case 0:case 1:return new Vi(e.b.bufferValue);case 2:case 4:case 5:case 6:return new Ni(e.b.bufferValue);default:return new Vi(e.b.bufferValue)}},lock:function(e){return null==e&&(e=0),this.bytes=new z(new Si(Gt.formatByteSize(this.format)*this.get_width()*this.get_height())),this.bytes},unlock:function(){if(null!=yt.gl){switch(this.texture=yt.gl.createTexture(),yt.gl.bindTexture(3553,this.texture),yt.gl.texParameteri(3553,10240,9729),yt.gl.texParameteri(3553,10241,9729),yt.gl.texParameteri(3553,10242,33071),yt.gl.texParameteri(3553,10243,33071),this.format[1]){case 0:yt.gl.texImage2D(3553,0,6408,this.get_width(),this.get_height(),0,6408,5121,this.bytesToArray(this.bytes));break;case 1:if(yt.gl.texImage2D(3553,0,6409,this.get_width(),this.get_height(),0,6409,5121,this.bytesToArray(this.bytes)),1282==yt.gl.getError()){for(var e=new z(new Si(this.get_width()*this.get_height()*4)),t=0,a=this.get_height();t<a;)for(var i=t++,s=0,n=this.get_width();s<n;){var r=s++,l=this.bytes,g=i*this.get_width()+r,o=l.b[g],h=i*this.get_width()*4+4*r;e.b[h]=255&o;var c=i*this.get_width()*4+4*r+1;e.b[c]=255&o;var d=i*this.get_width()*4+4*r+2;e.b[d]=255&o;var I=i*this.get_width()*4+4*r+3;e.b[I]=255}yt.gl.texImage2D(3553,0,6408,this.get_width(),this.get_height(),0,6408,5121,this.bytesToArray(e))}break;case 2:yt.gl.texImage2D(3553,0,yt.gl2?34836:6408,this.get_width(),this.get_height(),0,6408,5126,this.bytesToArray(this.bytes));break;case 4:yt.gl.texImage2D(3553,0,yt.gl2?34842:6408,this.get_width(),this.get_height(),0,6408,yt.halfFloat.HALF_FLOAT_OES,this.bytesToArray(this.bytes));break;case 5:yt.gl.texImage2D(3553,0,yt.gl2?33326:6406,this.get_width(),this.get_height(),0,yt.gl2?6403:6406,5126,this.bytesToArray(this.bytes));break;case 6:yt.gl.texImage2D(3553,0,yt.gl2?33325:6406,this.get_width(),this.get_height(),0,yt.gl2?6403:6406,yt.halfFloat.HALF_FLOAT_OES,this.bytesToArray(this.bytes));break;default:yt.gl.texImage2D(3553,0,6408,this.get_width(),this.get_height(),0,6408,5121,this.bytesToArray(this.bytes))}yt.gl.bindTexture(3553,null),this.bytes=null}},unload:function(){null!=this.texture&&yt.gl.deleteTexture(this.texture),null!=this.depthTexture&&yt.gl.deleteTexture(this.depthTexture),null!=this.frameBuffer&&yt.gl.deleteFramebuffer(this.frameBuffer),null!=this.renderBuffer&&yt.gl.deleteRenderbuffer(this.renderBuffer)},generateMipmaps:function(e){yt.gl.bindTexture(3553,this.texture),yt.gl.generateMipmap(3553)},setMipmaps:function(e){if(yt.gl.bindTexture(3553,this.texture),this.format==xa.RGBA128)for(var t=0,a=e.length;t<a;){var i=t++;yt.gl.texImage2D(3553,i+1,yt.gl2?34836:6408,e[i].get_width(),e[i].get_height(),0,6408,5126,at.__cast(e[i],Gt).image)}else if(this.format==xa.RGBA64)for(var s=0,n=e.length;s<n;){var r=s++;yt.gl.texImage2D(3553,r+1,yt.gl2?34842:6408,e[r].get_width(),e[r].get_height(),0,6408,yt.halfFloat.HALF_FLOAT_OES,at.__cast(e[r],Gt).image)}else for(var l=0,g=e.length;l<g;){var o=l++;yt.gl.texImage2D(3553,o+1,6408,6408,5121,at.__cast(e[o],Gt).image)}},__class__:Gt});var Wt=function(){};s["kha.audio1.AudioChannel"]=Wt,Wt.__name__=!0,Wt.prototype={__class__:Wt};var St=function(){};s["kha.audio2.Audio"]=St,St.__name__=!0,St.initContext=function(){try{return void(St._context=new AudioContext)}catch(e){}try{return void(this._context=new webkitAudioContext)}catch(e){}},St._init=function(){if(St.initContext(),null==St._context)return!1;return St.buffer=new Vt(8192,2,0|St._context.sampleRate),St.processingNode=St._context.createScriptProcessor(2048,0,2),St.processingNode.onaudioprocess=function(e){var t=e.outputBuffer.getChannelData(0),a=e.outputBuffer.getChannelData(1);if(null!=St.audioCallback){St.audioCallback(2*e.outputBuffer.length,St.buffer);for(var i=0,s=e.outputBuffer.length;i<s;){var n=i++;t[n]=St.buffer.data[St.buffer.readLocation],St.buffer.readLocation+=1,a[n]=St.buffer.data[St.buffer.readLocation],St.buffer.readLocation+=1,St.buffer.readLocation>=St.buffer.size&&(St.buffer.readLocation=0)}}else for(var r=0,l=e.outputBuffer.length;r<l;){var g=r++;t[g]=0,a[g]=0}},St.processingNode.connect(St._context.destination),!0};var zt=function(){};s["kha.audio2.Audio1"]=zt,zt.__name__=!0,zt._init=function(){var e=new Array(16);zt.soundChannels=e;var t=new Array(16);zt.streamChannels=t;var a=new Array(16);zt.internalSoundChannels=a;var i=new Array(16);zt.internalStreamChannels=i;var s=new Array(512);zt.sampleCache1=s;var n=new Array(512);zt.sampleCache2=n,St.audioCallback=zt.mix},zt.mix=function(e,t){if(zt.sampleCache1.length<e){var a=new Array(e);zt.sampleCache1=a;var i=new Array(e);zt.sampleCache2=i}for(var s=0,n=e;s<n;){var r=s++;zt.sampleCache2[r]=0}for(var l=0;l<16;){var g=l++;zt.internalSoundChannels[g]=zt.soundChannels[g]}for(var o=0;o<16;){var h=o++;zt.internalStreamChannels[h]=zt.streamChannels[h]}for(var c=0,d=zt.internalSoundChannels;c<d.length;){var I=d[c];if(++c,null!=I&&!I.get_finished()){I.nextSamples(zt.sampleCache1,e,t.samplesPerSecond);for(var u=0,C=e;u<C;){var m=u++,p=m,b=zt.sampleCache2,f=zt.sampleCache1[m]*I.get_volume();b[p]=b[p]+f}}}for(var A=0,w=zt.internalStreamChannels;A<w.length;){var v=w[A];if(++A,null!=v&&!v.get_finished()){v.nextSamples(zt.sampleCache1,e,t.samplesPerSecond);for(var B=0,M=e;B<M;){var _=B++,Z=_,y=zt.sampleCache2,G=zt.sampleCache1[_]*v.get_volume();y[Z]=y[Z]+G}}}for(var W=0,S=e;W<S;){var z=W++,N=zt.sampleCache2[z],V=N<1?N:1;t.data[t.writeLocation]=V>-1?V:-1,t.writeLocation+=1,t.writeLocation>=t.size&&(t.writeLocation=0)}},zt.play=function(e,t){null==t&&(t=!1);for(var a=null,i=0;i<16;){var s=i++;if(null==zt.soundChannels[s]||zt.soundChannels[s].get_finished()){(a=new Nt(t)).data=e.uncompressedData,zt.soundChannels[s]=a;break}}return a};var Nt=function(e){this.paused=!1,this.looping=e,this.myVolume=1,this.myPosition=0};s["kha.audio2.AudioChannel"]=Nt,Nt.__name__=!0,Nt.__interfaces__=[Wt],Nt.prototype={nextSamples:function(e,t,a){if(this.paused)for(var i=0,s=t;i<s;)e[i++]=0;else{for(var n=0,r=0;n<t;){for(var l=this.data.length-this.myPosition,g=l<t?l:t;r<g;)e[n]=this.data[this.myPosition],++this.myPosition,++r,++n;if(!this.looping)break;r=0,this.myPosition>=this.data.length&&(this.myPosition=0)}for(;n<t;)e[n]=0,++n}},get_volume:function(){return this.myVolume},get_finished:function(){return this.myPosition>=this.data.length},__class__:Nt,__properties__:{get_finished:"get_finished",get_volume:"get_volume"}};var Vt=function(e,t,a){this.size=e;var i=new Array(e);this.data=i,this.channels=t,this.samplesPerSecond=a,this.readLocation=0,this.writeLocation=0};s["kha.audio2.Buffer"]=Vt,Vt.__name__=!0,Vt.prototype={__class__:Vt};var Kt=function(){this.paused=!1,this.atend=!1};s["kha.audio2.StreamChannel"]=Kt,Kt.__name__=!0,Kt.__interfaces__=[Wt],Kt.prototype={nextSamples:function(e,t,a){if(this.paused)for(var i=0,s=t;i<s;)e[i++]=0;else{var n=2*this.reader.read(e,t/2|0,2,a,!0);if(n<t){this.loop?this.reader.set_currentMillisecond(0):this.atend=!0;for(var r=n,l=t;r<l;)e[r++]=0}}},get_volume:function(){return this.myVolume},get_finished:function(){return this.atend},__class__:Kt,__properties__:{get_finished:"get_finished",get_volume:"get_volume"}};var kt=function(){};s["kha.audio2.ogg.tools.Crc32"]=kt,kt.__name__=!0,kt.init=function(){if(null==kt.table){var e=new Array(256);kt.table=e;for(var t=0;t<256;){for(var a=t++,i=a<<24,s=0;s<8;){s++;i=i<<1^(p.gte(i,1<<31)?79764919:0)}kt.table[a]=i}}};var Yt=function(e,t,a){this.seekFunc=t,this.inputLength=a,this.decoder=Ht.start(e),this.decoder.setupSampleNumber(t,a),this.loopStart=this.get_header().comment.get_loopStart(),this.loopLength=this.get_header().comment.get_loopLength()};s["kha.audio2.ogg.vorbis.Reader"]=Yt,Yt.__name__=!0,Yt.openFromBytes=function(e){var t=new D(e),a=t;return new Yt(t,function(e){Yt.seekBytes(a,e)},e.length)},Yt.seekBytes=function(e,t){e.set_position(t)},Yt.readAll=function(e,t,a){null==a&&(a=!1);var i=new D(e),s=Ht.start(i),n=i;s.setupSampleNumber(function(e){Yt.seekBytes(n,e)},e.length);for(var r=s.header,l=0,g=4096*r.channel,o=new Array(g);;){for(var h=s.read(o,4096,r.channel,r.sampleRate,a),c=0,d=h*r.channel;c<d;){var I=c++;t.writeFloat(o[I])}if(0==h)break;l+=h}return s.header},Yt.prototype={get_header:function(){return this.decoder.header},get_currentSample:function(){return this.decoder.currentSample},set_currentSample:function(e){return this.decoder.seek(this.seekFunc,this.inputLength,e),this.decoder.currentSample},get_currentMillisecond:function(){var e=this.get_currentSample(),t=this.get_header().sampleRate;return p.toFloat(e)/p.toFloat(t)*1e3},set_currentMillisecond:function(e){var t=e/1e3,a=this.get_header().sampleRate;return this.set_currentSample(Math.floor(p.toFloat(a)*t)),this.get_currentMillisecond()},read:function(e,t,a,i,s){return null==s&&(s=!1),this.decoder.ensurePosition(this.seekFunc),null==t&&(t=this.decoder.totalSample),null==a&&(a=this.get_header().channel),null==i&&(i=this.get_header().sampleRate),this.decoder.read(e,t,a,i,s)},__class__:Yt,__properties__:{set_currentMillisecond:"set_currentMillisecond",get_currentMillisecond:"get_currentMillisecond",set_currentSample:"set_currentSample",get_currentSample:"get_currentSample",get_header:"get_header"}};var Xt=function(e){this.nextSeg=0,this.firstDecode=!1,this.bytesInSeg=0,this.validBits=0,this.input=e,this.inputPosition=0,this.page=new Pt,kt.init()};s["kha.audio2.ogg.vorbis.VorbisDecodeState"]=Xt,Xt.__name__=!0,Xt.prototype={setup:function(e,t){this.inputPosition+=1;var a=this.input.readByte();this.inputPosition+=a;for(var i=new Array(a),s=0,n=a;s<n;)i[s++]=this.input.readByte();if(this.segments=i,this.endSegWithKnownLoc=-2,-1!=e||-1!=t)for(var r=a-1;r>=0&&!(this.segments[r]<255);)r>=0&&(this.endSegWithKnownLoc=r,this.knownLocForPacket=e),--r;if(this.firstDecode){for(var l=0,g=new qt,o=0,h=a;o<h;){var c=o++;l+=this.segments[c]}l+=27+a,g.pageStart=this.firstAudioPageOffset,g.pageEnd=g.pageStart+l,g.firstDecodedSample=0,g.lastDecodedSample=e,this.pFirst=g}this.nextSeg=0},clone:function(e){var t=m.createEmptyInstance(Xt);return e(this.inputPosition),t.input=this.input,t.eof=this.eof,t.validBits=this.validBits,t.discardSamplesDeferred=this.discardSamplesDeferred,t.firstDecode=this.firstDecode,t.nextSeg=this.nextSeg,t.bytesInSeg=this.bytesInSeg,t.acc=t.acc,t.lastSeg=this.lastSeg,t.lastSegWhich=this.lastSegWhich,t.currentLoc=this.currentLoc,t.currentLocValid=this.currentLocValid,t.inputPosition=this.inputPosition,t.firstAudioPageOffset=this.firstAudioPageOffset,t.error=this.error,t.segments=this.segments,t.pFirst=this.pFirst,t.pLast=this.pLast,t.page=this.page.clone(),t},next:function(){if(this.lastSeg)return 0;if(-1==this.nextSeg){this.lastSegWhich=this.segments.length-1;try{this.page.start(this)}catch(e){if(e instanceof tt&&(e=e.val),at.__instanceof(e,$t))return this.lastSeg=!0,this.error=e,0;throw e}if(0==(1&this.page.flag))throw new tt(new $t(ea.CONTINUED_PACKET_FLAG_INVALID,null,{fileName:"VorbisDecodeState.hx",lineNumber:171,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"next"}))}var e=this.segments[this.nextSeg++];e<255&&(this.lastSeg=!0,this.lastSegWhich=this.nextSeg-1),this.nextSeg>=this.segments.length&&(this.nextSeg=-1);this.bytesInSeg;return this.bytesInSeg=e,e},startPacket:function(){for(;-1==this.nextSeg;)if(this.page.start(this),0!=(1&this.page.flag))throw new tt(new $t(ea.MISSING_CAPTURE_PATTERN,null,{fileName:"VorbisDecodeState.hx",lineNumber:193,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"startPacket"}));this.lastSeg=!1,this.validBits=0,this.bytesInSeg=0},maybeStartPacket:function(){if(-1==this.nextSeg){var e,t=!1;try{this.inputPosition+=1,e=this.input.readByte()}catch(a){if(a instanceof tt&&(a=a.val),!at.__instanceof(a,F))throw a;t=!0,e=0}if(t)return!1;var a,i,s;if(79==e?(this.inputPosition+=1,s=103!=this.input.readByte()):s=!0,s?i=!0:(this.inputPosition+=1,i=103!=this.input.readByte()),i?a=!0:(this.inputPosition+=1,a=83!=this.input.readByte()),a)throw new tt(new $t(ea.MISSING_CAPTURE_PATTERN,null,{fileName:"VorbisDecodeState.hx",lineNumber:218,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"maybeStartPacket"}));this.page.startWithoutCapturePattern(this)}return this.startPacket(),!0},readBits:function(e){if(this.validBits<0)return 0;if(this.validBits<e){if(e>24)return this.readBits(24)+(this.readBits(e-24)<<24);for(0==this.validBits&&(this.acc=0);;){if(0==this.bytesInSeg&&(this.lastSeg||0==this.next())){this.validBits=-1;break}if(this.bytesInSeg--,this.inputPosition+=1,this.acc=this.acc+(this.input.readByte()<<this.validBits),this.validBits+=8,!(this.validBits<e))break}if(this.validBits<0)return 0;var t=this.acc&(1<<e)-1;return this.acc=this.acc>>>e,this.validBits-=e,t}var a=this.acc&(1<<e)-1;return this.acc=this.acc>>>e,this.validBits-=e,a},firstPageValidate:function(){if(1!=this.segments.length)throw new tt(new $t(ea.INVALID_FIRST_PAGE,"segmentCount",{fileName:"VorbisDecodeState.hx",lineNumber:307,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"firstPageValidate"}));if(30!=this.segments[0])throw new tt(new $t(ea.INVALID_FIRST_PAGE,"decodeState head",{fileName:"VorbisDecodeState.hx",lineNumber:310,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"firstPageValidate"}))},startFirstDecode:function(){this.firstAudioPageOffset=this.inputPosition,this.firstDecode=!0},prepHuffman:function(){if(this.validBits<=24)for(0==this.validBits&&(this.acc=0);;){if(0==this.bytesInSeg&&(this.lastSeg||0==this.next()))return;if(this.bytesInSeg--,this.inputPosition+=1,this.acc=this.acc+(this.input.readByte()<<this.validBits),this.validBits+=8,!(this.validBits<=24))break}},finishDecodePacket:function(e,t,a){var i=a.left.start,s=!1,n=t>>1;if(this.firstDecode)this.currentLoc=-n,this.discardSamplesDeferred=t-a.right.end,s=!0,this.firstDecode=!1;else if(0!=this.discardSamplesDeferred)a.left.start+=this.discardSamplesDeferred,i=a.left.start,this.discardSamplesDeferred=0;else;if(this.lastSegWhich==this.endSegWithKnownLoc){if(s&&0!=(4&this.page.flag)){var r=this.knownLocForPacket-(t-a.right.end);if(r<this.currentLoc+a.right.end){var l=r<this.currentLoc?0:r-this.currentLoc;return l+=a.left.start,this.currentLoc+=l,{len:l,left:i,right:a.right.start}}}this.currentLoc=this.knownLocForPacket-(n-a.left.start),s=!0}return s&&(this.currentLoc+=a.right.start-a.left.start),{len:a.right.end,left:i,right:a.right.start}},getSampleNumber:function(e,t){var a=this.inputPosition,i=p.gte(t,65536)&&p.gte(t-65536,this.firstAudioPageOffset)?t-65536:this.firstAudioPageOffset;e(this.inputPosition=i);var s=0,n=!1,r=this.findPage(e,t);switch(r[1]){case 0:var l=r[3];s=r[2],n=l;break;case 1:throw new tt(new $t(ea.CANT_FIND_LAST_PAGE,null,{fileName:"VorbisDecodeState.hx",lineNumber:518,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"getSampleNumber"}))}var g=this.inputPosition;try{for(;!n;){e(this.inputPosition=s);var o=this.findPage(e,t);switch(o[1]){case 0:var h=o[3];s=o[2],n=h;break;case 1:throw"__break__"}i=g+1,g=this.inputPosition}}catch(e){if("__break__"!=e)throw e}e(this.inputPosition=g),this.inputPosition+=6;for(var c=new Array(6),d=0;d<6;)c[d++]=this.input.readByte();this.inputPosition+=4;var I=this.input.readInt32();this.inputPosition+=4;var u=this.input.readInt32();if(-1==I&&-1==u||u>0)throw new tt(new $t(ea.CANT_FIND_LAST_PAGE,null,{fileName:"VorbisDecodeState.hx",lineNumber:552,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"getSampleNumber"}));return this.pLast=new qt,this.pLast.pageStart=g,this.pLast.pageEnd=s,this.pLast.lastDecodedSample=I,this.pLast.firstDecodedSample=null,this.pLast.afterPreviousPageStart=i,e(this.inputPosition=a),I},findPage:function(e,t){try{for(;;)if(this.inputPosition+=1,79==this.input.readByte()){var a=this.inputPosition;if(a-25>t)return Dt.NotFound;var i,s;if(this.inputPosition+=1,103==this.input.readByte()?(this.inputPosition+=1,s=103!=this.input.readByte()):s=!0,s?i=!0:(this.inputPosition+=1,i=83!=this.input.readByte()),i)continue;var n=new Array(27);n[0]=79,n[1]=103,n[2]=103,n[3]=83;for(var r=4;r<27;){var l=r++;this.inputPosition+=1,n[l]=this.input.readByte()}if(0!=n[4]){e(this.inputPosition=a);continue}for(var g=n[22]+(n[23]<<8)+(n[24]<<16)+(n[25]<<24),o=22;o<26;)n[o++]=0;for(var h=0,c=0;c<27;){var d=c++;h=h<<8^kt.table[n[d]^h>>>24]}var I=0;try{for(var u=0,C=n[26];u<C;){u++;this.inputPosition+=1;var m=this.input.readByte();h=h<<8^kt.table[m^h>>>24],I+=m}for(var p=0,b=I;p<b;){p++;this.inputPosition+=1;var f=this.input.readByte();h=h<<8^kt.table[f^h>>>24]}}catch(e){if(e instanceof tt&&(e=e.val),at.__instanceof(e,F))return Dt.NotFound;throw e}if(h==g){var A=this.inputPosition;return e(this.inputPosition=a-1),Dt.Found(A,0!=(4&n[5]))}}}catch(e){if(e instanceof tt&&(e=e.val),at.__instanceof(e,F))return Dt.NotFound;throw e}},analyzePage:function(e,t){var a=new qt,i=new Array(255);a.pageStart=this.inputPosition,this.inputPosition+=27;for(var s=new Array(27),n=0;n<27;)s[n++]=this.input.readByte();var r=s,l=r[26];this.inputPosition+=l;for(var g=new Array(l),o=0,h=l;o<h;)g[o++]=this.input.readByte();for(var c=g,d=0,I=0,u=r[26];I<u;)d+=c[I++];if(a.pageEnd=a.pageStart+27+r[26]+d,a.lastDecodedSample=r[6]+(r[7]<<8)+(r[8]<<16)+(r[9]<<16),0!=(4&r[5]))return a.firstDecodedSample=null,e(this.inputPosition=a.pageStart),a;for(var C=0,m=0==(1&r[5]),p=t.modes.length,b=0,f=r[26];b<f;){var A=b++;if(m){if(0==c[A])return e(this.inputPosition=a.pageStart),null;this.inputPosition+=1;var w=this.input.readByte();if(0!=(1&w))return e(this.inputPosition=a.pageStart),null;w>>=1;var v=p-1,B=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];if((w&=(1<<(v<16384?v<16?B[v]:v<512?5+B[v>>5]:10+B[v>>10]:v<16777216?v<524288?15+B[v>>15]:20+B[v>>20]:v<536870912?25+B[v>>25]:v<-2147483648?30+B[v>>30]:0))-1)>=p)return e(this.inputPosition=a.pageStart),null;i[C++]=t.modes[w].blockflag;var M=c[A]-1;this.inputPosition+=M;for(var _=new Array(M),Z=0,y=M;Z<y;)_[Z++]=this.input.readByte()}else{var G=c[A];this.inputPosition+=G;for(var W=new Array(G),S=0,z=G;S<z;)W[S++]=this.input.readByte()}m=c[A]<255}var N=0;C>1&&(N+=i[C-1]?t.blocksize1:t.blocksize0);for(var V=C-2;V>=1;)i[--V]?i[V+1]?N+=t.blocksize1>>1:N+=(t.blocksize1-t.blocksize0>>2)+(t.blocksize0>>1):N+=t.blocksize0>>1,--V;return a.firstDecodedSample=a.lastDecodedSample-N,e(this.inputPosition=a.pageStart),a},decodeScalarRaw:function(e){this.prepHuffman();null!=e.sortedCodewords||e.codewords;var t=e.codewordLengths,a=e.codewords,i=e.sortedCodewords;if(e.entries>8?null!=i:null!=a){for(var s=this.acc,n=(s=(-16711936&(s=(-252645136&(s=(-858993460&(s=(-1431655766&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8)>>>16|s<<16,r=0,l=e.sortedEntries;l>1;){var g=r+(l>>1);p.gte(n,i[g])?(r=g,l-=l>>1):l>>=1}e.sparse||(r=e.sortedValues[r]);var o=t[r];return this.validBits>=o?(this.acc=this.acc>>>o,this.validBits-=o,r):(this.validBits=0,-1)}e.sparse;for(var h=0,c=e.entries;h<c;){var d=h++,I=t[d];if(255!=I&&a[d]==(this.acc&(1<<I)-1))return this.validBits>=I?(this.acc=this.acc>>>I,this.validBits-=I,d):(this.validBits=0,-1)}return this.error=new $t(ea.INVALID_STREAM,null,{fileName:"VorbisDecodeState.hx",lineNumber:846,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"decodeScalarRaw"}),this.validBits=0,-1},__class__:Xt};var Dt=s["kha.audio2.ogg.vorbis._VorbisDecodeState.FindPageResult"]={__ename__:!0,__constructs__:["Found","NotFound"]};Dt.Found=function(e,t){var a=["Found",0,e,t];return a.__enum__=Dt,a.toString=n,a},Dt.NotFound=["NotFound",1],Dt.NotFound.toString=n,Dt.NotFound.__enum__=Dt;var Ht=function(e,t){this.header=e,this.decodeState=t,this.totalSample=null,this.currentSample=0,this.previousLength=0;var a=e.channel,i=new Array(a);this.channelBuffers=i;var s=e.channel,n=new Array(s);this.previousWindow=n;var r=e.channel,l=new Array(r);this.finalY=l;for(var g=0,o=e.channel;g<o;){var h=g++,c=this.channelBuffers,d=e.blocksize1,I=new Array(d);c[h]=I;var u=this.previousWindow,C=e.blocksize1/2|0,m=new Array(C);u[h]=m,this.finalY[h]=[]}var p=new Array(2);this.a=p;var b=new Array(2);this.b=b;var f=new Array(2);this.c=f;var A=new Array(2);this.window=A;var w=new Array(2);this.bitReverseData=w,this.initBlocksize(0,e.blocksize0),this.initBlocksize(1,e.blocksize1)};s["kha.audio2.ogg.vorbis.VorbisDecoder"]=Ht,Ht.__name__=!0,Ht.start=function(e){var t=new Xt(e),a=Qt.read(t),i=new Ht(a,t);return t.startFirstDecode(),i.pumpFirstFrame(),i},Ht.prototype={read:function(e,t,a,i,s){var n=this.header.sampleRate;if(0!=(p.toFloat(i)%p.toFloat(n)|0))throw new tt("Unsupported sampleRate : can't convert "+u.string(p.toFloat(this.header.sampleRate))+" to "+i);if(a%this.header.channel!=0)throw new tt("Unsupported channels : can't convert "+this.header.channel+" to "+a);var r=this.header.sampleRate,l=p.toFloat(i)/p.toFloat(r)|0,g=a/this.header.channel|0,o=0,h=Math.floor(t/l);null!=this.totalSample&&h>this.totalSample-this.currentSample&&(h=this.totalSample-this.currentSample);for(var c=0;o<h;){var d=this.channelBufferEnd-this.channelBufferStart;d>=h-o&&(d=h-o);for(var I=this.channelBufferStart,C=this.channelBufferStart+d;I<C;)for(var m=I++,b=0,f=l;b<f;){b++;for(var A=0,w=this.header.channel;A<w;)for(var v=A++,B=0,M=g;B<M;){B++;var _=this.channelBuffers[v][m];_>1?_=1:_<-1&&(_=-1),s&&(e[c]=_,++c)}}if(o+=d,this.channelBufferStart+=d,o==h||0==this.getFrameFloat())break}for(var Z=o,y=h;Z<y;){Z++;for(var G=0,W=l;G<W;){G++;for(var S=0,z=this.header.channel;S<z;){S++;for(var N=0,V=g;N<V;){N++;s&&(e[c]=0,++c)}}}}return this.currentSample+=h,h*l},skipSamples:function(e){var t=0;for(null!=this.totalSample&&e>this.totalSample-this.currentSample&&(e=this.totalSample-this.currentSample);t<e;){var a=this.channelBufferEnd-this.channelBufferStart;if(a>=e-t&&(a=e-t),t+=a,this.channelBufferStart+=a,t==e||0==this.getFrameFloat())break}return this.currentSample+=e,e},setupSampleNumber:function(e,t){null==this.totalSample&&(this.totalSample=this.decodeState.getSampleNumber(e,t))},seek:function(e,t,a){if(this.currentSample!=a){if(null==this.totalSample&&(this.setupSampleNumber(e,t),0==this.totalSample))throw new tt(new $t(ea.CANT_FIND_LAST_PAGE,null,{fileName:"VorbisDecoder.hx",lineNumber:187,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"seek"}));a<0&&(a=0);var i=this.decodeState.pFirst,s=this.decodeState.pLast;if(a>=s.lastDecodedSample&&(a=s.lastDecodedSample-1),a<i.lastDecodedSample)this.seekFrameFromPage(e,i.pageStart,0,a);else{for(var n=0;i.pageEnd<s.pageStart;){var r=i.pageEnd,l=s.afterPreviousPageStart,g=i.lastDecodedSample,o=s.lastDecodedSample;if(null==g||null==o)throw new tt(new $t(ea.SEEK_FAILED,null,{fileName:"VorbisDecoder.hx",lineNumber:219,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"seek"}));p.gt(l,r+4e3)&&(l-=4e3);var h=r+Math.floor(p.toFloat(l-r)/p.toFloat(o-g)*(a-g));if(n>=4){var c=r+(l-r>>>1);n>=8?h=c:p.gt(c,h)?h+=c-h>>>1:h=c+(h-c>>>1)}switch(++n,e(this.decodeState.inputPosition=h),this.decodeState.findPage(e,t)[1]){case 0:break;case 1:throw new tt(new $t(ea.SEEK_FAILED,null,{fileName:"VorbisDecoder.hx",lineNumber:249,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"seek"}))}var d=this.decodeState.analyzePage(e,this.header);if(null==d)throw new tt(new $t(ea.SEEK_FAILED,null,{fileName:"VorbisDecoder.hx",lineNumber:255,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"seek"}));d.afterPreviousPageStart=h,d.pageStart!=s.pageStart?a<d.lastDecodedSample?s=d:i=d:s=d}if(!(i.lastDecodedSample<=a&&a<s.lastDecodedSample))throw new tt(new $t(ea.SEEK_FAILED,null,{fileName:"VorbisDecoder.hx",lineNumber:275,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"seek"}));this.seekFrameFromPage(e,s.pageStart,i.lastDecodedSample,a)}}},seekFrameFromPage:function(e,t,a,i){var s=0,n=a;e(this.decodeState.inputPosition=t),this.decodeState.nextSeg=-1;for(var r=0,l=0,g=null,o=null;;){g=o,o=this.decodeState.clone(e);var h=this.decodeInitial();if(null==h){o=g;break}l=h.left.start,r=h.left.end;var c=0==s?r:l;if(i<n+h.right.start-c)break;for(var d=this.decodeState;0!=d.bytesInSeg||!d.lastSeg&&0!=d.next();)d.bytesInSeg--,d.inputPosition+=1,d.input.readByte();n+=h.right.start-c,++s}this.decodeState=o,e(this.decodeState.inputPosition),this.previousLength=0,this.pumpFirstFrame(),this.currentSample=n,this.skipSamples(i-n)},ensurePosition:function(e){e(this.decodeState.inputPosition)},getFrameFloat:function(){var e=this.decodePacket();if(null==e)return this.channelBufferStart=this.channelBufferEnd=0,0;var t=this.finishFrame(e);return this.channelBufferStart=e.left,this.channelBufferEnd=e.left+t,t},pumpFirstFrame:function(){this.finishFrame(this.decodePacket())},finishFrame:function(e){var t=e.len,a=e.right,i=e.left;if(0!=this.previousLength)for(var s=this.previousLength,n=this.getWindow(s),r=0,l=this.header.channel;r<l;)for(var g=r++,o=this.channelBuffers[g],h=this.previousWindow[g],c=0,d=s;c<d;){var I=c++;o[i+I]=o[i+I]*n[I]+h[I]*n[s-1-I]}var u=this.previousLength;this.previousLength=t-a;for(var C=0,m=this.header.channel;C<m;)for(var p=C++,b=this.previousWindow[p],f=this.channelBuffers[p],A=0,w=t-a;A<w;){var v=A++;b[v]=f[a+v]}return 0==u?0:(t<a&&(a=t),a-i)},getWindow:function(e){return e<<=1,e==this.header.blocksize0?this.window[0]:e==this.header.blocksize1?this.window[1]:null},initBlocksize:function(e,t){var a=t>>1,i=t>>2,s=t>>3,n=this.a,r=new Array(a);n[e]=r;var l=this.b,g=new Array(a);l[e]=g;var o=this.c,h=new Array(i);o[e]=h;var c=this.window,d=new Array(a);c[e]=d;var I=this.bitReverseData,u=new Array(s);I[e]=u,xt.computeTwiddleFactors(t,this.a[e],this.b[e],this.c[e]),xt.computeWindow(t,this.window[e]),xt.computeBitReverse(t,this.bitReverseData[e])},inverseMdct:function(e,t,a){for(var i=a?1:0,s=this.a[i],n=this.b[i],r=this.c[i],l=this.bitReverseData[i],g=t>>1,o=t>>2,h=t>>3,c=new Array(g),d=g-2,I=0,u=0,C=g;u!=C;)c[d+1]=e[u]*s[I]-e[u+2]*s[I+1],c[d]=e[u]*s[I+1]+e[u+2]*s[I],d-=2,I+=2,u+=4;for(u=g-3;d>=0;)c[d+1]=-e[u+2]*s[I]- -e[u]*s[I+1],c[d]=-e[u+2]*s[I+1]+-e[u]*s[I],d-=2,I+=2,u-=4;for(var m=e,p=c,b=g-8,f=o,A=0,w=o,v=0;b>=0;){var B=p[f+1]-p[A+1],M=p[f]-p[A];m[w+1]=p[f+1]+p[A+1],m[w]=p[f]+p[A],m[v+1]=B*s[b+4]-M*s[b+5],m[v]=M*s[b+4]+B*s[b+5],B=p[f+3]-p[A+3],M=p[f+2]-p[A+2],m[w+3]=p[f+3]+p[A+3],m[w+2]=p[f+2]+p[A+2],m[v+3]=B*s[b]-M*s[b+1],m[v+2]=M*s[b]+B*s[b+1],b-=8,w+=4,v+=4,f+=4,A+=4}for(var _=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],Z=(t<16384?t<16?_[t]:t<512?5+_[t>>5]:10+_[t>>10]:t<16777216?t<524288?15+_[t>>15]:20+_[t>>20]:t<536870912?25+_[t>>25]:t<-2147483648?30+_[t>>30]:0)-1,y=g-1-0*o,G=y,W=y+-(t>>3),S=0,z=1+(t>>4>>2);--z>0;){var N=m[G]-m[W],V=m[G+-1]-m[W+-1],K=G,k=m;k[K]=k[K]+m[W];var Y=G+-1,X=m;X[Y]=X[Y]+m[W+-1],m[W]=N*s[S]-V*s[S+1],m[W+-1]=V*s[S]+N*s[S+1],S+=8,N=m[G+-2]-m[W+-2],V=m[G+-3]-m[W+-3];var D=G+-2,H=m;H[D]=H[D]+m[W+-2];var x=G+-3,F=m;F[x]=F[x]+m[W+-3],m[W+-2]=N*s[S]-V*s[S+1],m[W+-3]=V*s[S]+N*s[S+1],S+=8,N=m[G+-4]-m[W+-4],V=m[G+-5]-m[W+-5];var T=G+-4,j=m;j[T]=j[T]+m[W+-4];var R=G+-5,L=m;L[R]=L[R]+m[W+-5],m[W+-4]=N*s[S]-V*s[S+1],m[W+-5]=V*s[S]+N*s[S+1],S+=8,N=m[G+-6]-m[W+-6],V=m[G+-7]-m[W+-7];var Q=G+-6,O=m;O[Q]=O[Q]+m[W+-6];var E=G+-7,J=m;J[E]=J[E]+m[W+-7],m[W+-6]=N*s[S]-V*s[S+1],m[W+-7]=V*s[S]+N*s[S+1],S+=8,G-=8,W-=8}for(var U=g-1-o,P=U,q=U+-(t>>3),$=0,ee=1+(t>>4>>2);--ee>0;){var te=m[P]-m[q],ae=m[P+-1]-m[q+-1],ie=P,se=m;se[ie]=se[ie]+m[q];var ne=P+-1,re=m;re[ne]=re[ne]+m[q+-1],m[q]=te*s[$]-ae*s[$+1],m[q+-1]=ae*s[$]+te*s[$+1],$+=8,te=m[P+-2]-m[q+-2],ae=m[P+-3]-m[q+-3];var le=P+-2,ge=m;ge[le]=ge[le]+m[q+-2];var oe=P+-3,he=m;he[oe]=he[oe]+m[q+-3],m[q+-2]=te*s[$]-ae*s[$+1],m[q+-3]=ae*s[$]+te*s[$+1],$+=8,te=m[P+-4]-m[q+-4],ae=m[P+-5]-m[q+-5];var ce=P+-4,de=m;de[ce]=de[ce]+m[q+-4];var Ie=P+-5,ue=m;ue[Ie]=ue[Ie]+m[q+-5],m[q+-4]=te*s[$]-ae*s[$+1],m[q+-5]=ae*s[$]+te*s[$+1],$+=8,te=m[P+-6]-m[q+-6],ae=m[P+-7]-m[q+-7];var Ce=P+-6,me=m;me[Ce]=me[Ce]+m[q+-6];var pe=P+-7,be=m;be[pe]=be[pe]+m[q+-7],m[q+-6]=te*s[$]-ae*s[$+1],m[q+-7]=ae*s[$]+te*s[$+1],$+=8,P-=8,q-=8}for(var fe=g-1-0*h,Ae=0,we=fe,ve=fe+-(t>>4),Be=1+(t>>5>>2);--Be>0;){var Me=m[we]-m[ve],_e=m[we+-1]-m[ve+-1],Ze=we,ye=m;ye[Ze]=ye[Ze]+m[ve];var Ge=we+-1,We=m;We[Ge]=We[Ge]+m[ve+-1],m[ve]=Me*s[Ae]-_e*s[Ae+1],m[ve+-1]=_e*s[Ae]+Me*s[Ae+1],Ae+=16,Me=m[we+-2]-m[ve+-2],_e=m[we+-3]-m[ve+-3];var Se=we+-2,ze=m;ze[Se]=ze[Se]+m[ve+-2];var Ne=we+-3,Ve=m;Ve[Ne]=Ve[Ne]+m[ve+-3],m[ve+-2]=Me*s[Ae]-_e*s[Ae+1],m[ve+-3]=_e*s[Ae]+Me*s[Ae+1],Ae+=16,Me=m[we+-4]-m[ve+-4],_e=m[we+-5]-m[ve+-5];var Ke=we+-4,ke=m;ke[Ke]=ke[Ke]+m[ve+-4];var Ye=we+-5,Xe=m;Xe[Ye]=Xe[Ye]+m[ve+-5],m[ve+-4]=Me*s[Ae]-_e*s[Ae+1],m[ve+-5]=_e*s[Ae]+Me*s[Ae+1],Ae+=16,Me=m[we+-6]-m[ve+-6],_e=m[we+-7]-m[ve+-7];var De=we+-6,He=m;He[De]=He[De]+m[ve+-6];var xe=we+-7,Fe=m;Fe[xe]=Fe[xe]+m[ve+-7],m[ve+-6]=Me*s[Ae]-_e*s[Ae+1],m[ve+-7]=_e*s[Ae]+Me*s[Ae+1],we-=8,ve-=8,Ae+=16}for(var Te=g-1-h,je=0,Re=Te,Le=Te+-(t>>4),Qe=1+(t>>5>>2);--Qe>0;){var Oe=m[Re]-m[Le],Ee=m[Re+-1]-m[Le+-1],Je=Re,Ue=m;Ue[Je]=Ue[Je]+m[Le];var Pe=Re+-1,qe=m;qe[Pe]=qe[Pe]+m[Le+-1],m[Le]=Oe*s[je]-Ee*s[je+1],m[Le+-1]=Ee*s[je]+Oe*s[je+1],je+=16,Oe=m[Re+-2]-m[Le+-2],Ee=m[Re+-3]-m[Le+-3];var $e=Re+-2,et=m;et[$e]=et[$e]+m[Le+-2];var tt=Re+-3,at=m;at[tt]=at[tt]+m[Le+-3],m[Le+-2]=Oe*s[je]-Ee*s[je+1],m[Le+-3]=Ee*s[je]+Oe*s[je+1],je+=16,Oe=m[Re+-4]-m[Le+-4],Ee=m[Re+-5]-m[Le+-5];var it=Re+-4,st=m;st[it]=st[it]+m[Le+-4];var nt=Re+-5,rt=m;rt[nt]=rt[nt]+m[Le+-5],m[Le+-4]=Oe*s[je]-Ee*s[je+1],m[Le+-5]=Ee*s[je]+Oe*s[je+1],je+=16,Oe=m[Re+-6]-m[Le+-6],Ee=m[Re+-7]-m[Le+-7];var lt=Re+-6,gt=m;gt[lt]=gt[lt]+m[Le+-6];var ot=Re+-7,ht=m;ht[ot]=ht[ot]+m[Le+-7],m[Le+-6]=Oe*s[je]-Ee*s[je+1],m[Le+-7]=Ee*s[je]+Oe*s[je+1],Re-=8,Le-=8,je+=16}for(var ct=g-1-2*h,dt=0,It=ct,ut=ct+-(t>>4),Ct=1+(t>>5>>2);--Ct>0;){var mt=m[It]-m[ut],pt=m[It+-1]-m[ut+-1],bt=It,ft=m;ft[bt]=ft[bt]+m[ut];var At=It+-1,wt=m;wt[At]=wt[At]+m[ut+-1],m[ut]=mt*s[dt]-pt*s[dt+1],m[ut+-1]=pt*s[dt]+mt*s[dt+1],dt+=16,mt=m[It+-2]-m[ut+-2],pt=m[It+-3]-m[ut+-3];var vt=It+-2,Bt=m;Bt[vt]=Bt[vt]+m[ut+-2];var Mt=It+-3,_t=m;_t[Mt]=_t[Mt]+m[ut+-3],m[ut+-2]=mt*s[dt]-pt*s[dt+1],m[ut+-3]=pt*s[dt]+mt*s[dt+1],dt+=16,mt=m[It+-4]-m[ut+-4],pt=m[It+-5]-m[ut+-5];var Zt=It+-4,yt=m;yt[Zt]=yt[Zt]+m[ut+-4];var Gt=It+-5,Wt=m;Wt[Gt]=Wt[Gt]+m[ut+-5],m[ut+-4]=mt*s[dt]-pt*s[dt+1],m[ut+-5]=pt*s[dt]+mt*s[dt+1],dt+=16,mt=m[It+-6]-m[ut+-6],pt=m[It+-7]-m[ut+-7];var St=It+-6,zt=m;zt[St]=zt[St]+m[ut+-6];var Nt=It+-7,Vt=m;Vt[Nt]=Vt[Nt]+m[ut+-7],m[ut+-6]=mt*s[dt]-pt*s[dt+1],m[ut+-7]=pt*s[dt]+mt*s[dt+1],It-=8,ut-=8,dt+=16}for(var Kt=g-1-3*h,kt=0,Yt=Kt,Xt=Kt+-(t>>4),Dt=1+(t>>5>>2);--Dt>0;){var Ht=m[Yt]-m[Xt],xt=m[Yt+-1]-m[Xt+-1],Ft=Yt,Tt=m;Tt[Ft]=Tt[Ft]+m[Xt];var jt=Yt+-1,Rt=m;Rt[jt]=Rt[jt]+m[Xt+-1],m[Xt]=Ht*s[kt]-xt*s[kt+1],m[Xt+-1]=xt*s[kt]+Ht*s[kt+1],kt+=16,Ht=m[Yt+-2]-m[Xt+-2],xt=m[Yt+-3]-m[Xt+-3];var Lt=Yt+-2,Qt=m;Qt[Lt]=Qt[Lt]+m[Xt+-2];var Ot=Yt+-3,Et=m;Et[Ot]=Et[Ot]+m[Xt+-3],m[Xt+-2]=Ht*s[kt]-xt*s[kt+1],m[Xt+-3]=xt*s[kt]+Ht*s[kt+1],kt+=16,Ht=m[Yt+-4]-m[Xt+-4],xt=m[Yt+-5]-m[Xt+-5];var Jt=Yt+-4,Ut=m;Ut[Jt]=Ut[Jt]+m[Xt+-4];var Pt=Yt+-5,qt=m;qt[Pt]=qt[Pt]+m[Xt+-5],m[Xt+-4]=Ht*s[kt]-xt*s[kt+1],m[Xt+-5]=xt*s[kt]+Ht*s[kt+1],kt+=16,Ht=m[Yt+-6]-m[Xt+-6],xt=m[Yt+-7]-m[Xt+-7];var $t=Yt+-6,ea=m;ea[$t]=ea[$t]+m[Xt+-6];var ta=Yt+-7,aa=m;aa[ta]=aa[ta]+m[Xt+-7],m[Xt+-6]=Ht*s[kt]-xt*s[kt+1],m[Xt+-7]=xt*s[kt]+Ht*s[kt+1],Yt-=8,Xt-=8,kt+=16}for(var ia=2,sa=Z-3>>1;ia<sa;)for(var na=ia++,ra=t>>na+2,la=ra>>1,ga=0,oa=1<<na+1;ga<oa;)for(var ha=g-1-ra*ga++,ca=1<<na+3,da=0,Ia=ha,ua=ha+-la,Ca=1+(t>>na+4>>2);--Ca>0;){var ma=m[Ia]-m[ua],pa=m[Ia+-1]-m[ua+-1],ba=Ia,fa=m;fa[ba]=fa[ba]+m[ua];var Aa=Ia+-1,wa=m;wa[Aa]=wa[Aa]+m[ua+-1],m[ua]=ma*s[da]-pa*s[da+1],m[ua+-1]=pa*s[da]+ma*s[da+1],da+=ca,ma=m[Ia+-2]-m[ua+-2],pa=m[Ia+-3]-m[ua+-3];var va=Ia+-2,Ba=m;Ba[va]=Ba[va]+m[ua+-2];var Ma=Ia+-3,_a=m;_a[Ma]=_a[Ma]+m[ua+-3],m[ua+-2]=ma*s[da]-pa*s[da+1],m[ua+-3]=pa*s[da]+ma*s[da+1],da+=ca,ma=m[Ia+-4]-m[ua+-4],pa=m[Ia+-5]-m[ua+-5];var Za=Ia+-4,ya=m;ya[Za]=ya[Za]+m[ua+-4];var Ga=Ia+-5,Wa=m;Wa[Ga]=Wa[Ga]+m[ua+-5],m[ua+-4]=ma*s[da]-pa*s[da+1],m[ua+-5]=pa*s[da]+ma*s[da+1],da+=ca,ma=m[Ia+-6]-m[ua+-6],pa=m[Ia+-7]-m[ua+-7];var Sa=Ia+-6,za=m;za[Sa]=za[Sa]+m[ua+-6];var Na=Ia+-7,Va=m;Va[Na]=Va[Na]+m[ua+-7],m[ua+-6]=ma*s[da]-pa*s[da+1],m[ua+-7]=pa*s[da]+ma*s[da+1],Ia-=8,ua-=8,da+=ca}for(var Ka=Z-3>>1,ka=Z-6;Ka<ka;)for(var Ya=Ka++,Xa=t>>Ya+2,Da=1<<Ya+3,Ha=Xa>>1,xa=1<<Ya+1,Fa=0,Ta=g-1,ja=(t>>Ya+6)+1;--ja>0;){for(var Ra=s[Fa],La=s[Fa+1],Qa=s[Fa+Da],Oa=s[Fa+Da+1],Ea=s[Fa+2*Da],Ja=s[Fa+2*Da+1],Ua=s[Fa+3*Da],Pa=s[Fa+3*Da+1],qa=Ta,$a=Ta+-Ha,ei=xa+1;--ei>0;){var ti=m[qa]-m[$a],ai=m[qa+-1]-m[$a+-1];m[qa]=m[qa]+m[$a],m[qa+-1]=m[qa+-1]+m[$a+-1],m[$a]=ti*Ra-ai*La,m[$a+-1]=ai*Ra+ti*La,ti=m[qa+-2]-m[$a+-2],ai=m[qa+-3]-m[$a+-3],m[qa+-2]=m[qa+-2]+m[$a+-2],m[qa+-3]=m[qa+-3]+m[$a+-3],m[$a+-2]=ti*Qa-ai*Oa,m[$a+-3]=ai*Qa+ti*Oa,ti=m[qa+-4]-m[$a+-4],ai=m[qa+-5]-m[$a+-5],m[qa+-4]=m[qa+-4]+m[$a+-4],m[qa+-5]=m[qa+-5]+m[$a+-5],m[$a+-4]=ti*Ea-ai*Ja,m[$a+-5]=ai*Ea+ti*Ja,ti=m[qa+-6]-m[$a+-6],ai=m[qa+-7]-m[$a+-7],m[qa+-6]=m[qa+-6]+m[$a+-6],m[qa+-7]=m[qa+-7]+m[$a+-7],m[$a+-6]=ti*Ua-ai*Pa,m[$a+-7]=ai*Ua+ti*Pa,qa-=Xa,$a-=Xa}Fa+=4*Da,Ta-=8}for(var ii=g-1,si=s[t>>3],ni=ii,ri=ii-16*(t>>5);ni>ri;){var li=m[ni],gi=m[ni+-8];m[ni+-8]=li-gi,m[ni]=li+gi,li=m[ni+-1],gi=m[ni+-9],m[ni+-9]=li-gi,m[ni+-1]=li+gi;var oi=(li=m[ni+-2])-(gi=m[ni+-10]);m[ni+-2]=li+gi;var hi=(li=m[ni+-3])-(gi=m[ni+-11]);m[ni+-3]=li+gi,m[ni+-10]=(oi+hi)*si,m[ni+-11]=(hi-oi)*si,li=m[ni+-4],oi=(gi=m[ni+-12])-li,m[ni+-4]=li+gi,hi=(li=m[ni+-5])-(gi=m[ni+-13]),m[ni+-5]=li+gi,m[ni+-12]=hi,m[ni+-13]=oi,li=m[ni+-6],oi=(gi=m[ni+-14])-li,m[ni+-6]=li+gi,hi=(li=m[ni+-7])-(gi=m[ni+-15]),m[ni+-7]=li+gi,m[ni+-14]=(oi+hi)*si,m[ni+-15]=(oi-hi)*si;var ci=m[ni],di=m[ni+-4],Ii=ci-di,ui=ci+di,Ci=(ci=m[ni+-2])+(di=m[ni+-6]),mi=ci-di;m[ni]=ui+Ci,m[ni+-2]=ui-Ci;var pi=m[ni+-3]-m[ni+-7];m[ni+-4]=Ii+pi,m[ni+-6]=Ii-pi;var bi=(ci=m[ni+-1])-(di=m[ni+-5]),fi=ci+di,Ai=m[ni+-3]+m[ni+-7];m[ni+-1]=fi+Ai,m[ni+-3]=fi-Ai,m[ni+-5]=bi-mi,m[ni+-7]=bi+mi;var wi=ni-8,vi=m[wi],Bi=m[wi+-4],Mi=vi-Bi,_i=vi+Bi,Zi=(vi=m[wi+-2])+(Bi=m[wi+-6]),yi=vi-Bi;m[wi]=_i+Zi,m[wi+-2]=_i-Zi;var Gi=m[wi+-3]-m[wi+-7];m[wi+-4]=Mi+Gi,m[wi+-6]=Mi-Gi;var Wi=(vi=m[wi+-1])-(Bi=m[wi+-5]),Si=vi+Bi,zi=m[wi+-3]+m[wi+-7];m[wi+-1]=Si+zi,m[wi+-3]=Si-zi,m[wi+-5]=Wi-yi,m[wi+-7]=Wi+yi,ni-=16}for(var Ni=0,Vi=o-4,Ki=g-4;Vi>=0;){var ki=l[Ni];p[Ki+3]=m[ki],p[Ki+2]=m[ki+1],p[Vi+3]=m[ki+2],p[Vi+2]=m[ki+3],ki=l[Ni+1],p[Ki+1]=m[ki],p[Ki]=m[ki+1],p[Vi+1]=m[ki+2],p[Vi]=m[ki+3],Vi-=4,Ki-=4,Ni+=2}for(var Yi=0,Xi=0,Di=g-4;Xi<Di;){var Hi=p[Xi]-p[Di+2],xi=p[Xi+1]+p[Di+3],Fi=r[Yi+1]*Hi+r[Yi]*xi,Ti=r[Yi+1]*xi-r[Yi]*Hi,ji=p[Xi]+p[Di+2],Ri=p[Xi+1]-p[Di+3];p[Xi]=ji+Fi,p[Xi+1]=Ri+Ti,p[Di+2]=ji-Fi,p[Di+3]=Ti-Ri,Hi=p[Xi+2]-p[Di],xi=p[Xi+3]+p[Di+1],Fi=r[Yi+3]*Hi+r[Yi+2]*xi,Ti=r[Yi+3]*xi-r[Yi+2]*Hi,ji=p[Xi+2]+p[Di],Ri=p[Xi+3]-p[Di+1],p[Xi+2]=ji+Fi,p[Xi+3]=Ri+Ti,p[Di]=ji-Fi,p[Di+1]=Ti-Ri,Yi+=4,Xi+=4,Di-=4}for(var Li=g-8,Qi=g-8,Oi=0,Ei=g-4,Ji=g,Ui=t-4;Qi>=0;){var Pi=c[Qi+6]*n[Li+7]-c[Qi+7]*n[Li+6],qi=-c[Qi+6]*n[Li+6]-c[Qi+7]*n[Li+7];e[Oi]=Pi,e[Ei+3]=-Pi,e[Ji]=qi,e[Ui+3]=qi;var $i=c[Qi+4]*n[Li+5]-c[Qi+5]*n[Li+4],es=-c[Qi+4]*n[Li+4]-c[Qi+5]*n[Li+5];e[Oi+1]=$i,e[Ei+2]=-$i,e[Ji+1]=es,e[Ui+2]=es,Pi=c[Qi+2]*n[Li+3]-c[Qi+3]*n[Li+2],qi=-c[Qi+2]*n[Li+2]-c[Qi+3]*n[Li+3],e[Oi+2]=Pi,e[Ei+1]=-Pi,e[Ji+2]=qi,e[Ui+1]=qi,$i=c[Qi]*n[Li+1]-c[Qi+1]*n[Li],es=-c[Qi]*n[Li]-c[Qi+1]*n[Li+1],e[Oi+3]=$i,e[Ei]=-$i,e[Ji+3]=es,e[Ui]=es,Li-=8,Qi-=8,Oi+=4,Ji+=4,Ei-=4,Ui-=4}},decodePacket:function(){var e=this.decodeInitial();return null==e?null:this.decodePacketRest(e)},decodeInitial:function(){for(this.channelBufferStart=this.channelBufferEnd=0;;){if(!this.decodeState.maybeStartPacket())return null;var e,t=this.decodeState;if(t.validBits<0)e=0;else if(t.validBits<1){for(0==t.validBits&&(t.acc=0);;){if(0==t.bytesInSeg&&(t.lastSeg||0==t.next())){t.validBits=-1;break}if(t.bytesInSeg--,t.inputPosition+=1,t.acc=t.acc+(t.input.readByte()<<t.validBits),t.validBits+=8,!(t.validBits<1))break}if(t.validBits<0)e=0;else{var a=1&t.acc;t.acc=t.acc>>>1,t.validBits-=1,e=a}}else{var i=1&t.acc;t.acc=t.acc>>>1,t.validBits-=1,e=i}if(0==e)break;for(;;){var s,n=this.decodeState;if(0!=n.bytesInSeg||!n.lastSeg&&0!=n.next()?(n.bytesInSeg--,n.inputPosition+=1,s=n.input.readByte()):s=-1,n.validBits=0,-1==s)break}}var r,l=this.decodeState,g=this.header.modes.length-1,o=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],h=g<16384?g<16?o[g]:g<512?5+o[g>>5]:10+o[g>>10]:g<16777216?g<524288?15+o[g>>15]:20+o[g>>20]:g<536870912?25+o[g>>25]:g<-2147483648?30+o[g>>30]:0;if(l.validBits<0)r=0;else if(l.validBits<h)if(h>24)r=l.readBits(24)+(l.readBits(h-24)<<24);else{for(0==l.validBits&&(l.acc=0);;){if(0==l.bytesInSeg&&(l.lastSeg||0==l.next())){l.validBits=-1;break}if(l.bytesInSeg--,l.inputPosition+=1,l.acc=l.acc+(l.input.readByte()<<l.validBits),l.validBits+=8,!(l.validBits<h))break}if(l.validBits<0)r=0;else{var c=l.acc&(1<<h)-1;l.acc=l.acc>>>h,l.validBits-=h,r=c}}else{var d=l.acc&(1<<h)-1;l.acc=l.acc>>>h,l.validBits-=h,r=d}if(-1==r||r>=this.header.modes.length)throw new tt(new $t(ea.SEEK_FAILED,null,{fileName:"VorbisDecoder.hx",lineNumber:519,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"decodeInitial"}));var I,u,C,m=this.header.modes[r];if(m.blockflag){I=this.header.blocksize1;var p=this.decodeState;if(p.validBits<0)u=0;else if(p.validBits<1){for(0==p.validBits&&(p.acc=0);;){if(0==p.bytesInSeg&&(p.lastSeg||0==p.next())){p.validBits=-1;break}if(p.bytesInSeg--,p.inputPosition+=1,p.acc=p.acc+(p.input.readByte()<<p.validBits),p.validBits+=8,!(p.validBits<1))break}if(p.validBits<0)u=0;else{var b=1&p.acc;p.acc=p.acc>>>1,p.validBits-=1,u=b}}else{var f=1&p.acc;p.acc=p.acc>>>1,p.validBits-=1,u=f}var A=this.decodeState;if(A.validBits<0)C=0;else if(A.validBits<1){for(0==A.validBits&&(A.acc=0);;){if(0==A.bytesInSeg&&(A.lastSeg||0==A.next())){A.validBits=-1;break}if(A.bytesInSeg--,A.inputPosition+=1,A.acc=A.acc+(A.input.readByte()<<A.validBits),A.validBits+=8,!(A.validBits<1))break}if(A.validBits<0)C=0;else{var w=1&A.acc;A.acc=A.acc>>>1,A.validBits-=1,C=w}}else{var v=1&A.acc;A.acc=A.acc>>>1,A.validBits-=1,C=v}}else u=C=0,I=this.header.blocksize0;var B=I>>1;return{mode:r,left:m.blockflag&&0==u?{start:I-this.header.blocksize0>>2,end:I+this.header.blocksize0>>2}:{start:0,end:B},right:m.blockflag&&0==C?{start:3*I-this.header.blocksize0>>2,end:3*I+this.header.blocksize0>>2}:{start:B,end:I}}},decodePacketRest:function(e){for(var t=this.header.modes[e.mode],a=new Array(256),i=new Array(256),s=t.blockflag?this.header.blocksize1:this.header.blocksize0,n=this.header.mapping[t.mapping],r=s>>1,l=[256,128,86,64],g=this.header.codebooks,o=0,h=this.header.channel;o<h;){var c=o++,d=n.chan[c].mux;a[c]=!1;var I=this.header.floorConfig[n.submapFloor[d]];if(0==I.type)throw new tt(new $t(ea.INVALID_STREAM,null,{fileName:"VorbisDecoder.hx",lineNumber:581,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"decodePacketRest"}));var u,C=I.floor1,m=this.decodeState;if(m.validBits<0)u=0;else if(m.validBits<1){for(0==m.validBits&&(m.acc=0);;){if(0==m.bytesInSeg&&(m.lastSeg||0==m.next())){m.validBits=-1;break}if(m.bytesInSeg--,m.inputPosition+=1,m.acc=m.acc+(m.input.readByte()<<m.validBits),m.validBits+=8,!(m.validBits<1))break}if(m.validBits<0)u=0;else{var p=1&m.acc;m.acc=m.acc>>>1,m.validBits-=1,u=p}}else{var b=1&m.acc;m.acc=m.acc>>>1,m.validBits-=1,u=b}if(0!=u){var f=[],A=new Array(256),w=l[C.floor1Multiplier-1],v=2;f=this.finalY[c];var B,M=this.decodeState,_=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],Z=(w<16384?w<16?_[w]:w<512?5+_[w>>5]:10+_[w>>10]:w<16777216?w<524288?15+_[w>>15]:20+_[w>>20]:w<536870912?25+_[w>>25]:w<-2147483648?30+_[w>>30]:0)-1;if(M.validBits<0)B=0;else if(M.validBits<Z)if(Z>24)B=M.readBits(24)+(M.readBits(Z-24)<<24);else{for(0==M.validBits&&(M.acc=0);;){if(0==M.bytesInSeg&&(M.lastSeg||0==M.next())){M.validBits=-1;break}if(M.bytesInSeg--,M.inputPosition+=1,M.acc=M.acc+(M.input.readByte()<<M.validBits),M.validBits+=8,!(M.validBits<Z))break}if(M.validBits<0)B=0;else{var y=M.acc&(1<<Z)-1;M.acc=M.acc>>>Z,M.validBits-=Z,B=y}}else{var G=M.acc&(1<<Z)-1;M.acc=M.acc>>>Z,M.validBits-=Z,B=G}f[0]=B;var W,S=this.decodeState,z=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],N=(w<16384?w<16?z[w]:w<512?5+z[w>>5]:10+z[w>>10]:w<16777216?w<524288?15+z[w>>15]:20+z[w>>20]:w<536870912?25+z[w>>25]:w<-2147483648?30+z[w>>30]:0)-1;if(S.validBits<0)W=0;else if(S.validBits<N)if(N>24)W=S.readBits(24)+(S.readBits(N-24)<<24);else{for(0==S.validBits&&(S.acc=0);;){if(0==S.bytesInSeg&&(S.lastSeg||0==S.next())){S.validBits=-1;break}if(S.bytesInSeg--,S.inputPosition+=1,S.acc=S.acc+(S.input.readByte()<<S.validBits),S.validBits+=8,!(S.validBits<N))break}if(S.validBits<0)W=0;else{var V=S.acc&(1<<N)-1;S.acc=S.acc>>>N,S.validBits-=N,W=V}}else{var K=S.acc&(1<<N)-1;S.acc=S.acc>>>N,S.validBits-=N,W=K}f[1]=W;for(var k=0,Y=C.partitions;k<Y;){var X=k++,D=C.partitionClassList[X],H=C.classDimensions[D],x=C.classSubclasses[D],F=(1<<x)-1,T=0;if(0!=x){var j=g[C.classMasterbooks[D]],R=this.decodeState;R.validBits<10&&R.prepHuffman();var L,Q=j.fastHuffman[1023&R.acc];if(Q>=0){var O=j.codewordLengths[Q];R.acc=R.acc>>>O,R.validBits-=O,R.validBits<0?(R.validBits=0,L=-1):L=Q}else L=R.decodeScalarRaw(j);j.sparse&&(L=j.sortedValues[L]),T=L}for(var E=C.subclassBooks[D],J=0,U=H;J<U;){J++;var P=E[T&F];T>>=x;var q,$=v++;if(P>=0){var ee=this.decodeState,te=g[P];ee.validBits<10&&ee.prepHuffman();var ae,ie=te.fastHuffman[1023&ee.acc];if(ie>=0){var se=te.codewordLengths[ie];ee.acc=ee.acc>>>se,ee.validBits-=se,ee.validBits<0?(ee.validBits=0,ae=-1):ae=ie}else ae=ee.decodeScalarRaw(te);te.sparse&&(ae=te.sortedValues[ae]),q=ae}else q=0;f[$]=q}}if(-1==this.decodeState.validBits){a[c]=!0;continue}A[0]=A[1]=!0;for(var ne=C.neighbors,re=C.xlist,le=2,ge=C.values;le<ge;){var oe=le++,he=ne[oe][0],ce=ne[oe][1],de=re[he],Ie=f[he],ue=f[ce]-Ie,Ce=re[ce]-de,me=Math.abs(ue)*(re[oe]-de)/Ce|0,pe=ue<0?Ie-me:Ie+me,be=f[oe],fe=w-pe,Ae=fe<pe?2*fe:2*pe;0!=be?(A[he]=A[ce]=!0,A[oe]=!0,f[oe]=be>=Ae?fe>pe?be-pe+pe:pe-be+fe-1:0!=(1&be)?pe-(be+1>>1):pe+(be>>1)):(A[oe]=!1,f[oe]=pe)}for(var we=0,ve=C.values;we<ve;){var Be=we++;A[Be]||(f[Be]=-1)}}else a[c]=!0}for(var Me=0,_e=this.header.channel;Me<_e;){var Ze=Me++;i[Ze]=a[Ze]}for(var ye=0,Ge=n.couplingSteps;ye<Ge;){var We=ye++;a[n.chan[We].magnitude]&&a[n.chan[We].angle]||(a[n.chan[We].magnitude]=a[n.chan[We].angle]=!1)}for(var Se=0,ze=n.submaps;Se<ze;){for(var Ne=Se++,Ve=this.header.channel,Ke=new Array(Ve),ke=new Array(256),Ye=0,Xe=0,De=this.header.channel;Xe<De;){var He=Xe++;n.chan[He].mux==Ne&&(a[He]?(ke[Ye]=!0,Ke[Ye]=null):(ke[Ye]=!1,Ke[Ye]=this.channelBuffers[He]),++Ye)}var xe=n.submapResidue[Ne];this.header.residueConfig[xe].decode(this.decodeState,this.header,Ke,Ye,r,ke,this.channelBuffers)}for(var Fe=n.couplingSteps,Te=s>>1;--Fe>=0;)for(var je=this.channelBuffers[n.chan[Fe].magnitude],Re=this.channelBuffers[n.chan[Fe].angle],Le=0,Qe=Te;Le<Qe;){var Oe,Ee,Je=Le++;je[Je]>0?Re[Je]>0?(Ee=je[Je],Oe=je[Je]-Re[Je]):(Oe=je[Je],Ee=je[Je]+Re[Je]):Re[Je]>0?(Ee=je[Je],Oe=je[Je]+Re[Je]):(Oe=je[Je],Ee=je[Je]-Re[Je]),je[Je]=Ee,Re[Je]=Oe}for(var Ue=0,Pe=this.header.channel;Ue<Pe;){var qe=Ue++;if(i[qe])for(var $e=0,et=Te;$e<et;){var at=$e++;this.channelBuffers[qe][at]=0}else n.doFloor(this.header.floorConfig,qe,s,this.channelBuffers[qe],this.finalY[qe],null)}for(var it=0,st=this.header.channel;it<st;){var nt=it++;this.inverseMdct(this.channelBuffers[nt],s,t.blockflag)}for(var rt=this.decodeState;0!=rt.bytesInSeg||!rt.lastSeg&&0!=rt.next();)rt.bytesInSeg--,rt.inputPosition+=1,rt.input.readByte();return this.decodeState.finishDecodePacket(this.previousLength,s,e)},__class__:Ht};var xt=function(){};s["kha.audio2.ogg.vorbis.VorbisTools"]=xt,xt.__name__=!0,xt.pointCompare=function(e,t){return e.x<t.x?-1:e.x>t.x?1:0},xt.uintAsc=function(e,t){return p.gt(t,e)?-1:e==t?0:1},xt.lookup1Values=function(e,t){var a=0|Math.exp(Math.log(e)/t);(0|Math.pow(a+1,t))<=e&&++a;Math.pow(a+1,t),Math.pow(a,t);return a},xt.computeWindow=function(e,t){for(var a=e>>1,i=0,s=a;i<s;){var n=i++;t[n]=Math.sin(1.5707963267948966*xt.square(Math.sin((n+.5)/a*.5*3.141592653589793)))}},xt.square=function(e){return e*e},xt.computeBitReverse=function(e,t){for(var a=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],i=(e<16384?e<16?a[e]:e<512?5+a[e>>5]:10+a[e>>10]:e<16777216?e<524288?15+a[e>>15]:20+a[e>>20]:e<536870912?25+a[e>>25]:e<-2147483648?30+a[e>>30]:0)-1,s=0,n=e>>3;s<n;){var r=s++,l=r;l=(-16711936&(l=(-252645136&(l=(-858993460&(l=(-1431655766&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,t[r]=(l>>>16|l<<16)>>>32-i+3<<2}},xt.computeTwiddleFactors=function(e,t,a,i){for(var s=e>>3,n=0,r=0,l=e>>2;r<l;){var g=r++;t[n]=Math.cos(4*g*3.141592653589793/e),t[n+1]=-Math.sin(4*g*3.141592653589793/e),a[n]=.5*Math.cos(3.141592653589793*(n+1)/e/2),a[n+1]=.5*Math.sin(3.141592653589793*(n+1)/e/2),n+=2}for(var o=0,h=0,c=s;h<c;){h++;i[o]=Math.cos(2*(o+1)*3.141592653589793/e),i[o+1]=-Math.sin(2*(o+1)*3.141592653589793/e),o+=2}},xt.drawLine=function(e,t,a,i,s,n){if(null==xt.integerDivideTable){var r=new Array(32);xt.integerDivideTable=r;for(var l=0;l<32;){var g=l++,o=xt.integerDivideTable,h=new Array(64);o[g]=h;for(var c=1;c<64;){var d=c++;xt.integerDivideTable[g][d]=g/d|0}}}var I,u,C=s-a,m=i-t,p=C<0?-C:C,b=t,f=a,A=0;m<64&&p<32?u=C<0?(I=-xt.integerDivideTable[p][m])-1:(I=xt.integerDivideTable[p][m])+1:(I=C/m|0,u=C<0?I-1:I+1),p-=(I<0?-I:I)*m,i>n&&(i=n);var w=b,v=e;v[w]=v[w]*xt.INVERSE_DB_TABLE[f];for(var B=b+1,M=i;B<M;){var _=B++;(A+=p)>=m?(A-=m,f+=u):f+=I;var Z=_,y=e;y[Z]=y[Z]*xt.INVERSE_DB_TABLE[f]}};var Ft=function(){};s["kha.audio2.ogg.vorbis.data.Codebook"]=Ft,Ft.__name__=!0,Ft.read=function(e){var t,a,i,s=new Ft;if(e.validBits<0)i=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)i=0;else{var n=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,i=n}}else{var r=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,i=r}if(66==i){var l;if(e.validBits<0)l=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)l=0;else{var g=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,l=g}}else{var o=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,l=o}a=67!=l}else a=!0;if(a)t=!0;else{var h;if(e.validBits<0)h=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)h=0;else{var c=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,h=c}}else{var d=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,h=d}t=86!=h}if(t)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Codebook.hx",lineNumber:40,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"read"}));var I;if(e.validBits<0)I=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)I=0;else{var u=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,I=u}}else{var C=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,I=C}var m;if(e.validBits<0)m=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)m=0;else{var b=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,m=b}}else{var f=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,m=f}s.dimensions=(m<<8)+I;var A;if(e.validBits<0)A=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)A=0;else{var w=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,A=w}}else{var v=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,A=v}var B;if(e.validBits<0)B=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)B=0;else{var M=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,B=M}}else{var _=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,B=_}var Z;if(e.validBits<0)Z=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)Z=0;else{var y=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,Z=y}}else{var G=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,Z=G}s.entries=(Z<<16)+(B<<8)+A;var W;if(e.validBits<0)W=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)W=0;else{var S=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,W=S}}else{var z=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,W=z}var N;if(0!=W)N=!1;else{var V;if(e.validBits<0)V=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)V=0;else{var K=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,V=K}}else{var k=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,V=k}N=0!=V}s.sparse=N;var Y=s.entries,X=new Array(Y);s.sparse||(s.codewordLengths=X);var D=0;if(0!=W){var H,x=0;if(e.validBits<0)H=0;else if(e.validBits<5){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<5))break}if(e.validBits<0)H=0;else{var F=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,H=F}}else{var T=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,H=T}for(var j=H+1;x<s.entries;){var R,L=s.entries-x,Q=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],O=L<16384?L<16?Q[L]:L<512?5+Q[L>>5]:10+Q[L>>10]:L<16777216?L<524288?15+Q[L>>15]:20+Q[L>>20]:L<536870912?25+Q[L>>25]:L<-2147483648?30+Q[L>>30]:0;if(e.validBits<0)R=0;else if(e.validBits<O)if(O>24)R=e.readBits(24)+(e.readBits(O-24)<<24);else{for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<O))break}if(e.validBits<0)R=0;else{var E=e.acc&(1<<O)-1;e.acc=e.acc>>>O,e.validBits-=O,R=E}}else{var J=e.acc&(1<<O)-1;e.acc=e.acc>>>O,e.validBits-=O,R=J}if(x+R>s.entries)throw new tt(new $t(ea.INVALID_SETUP,"codebook entrys",{fileName:"Codebook.hx",lineNumber:67,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"read"}));for(var U=0,P=R;U<P;)X[x+U++]=j;x+=R,++j}}else for(var q=0,$=s.entries;q<$;){var ee,te=q++;if(s.sparse)if(e.validBits<0)ee=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)ee=0;else{var ae=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,ee=ae}}else{var ie=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,ee=ie}else ee=1;if(0!=ee){var se;if(e.validBits<0)se=0;else if(e.validBits<5){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<5))break}if(e.validBits<0)se=0;else{var ne=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,se=ne}}else{var re=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,se=re}X[te]=se+1,++D}else X[te]=255}s.sparse&&D>=s.entries>>2&&(s.codewordLengths=X,s.sparse=!1);var le;if(s.sparse)le=D;else{for(var ge=0,oe=0,he=s.entries;oe<he;){var ce=X[oe++];ce>10&&255!=ce&&++ge}le=ge}s.sortedEntries=le;var de=null;if(s.sparse){if(0!=s.sortedEntries){var Ie=s.sortedEntries,ue=new Array(Ie);s.codewordLengths=ue;var Ce=s.entries,me=new Array(Ce);s.codewords=me;var pe=s.entries;de=new Array(pe)}s.entries,s.sortedEntries}else{var be=s.entries,fe=new Array(be);s.codewords=fe}if(!s.computeCodewords(X,s.entries,de))throw new tt(new $t(ea.INVALID_SETUP,"compute codewords",{fileName:"Codebook.hx",lineNumber:120,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"read"}));if(0!=s.sortedEntries){s.sortedCodewords=[];var Ae=s.sortedEntries,we=new Array(Ae);s.sortedValues=we,s.computeSortedHuffman(X,de)}s.sparse&&(de=null,s.codewords=null,X=null),s.computeAcceleratedHuffman();var ve;if(e.validBits<0)ve=0;else if(e.validBits<4){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<4))break}if(e.validBits<0)ve=0;else{var Be=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,ve=Be}}else{var Me=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,ve=Me}if(s.lookupType=ve,s.lookupType>2)throw new tt(new $t(ea.INVALID_SETUP,"codebook lookup type",{fileName:"Codebook.hx",lineNumber:143,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"read"}));if(s.lookupType>0){var _e;if(e.validBits<0)_e=0;else if(e.validBits<32)_e=e.readBits(24)+(e.readBits(8)<<24);else{var Ze=-1&e.acc;e.acc=e.acc>>>32,e.validBits-=32,_e=Ze}var ye=p.toFloat(2097151&_e),Ge=(2145386496&_e)>>>21,We=0!=(-2147483648&_e)?-ye:ye;s.minimumValue=We*Math.pow(2,Ge-788);var Se;if(e.validBits<0)Se=0;else if(e.validBits<32)Se=e.readBits(24)+(e.readBits(8)<<24);else{var ze=-1&e.acc;e.acc=e.acc>>>32,e.validBits-=32,Se=ze}var Ne=p.toFloat(2097151&Se),Ve=(2145386496&Se)>>>21,Ke=0!=(-2147483648&Se)?-Ne:Ne;s.deltaValue=Ke*Math.pow(2,Ve-788);var ke;if(e.validBits<0)ke=0;else if(e.validBits<4){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<4))break}if(e.validBits<0)ke=0;else{var Ye=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,ke=Ye}}else{var Xe=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,ke=Xe}s.valueBits=ke+1;var De;if(e.validBits<0)De=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)De=0;else{var He=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,De=He}}else{var xe=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,De=xe}s.sequenceP=0!=De,1==s.lookupType?s.lookupValues=xt.lookup1Values(s.entries,s.dimensions):s.lookupValues=s.entries*s.dimensions;for(var Fe=s.lookupValues,Te=new Array(Fe),je=0,Re=s.lookupValues;je<Re;){var Le,Qe=je++,Oe=s.valueBits;if(e.validBits<0)Le=0;else if(e.validBits<Oe)if(Oe>24)Le=e.readBits(24)+(e.readBits(Oe-24)<<24);else{for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<Oe))break}if(e.validBits<0)Le=0;else{var Ee=e.acc&(1<<Oe)-1;e.acc=e.acc>>>Oe,e.validBits-=Oe,Le=Ee}}else{var Je=e.acc&(1<<Oe)-1;e.acc=e.acc>>>Oe,e.validBits-=Oe,Le=Je}if(-1==Le)throw new tt(new $t(ea.INVALID_SETUP,"fail lookup",{fileName:"Codebook.hx",lineNumber:161,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"read"}));Te[Qe]=Le}var Ue=s.lookupValues,Pe=new Array(Ue);s.multiplicands=Pe;for(var qe=0,$e=s.lookupValues;qe<$e;){var et=qe++;s.multiplicands[et]=Te[et]*s.deltaValue+s.minimumValue}if(2==s.lookupType&&s.sequenceP){for(var at=1,it=s.lookupValues;at<it;){var st=at++;s.multiplicands[st]=s.multiplicands[st-1]}s.sequenceP=!1}}return s},Ft.prototype={computeCodewords:function(e,t,a){for(var i=new Array(32),s=0;s<32;)i[s++]=0;for(var n=0;n<t&&!(e[n]<255);)++n;if(n==t){this.sortedEntries;return!0}var r=0,l=r++;this.sparse?(this.codewords[l]=0,this.codewordLengths[l]=e[n],a[l]=n):this.codewords[n]=0;for(var g=0;++g<=e[n];)i[g]=1<<32-g;for(g=n;++g<t;){var o=e[g];if(255!=o){for(;o>0&&0==i[o];)--o;if(0==o)return!1;var h=i[o];i[o]=0;var c=h,d=(c=(-16711936&(c=(-252645136&(c=(-858993460&(c=(-1431655766&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8)>>>16|c<<16,I=r++;if(this.sparse?(this.codewords[I]=d,this.codewordLengths[I]=e[g],a[I]=g):this.codewords[g]=d,o!=e[g])for(var u=e[g];u>o;)i[u]=h+(1<<32-u),--u}}return!0},computeSortedHuffman:function(e,t){if(this.sparse)for(var a=0,i=this.sortedEntries;a<i;){var s=a++,n=this.codewords[s];n=(-16711936&(n=(-252645136&(n=(-858993460&(n=(-1431655766&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,this.sortedCodewords[s]=n>>>16|n<<16}else{for(var r=0,l=0,g=this.entries;l<g;){var o=l++,h=e[o];if(this.sparse||255!=h&&h>10){var c=this.codewords[o];c=(-16711936&(c=(-252645136&(c=(-858993460&(c=(-1431655766&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,this.sortedCodewords[r++]=c>>>16|c<<16}}this.sortedEntries}this.sortedCodewords[this.sortedEntries]=-1,this.sortedCodewords.sort(xt.uintAsc);for(var d=0,I=this.sparse?this.sortedEntries:this.entries;d<I;){var u=d++,C=this.sparse?e[t[u]]:e[u];if(this.sparse||255!=C&&C>10){for(var m=this.codewords[u],b=(m=(-16711936&(m=(-252645136&(m=(-858993460&(m=(-1431655766&m)>>>1|(1431655765&m)<<1))>>>2|(858993459&m)<<2))>>>4|(252645135&m)<<4))>>>8|(16711935&m)<<8)>>>16|m<<16,f=0,A=this.sortedEntries;A>1;){var w=f+(A>>1);p.gte(b,this.sortedCodewords[w])?(f=w,A-=A>>1):A>>=1}this.sparse?(this.sortedValues[f]=t[u],this.codewordLengths[f]=C):this.sortedValues[f]=u}}},computeAcceleratedHuffman:function(){var e=new Array(1024);this.fastHuffman=e,this.fastHuffman[0]=-1;for(var t=0;t<1024;){var a=t++;this.fastHuffman[a]=-1}for(var i=0,s=this.sparse?this.sortedEntries:this.entries;i<s;){var n=i++;if(this.codewordLengths[n]<=10){var r;if(this.sparse){var l=this.sortedCodewords[n];r=(l=(-16711936&(l=(-252645136&(l=(-858993460&(l=(-1431655766&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8)>>>16|l<<16}else r=this.codewords[n];for(;r<1024;)this.fastHuffman[r]=n,r+=1<<this.codewordLengths[n]}}},codebookDecode:function(e,t,a,i){e.validBits<10&&e.prepHuffman();var s,n=this.fastHuffman[1023&e.acc];if(n>=0){var r=this.codewordLengths[n];e.acc=e.acc>>>r,e.validBits-=r,e.validBits<0?(e.validBits=0,s=-1):s=n}else s=e.decodeScalarRaw(this);this.sparse&&(s=this.sortedValues[s]);var l=s,g=this.lookupValues,o=this.sequenceP,h=this.multiplicands,c=this.minimumValue;if(l<0)return!1;if(i>this.dimensions&&(i=this.dimensions),1==this.lookupType){for(var d=1,I=0,u=0,C=i;u<C;){var m=u++,b=h[p.toFloat(l/d|0)%p.toFloat(g)|0]+I,f=a+m,A=t;A[f]=A[f]+b,o&&(I=b+c),d*=g}return!0}if(l*=this.dimensions,o)for(var w=0,v=0,B=i;v<B;){var M=v++,_=h[l+M]+w,Z=a+M,y=t;y[Z]=y[Z]+_,w=_+c}else for(var G=0,W=i;G<W;){var S=G++,z=a+S,N=t;N[z]=N[z]+(h[l+S]+0)}return!0},codebookDecodeStep:function(e,t,a,i,s){e.validBits<10&&e.prepHuffman();var n,r=this.fastHuffman[1023&e.acc];if(r>=0){var l=this.codewordLengths[r];e.acc=e.acc>>>l,e.validBits-=l,e.validBits<0?(e.validBits=0,n=-1):n=r}else n=e.decodeScalarRaw(this);this.sparse&&(n=this.sortedValues[n]);var g=n,o=0;if(g<0)return!1;i>this.dimensions&&(i=this.dimensions);var h=this.lookupValues,c=this.sequenceP,d=this.multiplicands;if(1==this.lookupType){for(var I=1,u=0,C=i;u<C;){var m=u++,b=d[p.toFloat(g/I|0)%p.toFloat(h)|0]+o,f=a+m*s,A=t;A[f]=A[f]+b,c&&(o=b),I*=h}return!0}g*=this.dimensions;for(var w=0,v=i;w<v;){var B=w++,M=d[g+B]+o,_=a+B*s,Z=t;Z[_]=Z[_]+M,c&&(o=M)}return!0},decodeDeinterleaveRepeat:function(e,t,a,i,s,n,r){var l=this.dimensions;if(0==this.lookupType)throw new tt(new $t(ea.INVALID_STREAM,null,{fileName:"Codebook.hx",lineNumber:488,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"decodeDeinterleaveRepeat"}));for(var g=this.multiplicands,o=this.sequenceP,h=this.lookupValues;r>0;){var c=0;e.validBits<10&&e.prepHuffman();var d,I=this.fastHuffman[1023&e.acc];if(I>=0){var u=this.codewordLengths[I];e.acc=e.acc>>>u,e.validBits-=u,e.validBits<0?(e.validBits=0,d=-1):d=I}else d=e.decodeScalarRaw(this);this.sparse&&(d=this.sortedValues[d]);var C=d;if(C<0){if(0==e.bytesInSeg&&e.lastSeg)return null;throw new tt(new $t(ea.INVALID_STREAM,null,{fileName:"Codebook.hx",lineNumber:503,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"decodeDeinterleaveRepeat"}))}if(i+s*a+l>n*a&&(l=n*a-(s*a-i)),1==this.lookupType){var m=1;if(o)for(var b=0,f=l;b<f;){b++;var A=g[p.toFloat(C/m|0)%p.toFloat(h)|0]+c,w=s,v=t[i];v[w]=v[w]+A,++i==a&&(i=0,++s),c=A,m*=h}else for(var B=0,M=l;B<M;){B++;var _=g[p.toFloat(C/m|0)%p.toFloat(h)|0]+c,Z=s,y=t[i];y[Z]=y[Z]+_,++i==a&&(i=0,++s),m*=h}}else if(C*=this.dimensions,o)for(var G=0,W=l;G<W;){var S=g[C+G++]+c,z=s,N=t[i];N[z]=N[z]+S,++i==a&&(i=0,++s),c=S}else for(var V=0,K=l;V<K;){var k=g[C+V++]+c,Y=s,X=t[i];X[Y]=X[Y]+k,++i==a&&(i=0,++s)}r-=l}return{cInter:i,pInter:s}},residueDecode:function(e,t,a,i,s){if(0==s)for(var n=i/this.dimensions|0,r=0,l=n;r<l;){var g=r++;if(!this.codebookDecodeStep(e,t,a+g,i-a-g,n))return!1}else for(var o=0;o<i;){if(!this.codebookDecode(e,t,a,i-o))return!1;o+=this.dimensions,a+=this.dimensions}return!0},__class__:Ft};var Tt=function(){this.data=new k};s["kha.audio2.ogg.vorbis.data.Comment"]=Tt,Tt.__name__=!0,Tt.prototype={get_loopStart:function(){return u.parseInt(this.getString("loopstart"))},get_loopLength:function(){return u.parseInt(this.getString("looplength"))},add:function(e,t){e=e.toLowerCase();var a=this.data;if(null!=Wi[e]?a.existsReserved(e):a.h.hasOwnProperty(e)){var i=this.data;(null!=Wi[e]?i.getReserved(e):i.h[e]).push(t)}else{var s=[t],n=this.data;null!=Wi[e]?n.setReserved(e,s):n.h[e]=s}},getString:function(e){e=e.toLowerCase();var t=this.data;if(null!=Wi[e]?t.existsReserved(e):t.h.hasOwnProperty(e)){var a=this.data;return(null!=Wi[e]?a.getReserved(e):a.h[e])[0]}return null},__class__:Tt,__properties__:{get_loopLength:"get_loopLength",get_loopStart:"get_loopStart"}};var jt=function(){};s["kha.audio2.ogg.vorbis.data.Floor"]=jt,jt.__name__=!0,jt.read=function(e,t){var a,i=new jt;if(e.validBits<0)a=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)a=0;else{var s=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,a=s}}else{var n=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,a=n}if(i.type=a,i.type>1)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Floor.hx",lineNumber:28,className:"kha.audio2.ogg.vorbis.data.Floor",methodName:"read"}));if(0==i.type){var r,l=i.floor0=new Rt;if(e.validBits<0)r=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)r=0;else{var g=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,r=g}}else{var o=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,r=o}l.order=r;var h;if(e.validBits<0)h=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)h=0;else{var c=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,h=c}}else{var d=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,h=d}l.rate=h;var I;if(e.validBits<0)I=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)I=0;else{var u=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,I=u}}else{var C=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,I=C}l.barkMapSize=I;var m;if(e.validBits<0)m=0;else if(e.validBits<6){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<6))break}if(e.validBits<0)m=0;else{var p=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,m=p}}else{var b=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,m=b}l.amplitudeBits=m;var f;if(e.validBits<0)f=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)f=0;else{var A=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,f=A}}else{var w=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,f=w}l.amplitudeOffset=f;var v;if(e.validBits<0)v=0;else if(e.validBits<4){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<4))break}if(e.validBits<0)v=0;else{var B=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,v=B}}else{var M=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,v=M}l.numberOfBooks=v+1;for(var _=0,Z=l.numberOfBooks;_<Z;){var y,G=_++,W=l.bookList;if(e.validBits<0)y=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)y=0;else{var S=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,y=S}}else{var z=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,y=z}W[G]=y}throw new tt(new $t(ea.FEATURE_NOT_SUPPORTED,null,{fileName:"Floor.hx",lineNumber:41,className:"kha.audio2.ogg.vorbis.data.Floor",methodName:"read"}))}var N,V=[],K=i.floor1=new Lt,k=-1;if(e.validBits<0)N=0;else if(e.validBits<5){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<5))break}if(e.validBits<0)N=0;else{var Y=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,N=Y}}else{var X=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,N=X}K.partitions=N;var D=K.partitions,H=new Array(D);K.partitionClassList=H;for(var x=0,F=K.partitions;x<F;){var T,j=x++,R=K.partitionClassList;if(e.validBits<0)T=0;else if(e.validBits<4){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<4))break}if(e.validBits<0)T=0;else{var L=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,T=L}}else{var Q=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,T=Q}R[j]=T,K.partitionClassList[j]>k&&(k=K.partitionClassList[j])}var O=new Array(k+1);K.classDimensions=O;var E=new Array(k+1);K.classMasterbooks=E;var J=new Array(k+1);K.classSubclasses=J;var U=new Array(k+1);K.subclassBooks=U;for(var P=0,q=k+1;P<q;){var $,ee=P++,te=K.classDimensions;if(e.validBits<0)$=0;else if(e.validBits<3){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<3))break}if(e.validBits<0)$=0;else{var ae=7&e.acc;e.acc=e.acc>>>3,e.validBits-=3,$=ae}}else{var ie=7&e.acc;e.acc=e.acc>>>3,e.validBits-=3,$=ie}te[ee]=$+1;var se,ne=K.classSubclasses;if(e.validBits<0)se=0;else if(e.validBits<2){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<2))break}if(e.validBits<0)se=0;else{var re=3&e.acc;e.acc=e.acc>>>2,e.validBits-=2,se=re}}else{var le=3&e.acc;e.acc=e.acc>>>2,e.validBits-=2,se=le}if(ne[ee]=se,0!=K.classSubclasses[ee]){var ge,oe=K.classMasterbooks;if(e.validBits<0)ge=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)ge=0;else{var he=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,ge=he}}else{var ce=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,ge=ce}if(oe[ee]=ge,K.classMasterbooks[ee]>=t.length)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Floor.hx",lineNumber:64,className:"kha.audio2.ogg.vorbis.data.Floor",methodName:"read"}))}var de=1<<K.classSubclasses[ee],Ie=K.subclassBooks,ue=new Array(de);Ie[ee]=ue;for(var Ce=0,me=de;Ce<me;){var pe,be=Ce++,fe=K.subclassBooks[ee];if(e.validBits<0)pe=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)pe=0;else{var Ae=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,pe=Ae}}else{var we=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,pe=we}if(fe[be]=pe-1,K.subclassBooks[ee][be]>=t.length)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Floor.hx",lineNumber:73,className:"kha.audio2.ogg.vorbis.data.Floor",methodName:"read"}))}}var ve;if(e.validBits<0)ve=0;else if(e.validBits<2){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<2))break}if(e.validBits<0)ve=0;else{var Be=3&e.acc;e.acc=e.acc>>>2,e.validBits-=2,ve=Be}}else{var Me=3&e.acc;e.acc=e.acc>>>2,e.validBits-=2,ve=Me}K.floor1Multiplier=ve+1;var _e;if(e.validBits<0)_e=0;else if(e.validBits<4){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<4))break}if(e.validBits<0)_e=0;else{var Ze=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,_e=Ze}}else{var ye=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,_e=ye}K.rangebits=_e;var Ge=new Array(250);K.xlist=Ge,K.xlist[0]=0,K.xlist[1]=1<<K.rangebits,K.values=2;for(var We=0,Se=K.partitions;We<Se;)for(var ze=We++,Ne=K.partitionClassList[ze],Ve=0,Ke=K.classDimensions[Ne];Ve<Ke;){Ve++;var ke,Ye=K.xlist,Xe=K.values,De=K.rangebits;if(e.validBits<0)ke=0;else if(e.validBits<De)if(De>24)ke=e.readBits(24)+(e.readBits(De-24)<<24);else{for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<De))break}if(e.validBits<0)ke=0;else{var He=e.acc&(1<<De)-1;e.acc=e.acc>>>De,e.validBits-=De,ke=He}}else{var xe=e.acc&(1<<De)-1;e.acc=e.acc>>>De,e.validBits-=De,ke=xe}Ye[Xe]=ke,K.values++}for(var Fe=0,Te=K.values;Fe<Te;){var je=Fe++;V.push(new Ot),V[je].x=K.xlist[je],V[je].y=je}V.sort(xt.pointCompare);var Re=K.values,Le=new Array(Re);K.sortedOrder=Le;for(var Qe=0,Oe=K.values;Qe<Oe;){var Ee=Qe++;K.sortedOrder[Ee]=V[Ee].y}var Je=K.values,Ue=new Array(Je);K.neighbors=Ue;for(var Pe=2,qe=K.values;Pe<qe;){for(var $e,et,at=Pe++,it=K.xlist,st=-1,nt=65536,rt=0,lt=0,gt=0,ot=at;gt<ot;){var ht=gt++;it[ht]>st&&it[ht]<it[at]&&(rt=ht,st=it[ht]),it[ht]<nt&&it[ht]>it[at]&&(lt=ht,nt=it[ht])}$e=rt,et=lt;var ct=K.neighbors,dt=K.values,It=new Array(dt);ct[at]=It,K.neighbors[at][0]=$e,K.neighbors[at][1]=et}return i},jt.prototype={__class__:jt};var Rt=function(){};s["kha.audio2.ogg.vorbis.data.Floor0"]=Rt,Rt.__name__=!0,Rt.prototype={__class__:Rt};var Lt=function(){};s["kha.audio2.ogg.vorbis.data.Floor1"]=Lt,Lt.__name__=!0,Lt.prototype={__class__:Lt};var Qt=function(){};s["kha.audio2.ogg.vorbis.data.Header"]=Qt,Qt.__name__=!0,Qt.read=function(e){var t=e.page;if(t.start(e),0==(2&t.flag))throw new tt(new $t(ea.INVALID_FIRST_PAGE,"not firstPage",{fileName:"Header.hx",lineNumber:46,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(0!=(4&t.flag))throw new tt(new $t(ea.INVALID_FIRST_PAGE,"lastPage",{fileName:"Header.hx",lineNumber:49,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(0!=(1&t.flag))throw new tt(new $t(ea.INVALID_FIRST_PAGE,"continuedPacket",{fileName:"Header.hx",lineNumber:52,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(e.firstPageValidate(),e.inputPosition+=1,1!=e.input.readByte())throw new tt(new $t(ea.INVALID_FIRST_PAGE,"decodeState head",{fileName:"Header.hx",lineNumber:57,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));for(var a=new z(new Si(6)),i=0;i<6;){var s,n=i++;0!=e.bytesInSeg||!e.lastSeg&&0!=e.next()?(e.bytesInSeg--,e.inputPosition+=1,s=e.input.readByte()):s=-1,e.validBits=0,a.b[n]=255&s}if("vorbis"!=a.toString())throw new tt(new $t(ea.INVALID_SETUP,"vorbis header",{fileName:"VorbisDecodeState.hx",lineNumber:300,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"vorbisValidate"}));e.inputPosition+=4;var r=e.input.readInt32();if(0!=r)throw new tt(new $t(ea.INVALID_FIRST_PAGE,"vorbis version : "+r,{fileName:"Header.hx",lineNumber:66,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));var l=new Qt;if(e.inputPosition+=1,l.channel=e.input.readByte(),0==l.channel)throw new tt(new $t(ea.INVALID_FIRST_PAGE,"no channel",{fileName:"Header.hx",lineNumber:73,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(l.channel>16)throw new tt(new $t(ea.TOO_MANY_CHANNELS,"too many channels",{fileName:"Header.hx",lineNumber:75,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(e.inputPosition+=4,l.sampleRate=e.input.readInt32(),0==l.sampleRate)throw new tt(new $t(ea.INVALID_FIRST_PAGE,"no sampling rate",{fileName:"Header.hx",lineNumber:80,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));e.inputPosition+=4,l.maximumBitRate=e.input.readInt32(),e.inputPosition+=4,l.nominalBitRate=e.input.readInt32(),e.inputPosition+=4,l.minimumBitRate=e.input.readInt32(),e.inputPosition+=1;var g=e.input.readByte(),o=15&g,h=g>>4;if(l.blocksize0=1<<o,l.blocksize1=1<<h,o<6||o>13)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:93,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(h<6||h>13)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:96,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(o>h)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:99,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));e.inputPosition+=1;var c=e.input.readByte();if(0==(1&c))throw new tt(new $t(ea.INVALID_FIRST_PAGE,null,{fileName:"Header.hx",lineNumber:105,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));e.page.start(e),e.startPacket();for(var d=0,I=new x;;){if(0==(d=e.next()))break;e.inputPosition+=d,I.write(e.input.read(d)),e.bytesInSeg=0}var u=new D(I.getBytes());u.readByte(),u.read(6);var C=u.readInt32();l.vendor=u.readString(C),l.comment=new Tt;for(var m=0,p=u.readInt32();m<p;){m++;var b=u.readInt32(),f=u.readString(b),A=f.indexOf("=");-1!=A&&l.comment.add(f.substring(0,A),f.substring(A+1))}if(0==(1&u.readByte()))throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:141,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));e.startPacket();var w;if(0!=e.bytesInSeg||!e.lastSeg&&0!=e.next()?(e.bytesInSeg--,e.inputPosition+=1,w=e.input.readByte()):w=-1,e.validBits=0,5!=w)throw new tt(new $t(ea.INVALID_SETUP,"setup packet",{fileName:"Header.hx",lineNumber:149,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));for(var v=new z(new Si(6)),B=0;B<6;){var M,_=B++;0!=e.bytesInSeg||!e.lastSeg&&0!=e.next()?(e.bytesInSeg--,e.inputPosition+=1,M=e.input.readByte()):M=-1,e.validBits=0,v.b[_]=255&M}if("vorbis"!=v.toString())throw new tt(new $t(ea.INVALID_SETUP,"vorbis header",{fileName:"VorbisDecodeState.hx",lineNumber:300,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"vorbisValidate"}));var Z;if(e.validBits<0)Z=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)Z=0;else{var y=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,Z=y}}else{var G=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,Z=G}var W=Z+1,S=new Array(W);l.codebooks=S;for(var N=0,V=W;N<V;){var K=N++;l.codebooks[K]=Ft.read(e)}var k;if(e.validBits<0)k=0;else if(e.validBits<6){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<6))break}if(e.validBits<0)k=0;else{var Y=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,k=Y}}else{var X=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,k=X}for(var H=0,F=c=k+1;H<F;){var T;H++;if(e.validBits<0)T=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)T=0;else{var j=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,T=j}}else{var R=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,T=R}if(0!=T)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:165,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}var L;if(e.validBits<0)L=0;else if(e.validBits<6){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<6))break}if(e.validBits<0)L=0;else{var Q=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,L=Q}}else{var O=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,L=O}var E=L+1,J=new Array(E);l.floorConfig=J;for(var U=0,P=E;U<P;){var q=U++;l.floorConfig[q]=jt.read(e,l.codebooks)}var $;if(e.validBits<0)$=0;else if(e.validBits<6){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<6))break}if(e.validBits<0)$=0;else{var ee=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,$=ee}}else{var te=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,$=te}var ae=$+1,ie=new Array(ae);l.residueConfig=ie;for(var se=0,ne=ae;se<ne;){var re=se++;l.residueConfig[re]=ta.read(e,l.codebooks)}var le;if(e.validBits<0)le=0;else if(e.validBits<6){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<6))break}if(e.validBits<0)le=0;else{var ge=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,le=ge}}else{var oe=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,le=oe}var he=le+1,ce=new Array(he);l.mapping=ce;for(var de=0,Ie=he;de<Ie;){var ue=de++,Ce=Et.read(e,l.channel);l.mapping[ue]=Ce;for(var me=0,pe=Ce.submaps;me<pe;){var be=me++;if(Ce.submapFloor[be]>=l.floorConfig.length)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:191,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}));if(Ce.submapResidue[be]>=l.residueConfig.length)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:194,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}}var fe;if(e.validBits<0)fe=0;else if(e.validBits<6){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<6))break}if(e.validBits<0)fe=0;else{var Ae=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,fe=Ae}}else{var we=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,fe=we}var ve=fe+1,Be=new Array(ve);l.modes=Be;for(var Me=0,_e=ve;Me<_e;){var Ze=Me++,ye=Ut.read(e);if(l.modes[Ze]=ye,ye.mapping>=l.mapping.length)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:205,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}for(;0!=e.bytesInSeg||!e.lastSeg&&0!=e.next();)e.bytesInSeg--,e.inputPosition+=1,e.input.readByte();return l},Qt.prototype={__class__:Qt};var Ot=function(){};s["kha.audio2.ogg.vorbis.data.IntPoint"]=Ot,Ot.__name__=!0,Ot.prototype={__class__:Ot};var Et=function(){};s["kha.audio2.ogg.vorbis.data.Mapping"]=Et,Et.__name__=!0,Et.read=function(e,t){var a,i=new Et;if(e.validBits<0)a=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)a=0;else{var s=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,a=s}}else{var n=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,a=n}if(0!=a)throw new tt(new $t(ea.INVALID_SETUP,"mapping type "+a,{fileName:"Mapping.hx",lineNumber:22,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}));var r=new Array(t);i.chan=r;for(var l=0,g=t;l<g;){var o=l++;i.chan[o]=new Jt}var h;if(e.validBits<0)h=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)h=0;else{var c=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,h=c}}else{var d=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,h=d}if(0!=h){var I;if(e.validBits<0)I=0;else if(e.validBits<4){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<4))break}if(e.validBits<0)I=0;else{var u=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,I=u}}else{var C=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,I=C}i.submaps=I+1}else i.submaps=1;var m;if(e.validBits<0)m=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)m=0;else{var p=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,m=p}}else{var b=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,m=b}if(0!=m){var f;if(e.validBits<0)f=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)f=0;else{var A=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,f=A}}else{var w=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,f=w}i.couplingSteps=f+1;for(var v=0,B=i.couplingSteps;v<B;){var M,_=v++,Z=i.chan[_],y=t-1,G=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],W=y<16384?y<16?G[y]:y<512?5+G[y>>5]:10+G[y>>10]:y<16777216?y<524288?15+G[y>>15]:20+G[y>>20]:y<536870912?25+G[y>>25]:y<-2147483648?30+G[y>>30]:0;if(e.validBits<0)M=0;else if(e.validBits<W)if(W>24)M=e.readBits(24)+(e.readBits(W-24)<<24);else{for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<W))break}if(e.validBits<0)M=0;else{var S=e.acc&(1<<W)-1;e.acc=e.acc>>>W,e.validBits-=W,M=S}}else{var z=e.acc&(1<<W)-1;e.acc=e.acc>>>W,e.validBits-=W,M=z}Z.magnitude=M;var N,V=i.chan[_],K=t-1,k=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4],Y=K<16384?K<16?k[K]:K<512?5+k[K>>5]:10+k[K>>10]:K<16777216?K<524288?15+k[K>>15]:20+k[K>>20]:K<536870912?25+k[K>>25]:K<-2147483648?30+k[K>>30]:0;if(e.validBits<0)N=0;else if(e.validBits<Y)if(Y>24)N=e.readBits(24)+(e.readBits(Y-24)<<24);else{for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<Y))break}if(e.validBits<0)N=0;else{var X=e.acc&(1<<Y)-1;e.acc=e.acc>>>Y,e.validBits-=Y,N=X}}else{var D=e.acc&(1<<Y)-1;e.acc=e.acc>>>Y,e.validBits-=Y,N=D}if(V.angle=N,i.chan[_].magnitude>=t)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Mapping.hx",lineNumber:46,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}));if(i.chan[_].angle>=t)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Mapping.hx",lineNumber:49,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}));if(i.chan[_].magnitude==i.chan[_].angle)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Mapping.hx",lineNumber:52,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}))}}else i.couplingSteps=0;var H;if(e.validBits<0)H=0;else if(e.validBits<2){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<2))break}if(e.validBits<0)H=0;else{var x=3&e.acc;e.acc=e.acc>>>2,e.validBits-=2,H=x}}else{var F=3&e.acc;e.acc=e.acc>>>2,e.validBits-=2,H=F}if(0!=H)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Mapping.hx",lineNumber:61,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}));if(i.submaps>1)for(var T=0,j=t;T<j;){var R,L=T++,Q=i.chan[L];if(e.validBits<0)R=0;else if(e.validBits<4){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<4))break}if(e.validBits<0)R=0;else{var O=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,R=O}}else{var E=15&e.acc;e.acc=e.acc>>>4,e.validBits-=4,R=E}if(Q.mux=R,i.chan[L].mux>=i.submaps)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Mapping.hx",lineNumber:67,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}))}else for(var J=0,U=t;J<U;){var P=J++;i.chan[P].mux=0}var q=i.submaps,$=new Array(q);i.submapFloor=$;var ee=i.submaps,te=new Array(ee);i.submapResidue=te;for(var ae=0,ie=i.submaps;ae<ie;){var se=ae++;if(e.validBits>=0)if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits>=0){e.acc;e.acc=e.acc>>>8,e.validBits-=8}}else{e.acc;e.acc=e.acc>>>8,e.validBits-=8}var ne,re=i.submapFloor;if(e.validBits<0)ne=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)ne=0;else{var le=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,ne=le}}else{var ge=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,ne=ge}re[se]=ne;var oe,he=i.submapResidue;if(e.validBits<0)oe=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)oe=0;else{var ce=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,oe=ce}}else{var de=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,oe=de}he[se]=oe}return i},Et.prototype={doFloor:function(e,t,a,i,s,n){var r=a>>1,l=this.chan[t].mux,g=e[this.submapFloor[l]];if(0==g.type)throw new tt(new $t(ea.INVALID_STREAM,null,{fileName:"Mapping.hx",lineNumber:94,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"doFloor"}));for(var o=g.floor1,h=0,c=s[0]*o.floor1Multiplier,d=1,I=o.values;d<I;){var u=d++,C=o.sortedOrder[u];if(s[C]>=0){var m=s[C]*o.floor1Multiplier,p=o.xlist[C];xt.drawLine(i,h,c,p,m,r),h=p,c=m}}if(h<r)for(var b=h,f=r;b<f;){var A=b++,w=i;w[A]=w[A]*xt.INVERSE_DB_TABLE[c]}},__class__:Et};var Jt=function(){};s["kha.audio2.ogg.vorbis.data.MappingChannel"]=Jt,Jt.__name__=!0,Jt.prototype={__class__:Jt};var Ut=function(){};s["kha.audio2.ogg.vorbis.data.Mode"]=Ut,Ut.__name__=!0,Ut.read=function(e){var t,a=new Ut;if(e.validBits<0)t=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)t=0;else{var i=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,t=i}}else{var s=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,t=s}a.blockflag=0!=t;var n;if(e.validBits<0)n=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)n=0;else{var r=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,n=r}}else{var l=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,n=l}a.windowtype=n;var g;if(e.validBits<0)g=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)g=0;else{var o=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,g=o}}else{var h=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,g=h}a.transformtype=g;var c;if(e.validBits<0)c=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)c=0;else{var d=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,c=d}}else{var I=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,c=I}if(a.mapping=c,0!=a.windowtype)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Mode.hx",lineNumber:22,className:"kha.audio2.ogg.vorbis.data.Mode",methodName:"read"}));if(0!=a.transformtype)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Mode.hx",lineNumber:25,className:"kha.audio2.ogg.vorbis.data.Mode",methodName:"read"}));return a},Ut.prototype={__class__:Ut};var Pt=function(){};s["kha.audio2.ogg.vorbis.data.Page"]=Pt,Pt.__name__=!0,Pt.prototype={clone:function(){var e=new Pt;return e.flag=this.flag,e},start:function(e){var t,a,i;if(e.inputPosition+=1,79==e.input.readByte()?(e.inputPosition+=1,i=103!=e.input.readByte()):i=!0,i?a=!0:(e.inputPosition+=1,a=103!=e.input.readByte()),a?t=!0:(e.inputPosition+=1,t=83!=e.input.readByte()),t)throw new tt(new $t(ea.MISSING_CAPTURE_PATTERN,null,{fileName:"VorbisDecodeState.hx",lineNumber:323,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"capturePattern"}));this.startWithoutCapturePattern(e)},startWithoutCapturePattern:function(e){e.inputPosition+=1;var t=e.input.readByte();if(0!=t)throw new tt(new $t(ea.INVALID_STREAM_STRUCTURE_VERSION,""+t,{fileName:"Page.hx",lineNumber:34,className:"kha.audio2.ogg.vorbis.data.Page",methodName:"startWithoutCapturePattern"}));e.inputPosition+=1,this.flag=e.input.readByte(),e.inputPosition+=4;var a=e.input.readInt32();e.inputPosition+=4;var i=e.input.readInt32();e.inputPosition+=4,e.input.readInt32(),e.inputPosition+=4,e.input.readInt32(),e.inputPosition+=4,e.input.readInt32(),e.setup(a,i)},__class__:Pt};var qt=function(){};s["kha.audio2.ogg.vorbis.data.ProbedPage"]=qt,qt.__name__=!0,qt.prototype={__class__:qt};var $t=function(e,t,a){null==t&&(t=""),this.type=e,this.message=t,this.posInfos=a};s["kha.audio2.ogg.vorbis.data.ReaderError"]=$t,$t.__name__=!0,$t.prototype={__class__:$t};var ea=s["kha.audio2.ogg.vorbis.data.ReaderErrorType"]={__ename__:!0,__constructs__:["NEED_MORE_DATA","INVALID_API_MIXING","OUTOFMEM","FEATURE_NOT_SUPPORTED","TOO_MANY_CHANNELS","FILE_OPEN_FAILURE","SEEK_WITHOUT_LENGTH","UNEXPECTED_EOF","SEEK_INVALID","INVALID_SETUP","INVALID_STREAM","MISSING_CAPTURE_PATTERN","INVALID_STREAM_STRUCTURE_VERSION","CONTINUED_PACKET_FLAG_INVALID","INCORRECT_STREAM_SERIAL_NUMBER","INVALID_FIRST_PAGE","BAD_PACKET_TYPE","CANT_FIND_LAST_PAGE","SEEK_FAILED","OTHER"]};ea.NEED_MORE_DATA=["NEED_MORE_DATA",0],ea.NEED_MORE_DATA.toString=n,ea.NEED_MORE_DATA.__enum__=ea,ea.INVALID_API_MIXING=["INVALID_API_MIXING",1],ea.INVALID_API_MIXING.toString=n,ea.INVALID_API_MIXING.__enum__=ea,ea.OUTOFMEM=["OUTOFMEM",2],ea.OUTOFMEM.toString=n,ea.OUTOFMEM.__enum__=ea,ea.FEATURE_NOT_SUPPORTED=["FEATURE_NOT_SUPPORTED",3],ea.FEATURE_NOT_SUPPORTED.toString=n,ea.FEATURE_NOT_SUPPORTED.__enum__=ea,ea.TOO_MANY_CHANNELS=["TOO_MANY_CHANNELS",4],ea.TOO_MANY_CHANNELS.toString=n,ea.TOO_MANY_CHANNELS.__enum__=ea,ea.FILE_OPEN_FAILURE=["FILE_OPEN_FAILURE",5],ea.FILE_OPEN_FAILURE.toString=n,ea.FILE_OPEN_FAILURE.__enum__=ea,ea.SEEK_WITHOUT_LENGTH=["SEEK_WITHOUT_LENGTH",6],ea.SEEK_WITHOUT_LENGTH.toString=n,ea.SEEK_WITHOUT_LENGTH.__enum__=ea,ea.UNEXPECTED_EOF=["UNEXPECTED_EOF",7],ea.UNEXPECTED_EOF.toString=n,ea.UNEXPECTED_EOF.__enum__=ea,ea.SEEK_INVALID=["SEEK_INVALID",8],ea.SEEK_INVALID.toString=n,ea.SEEK_INVALID.__enum__=ea,ea.INVALID_SETUP=["INVALID_SETUP",9],ea.INVALID_SETUP.toString=n,ea.INVALID_SETUP.__enum__=ea,ea.INVALID_STREAM=["INVALID_STREAM",10],ea.INVALID_STREAM.toString=n,ea.INVALID_STREAM.__enum__=ea,ea.MISSING_CAPTURE_PATTERN=["MISSING_CAPTURE_PATTERN",11],ea.MISSING_CAPTURE_PATTERN.toString=n,ea.MISSING_CAPTURE_PATTERN.__enum__=ea,ea.INVALID_STREAM_STRUCTURE_VERSION=["INVALID_STREAM_STRUCTURE_VERSION",12],ea.INVALID_STREAM_STRUCTURE_VERSION.toString=n,ea.INVALID_STREAM_STRUCTURE_VERSION.__enum__=ea,ea.CONTINUED_PACKET_FLAG_INVALID=["CONTINUED_PACKET_FLAG_INVALID",13],ea.CONTINUED_PACKET_FLAG_INVALID.toString=n,ea.CONTINUED_PACKET_FLAG_INVALID.__enum__=ea,ea.INCORRECT_STREAM_SERIAL_NUMBER=["INCORRECT_STREAM_SERIAL_NUMBER",14],ea.INCORRECT_STREAM_SERIAL_NUMBER.toString=n,ea.INCORRECT_STREAM_SERIAL_NUMBER.__enum__=ea,ea.INVALID_FIRST_PAGE=["INVALID_FIRST_PAGE",15],ea.INVALID_FIRST_PAGE.toString=n,ea.INVALID_FIRST_PAGE.__enum__=ea,ea.BAD_PACKET_TYPE=["BAD_PACKET_TYPE",16],ea.BAD_PACKET_TYPE.toString=n,ea.BAD_PACKET_TYPE.__enum__=ea,ea.CANT_FIND_LAST_PAGE=["CANT_FIND_LAST_PAGE",17],ea.CANT_FIND_LAST_PAGE.toString=n,ea.CANT_FIND_LAST_PAGE.__enum__=ea,ea.SEEK_FAILED=["SEEK_FAILED",18],ea.SEEK_FAILED.toString=n,ea.SEEK_FAILED.__enum__=ea,ea.OTHER=["OTHER",19],ea.OTHER.toString=n,ea.OTHER.__enum__=ea;var ta=function(){};s["kha.audio2.ogg.vorbis.data.Residue"]=ta,ta.__name__=!0,ta.read=function(e,t){var a,i=new ta;if(e.validBits<0)a=0;else if(e.validBits<16){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<16))break}if(e.validBits<0)a=0;else{var s=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,a=s}}else{var n=65535&e.acc;e.acc=e.acc>>>16,e.validBits-=16,a=n}if(i.type=a,i.type>2)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Residue.hx",lineNumber:29,className:"kha.audio2.ogg.vorbis.data.Residue",methodName:"read"}));var r,l=new Array(64);if(e.validBits<0)r=0;else if(e.validBits<24){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<24))break}if(e.validBits<0)r=0;else{var g=16777215&e.acc;e.acc=e.acc>>>24,e.validBits-=24,r=g}}else{var o=16777215&e.acc;e.acc=e.acc>>>24,e.validBits-=24,r=o}i.begin=r;var h;if(e.validBits<0)h=0;else if(e.validBits<24){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<24))break}if(e.validBits<0)h=0;else{var c=16777215&e.acc;e.acc=e.acc>>>24,e.validBits-=24,h=c}}else{var d=16777215&e.acc;e.acc=e.acc>>>24,e.validBits-=24,h=d}i.end=h;var I;if(e.validBits<0)I=0;else if(e.validBits<24){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<24))break}if(e.validBits<0)I=0;else{var u=16777215&e.acc;e.acc=e.acc>>>24,e.validBits-=24,I=u}}else{var C=16777215&e.acc;e.acc=e.acc>>>24,e.validBits-=24,I=C}i.partSize=I+1;var m;if(e.validBits<0)m=0;else if(e.validBits<6){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<6))break}if(e.validBits<0)m=0;else{var p=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,m=p}}else{var b=63&e.acc;e.acc=e.acc>>>6,e.validBits-=6,m=b}var f,A=i.classifications=m+1;if(e.validBits<0)f=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)f=0;else{var w=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,f=w}}else{var v=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,f=v}i.classbook=f;for(var B=0,M=i.classifications;B<M;){var _,Z=B++,y=0;if(e.validBits<0)_=0;else if(e.validBits<3){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<3))break}if(e.validBits<0)_=0;else{var G=7&e.acc;e.acc=e.acc>>>3,e.validBits-=3,_=G}}else{var W=7&e.acc;e.acc=e.acc>>>3,e.validBits-=3,_=W}var S;if(e.validBits<0)S=0;else if(e.validBits<1){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<1))break}if(e.validBits<0)S=0;else{var z=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,S=z}}else{var N=1&e.acc;e.acc=e.acc>>>1,e.validBits-=1,S=N}if(0!=S)if(e.validBits<0)y=0;else if(e.validBits<5){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<5))break}if(e.validBits<0)y=0;else{var V=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,y=V}}else{var K=31&e.acc;e.acc=e.acc>>>5,e.validBits-=5,y=K}l[Z]=8*y+_}var k=i.classifications,Y=new Array(k);i.residueBooks=Y;for(var X=0,D=i.classifications;X<D;){var H=X++,x=i.residueBooks,F=new Array(8);x[H]=F;for(var T=0;T<8;){var j=T++;if(0!=(l[H]&1<<j)){var R,L=i.residueBooks[H];if(e.validBits<0)R=0;else if(e.validBits<8){for(0==e.validBits&&(e.acc=0);;){if(0==e.bytesInSeg&&(e.lastSeg||0==e.next())){e.validBits=-1;break}if(e.bytesInSeg--,e.inputPosition+=1,e.acc=e.acc+(e.input.readByte()<<e.validBits),e.validBits+=8,!(e.validBits<8))break}if(e.validBits<0)R=0;else{var Q=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,R=Q}}else{var O=255&e.acc;e.acc=e.acc>>>8,e.validBits-=8,R=O}if(L[j]=R,i.residueBooks[H][j]>=t.length)throw new tt(new $t(ea.INVALID_SETUP,null,{fileName:"Residue.hx",lineNumber:55,className:"kha.audio2.ogg.vorbis.data.Residue",methodName:"read"}))}else i.residueBooks[H][j]=-1}}var E=t[i.classbook].entries,J=t[i.classbook].dimensions,U=new Array(E);i.classdata=U;for(var P=0,q=E;P<q;)for(var $=P++,ee=$,te=J,ae=i.classdata,ie=new Array(J),se=ae[$]=ie;--te>=0;)se[te]=ee%A,ee=ee/A|0;return i},ta.prototype={decode:function(e,t,a,i,s,n,r){for(var l=t.codebooks,g=l[this.classbook].dimensions,o=this.end-this.begin,h=this.partSize,c=p.toFloat(o)/p.toFloat(h)|0,d=t.channel*c+1,I=new Array(d),u=0,C=i;u<C;){var m=u++;if(!n[m])for(var b=a[m],f=0,A=b.length;f<A;)b[f++]=0}if(2!=this.type||1==i)for(var w=0;w<8;)for(var v=w++,B=0;B<c;){if(0==v)for(var M=0,_=i;M<_;){var Z=M++;if(!n[Z]){var y=l[this.classbook];e.validBits<10&&e.prepHuffman();var G,W=y.fastHuffman[1023&e.acc];if(W>=0){var S=y.codewordLengths[W];e.acc=e.acc>>>S,e.validBits-=S,e.validBits<0?(e.validBits=0,G=-1):G=W}else G=e.decodeScalarRaw(y);y.sparse&&(G=y.sortedValues[G]);var z=G;if(-1==z)return;for(var N=g;--N>=0;)I[Z*c+N+B]=z%this.classifications,z=z/this.classifications|0}}for(var V=0,K=g;V<K;){V++;if(B>=c)break;for(var k=0,Y=i;k<Y;){var X=k++;if(!n[X]){var D=I[X*c+B],H=this.residueBooks[D][v];if(H>=0){var x=a[X],F=this.begin+B*h,T=h;if(!l[H].residueDecode(e,x,F,T,this.type))return}}}++B}}else{for(var j=0,R=i;j<R;){var L=j++;if(!n[L])break;if(L==i-1)return}for(var Q=0;Q<8;){var O=Q++,E=0;if(2==i)for(;E<c;){var J=this.begin+E*h,U=1&J,P=J>>>1;if(0==O){var q=l[this.classbook];e.validBits<10&&e.prepHuffman();var $,ee=q.fastHuffman[1023&e.acc];if(ee>=0){var te=q.codewordLengths[ee];e.acc=e.acc>>>te,e.validBits-=te,e.validBits<0?(e.validBits=0,$=-1):$=ee}else $=e.decodeScalarRaw(q);q.sparse&&($=q.sortedValues[$]);var ae=$;if(-1==ae)return;for(var ie=g;--ie>=0;)I[ie+E]=ae%this.classifications,ae=ae/this.classifications|0}for(var se=0,ne=g;se<ne;){se++;if(E>=c)break;var re=this.begin+E*h,le=I[E],ge=this.residueBooks[le][O];if(ge>=0){var oe=l[ge].decodeDeinterleaveRepeat(e,a,i,U,P,s,h);if(null==oe)return;U=oe.cInter,P=oe.pInter}else U=1&(re+=h),P=re>>>1;++E}}else if(1==i)for(;E<c;){var he=0,ce=this.begin+E*h;if(0==O){var de=l[this.classbook];e.validBits<10&&e.prepHuffman();var Ie,ue=de.fastHuffman[1023&e.acc];if(ue>=0){var Ce=de.codewordLengths[ue];e.acc=e.acc>>>Ce,e.validBits-=Ce,e.validBits<0?(e.validBits=0,Ie=-1):Ie=ue}else Ie=e.decodeScalarRaw(de);de.sparse&&(Ie=de.sortedValues[Ie]);var me=Ie;if(-1==me)return;for(var pe=g;--pe>=0;)I[pe+E]=me%this.classifications,me=me/this.classifications|0}for(var be=0,fe=g;be<fe;){be++;if(E>=c)break;var Ae=this.begin+E*h,we=this.residueBooks[I[E]][O];if(we>=0){var ve=l[we].decodeDeinterleaveRepeat(e,a,i,he,ce,s,h);if(null==ve)return;he=ve.cInter,ce=ve.pInter}else he=0,ce=Ae+=h;++E}}else for(;E<c;){var Be=this.begin+E*h,Me=p.toFloat(Be)%p.toFloat(i)|0,_e=p.toFloat(Be)/p.toFloat(i)|0;if(0==O){var Ze=l[this.classbook];e.validBits<10&&e.prepHuffman();var ye,Ge=Ze.fastHuffman[1023&e.acc];if(Ge>=0){var We=Ze.codewordLengths[Ge];e.acc=e.acc>>>We,e.validBits-=We,e.validBits<0?(e.validBits=0,ye=-1):ye=Ge}else ye=e.decodeScalarRaw(Ze);Ze.sparse&&(ye=Ze.sortedValues[ye]);var Se=ye;if(-1==Se)return;for(var ze=g;--ze>=0;)I[ze+E]=Se%this.classifications,Se=Se/this.classifications|0}for(var Ne=0,Ve=g;Ne<Ve;){Ne++;if(E>=c)break;var Ke=this.begin+E*h,ke=this.residueBooks[I[E]][O];if(ke>=0){var Ye=l[ke].decodeDeinterleaveRepeat(e,a,i,Me,_e,s,h);if(null==Ye)return;Me=Ye.cInter,_e=Ye.pInter}else Ke+=h,Me=p.toFloat(Ke)%p.toFloat(i)|0,_e=p.toFloat(Ke)/p.toFloat(i)|0;++E}}}}},__class__:ta};var aa=function(){};s["kha.graphics1.Graphics"]=aa,aa.__name__=!0;var ia=function(){this.transformations=[],this.transformations.push(new Te(1,0,0,0,1,0,0,0,1)),this.opacities=[],this.opacities.push(1),this.myFontSize=12,this.myFontGlyphs=[];for(var e=32;e<256;){var t=e++;this.myFontGlyphs.push(t)}this.pipe=null};s["kha.graphics2.Graphics"]=ia,ia.__name__=!0,ia.prototype={begin:function(e,t){null==e&&(e=!0)},end:function(){},fillRect:function(e,t,a,i){},set_color:function(e){return-16777216},get_fontSize:function(){return this.myFontSize},get_opacity:function(){return this.opacities[this.opacities.length-1]},__class__:ia,__properties__:{get_opacity:"get_opacity",get_fontSize:"get_fontSize",set_color:"set_color"}};var sa=function(e){this.canvas=e};s["kha.graphics2.Graphics1"]=sa,sa.__name__=!0,sa.__interfaces__=[aa],sa.prototype={__class__:sa};var na=s["kha.graphics2.ImageScaleQuality"]={__ename__:!0,__constructs__:["Low","High"]};na.Low=["Low",0],na.Low.toString=n,na.Low.__enum__=na,na.High=["High",1],na.High.toString=n,na.High.__enum__=na;var ra=function(){};s["kha.graphics2.truetype.VectorOfIntPointer"]=ra,ra.__name__=!0,ra.prototype={__class__:ra};var la=function(){};s["kha.graphics2.truetype.Stbtt_temp_rect"]=la,la.__name__=!0,la.prototype={__class__:la};var ga=function(){};s["kha.graphics2.truetype.Stbtt_temp_glyph_h_metrics"]=ga,ga.__name__=!0,ga.prototype={__class__:ga};var oa=function(){};s["kha.graphics2.truetype.Stbtt_temp_font_v_metrics"]=oa,oa.__name__=!0,oa.prototype={__class__:oa};var ha=function(){};s["kha.graphics2.truetype.Stbtt_bakedchar"]=ha,ha.__name__=!0,ha.prototype={__class__:ha};var ca=function(){};s["kha.graphics2.truetype.Stbtt_fontinfo"]=ca,ca.__name__=!0,ca.prototype={__class__:ca};var da=function(){};s["kha.graphics2.truetype.Stbtt_vertex"]=da,da.__name__=!0,da.prototype={__class__:da};var Ia=function(){};s["kha.graphics2.truetype.Stbtt__bitmap"]=Ia,Ia.__name__=!0,Ia.prototype={__class__:Ia};var ua=function(){};s["kha.graphics2.truetype.Stbtt__edge"]=ua,ua.__name__=!0,ua.prototype={__class__:ua};var Ca=function(){};s["kha.graphics2.truetype.Stbtt__active_edge"]=Ca,Ca.__name__=!0,Ca.prototype={__class__:Ca};var ma=function(){};s["kha.graphics2.truetype.Stbtt__point"]=ma,ma.__name__=!0,ma.prototype={__class__:ma};var pa=function(){};s["kha.graphics2.truetype.StbTruetype"]=pa,pa.__name__=!0,pa.stbtt__find_table=function(e,t,a){for(var i=t+4,s=e.readU8(i),n=t+12,r=0,g=e.readU8(i+1)|s<<8;r<g;){var o=n+16*r++,h=l.cca(a,0),c=l.cca(a,1),d=l.cca(a,2),I=l.cca(a,3);if(e.readU8(o)==h&&e.readU8(o+1)==c&&e.readU8(o+2)==d&&e.readU8(o+3)==I){var u=o+8,C=e.readU8(u),m=e.readU8(u+1),p=e.readU8(u+2);return e.readU8(u+3)|p<<8|m<<16|C<<24}}return 0},pa.stbtt_InitFont=function(e,t,a){var i,s,n;if(e.data=t,e.fontstart=a,i=pa.stbtt__find_table(t,a,"cmap"),e.loca=pa.stbtt__find_table(t,a,"loca"),e.head=pa.stbtt__find_table(t,a,"head"),e.glyf=pa.stbtt__find_table(t,a,"glyf"),e.hhea=pa.stbtt__find_table(t,a,"hhea"),e.hmtx=pa.stbtt__find_table(t,a,"hmtx"),e.kern=pa.stbtt__find_table(t,a,"kern"),0==i||0==e.loca||0==e.head||0==e.glyf||0==e.hhea||0==e.hmtx)return!1;if(0!=(s=pa.stbtt__find_table(t,a,"maxp"))){var r=s+4,l=t.readU8(r),g=t.readU8(r+1);e.numGlyphs=g|l<<8}else e.numGlyphs=65535;var o=i+2,h=t.readU8(o);n=t.readU8(o+1)|h<<8,e.index_map=0;for(var c=0,d=n;c<d;){var I=i+4+8*c++,u=t.readU8(I);switch(t.readU8(I+1)|u<<8){case 0:var C=I+4,m=t.readU8(C),p=t.readU8(C+1),b=t.readU8(C+2),f=t.readU8(C+3);e.index_map=i+(f|b<<8|p<<16|m<<24);break;case 3:var A=I+2,w=t.readU8(A);switch(t.readU8(A+1)|w<<8){case 1:case 10:var v=I+4,B=t.readU8(v),M=t.readU8(v+1),_=t.readU8(v+2),Z=t.readU8(v+3);e.index_map=i+(Z|_<<8|M<<16|B<<24)}}}if(0==e.index_map)return!1;var y=e.head+50,G=t.readU8(y),W=t.readU8(y+1);return e.indexToLocFormat=W|G<<8,!0},pa.stbtt_FindGlyphIndex=function(e,t){var a=e.data,i=e.index_map,s=a.readU8(i),n=a.readU8(i+1)|s<<8;if(0==n){var r=i+2,l=a.readU8(r);return t<(a.readU8(r+1)|l<<8)-6?a.readU8(i+6+t):0}if(6==n){var g=i+6,o=a.readU8(g),h=a.readU8(g+1)|o<<8,c=i+8,d=a.readU8(c),I=a.readU8(c+1)|d<<8;if(t>=h&&t<h+I){var u=i+10+2*(t-h),C=a.readU8(u);return a.readU8(u+1)|C<<8}return 0}if(2==n)throw new tt("Error");if(4==n){var m=i+6,p=a.readU8(m),b=(a.readU8(m+1)|p<<8)>>1,f=i+8,A=a.readU8(f),w=(a.readU8(f+1)|A<<8)>>1,v=i+10,B=a.readU8(v),M=a.readU8(v+1)|B<<8,_=i+12,Z=a.readU8(_),y=(a.readU8(_+1)|Z<<8)>>1,G=i+14,W=G;if(t>65535)return 0;var S=W+2*y,z=a.readU8(S);for(t>=(a.readU8(S+1)|z<<8)&&(W+=2*y),W-=2;0!=M;){var N=W+2*(w>>=1),V=a.readU8(N);t>(a.readU8(N+1)|V<<8)&&(W+=2*w),--M}var K,k,Y=(W+=2)-G>>1,X=G+2*Y,D=a.readU8(X);if(t>(a.readU8(X+1)|D<<8))throw new tt("Error");var H=i+14+2*b+2+2*Y,x=a.readU8(H);if(k=a.readU8(H+1)|x<<8,t<k)return 0;var F=i+14+6*b+2+2*Y,T=a.readU8(F);if(0==(K=a.readU8(F+1)|T<<8)){var j=i+14+4*b+2+2*Y,R=a.readU8(j),L=a.readU8(j+1)|R<<8;return t+(0!=(32768&L)?L-65536:L)}var Q=K+2*(t-k)+i+14+6*b+2+2*Y,O=a.readU8(Q);return a.readU8(Q+1)|O<<8}if(12==n||13==n){var E,J,U=i+12,P=a.readU8(U),q=a.readU8(U+1),$=a.readU8(U+2);for(E=0,J=a.readU8(U+3)|$<<8|q<<16|P<<24;E<J;){var ee=E+(J-E>>1),te=i+16+12*ee,ae=a.readU8(te),ie=a.readU8(te+1),se=a.readU8(te+2),ne=a.readU8(te+3)|se<<8|ie<<16|ae<<24,re=i+16+12*ee+4,le=a.readU8(re),ge=a.readU8(re+1),oe=a.readU8(re+2),he=a.readU8(re+3)|oe<<8|ge<<16|le<<24;if(t<ne)J=ee;else{if(!(t>he)){var ce=i+16+12*ee+8,de=a.readU8(ce),Ie=a.readU8(ce+1),ue=a.readU8(ce+2),Ce=a.readU8(ce+3)|ue<<8|Ie<<16|de<<24;return 12==n?Ce+t-ne:Ce}E=ee+1}}return 0}throw new tt("Error")},pa.stbtt_setvertex=function(e,t,a,i,s,n){e.type=t,e.x=a,e.y=i,e.cx=s,e.cy=n},pa.stbtt__GetGlyfOffset=function(e,t){var a,i;if(t>=e.numGlyphs)return-1;if(e.indexToLocFormat>=2)return-1;if(0==e.indexToLocFormat){var s=e.glyf,n=e.data,r=e.loca+2*t,l=n.readU8(r);a=s+2*(n.readU8(r+1)|l<<8);var g=e.glyf,o=e.data,h=e.loca+2*t+2,c=o.readU8(h);i=g+2*(o.readU8(h+1)|c<<8)}else{var d=e.glyf,I=e.data,u=e.loca+4*t,C=I.readU8(u),m=I.readU8(u+1),p=I.readU8(u+2);a=d+(I.readU8(u+3)|p<<8|m<<16|C<<24);var b=e.glyf,f=e.data,A=e.loca+4*t+4,w=f.readU8(A),v=f.readU8(A+1),B=f.readU8(A+2);i=b+(f.readU8(A+3)|B<<8|v<<16|w<<24)}return a==i?-1:a},pa.stbtt_GetGlyphBox=function(e,t,a){var i=pa.stbtt__GetGlyfOffset(e,t);if(i<0)return!1;var s=e.data,n=i+2,r=s.readU8(n),l=s.readU8(n+1)|r<<8;a.x0=0!=(32768&l)?l-65536:l;var g=e.data,o=i+4,h=g.readU8(o),c=g.readU8(o+1)|h<<8;a.y0=0!=(32768&c)?c-65536:c;var d=e.data,I=i+6,u=d.readU8(I),C=d.readU8(I+1)|u<<8;a.x1=0!=(32768&C)?C-65536:C;var m=e.data,p=i+8,b=m.readU8(p),f=m.readU8(p+1)|b<<8;return a.y1=0!=(32768&f)?f-65536:f,!0},pa.stbtt__close_shape=function(e,t,a,i,s,n,r,l,g,o){return i?(a&&pa.stbtt_setvertex(e[t++],3,g+r>>1,o+l>>1,g,o),pa.stbtt_setvertex(e[t++],3,s,n,r,l)):a?pa.stbtt_setvertex(e[t++],3,s,n,g,o):pa.stbtt_setvertex(e[t++],2,s,n,0,0),t},pa.copyVertices=function(e,t,a,i){for(var s=0,n=i;s<n;){var r=s++;t[a+r]=e[r]}},pa.stbtt_GetGlyphShape=function(e,t){var a,i,s=e.data,n=null,r=0,l=pa.stbtt__GetGlyfOffset(e,t);if(l<0)return null;var g=s.readU8(l),o=s.readU8(l+1)|g<<8;if((a=0!=(32768&o)?o-65536:o)>0){var h,c,d,I,u,C,m,p,b,f,A,w,v,B=0,M=0,_=0,Z=0,y=!1,G=!1,W=0;i=s.sub(l+10,s.get_length()-(l+10));var S=l+10+2*a,z=s.readU8(S);c=s.readU8(S+1)|z<<8,v=s.sub(l+10+2*a+2+c,s.get_length()-(l+10+2*a+2+c));var N=2*a-2,V=i.readU8(N);if(d=(I=1+(i.readU8(N+1)|V<<8))+2*a,null==(n=new Array(d)))return null;for(var K=0,k=n.length;K<k;)n[K++]=new da;_=0,h=0,Z=d-I;for(var Y=0,X=I;Y<X;){var D=Y++;0==h?0!=(8&(B=v.readU8(W++)))&&(h=v.readU8(W++)):--h,n[Z+D].type=B}u=0;for(var H=0,x=I;H<x;){var F=H++;if(0!=(2&(B=n[Z+F].type))){var T=v.readU8(W++);u+=0!=(16&B)?T:-T}else if(0==(16&B)){var j=v.readU8(W),R=v.readU8(W+1)|j<<8;u+=0!=(32768&R)?R-65536:R,W+=2}n[Z+F].x=u}C=0;for(var L=0,Q=I;L<Q;){var O=L++;if(0!=(4&(B=n[Z+O].type))){var E=v.readU8(W++);C+=0!=(32&B)?E:-E}else if(0==(32&B)){var J=v.readU8(W),U=v.readU8(W+1)|J<<8;C+=0!=(32768&U)?U-65536:U,W+=2}n[Z+O].y=C}r=0,b=f=m=p=A=w=0;for(var P=0;P<I;){if(B=n[Z+P].type,u=n[Z+P].x,C=n[Z+P].y,_==P){0!=P&&(r=pa.stbtt__close_shape(n,r,y,G,b,f,A,w,m,p)),(G=0==(1&B))?(A=u,w=C,0==(1&n[Z+P+1].type)?(b=u+n[Z+P+1].x>>1,f=C+n[Z+P+1].y>>1):(b=n[Z+P+1].x,f=n[Z+P+1].y,++P)):(b=u,f=C),pa.stbtt_setvertex(n[r++],1,b,f,0,0),y=!1;var q=2*M,$=i.readU8(q);_=1+(i.readU8(q+1)|$<<8),++M}else 0==(1&B)?(y&&pa.stbtt_setvertex(n[r++],3,m+u>>1,p+C>>1,m,p),m=u,p=C,y=!0):(y?pa.stbtt_setvertex(n[r++],3,u,C,m,p):pa.stbtt_setvertex(n[r++],2,u,C,0,0),y=!1);++P}r=pa.stbtt__close_shape(n,r,y,G,b,f,A,w,m,p)}else if(-1==a){var ee=1,te=s.sub(l+10,s.get_length()-(l+10)),ae=0;for(r=0,n=null;0!=ee;){var ie,se,ne,re,le=0,ge=null,oe=null,he=1,ce=0,de=0,Ie=1,ue=0,Ce=0,me=te.readU8(ae),pe=te.readU8(ae+1)|me<<8;ie=0!=(32768&pe)?pe-65536:pe,ae+=2;var be=te.readU8(ae),fe=te.readU8(ae+1)|be<<8;if(se=0!=(32768&fe)?fe-65536:fe,ae+=2,0==(2&ie))throw new tt("Error");if(0!=(1&ie)){var Ae=te.readU8(ae),we=te.readU8(ae+1)|Ae<<8;ue=0!=(32768&we)?we-65536:we,ae+=2;var ve=te.readU8(ae),Be=te.readU8(ae+1)|ve<<8;Ce=0!=(32768&Be)?Be-65536:Be,ae+=2}else{var Me=te.readU8(ae);ue=Me>=128?Me-256:Me,++ae;var _e=te.readU8(ae);Ce=_e>=128?_e-256:_e,++ae}if(0!=(8&ie)){var Ze=te.readU8(ae),ye=te.readU8(ae+1)|Ze<<8;he=Ie=(0!=(32768&ye)?ye-65536:ye)/16384,ae+=2,ce=de=0}else if(0!=(64&ie)){var Ge=te.readU8(ae),We=te.readU8(ae+1)|Ge<<8;he=(0!=(32768&We)?We-65536:We)/16384,ae+=2,ce=de=0;var Se=te.readU8(ae),ze=te.readU8(ae+1)|Se<<8;Ie=(0!=(32768&ze)?ze-65536:ze)/16384,ae+=2}else if(0!=(128&ie)){var Ne=te.readU8(ae),Ve=te.readU8(ae+1)|Ne<<8;he=(0!=(32768&Ve)?Ve-65536:Ve)/16384,ae+=2;var Ke=te.readU8(ae),ke=te.readU8(ae+1)|Ke<<8;ce=(0!=(32768&ke)?ke-65536:ke)/16384,ae+=2;var Ye=te.readU8(ae),Xe=te.readU8(ae+1)|Ye<<8;de=(0!=(32768&Xe)?Xe-65536:Xe)/16384,ae+=2;var De=te.readU8(ae),He=te.readU8(ae+1)|De<<8;Ie=(0!=(32768&He)?He-65536:He)/16384,ae+=2}if(ne=Math.sqrt(he*he+ce*ce),re=Math.sqrt(de*de+Ie*Ie),ge=pa.stbtt_GetGlyphShape(e,se),(le=null==ge?0:ge.length)>0){for(var xe=0,Fe=le;xe<Fe;){var Te,je,Re=ge[xe++];Te=Re.x,je=Re.y,Re.x=ne*(he*Te+de*je+ue)|0,Re.y=re*(ce*Te+Ie*je+Ce)|0,Te=Re.cx,je=Re.cy,Re.cx=ne*(he*Te+de*je+ue)|0,Re.cy=re*(ce*Te+Ie*je+Ce)|0}if(null==(oe=new Array(r+le)))return null;r>0&&pa.copyVertices(n,oe,0,r),pa.copyVertices(ge,oe,r,le),n=oe,r+=le}ee=32&ie}}else if(a<0)throw new tt("Error");if(null==n)return null;if(n.length<r)throw new tt("Error");if(r<n.length){var Le=new Array(r);return pa.copyVertices(n,Le,0,r),Le}return n},pa.stbtt_GetGlyphHMetrics=function(e,t){var a=e.data,i=e.hhea+34,s=a.readU8(i),n=a.readU8(i+1)|s<<8,r=new ga;if(t<n){var l=e.data,g=e.hmtx+4*t,o=l.readU8(g),h=l.readU8(g+1)|o<<8;r.advanceWidth=0!=(32768&h)?h-65536:h;var c=e.data,d=e.hmtx+4*t+2,I=c.readU8(d),u=c.readU8(d+1)|I<<8;r.leftSideBearing=0!=(32768&u)?u-65536:u}else{var C=e.data,m=e.hmtx+4*(n-1),p=C.readU8(m),b=C.readU8(m+1)|p<<8;r.advanceWidth=0!=(32768&b)?b-65536:b;var f=e.data,A=e.hmtx+4*n+2*(t-n),w=f.readU8(A),v=f.readU8(A+1)|w<<8;r.leftSideBearing=0!=(32768&v)?v-65536:v}return r},pa.stbtt_GetFontVMetrics=function(e){var t=new oa,a=e.data,i=e.hhea+4,s=a.readU8(i),n=a.readU8(i+1)|s<<8;t.ascent=0!=(32768&n)?n-65536:n;var r=e.data,l=e.hhea+6,g=r.readU8(l),o=r.readU8(l+1)|g<<8;t.descent=0!=(32768&o)?o-65536:o;var h=e.data,c=e.hhea+8,d=h.readU8(c),I=h.readU8(c+1)|d<<8;return t.lineGap=0!=(32768&I)?I-65536:I,t},pa.stbtt_ScaleForPixelHeight=function(e,t){var a=e.data,i=e.hhea+4,s=a.readU8(i),n=a.readU8(i+1)|s<<8,r=e.data,l=e.hhea+6,g=r.readU8(l),o=r.readU8(l+1)|g<<8;return t/((0!=(32768&n)?n-65536:n)-(0!=(32768&o)?o-65536:o))},pa.stbtt_GetGlyphBitmapBoxSubpixel=function(e,t,a,i,s,n){var r=new la;if(pa.stbtt_GetGlyphBox(e,t,r)){var l=r.x0,g=r.x1,o=r.y0,h=r.y1;r.x0=Math.floor(l*a+s),r.y0=Math.floor(-h*i+n),r.x1=Math.ceil(g*a+s),r.y1=Math.ceil(-o*i+n)}else r.x0=0,r.y0=0,r.x1=0,r.y1=0;return r},pa.stbtt_GetGlyphBitmapBox=function(e,t,a,i){return pa.stbtt_GetGlyphBitmapBoxSubpixel(e,t,a,i,0,0)},pa.stbtt__new_active=function(e,t,a,i){var s=new Ca,n=(e[t].x1-e[t].x0)/(e[t].y1-e[t].y0);return null==s?s:(s.fdx=n,s.fdy=0!=n?1/n:0,s.fx=e[t].x0+n*(i-e[t].y0),s.fx-=a,s.direction=e[t].invert?1:-1,s.sy=e[t].y0,s.ey=e[t].y1,s.next=null,s)},pa.stbtt__handle_clipped_edge=function(e,t,a,i,s,n,r,l){if(n!=l){if(!(n<l))throw new tt("Error");if(!(i.sy<=i.ey))throw new tt("Error");if(!(n>i.ey||l<i.sy)){if(n<i.sy&&(s+=(r-s)*(i.sy-n)/(l-n),n=i.sy),l>i.ey&&(r+=(r-s)*(i.ey-l)/(l-n),l=i.ey),s==a){if(!(r<=a+1))throw new tt("Error")}else if(s==a+1){if(!(r>=a))throw new tt("Error")}else if(s<=a){if(!(r<=a))throw new tt("Error")}else if(s>=a+1){if(!(r>=a+1))throw new tt("Error")}else if(!(r>=a&&r<=a+1))throw new tt("Error");if(s<=a&&r<=a){var g=t+a,o=e;o[g]=o[g]+i.direction*(l-n)}else if(!(s>=a+1&&r>=a+1)){if(!(s>=a&&s<=a+1&&r>=a&&r<=a+1))throw new tt("Error");var h=t+a,c=e;c[h]=c[h]+i.direction*(l-n)*(1-(s-a+(r-a))/2)}}}},pa.stbtt__fill_active_edges_new=function(e,t,a,i,s,n){for(var r=n+1;null!=s;){if(!(s.ey>=n))throw new tt("Error");if(0==s.fdx){var l=s.fx;l<i&&(l>=0?(pa.stbtt__handle_clipped_edge(e,0,0|l,s,l,n,l,r),pa.stbtt__handle_clipped_edge(t,a-1,l+1|0,s,l,n,l,r)):pa.stbtt__handle_clipped_edge(t,a-1,0,s,l,n,l,r))}else{var g,o,h,c,d=s.fx,I=s.fdx,u=d+I,C=s.fdy;if(!(s.sy<=r&&s.ey>=n))throw new tt("Error");if(s.sy>n?(g=d+I*(s.sy-n),h=s.sy):(g=d,h=n),s.ey<r?(o=d+I*(s.ey-n),c=s.ey):(o=u,c=r),g>=0&&o>=0&&g<i&&o<i)if((0|g)==(0|o)){var m,p=0|g;if(m=c-h,!(p>=0&&p<i))throw new tt("Error");var b=p,f=e;f[b]=f[b]+s.direction*(1-(g-p+(o-p))/2)*m;var A=a+p,w=t;w[A]=w[A]+s.direction*m}else{var v,B,M,_,Z,y;if(g>o){var G;G=h=r-(h-n),h=c=r-(c-n),c=G,G=o,o=g,g=G,I=-I,C=-C,G=d,d=u,u=G}B=0|o,M=((v=0|g)+1-d)*C+n,y=(Z=s.direction)*(M-h);var W=v,S=e;S[W]=S[W]+y*(1-(g-v+(v+1-v))/2),_=Z*C;for(var z=v+1,N=B;z<N;){var V=z++,K=e;K[V]=K[V]+(y+_/2),y+=_}if(M+=C*(B-(v+1)),!(Math.abs(y)<=1.01))throw new tt("Error");var k=B,Y=e;Y[k]=Y[k]+(y+Z*(1-(B-B+(o-B))/2)*(c-M));var X=a+B,D=t;D[X]=D[X]+Z*(c-h)}else for(var H=0,x=i;H<x;){var F,T,j=H++,R=n,L=j,Q=j+1,O=u,E=r;F=(j-d)/I+n,T=(j+1-d)/I+n,d<L&&O>Q?(pa.stbtt__handle_clipped_edge(e,0,j,s,d,R,L,F),pa.stbtt__handle_clipped_edge(e,0,j,s,L,F,Q,T),pa.stbtt__handle_clipped_edge(e,0,j,s,Q,T,O,E)):O<L&&d>Q?(pa.stbtt__handle_clipped_edge(e,0,j,s,d,R,Q,T),pa.stbtt__handle_clipped_edge(e,0,j,s,Q,T,L,F),pa.stbtt__handle_clipped_edge(e,0,j,s,L,F,O,E)):d<L&&O>L?(pa.stbtt__handle_clipped_edge(e,0,j,s,d,R,L,F),pa.stbtt__handle_clipped_edge(e,0,j,s,L,F,O,E)):O<L&&d>L?(pa.stbtt__handle_clipped_edge(e,0,j,s,d,R,L,F),pa.stbtt__handle_clipped_edge(e,0,j,s,L,F,O,E)):d<Q&&O>Q?(pa.stbtt__handle_clipped_edge(e,0,j,s,d,R,Q,T),pa.stbtt__handle_clipped_edge(e,0,j,s,Q,T,O,E)):O<Q&&d>Q?(pa.stbtt__handle_clipped_edge(e,0,j,s,d,R,Q,T),pa.stbtt__handle_clipped_edge(e,0,j,s,Q,T,O,E)):pa.stbtt__handle_clipped_edge(e,0,j,s,d,R,O,E)}}s=s.next}},pa.stbtt__rasterize_sorted_edges=function(e,t,a,i,s,n){var r,l,g,o=null,h=0,c=0,d=0;if(e.w>64){var I=2*e.w+1;l=new Array(I)}else l=new Array(129);for(g=l,c=e.w,r=n,t[d+a].y0=n+e.h+1;h<e.h;){var u,C,m=r+0,p=r+1;u=o,C=null;for(var b=0,f=e.w;b<f;)l[b++]=0;for(var A=0,w=e.w+1;A<w;)g[c+A++]=0;for(;null!=u;){var v=u;if(v.ey<=m){if(null==C?(o=v.next,u=v.next):(C.next=v.next,u=v.next),0==v.direction)throw new tt("Error");v.direction=0}else C=u,u=u.next}for(;t[d].y0<=p;){if(t[d].y0!=t[d].y1){var B=pa.stbtt__new_active(t,d,s,m);if(!(B.ey>=m))throw new tt("Error");B.next=o,o=B}++d}null!=o&&pa.stbtt__fill_active_edges_new(l,g,c+1,e.w,o,m);for(var M=0,_=0,Z=e.w;_<Z;){var y,G,W=_++;M+=g[c+W],y=l[W]+M,(G=0|(y=255*Math.abs(y)+.5))>255&&(G=255),e.pixels.writeU8(e.pixels_offset+h*e.stride+W,G)}for(C=null,u=o;null!=u;){var S=u;S.fx+=S.fdx,C=u,u=u.next}++r,++h}},pa.STBTT__COMPARE=function(e,t){return e.y0<t.y0},pa.stbtt__sort_edges_ins_sort=function(e,t){for(var a,i=1,s=t;i<s;){var n=i++,r=e[n],l=r;for(a=n;a>0;){var g=e[a-1];if(!pa.STBTT__COMPARE(l,g))break;e[a]=e[a-1],--a}n!=a&&(e[a]=r)}},pa.stbtt__sort_edges_quicksort=function(e,t,a){for(;a>12;){var i,s,n,r,l,g;if(r=a>>1,s=pa.STBTT__COMPARE(e[t],e[t+r]),n=pa.STBTT__COMPARE(e[t+r],e[t+a-1]),s!=n){var o;i=e[t+(o=pa.STBTT__COMPARE(e[t],e[t+a-1])==n?0:a-1)],e[t+o]=e[t+r],e[t+r]=i}for(i=e[t],e[t]=e[t+r],e[t+r]=i,l=1,g=a-1;;){for(;pa.STBTT__COMPARE(e[t+l],e[t]);)++l;for(;pa.STBTT__COMPARE(e[t],e[t+g]);)--g;if(l>=g)break;i=e[t+l],e[t+l]=e[t+g],e[t+g]=i,++l,--g}g<a-l?(pa.stbtt__sort_edges_quicksort(e,t,g),t+=l,a-=l):(pa.stbtt__sort_edges_quicksort(e,t+l,a-l),a=g)}},pa.stbtt__sort_edges=function(e,t){pa.stbtt__sort_edges_quicksort(e,0,t),pa.stbtt__sort_edges_ins_sort(e,t)},pa.stbtt__rasterize=function(e,t,a,i,s,n,r,l,g,o,h){var c,d,I,u,C=h?-n:n;d=0;for(var m=0,p=i;m<p;)d+=a[m++];if(null!=(c=new Array(d+1))){for(var b=0,f=c.length;b<f;)c[b++]=new ua;d=0,u=0;for(var A=0,w=i;A<w;){var v=A++,B=t,M=0+u;u+=a[v],I=a[v]-1;for(var _=0,Z=a[v];_<Z;){var y=_++,G=y,W=I;B[M+I].y!=B[M+y].y?(c[d].invert=!1,(h?B[M+I].y>B[M+y].y:B[M+I].y<B[M+y].y)&&(c[d].invert=!0,G=I,W=y),c[d].x0=B[M+G].x*s+r,c[d].y0=1*(B[M+G].y*C+l),c[d].x1=B[M+W].x*s+r,c[d].y1=1*(B[M+W].y*C+l),++d,I=y):I=y}}pa.stbtt__sort_edges(c,d),pa.stbtt__rasterize_sorted_edges(e,c,d,1,g,o)}},pa.stbtt__add_point=function(e,t,a,i){null!=e&&(e[t].x=a,e[t].y=i)},pa.stbtt__tesselate_curve=function(e,t,a,i,s,n,r,l,g,o){var h=(a+2*s+r)/4,c=(i+2*n+l)/4,d=(a+r)/2-h,I=(i+l)/2-c;return o>16?1:(d*d+I*I>g?(pa.stbtt__tesselate_curve(e,t,a,i,(a+s)/2,(i+n)/2,h,c,g,o+1),pa.stbtt__tesselate_curve(e,t,h,c,(s+r)/2,(n+l)/2,r,l,g,o+1)):(pa.stbtt__add_point(e,t.value,r,l),t.value+=1),1)},pa.stbtt_FlattenCurves=function(e,t,a,i,s){for(var n=null,r=0,l=a*a,g=0,o=0,h=0,c=t;h<c;)1==e[h++].type&&++g;if(s.value=g,0==g)return null;var d=new Array(g);if(i.value=d,null==i.value)return s.value=0,null;for(var I=0;I<2;){var u=0,C=0;if(1==I++){if(null==(n=new Array(r)))return i.value=null,s.value=0,null;for(var m=0,p=n.length;m<p;)n[m++]=new ma}r=0,g=-1;for(var b=0,f=t;b<f;){var A=b++;switch(e[A].type){case 1:g>=0&&(i.value[g]=r-o),++g,o=r,u=e[A].x,C=e[A].y,pa.stbtt__add_point(n,r++,u,C);break;case 2:u=e[A].x,C=e[A].y,pa.stbtt__add_point(n,r++,u,C);break;case 3:var w={value:r};pa.stbtt__tesselate_curve(n,w,u,C,e[A].cx,e[A].cy,e[A].x,e[A].y,l,0),r=w.value,u=e[A].x,C=e[A].y}}i.value[g]=r-o}return n},pa.stbtt_Rasterize=function(e,t,a,i,s,n,r,l,g,o,h){var c=s>n?n:s,d=0,I=null,u={value:d},C=new ra,m=pa.stbtt_FlattenCurves(a,i,t/c,C,u);d=u.value,I=C.value,null!=m&&pa.stbtt__rasterize(e,m,I,d,s,n,r,l,g,o,h)},pa.stbtt_MakeGlyphBitmapSubpixel=function(e,t,a,i,s,n,r,l,g,o,h){var c=0,d=0,I=pa.stbtt_GetGlyphShape(e,h),u=null==I?0:I.length,C=new Ia,m=pa.stbtt_GetGlyphBitmapBoxSubpixel(e,h,r,l,g,o);c=m.x0,d=m.y0,C.pixels=t,C.pixels_offset=a,C.w=i,C.h=s,C.stride=n,0!=C.w&&0!=C.h&&pa.stbtt_Rasterize(C,.35,I,u,r,l,g,o,c,d,!0)},pa.stbtt_MakeGlyphBitmap=function(e,t,a,i,s,n,r,l,g){pa.stbtt_MakeGlyphBitmapSubpixel(e,t,a,i,s,n,r,l,0,0,g)},pa.stbtt_BakeFontBitmap=function(e,t,a,i,s,n,r,l){var g,o,h,c,d=new ca;if(!pa.stbtt_InitFont(d,e,t))return-1;for(var I=0,u=s*n;I<u;){var C=I++;i.writeU8(C,0)}o=h=1,c=1,g=pa.stbtt_ScaleForPixelHeight(d,a);for(var m=0,p=0;p<r.length;){var b=r[p];++p;var f,A,w,v,B,M,_,Z=pa.stbtt_FindGlyphIndex(d,b),y=pa.stbtt_GetGlyphHMetrics(d,Z);f=y.advanceWidth,y.leftSideBearing;var G=pa.stbtt_GetGlyphBitmapBox(d,Z,g,g);if(A=G.x0,w=G.y0,v=G.x1,B=G.y1,M=v-A,_=B-w,o+M+1>=s&&(h=c,o=1),h+_+1>=n)return-m;if(o+M>=s)throw new tt("Error");if(h+_>=n)throw new tt("Error");pa.stbtt_MakeGlyphBitmap(d,i,o+h*s,M,_,s,g,g,Z),l[m].x0=o,l[m].y0=h,l[m].x1=o+M,l[m].y1=h+_,l[m].xadvance=g*f,l[m].xoff=A,l[m].yoff=w,o=o+M+1,h+_+1>c&&(c=h+_+1),++m}return c};var ba=s["kha.graphics4.BlendingFactor"]={__ename__:!0,__constructs__:["Undefined","BlendOne","BlendZero","SourceAlpha","DestinationAlpha","InverseSourceAlpha","InverseDestinationAlpha","SourceColor","DestinationColor","InverseSourceColor","InverseDestinationColor"]};ba.Undefined=["Undefined",0],ba.Undefined.toString=n,ba.Undefined.__enum__=ba,ba.BlendOne=["BlendOne",1],ba.BlendOne.toString=n,ba.BlendOne.__enum__=ba,ba.BlendZero=["BlendZero",2],ba.BlendZero.toString=n,ba.BlendZero.__enum__=ba,ba.SourceAlpha=["SourceAlpha",3],ba.SourceAlpha.toString=n,ba.SourceAlpha.__enum__=ba,ba.DestinationAlpha=["DestinationAlpha",4],ba.DestinationAlpha.toString=n,ba.DestinationAlpha.__enum__=ba,ba.InverseSourceAlpha=["InverseSourceAlpha",5],ba.InverseSourceAlpha.toString=n,ba.InverseSourceAlpha.__enum__=ba,ba.InverseDestinationAlpha=["InverseDestinationAlpha",6],ba.InverseDestinationAlpha.toString=n,ba.InverseDestinationAlpha.__enum__=ba,ba.SourceColor=["SourceColor",7],ba.SourceColor.toString=n,ba.SourceColor.__enum__=ba,ba.DestinationColor=["DestinationColor",8],ba.DestinationColor.toString=n,ba.DestinationColor.__enum__=ba,ba.InverseSourceColor=["InverseSourceColor",9],ba.InverseSourceColor.toString=n,ba.InverseSourceColor.__enum__=ba,ba.InverseDestinationColor=["InverseDestinationColor",10],ba.InverseDestinationColor.toString=n,ba.InverseDestinationColor.__enum__=ba;var fa=s["kha.graphics4.BlendingOperation"]={__ename__:!0,__constructs__:["Add","Subtract","ReverseSubtract","Min","Max"]};fa.Add=["Add",0],fa.Add.toString=n,fa.Add.__enum__=fa,fa.Subtract=["Subtract",1],fa.Subtract.toString=n,fa.Subtract.__enum__=fa,fa.ReverseSubtract=["ReverseSubtract",2],fa.ReverseSubtract.toString=n,fa.ReverseSubtract.__enum__=fa,fa.Min=["Min",3],fa.Min.toString=n,fa.Min.__enum__=fa,fa.Max=["Max",4],fa.Max.toString=n,fa.Max.__enum__=fa;var Aa=s["kha.graphics4.CompareMode"]={__ename__:!0,__constructs__:["Always","Never","Equal","NotEqual","Less","LessEqual","Greater","GreaterEqual"]};Aa.Always=["Always",0],Aa.Always.toString=n,Aa.Always.__enum__=Aa,Aa.Never=["Never",1],Aa.Never.toString=n,Aa.Never.__enum__=Aa,Aa.Equal=["Equal",2],Aa.Equal.toString=n,Aa.Equal.__enum__=Aa,Aa.NotEqual=["NotEqual",3],Aa.NotEqual.toString=n,Aa.NotEqual.__enum__=Aa,Aa.Less=["Less",4],Aa.Less.toString=n,Aa.Less.__enum__=Aa,Aa.LessEqual=["LessEqual",5],Aa.LessEqual.toString=n,Aa.LessEqual.__enum__=Aa,Aa.Greater=["Greater",6],Aa.Greater.toString=n,Aa.Greater.__enum__=Aa,Aa.GreaterEqual=["GreaterEqual",7],Aa.GreaterEqual.toString=n,Aa.GreaterEqual.__enum__=Aa;var wa=function(){};s["kha.graphics4.ConstantLocation"]=wa,wa.__name__=!0;var va=function(e,t,a,i){this.isDepthAttachment=!1,this.depthTexture=null,this.texture=null,this.frameBuffer=null,this.myWidth=e,this.myHeight=e,this.format=t,this.renderTarget=a,this.depthStencilFormat=i,a&&this.createTexture()};s["kha.graphics4.CubeMap"]=va,va.__name__=!0,va.__interfaces__=[gt,lt],va.createRenderTarget=function(e,t,a,i){return null==i&&(i=0),null==t&&(t=xa.RGBA32),null==a&&(a=0),new va(e,t,!0,a)},va.prototype={createTexture:function(){if(null!=yt.gl){if(this.texture=yt.gl.createTexture(),yt.gl.bindTexture(34067,this.texture),yt.gl.texParameteri(34067,10240,9729),yt.gl.texParameteri(34067,10241,9729),yt.gl.texParameteri(34067,10242,33071),yt.gl.texParameteri(34067,10243,33071),this.renderTarget){switch(this.frameBuffer=yt.gl.createFramebuffer(),yt.gl.bindFramebuffer(36160,this.frameBuffer),this.format[1]){case 0:for(var e=0;e<6;){var t=e++;yt.gl.texImage2D(34069+t,0,6408,this.myWidth,this.myHeight,0,6408,5121,null)}break;case 2:for(var a=0;a<6;){var i=a++;yt.gl.texImage2D(34069+i,0,yt.gl2?34836:6408,this.myWidth,this.myHeight,0,6408,5126,null)}break;case 3:for(var s=0;s<6;){var n=s++;yt.gl.texImage2D(34069+n,0,yt.gl2?33189:6402,this.myWidth,this.myHeight,0,6402,5123,null)}break;case 4:for(var r=0;r<6;){var l=r++;yt.gl.texImage2D(34069+l,0,yt.gl2?34842:6408,this.myWidth,this.myHeight,0,6408,yt.halfFloat.HALF_FLOAT_OES,null)}break;case 5:for(var g=0;g<6;){var o=g++;yt.gl.texImage2D(34069+o,0,yt.gl2?33326:6406,this.myWidth,this.myHeight,0,6406,5126,null)}break;case 6:for(var h=0;h<6;){var c=h++;yt.gl.texImage2D(34069+c,0,yt.gl2?33325:6406,this.myWidth,this.myHeight,0,6406,yt.halfFloat.HALF_FLOAT_OES,null)}break;default:for(var d=0;d<6;){var I=d++;yt.gl.texImage2D(34069+I,0,6408,this.myWidth,this.myHeight,0,6408,5121,null)}}if(this.format==xa.DEPTH16&&(yt.gl.texParameteri(34067,10240,9728),yt.gl.texParameteri(34067,10241,9728),this.isDepthAttachment=!0,-1==navigator.appVersion.indexOf("Win"))){var u=yt.gl.createTexture();yt.gl.bindTexture(34067,u);for(var C=0;C<6;){var m=C++;yt.gl.texImage2D(34069+m,0,6408,this.myWidth,this.myHeight,0,6408,5121,null),yt.gl.framebufferTexture2D(36160,36064,34069+m,u,0)}yt.gl.bindTexture(34067,this.texture)}this.initDepthStencilBuffer(this.depthStencilFormat),yt.gl.bindFramebuffer(36160,null)}yt.gl.bindTexture(34067,null)}},initDepthStencilBuffer:function(e){switch(e){case 0:break;case 1:case 5:this.depthTexture=yt.gl.createTexture(),yt.gl.bindTexture(34067,this.depthTexture),1==e?yt.gl.texImage2D(34067,0,yt.gl2?33190:6402,this.myWidth,this.myHeight,0,6402,5125,null):yt.gl.texImage2D(34067,0,yt.gl2?33189:6402,this.myWidth,this.myHeight,0,6402,5123,null),yt.gl.texParameteri(34067,10240,9728),yt.gl.texParameteri(34067,10241,9728),yt.gl.texParameteri(34067,10242,33071),yt.gl.texParameteri(34067,10243,33071),yt.gl.bindFramebuffer(36160,this.frameBuffer),yt.gl.framebufferTexture2D(36160,36096,34067,this.depthTexture,0);break;case 2:case 3:case 4:this.depthTexture=yt.gl.createTexture(),yt.gl.bindTexture(34067,this.depthTexture),yt.gl.texImage2D(34067,0,yt.gl2?35056:34041,this.myWidth,this.myHeight,0,34041,yt.depthTexture.UNSIGNED_INT_24_8_WEBGL,null),yt.gl.texParameteri(34067,10240,9728),yt.gl.texParameteri(34067,10241,9728),yt.gl.texParameteri(34067,10242,33071),yt.gl.texParameteri(34067,10243,33071),yt.gl.bindFramebuffer(36160,this.frameBuffer),yt.gl.framebufferTexture2D(36160,33306,34067,this.depthTexture,0)}},set:function(e){yt.gl.activeTexture(33984+e),yt.gl.bindTexture(34067,this.texture)},setDepth:function(e){yt.gl.activeTexture(33984+e),yt.gl.bindTexture(34067,this.depthTexture)},get_width:function(){return this.myWidth},get_height:function(){return this.myHeight},get_g4:function(){return null==this.graphics4&&(this.graphics4=new Ii(this)),this.graphics4},__class__:va,__properties__:{get_g4:"get_g4",get_height:"get_height",get_width:"get_width"}};var Ba=s["kha.graphics4.CullMode"]={__ename__:!0,__constructs__:["Clockwise","CounterClockwise","None"]};Ba.Clockwise=["Clockwise",0],Ba.Clockwise.toString=n,Ba.Clockwise.__enum__=Ba,Ba.CounterClockwise=["CounterClockwise",1],Ba.CounterClockwise.toString=n,Ba.CounterClockwise.__enum__=Ba,Ba.None=["None",2],Ba.None.toString=n,Ba.None.__enum__=Ba;var Ma=function(e,t){this.sources=[];for(var a=0;a<e.length;){var i=e[a];++a,this.sources.push(i.toString())}this.type=35632,this.shader=null,this.files=t};s["kha.graphics4.FragmentShader"]=Ma,Ma.__name__=!0,Ma.fromSource=function(e){var t=new Ma([],["runtime-string"]);return t.sources.push(e),t},Ma.prototype={__class__:Ma};var _a=function(){};s["kha.graphics4.GeometryShader"]=_a,_a.__name__=!0;var Za=function(){};s["kha.graphics4.Graphics"]=Za,Za.__name__=!0,Za.prototype={__class__:Za};var ya=function(e){this.myPipeline=null,this.bilinearMipmaps=!1,this.bilinear=!1,this.g=e,this.bufferIndex=0,ya.initShaders(),this.initBuffers(),this.projectionLocation=ya.shaderPipeline.getConstantLocation("projectionMatrix"),this.textureLocation=ya.shaderPipeline.getTextureUnit("tex")};s["kha.graphics4.ImageShaderPainter"]=ya,ya.__name__=!0,ya.initShaders=function(){null==ya.shaderPipeline&&(ya.shaderPipeline=new Ka,ya.shaderPipeline.fragmentShader=Bt.painter_image_frag,ya.shaderPipeline.vertexShader=Bt.painter_image_vert,ya.structure=new Oa,ya.structure.add("vertexPosition",Ra.Float3),ya.structure.add("texPosition",Ra.Float2),ya.structure.add("vertexColor",Ra.Float4),ya.shaderPipeline.inputLayout=[ya.structure],ya.shaderPipeline.blendSource=ba.BlendOne,ya.shaderPipeline.blendDestination=ba.InverseSourceAlpha,ya.shaderPipeline.alphaBlendSource=ba.SourceAlpha,ya.shaderPipeline.alphaBlendDestination=ba.InverseSourceAlpha,ya.shaderPipeline.compile())},ya.prototype={get_pipeline:function(){return this.myPipeline},setProjection:function(e){this.projectionMatrix=e},initBuffers:function(){this.rectVertexBuffer=new ja(4*ya.bufferSize,ya.structure,Ta.DynamicUsage),this.rectVertices=this.rectVertexBuffer.lock(),this.indexBuffer=new za(3*ya.bufferSize*2,Ta.StaticUsage);for(var e=this.indexBuffer.lock(),t=0,a=ya.bufferSize;t<a;){var i=t++;e[3*i*2]=4*i,e[3*i*2+1]=4*i+1,e[3*i*2+2]=4*i+2,e[3*i*2+3]=4*i,e[3*i*2+4]=4*i+2,e[3*i*2+5]=4*i+3}this.indexBuffer.unlock()},drawBuffer:function(){this.rectVertexBuffer.unlock(),this.g.setVertexBuffer(this.rectVertexBuffer),this.g.setIndexBuffer(this.indexBuffer),this.g.setPipeline(null==this.get_pipeline()?ya.shaderPipeline:this.get_pipeline()),this.g.setTexture(this.textureLocation,this.lastTexture),this.g.setTextureParameters(this.textureLocation,Da.Clamp,Da.Clamp,this.bilinear?Ha.LinearFilter:Ha.PointFilter,this.bilinear?Ha.LinearFilter:Ha.PointFilter,this.bilinearMipmaps?Na.LinearMipFilter:Na.NoMipFilter),this.g.setMatrix(this.projectionLocation,this.projectionMatrix),this.g.drawIndexedVertices(0,2*this.bufferIndex*3),this.g.setTexture(this.textureLocation,null),this.bufferIndex=0,this.rectVertices=this.rectVertexBuffer.lock()},end:function(){this.bufferIndex>0&&this.drawBuffer(),this.lastTexture=null},__class__:ya,__properties__:{get_pipeline:"get_pipeline"}};var Ga=function(e){this.myPipeline=null,this.g=e,this.bufferIndex=0,this.triangleBufferIndex=0,Ga.initShaders(),this.initBuffers(),this.projectionLocation=Ga.shaderPipeline.getConstantLocation("projectionMatrix")};s["kha.graphics4.ColoredShaderPainter"]=Ga,Ga.__name__=!0,Ga.initShaders=function(){null==Ga.shaderPipeline&&(Ga.shaderPipeline=new Ka,Ga.shaderPipeline.fragmentShader=Bt.painter_colored_frag,Ga.shaderPipeline.vertexShader=Bt.painter_colored_vert,Ga.structure=new Oa,Ga.structure.add("vertexPosition",Ra.Float3),Ga.structure.add("vertexColor",Ra.Float4),Ga.shaderPipeline.inputLayout=[Ga.structure],Ga.shaderPipeline.blendSource=ba.SourceAlpha,Ga.shaderPipeline.blendDestination=ba.InverseSourceAlpha,Ga.shaderPipeline.alphaBlendSource=ba.SourceAlpha,Ga.shaderPipeline.alphaBlendDestination=ba.InverseSourceAlpha,Ga.shaderPipeline.compile())},Ga.prototype={get_pipeline:function(){return this.myPipeline},setProjection:function(e){this.projectionMatrix=e},initBuffers:function(){this.rectVertexBuffer=new ja(4*Ga.bufferSize,Ga.structure,Ta.DynamicUsage),this.rectVertices=this.rectVertexBuffer.lock(),this.indexBuffer=new za(3*Ga.bufferSize*2,Ta.StaticUsage);for(var e=this.indexBuffer.lock(),t=0,a=Ga.bufferSize;t<a;){var i=t++;e[3*i*2]=4*i,e[3*i*2+1]=4*i+1,e[3*i*2+2]=4*i+2,e[3*i*2+3]=4*i,e[3*i*2+4]=4*i+2,e[3*i*2+5]=4*i+3}this.indexBuffer.unlock(),this.triangleVertexBuffer=new ja(3*Ga.triangleBufferSize,Ga.structure,Ta.DynamicUsage),this.triangleVertices=this.triangleVertexBuffer.lock(),this.triangleIndexBuffer=new za(3*Ga.triangleBufferSize,Ta.StaticUsage);for(var s=this.triangleIndexBuffer.lock(),n=0,r=Ga.bufferSize;n<r;){var l=n++;s[3*l]=3*l,s[3*l+1]=3*l+1,s[3*l+2]=3*l+2}this.triangleIndexBuffer.unlock()},setRectVertices:function(e,t,a,i,s,n,r,l){var g=7*this.bufferIndex*4;this.rectVertices[g]=e,this.rectVertices[g+1]=t,this.rectVertices[g+2]=-5,this.rectVertices[g+7]=a,this.rectVertices[g+8]=i,this.rectVertices[g+9]=-5,this.rectVertices[g+14]=s,this.rectVertices[g+15]=n,this.rectVertices[g+16]=-5,this.rectVertices[g+21]=r,this.rectVertices[g+22]=l,this.rectVertices[g+23]=-5},setRectColors:function(e,t){var a=7*this.bufferIndex*4,i=e*(.00392156862745098*(t>>>24));this.rectVertices[a+3]=.00392156862745098*((16711680&t)>>>16),this.rectVertices[a+4]=.00392156862745098*((65280&t)>>>8),this.rectVertices[a+5]=.00392156862745098*(255&t),this.rectVertices[a+6]=i,this.rectVertices[a+10]=.00392156862745098*((16711680&t)>>>16),this.rectVertices[a+11]=.00392156862745098*((65280&t)>>>8),this.rectVertices[a+12]=.00392156862745098*(255&t),this.rectVertices[a+13]=i,this.rectVertices[a+17]=.00392156862745098*((16711680&t)>>>16),this.rectVertices[a+18]=.00392156862745098*((65280&t)>>>8),this.rectVertices[a+19]=.00392156862745098*(255&t),this.rectVertices[a+20]=i,this.rectVertices[a+24]=.00392156862745098*((16711680&t)>>>16),this.rectVertices[a+25]=.00392156862745098*((65280&t)>>>8),this.rectVertices[a+26]=.00392156862745098*(255&t),this.rectVertices[a+27]=i},drawBuffer:function(e){e||this.triangleBufferIndex>0&&this.drawTriBuffer(!0),this.rectVertexBuffer.unlock(),this.g.setVertexBuffer(this.rectVertexBuffer),this.g.setIndexBuffer(this.indexBuffer),this.g.setPipeline(null==this.get_pipeline()?Ga.shaderPipeline:this.get_pipeline()),this.g.setMatrix(this.projectionLocation,this.projectionMatrix),this.g.drawIndexedVertices(0,2*this.bufferIndex*3),this.bufferIndex=0,this.rectVertices=this.rectVertexBuffer.lock()},drawTriBuffer:function(e){e||this.bufferIndex>0&&this.drawBuffer(!0),this.triangleVertexBuffer.unlock(),this.g.setVertexBuffer(this.triangleVertexBuffer),this.g.setIndexBuffer(this.triangleIndexBuffer),this.g.setPipeline(null==this.get_pipeline()?Ga.shaderPipeline:this.get_pipeline()),this.g.setMatrix(this.projectionLocation,this.projectionMatrix),this.g.drawIndexedVertices(0,3*this.triangleBufferIndex),this.triangleBufferIndex=0,this.triangleVertices=this.triangleVertexBuffer.lock()},fillRect:function(e,t,a,i,s,n,r,l,g,o){this.triangleBufferIndex>0&&this.drawTriBuffer(!0),this.bufferIndex+1>=Ga.bufferSize&&this.drawBuffer(!1),this.setRectColors(e,t),this.setRectVertices(a,i,s,n,r,l,g,o),++this.bufferIndex},__class__:Ga,__properties__:{get_pipeline:"get_pipeline"}};var Wa=function(e){this.bilinear=!1,this.myPipeline=null,this.g=e,this.bufferIndex=0,Wa.initShaders(),this.initBuffers(),this.projectionLocation=Wa.shaderPipeline.getConstantLocation("projectionMatrix"),this.textureLocation=Wa.shaderPipeline.getTextureUnit("tex")};s["kha.graphics4.TextShaderPainter"]=Wa,Wa.__name__=!0,Wa.initShaders=function(){null==Wa.shaderPipeline&&(Wa.shaderPipeline=new Ka,Wa.shaderPipeline.fragmentShader=Bt.painter_text_frag,Wa.shaderPipeline.vertexShader=Bt.painter_text_vert,Wa.structure=new Oa,Wa.structure.add("vertexPosition",Ra.Float3),Wa.structure.add("texPosition",Ra.Float2),Wa.structure.add("vertexColor",Ra.Float4),Wa.shaderPipeline.inputLayout=[Wa.structure],Wa.shaderPipeline.blendSource=ba.SourceAlpha,Wa.shaderPipeline.blendDestination=ba.InverseSourceAlpha,Wa.shaderPipeline.alphaBlendSource=ba.SourceAlpha,Wa.shaderPipeline.alphaBlendDestination=ba.InverseSourceAlpha,Wa.shaderPipeline.compile())},Wa.prototype={get_pipeline:function(){return this.myPipeline},setProjection:function(e){this.projectionMatrix=e},initBuffers:function(){this.rectVertexBuffer=new ja(4*Wa.bufferSize,Wa.structure,Ta.DynamicUsage),this.rectVertices=this.rectVertexBuffer.lock(),this.indexBuffer=new za(3*Wa.bufferSize*2,Ta.StaticUsage);for(var e=this.indexBuffer.lock(),t=0,a=Wa.bufferSize;t<a;){var i=t++;e[3*i*2]=4*i,e[3*i*2+1]=4*i+1,e[3*i*2+2]=4*i+2,e[3*i*2+3]=4*i,e[3*i*2+4]=4*i+2,e[3*i*2+5]=4*i+3}this.indexBuffer.unlock()},drawBuffer:function(){this.rectVertexBuffer.unlock(),this.g.setVertexBuffer(this.rectVertexBuffer),this.g.setIndexBuffer(this.indexBuffer),this.g.setPipeline(null==this.get_pipeline()?Wa.shaderPipeline:this.get_pipeline()),this.g.setTexture(this.textureLocation,this.lastTexture),this.g.setMatrix(this.projectionLocation,this.projectionMatrix),this.g.setTextureParameters(this.textureLocation,Da.Clamp,Da.Clamp,this.bilinear?Ha.LinearFilter:Ha.PointFilter,this.bilinear?Ha.LinearFilter:Ha.PointFilter,Na.NoMipFilter),this.g.drawIndexedVertices(0,2*this.bufferIndex*3),this.g.setTexture(this.textureLocation,null),this.bufferIndex=0,this.rectVertices=this.rectVertexBuffer.lock()},end:function(){this.bufferIndex>0&&this.drawBuffer(),this.lastTexture=null},__class__:Wa,__properties__:{get_pipeline:"get_pipeline"}};var Sa=function(e){if(ia.call(this),this.set_color(-1),this.canvas=e,this.g=e.get_g4(),this.imagePainter=new ya(this.g),this.coloredPainter=new Ga(this.g),this.textPainter=new Wa(this.g),this.textPainter.fontSize=this.get_fontSize(),this.setProjection(),null==Sa.videoPipeline){Sa.videoPipeline=new Ka,Sa.videoPipeline.fragmentShader=Bt.painter_video_frag,Sa.videoPipeline.vertexShader=Bt.painter_video_vert;var t=new Oa;t.add("vertexPosition",Ra.Float3),t.add("texPosition",Ra.Float2),t.add("vertexColor",Ra.Float4),Sa.videoPipeline.inputLayout=[t],Sa.videoPipeline.compile()}};s["kha.graphics4.Graphics2"]=Sa,Sa.__name__=!0,Sa.upperPowerOfTwo=function(e){return--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e},Sa.__super__=ia,Sa.prototype=a(ia.prototype,{setProjection:function(){var e=this.canvas.get_width(),t=this.canvas.get_height();at.__instanceof(this.canvas,Ct)?this.projectionMatrix=ee.orthogonalProjection(0,e,t,0,.1,1e3):(ot.get_nonPow2Supported()||(e=Sa.upperPowerOfTwo(e),t=Sa.upperPowerOfTwo(t)),this.g.renderTargetsInvertedY()?this.projectionMatrix=ee.orthogonalProjection(0,e,0,t,.1,1e3):this.projectionMatrix=ee.orthogonalProjection(0,e,t,0,.1,1e3)),this.imagePainter.setProjection(this.projectionMatrix),this.coloredPainter.setProjection(this.projectionMatrix),this.textPainter.setProjection(this.projectionMatrix)},get_color:function(){return this.myColor},set_color:function(e){return this.myColor=e},fillRect:function(e,t,a,i){this.imagePainter.end(),this.textPainter.end();var s,n,r,l=this.transformations[this.transformations.length-1],g=e;r=t+i;var o=l._02*g+l._12*r+l._22;n=(l._00*g+l._10*r+l._20)/o,s=(l._01*g+l._11*r+l._21)/o;var h,c,d,I=this.transformations[this.transformations.length-1],u=e;d=t;var C=I._02*u+I._12*d+I._22;c=(I._00*u+I._10*d+I._20)/C,h=(I._01*u+I._11*d+I._21)/C;var m,p,b,f=this.transformations[this.transformations.length-1],A=e+a;b=t;var w=f._02*A+f._12*b+f._22;p=(f._00*A+f._10*b+f._20)/w,m=(f._01*A+f._11*b+f._21)/w;var v,B,M,_=this.transformations[this.transformations.length-1],Z=e+a;M=t+i;var y=_._02*Z+_._12*M+_._22;B=(_._00*Z+_._10*M+_._20)/y,v=(_._01*Z+_._11*M+_._21)/y,this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),n,s,c,h,p,m,B,v)},begin:function(e,t){null==e&&(e=!0),this.g.begin(),e&&this.clear(t),this.setProjection()},clear:function(e){this.flush(),this.g.clear(null==e?-16777216:e)},flush:function(){this.imagePainter.end(),this.textPainter.end();var e=this.coloredPainter;e.triangleBufferIndex>0&&e.drawTriBuffer(!1),e.bufferIndex>0&&e.drawBuffer(!1)},end:function(){this.flush(),this.g.end()},__class__:Sa});var za=function(e,t,a){null==a&&(a=!1),this.usage=t,this.mySize=e,this.buffer=yt.gl.createBuffer();var i=new Uint32Array(e);this._data=i};s["kha.graphics4.IndexBuffer"]=za,za.__name__=!0,za.prototype={lock:function(e,t){return null==e&&(e=0),null==t&&(t=this.mySize),this._data.subarray(e,e+t)},unlock:function(){yt.gl.bindBuffer(34963,this.buffer);var e=null==yt.elementIndexUint?new Uint16Array(this._data):this._data;yt.gl.bufferData(34963,e,this.usage==Ta.DynamicUsage?35048:35044)},set:function(){yt.gl.bindBuffer(34963,this.buffer)},count:function(){return this.mySize},__class__:za};var Na=s["kha.graphics4.MipMapFilter"]={__ename__:!0,__constructs__:["NoMipFilter","PointMipFilter","LinearMipFilter"]};Na.NoMipFilter=["NoMipFilter",0],Na.NoMipFilter.toString=n,Na.NoMipFilter.__enum__=Na,Na.PointMipFilter=["PointMipFilter",1],Na.PointMipFilter.toString=n,Na.PointMipFilter.__enum__=Na,Na.LinearMipFilter=["LinearMipFilter",2],Na.LinearMipFilter.toString=n,Na.LinearMipFilter.__enum__=Na;var Va=function(){this.inputLayout=null,this.vertexShader=null,this.fragmentShader=null,this.geometryShader=null,this.tessellationControlShader=null,this.tessellationEvaluationShader=null,this.cullMode=Ba.None,this.depthWrite=!1,this.depthMode=Aa.Always,this.stencilMode=Aa.Always,this.stencilBothPass=ka.Keep,this.stencilDepthFail=ka.Keep,this.stencilFail=ka.Keep,this.stencilReferenceValue=0,this.stencilReadMask=255,this.stencilWriteMask=255,this.blendSource=ba.BlendOne,this.blendDestination=ba.BlendZero,this.blendOperation=fa.Add,this.alphaBlendSource=ba.BlendOne,this.alphaBlendDestination=ba.BlendZero,this.alphaBlendOperation=fa.Add,this.colorWriteMaskRed=this.colorWriteMaskBlue=this.colorWriteMaskGreen=this.colorWriteMaskAlpha=!0,this.conservativeRasterization=!1};s["kha.graphics4.PipelineStateBase"]=Va,Va.__name__=!0,Va.prototype={__class__:Va};var Ka=function(){this.program=null,Va.call(this),this.textures=[],this.textureValues=[]};s["kha.graphics4.PipelineState"]=Ka,Ka.__name__=!0,Ka.__super__=Va,Ka.prototype=a(Va.prototype,{delete:function(){null!=this.program&&yt.gl.deleteProgram(this.program)},compile:function(){null!=this.program&&yt.gl.deleteProgram(this.program),this.program=yt.gl.createProgram(),this.compileShader(this.vertexShader),this.compileShader(this.fragmentShader),yt.gl.attachShader(this.program,this.vertexShader.shader),yt.gl.attachShader(this.program,this.fragmentShader.shader);for(var e=0,t=0,a=this.inputLayout;t<a.length;){var i=a[t];++t;for(var s=0,n=i.elements;s<n.length;){var r=n[s];++s,yt.gl.bindAttribLocation(this.program,e,r.name),r.data==Ra.Float4x4?e+=4:++e}}if(yt.gl.linkProgram(this.program),!yt.gl.getProgramParameter(this.program,35714))throw new tt("Could not link the shader program:\n"+yt.gl.getProgramInfoLog(this.program))},set:function(){yt.gl.useProgram(this.program);for(var e=0,t=this.textureValues.length;e<t;){var a=e++;yt.gl.uniform1i(this.textureValues[a],a)}yt.gl.colorMask(this.colorWriteMaskRed,this.colorWriteMaskGreen,this.colorWriteMaskBlue,this.colorWriteMaskAlpha)},compileShader:function(e){if(null==e.shader){for(var t=yt.gl.createShader(e.type),a=0!=yt.gl.getShaderPrecisionFormat(35632,36338).precision,i=e.files,s=0,n=i.length;s<n;){var r=s++;if(yt.gl2){if(i[r].indexOf("-webgl2")>=0||i[r].indexOf("runtime-string")>=0){yt.gl.shaderSource(t,e.sources[r]);break}}else{if(!a&&(i[r].indexOf("-relaxed")>=0||i[r].indexOf("runtime-string")>=0)){yt.gl.shaderSource(t,e.sources[r]);break}if(a&&(i[r].indexOf("-relaxed")<0||i[r].indexOf("runtime-string")>=0)){yt.gl.shaderSource(t,e.sources[r]);break}}}if(yt.gl.compileShader(t),!yt.gl.getShaderParameter(t,35713))throw new tt("Could not compile shader:\n"+yt.gl.getShaderInfoLog(t));e.shader=t}},getConstantLocation:function(e){for(var t=yt.gl.getUniformLocation(this.program,e),a=5126,i=0,s=yt.gl.getProgramParameter(this.program,35718);i<s;){var n=i++,r=yt.gl.getActiveUniform(this.program,n);if(r.name==e||r.name==e+"[0]"){a=r.type;break}}return new di(t,a)},getTextureUnit:function(e){var t=this.findTexture(e);if(t<0){var a=yt.gl.getUniformLocation(this.program,e);t=this.textures.length,this.textureValues.push(a),this.textures.push(e)}return new Ci(t)},findTexture:function(e){for(var t=0,a=this.textures.length;t<a;){var i=t++;if(this.textures[i]==e)return i}return-1},__class__:Ka});var ka=s["kha.graphics4.StencilAction"]={__ename__:!0,__constructs__:["Keep","Zero","Replace","Increment","IncrementWrap","Decrement","DecrementWrap","Invert"]};ka.Keep=["Keep",0],ka.Keep.toString=n,ka.Keep.__enum__=ka,ka.Zero=["Zero",1],ka.Zero.toString=n,ka.Zero.__enum__=ka,ka.Replace=["Replace",2],ka.Replace.toString=n,ka.Replace.__enum__=ka,ka.Increment=["Increment",3],ka.Increment.toString=n,ka.Increment.__enum__=ka,ka.IncrementWrap=["IncrementWrap",4],ka.IncrementWrap.toString=n,ka.IncrementWrap.__enum__=ka,ka.Decrement=["Decrement",5],ka.Decrement.toString=n,ka.Decrement.__enum__=ka,ka.DecrementWrap=["DecrementWrap",6],ka.DecrementWrap.toString=n,ka.DecrementWrap.__enum__=ka,ka.Invert=["Invert",7],ka.Invert.toString=n,ka.Invert.__enum__=ka;var Ya=function(){};s["kha.graphics4.TessellationControlShader"]=Ya,Ya.__name__=!0;var Xa=function(){};s["kha.graphics4.TessellationEvaluationShader"]=Xa,Xa.__name__=!0;var Da=s["kha.graphics4.TextureAddressing"]={__ename__:!0,__constructs__:["Repeat","Mirror","Clamp"]};Da.Repeat=["Repeat",0],Da.Repeat.toString=n,Da.Repeat.__enum__=Da,Da.Mirror=["Mirror",1],Da.Mirror.toString=n,Da.Mirror.__enum__=Da,Da.Clamp=["Clamp",2],Da.Clamp.toString=n,Da.Clamp.__enum__=Da;var Ha=s["kha.graphics4.TextureFilter"]={__ename__:!0,__constructs__:["PointFilter","LinearFilter","AnisotropicFilter"]};Ha.PointFilter=["PointFilter",0],Ha.PointFilter.toString=n,Ha.PointFilter.__enum__=Ha,Ha.LinearFilter=["LinearFilter",1],Ha.LinearFilter.toString=n,Ha.LinearFilter.__enum__=Ha,Ha.AnisotropicFilter=["AnisotropicFilter",2],Ha.AnisotropicFilter.toString=n,Ha.AnisotropicFilter.__enum__=Ha;var xa=s["kha.graphics4.TextureFormat"]={__ename__:!0,__constructs__:["RGBA32","L8","RGBA128","DEPTH16","RGBA64","A32","A16"]};xa.RGBA32=["RGBA32",0],xa.RGBA32.toString=n,xa.RGBA32.__enum__=xa,xa.L8=["L8",1],xa.L8.toString=n,xa.L8.__enum__=xa,xa.RGBA128=["RGBA128",2],xa.RGBA128.toString=n,xa.RGBA128.__enum__=xa,xa.DEPTH16=["DEPTH16",3],xa.DEPTH16.toString=n,xa.DEPTH16.__enum__=xa,xa.RGBA64=["RGBA64",4],xa.RGBA64.toString=n,xa.RGBA64.__enum__=xa,xa.A32=["A32",5],xa.A32.toString=n,xa.A32.__enum__=xa,xa.A16=["A16",6],xa.A16.toString=n,xa.A16.__enum__=xa;var Fa=function(){};s["kha.graphics4.TextureUnit"]=Fa,Fa.__name__=!0;var Ta=s["kha.graphics4.Usage"]={__ename__:!0,__constructs__:["StaticUsage","DynamicUsage","ReadableUsage"]};Ta.StaticUsage=["StaticUsage",0],Ta.StaticUsage.toString=n,Ta.StaticUsage.__enum__=Ta,Ta.DynamicUsage=["DynamicUsage",1],Ta.DynamicUsage.toString=n,Ta.DynamicUsage.__enum__=Ta,Ta.ReadableUsage=["ReadableUsage",2],Ta.ReadableUsage.toString=n,Ta.ReadableUsage.__enum__=Ta;var ja=function(e,t,a,i,s){null==s&&(s=!1),null==i&&(i=0),this.usage=a,this.instanceDataStepRate=i,this.mySize=e,this.myStride=0;for(var n=0,r=t.elements;n<r.length;){var l=r[n];switch(++n,l.data[1]){case 0:this.myStride+=4;break;case 1:this.myStride+=8;break;case 2:this.myStride+=12;break;case 3:this.myStride+=16;break;case 4:this.myStride+=64}}this.buffer=yt.gl.createBuffer();var g=new Ni(e*this.myStride/4|0);this._data=g,this.sizes=[],this.offsets=[],this.sizes[t.elements.length-1]=0,this.offsets[t.elements.length-1]=0;for(var o=0,h=0,c=0,d=t.elements;c<d.length;){var I=d[c];++c;var u;switch(I.data[1]){case 0:u=1;break;case 1:u=2;break;case 2:u=3;break;case 3:u=4;break;case 4:u=16}switch(this.sizes[h]=u,this.offsets[h]=o,I.data[1]){case 0:o+=4;break;case 1:o+=8;break;case 2:o+=12;break;case 3:o+=16;break;case 4:o+=64}++h}};s["kha.graphics4.VertexBuffer"]=ja,ja.__name__=!0,ja.prototype={lock:function(e,t){return null==e&&(e=0),null==t&&(t=this.mySize),this._data.subarray(e*this.stride(),(e+t)*this.stride())},unlock:function(){yt.gl.bindBuffer(34962,this.buffer),yt.gl.bufferData(34962,this._data,this.usage==Ta.DynamicUsage?35048:35044)},stride:function(){return this.myStride},set:function(e){var t=!!yt.gl2||yt.gl.getExtension("ANGLE_instanced_arrays");yt.gl.bindBuffer(34962,this.buffer);for(var a=0,i=0,s=this.sizes.length;i<s;){var n=i++;if(this.sizes[n]>4)for(var r=this.sizes[n],l=0;r>0;)yt.gl.enableVertexAttribArray(e+a),yt.gl.vertexAttribPointer(e+a,4,5126,!1,this.myStride,this.offsets[n]+l),t&&(yt.gl2?yt.gl.vertexAttribDivisor(e+a,this.instanceDataStepRate):t.vertexAttribDivisorANGLE(e+a,this.instanceDataStepRate)),r-=4,l+=16,++a;else yt.gl.enableVertexAttribArray(e+a),yt.gl.vertexAttribPointer(e+a,this.sizes[n],5126,!1,this.myStride,this.offsets[n]),t&&(yt.gl2?yt.gl.vertexAttribDivisor(e+a,this.instanceDataStepRate):t.vertexAttribDivisorANGLE(e+a,this.instanceDataStepRate)),++a}return a},__class__:ja};var Ra=s["kha.graphics4.VertexData"]={__ename__:!0,__constructs__:["Float1","Float2","Float3","Float4","Float4x4"]};Ra.Float1=["Float1",0],Ra.Float1.toString=n,Ra.Float1.__enum__=Ra,Ra.Float2=["Float2",1],Ra.Float2.toString=n,Ra.Float2.__enum__=Ra,Ra.Float3=["Float3",2],Ra.Float3.toString=n,Ra.Float3.__enum__=Ra,Ra.Float4=["Float4",3],Ra.Float4.toString=n,Ra.Float4.__enum__=Ra,Ra.Float4x4=["Float4x4",4],Ra.Float4x4.toString=n,Ra.Float4x4.__enum__=Ra;var La=function(e,t){this.name=e,this.data=t};s["kha.graphics4.VertexElement"]=La,La.__name__=!0,La.prototype={__class__:La};var Qa=function(e,t){this.sources=[];for(var a=0;a<e.length;){var i=e[a];++a,this.sources.push(i.toString())}this.type=35633,this.shader=null,this.files=t};s["kha.graphics4.VertexShader"]=Qa,Qa.__name__=!0,Qa.fromSource=function(e){var t=new Qa([],["runtime-string"]);return t.sources.push(e),t},Qa.prototype={__class__:Qa};var Oa=function(){this.elements=[],this.instanced=!1};s["kha.graphics4.VertexStructure"]=Oa,Oa.__name__=!0,Oa.prototype={add:function(e,t){this.elements.push(new La(e,t))},size:function(){return this.elements.length},byteSize:function(){for(var e=0,t=0,a=this.elements.length;t<a;){var i=t++;e+=this.dataByteSize(this.elements[i].data)}return e},dataByteSize:function(e){switch(e[1]){case 0:return 4;case 1:return 8;case 2:return 12;case 3:return 16;case 4:return 64}},get:function(e){return this.elements[e]},__class__:Oa};var Ea=e.kha.input.Gamepad=function(e,t){null==t&&(t="unknown"),null==e&&(e=0),this.index=e,this.axisListeners=[],this.buttonListeners=[],Ea.instances[e]=this};s["kha.input.Gamepad"]=Ea,Ea.__name__=!0,Ea.prototype={sendAxisEvent:function(e,t){for(var a=0,i=this.axisListeners;a<i.length;){var s=i[a];++a,s(e,t)}},sendButtonEvent:function(e,t){for(var a=0,i=this.buttonListeners;a<i.length;){var s=i[a];++a,s(e,t)}},__class__:Ea};var Ja=function(){this.__id=fi.nextId++,this._inputBuffer=new z(new Si(1))};s["kha.network.Controller"]=Ja,Ja.__name__=!0,Ja.prototype={_id:function(){return this.__id},__class__:Ja};var Ua=e.kha.input.Keyboard=function(){Ja.call(this),this.downListeners=[],this.upListeners=[],this.pressListeners=[],Ua.instance=this};s["kha.input.Keyboard"]=Ua,Ua.__name__=!0,Ua.__super__=Ja,Ua.prototype=a(Ja.prototype,{sendDownEvent:function(e){if(null!=Ai.the()){var t=new z(new Si(4));t.setInt32(0,0),Ai.the().sendControllerUpdate(this._id(),t)}for(var a=0,i=this.downListeners;a<i.length;){var s=i[a];++a,s(e)}},sendUpEvent:function(e){if(null!=Ai.the()){var t=new z(new Si(4));t.setInt32(0,1),Ai.the().sendControllerUpdate(this._id(),t)}for(var a=0,i=this.upListeners;a<i.length;){var s=i[a];++a,s(e)}},sendPressEvent:function(e){if(null!=Ai.the()){var t=new z(new Si(5));t.setInt32(0,2);var a=l.cca(e,0);t.b[4]=255&a,Ai.the().sendControllerUpdate(this._id(),t)}for(var i=0,s=this.pressListeners;i<s.length;){var n=s[i];++i,n(e)}},__class__:Ua});var Pa=e.kha.input.Mouse=function(){Ja.call(this),Pa.instance=this};s["kha.input.Mouse"]=Pa,Pa.__name__=!0,Pa.get=function(e){return null==e&&(e=0),yt.getMouse(e)},Pa.__super__=Ja,Pa.prototype=a(Ja.prototype,{notify:function(e,t,a,i,s){this.notifyWindowed(0,e,t,a,i,s)},notifyWindowed:function(e,t,a,i,s,n){if(null!=t){for(null==this.windowDownListeners&&(this.windowDownListeners=[]);this.windowDownListeners.length<=e;)this.windowDownListeners.push([]);this.windowDownListeners[e].push(t)}if(null!=a){for(null==this.windowUpListeners&&(this.windowUpListeners=[]);this.windowUpListeners.length<=e;)this.windowUpListeners.push([]);this.windowUpListeners[e].push(a)}if(null!=i){for(null==this.windowMoveListeners&&(this.windowMoveListeners=[]);this.windowMoveListeners.length<=e;)this.windowMoveListeners.push([]);this.windowMoveListeners[e].push(i)}if(null!=s){for(null==this.windowWheelListeners&&(this.windowWheelListeners=[]);this.windowWheelListeners.length<=e;)this.windowWheelListeners.push([]);this.windowWheelListeners[e].push(s)}if(null!=n){for(null==this.windowLeaveListeners&&(this.windowLeaveListeners=[]);this.windowLeaveListeners.length<=e;)this.windowLeaveListeners.push([]);this.windowLeaveListeners[e].push(n)}},sendLeaveEvent:function(e){if(null!=Ai.the()){var t=new z(new Si(8));t.setInt32(0,0),t.setInt32(4,e),Ai.the().sendControllerUpdate(this._id(),t)}if(null!=this.windowLeaveListeners)for(var a=0,i=this.windowLeaveListeners[e];a<i.length;){var s=i[a];++a,s()}},sendDownEvent:function(e,t,a,i){if(null!=Ai.the()){var s=new z(new Si(20));s.setInt32(0,1),s.setInt32(4,e),s.setInt32(8,t),s.setInt32(12,a),s.setInt32(16,i),Ai.the().sendControllerUpdate(this._id(),s)}if(null!=this.windowDownListeners)for(var n=0,r=this.windowDownListeners[e];n<r.length;){var l=r[n];++n,l(t,a,i)}},sendUpEvent:function(e,t,a,i){if(null!=Ai.the()){var s=new z(new Si(20));s.setInt32(0,2),s.setInt32(4,e),s.setInt32(8,t),s.setInt32(12,a),s.setInt32(16,i),Ai.the().sendControllerUpdate(this._id(),s)}if(null!=this.windowUpListeners)for(var n=0,r=this.windowUpListeners[e];n<r.length;){var l=r[n];++n,l(t,a,i)}},sendMoveEvent:function(e,t,a,i,s){if(null!=Ai.the()){var n=new z(new Si(24));n.setInt32(0,3),n.setInt32(4,e),n.setInt32(8,t),n.setInt32(12,a),n.setInt32(16,i),n.setInt32(20,s),Ai.the().sendControllerUpdate(this._id(),n)}if(null!=this.windowMoveListeners)for(var r=0,l=this.windowMoveListeners[e];r<l.length;){var g=l[r];++r,g(t,a,i,s)}},sendWheelEvent:function(e,t){if(null!=Ai.the()){var a=new z(new Si(12));a.setInt32(0,4),a.setInt32(4,e),a.setInt32(8,t),Ai.the().sendControllerUpdate(this._id(),a)}if(null!=this.windowWheelListeners)for(var i=0,s=this.windowWheelListeners[e];i<s.length;){var n=s[i];++i,n(t)}},__class__:Pa});var qa=function(){Pa.call(this)};s["kha.input.MouseImpl"]=qa,qa.__name__=!0,qa.__super__=Pa,qa.prototype=a(Pa.prototype,{__class__:qa});var $a=e.kha.input.Surface=function(){this.touchStartListeners=[],this.touchEndListeners=[],this.moveListeners=[],$a.instance=this};s["kha.input.Surface"]=$a,$a.__name__=!0,$a.prototype={sendTouchStartEvent:function(e,t,a){for(var i=0,s=this.touchStartListeners;i<s.length;){var n=s[i];++i,n(e,t,a)}},sendTouchEndEvent:function(e,t,a){for(var i=0,s=this.touchEndListeners;i<s.length;){var n=s[i];++i,n(e,t,a)}},sendMoveEvent:function(e,t,a){for(var i=0,s=this.moveListeners;i<s.length;){var n=s[i];++i,n(e,t,a)}},__class__:$a};var ei=function(e){this.bytes=e};s["kha.internal.BytesBlob"]=ei,ei.__name__=!0,ei.__interfaces__=[gt],ei.fromBytes=function(e){return new ei(e)},ei.alloc=function(e){return new ei(new z(new Si(e)))},ei.readF32=function(e){var t=0==(-2147483648&e)?1:-1,a=e>>23&255,i=8388607&e;switch(a){case 0:return 0;case 255:return 0!=i?NaN:t>0?1/0:-1/0;default:return t*((i+8388608)/8388608)*Math.pow(2,a-127)}},ei.bit=function(e,t){if(1==(e>>>t&1)){var a=3;return++a,!0}var i=4;return--i,!1},ei.toText=function(e,t){for(var a="",i=0,s=t;i<s;){var n=i++;a+=String.fromCharCode(e[n])}return a},ei.prototype={sub:function(e,t){return new ei(this.bytes.sub(e,t))},get_length:function(){return this.bytes.length},writeU8:function(e,t){this.bytes.b[e]=255&t},readU8:function(e){var t=this.bytes.b[e];return++e,t},readS8:function(e){var t=this.bytes.b[e];++e;var a=0==(128&t)?1:-1;return t&=127,a*t},readU16BE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1];return e+=2,256*t+a},readU16LE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1];return e+=2,256*a+t},readU32LE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1],i=this.bytes.b[e+2],s=this.bytes.b[e+3];return e+=4,t+256*a+256*i*256+256*s*256*256},readU32BE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1],i=this.bytes.b[e+2],s=this.bytes.b[e+3];return e+=4,s+256*i+256*a*256+256*t*256*256},readS16BE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1];e+=2;var i=0==(128&t)?1:-1;return t&=127,-1==i?256*t-32767+a:256*t+a},readS16LE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1],i=0==(128&a)?1:-1;return a&=127,e+=2,-1==i?256*a-32767+t:256*a+t},readS32LE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1],i=this.bytes.b[e+2],s=this.bytes.b[e+3],n=0==(128&s)?1:-1;return s&=127,e+=4,-1==n?-2147483647+t+256*a+256*i*256+256*s*256*256:t+256*a+256*i*256+256*s*256*256},readS32BE:function(e){var t=this.bytes.b[e],a=this.bytes.b[e+1],i=this.bytes.b[e+2],s=this.bytes.b[e+3],n=0==(128&t)?1:-1;return t&=127,e+=4,-1==n?-2147483647+s+256*i+256*a*256+256*t*256*256:s+256*i+256*a*256+256*t*256*256},readF32LE:function(e){return ei.readF32(this.readS32LE(e))},readF32BE:function(e){return ei.readF32(this.readS32BE(e))},toString:function(){return this.bytes.toString()},readUtf8Char:function(e){if(e.value>=this.get_length())return-1;var t=this.readU8(e.value);++e.value;var a=0;if(ei.bit(t,7))if(ei.bit(t,7)&&ei.bit(t,6)&&!ei.bit(t,5)){var i=31&t,s=this.readU8(e.value);++e.value,a=i<<6|63&s}else ei.bit(t,7)&&ei.bit(t,6)&&ei.bit(t,5)&&!ei.bit(t,4)?e.value+=2:ei.bit(t,7)&&ei.bit(t,6)&&ei.bit(t,5)&&ei.bit(t,4)&&!ei.bit(t,3)&&(e.value+=3);else a=t;return a},readUtf8Block:function(e,t){var a=0;if(t.value>=this.get_length())return"";for(;a<2e3;){var i=this.readUtf8Char(t);if(i<0)break;e[a]=i,++a}return ei.toText(e,a)},readUtf8String:function(){var e=new Array(2e3),t="",a=0;this.get_length()>=3&&239==this.bytes.b[0]&&187==this.bytes.b[1]&&191==this.bytes.b[2]&&(a=3);for(var i={value:a};i.value<this.get_length();)t+=this.readUtf8Block(e,i);return t},toBytes:function(){return this.bytes},unload:function(){this.bytes=null},__class__:ei,__properties__:{get_length:"get_length"}};var ti=function(){};s["kha.internal.HdrFormat"]=ti,ti.__name__=!0,ti.readBuf=function(e){for(var t=0;;)if(e[t++]=255&ti.buffer[ti.fileOffset],!(++ti.fileOffset<ti.bufferLength&&t<e.length))break;return t},ti.readBufOffset=function(e,t,a){for(var i=0;;)if(e[t+i++]=255&ti.buffer[ti.fileOffset],!(++ti.fileOffset<ti.bufferLength&&i<a))break;return i},ti.readPixelsRaw=function(e,t,a,i){var s=4*i,n=ti.readBufOffset(t,a,s);n<s&&y.trace("Error reading raw pixels: got "+n+" bytes, expected "+s,{fileName:"HdrFormat.hx",lineNumber:43,className:"kha.internal.HdrFormat",methodName:"readPixelsRaw"})},ti.readPixelsRawRLE=function(e,t,a,i,s){var n,r,l,g=new Vi(4),o=null,h=new Vi(2);for(e.length;s>0;){if(ti.readBuf(g)<g.length)return void y.trace("Error reading bytes: expected "+g.length,{fileName:"HdrFormat.hx",lineNumber:59,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});if(2!=g[0]||2!=g[1]||0!=(128&g[2]))return t[a++]=255&g[0],t[a++]=255&g[1],t[a++]=255&g[2],t[a++]=255&g[3],void ti.readPixelsRaw(e,t,a,i*s-1);if(((255&g[2])<<8|255&g[3])!=i)return void y.trace("Wrong scanline width "+((255&g[2])<<8|255&g[3])+", expected "+i,{fileName:"HdrFormat.hx",lineNumber:74,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});null==o&&(o=new Vi(4*i)),n=0;for(var c=0;c<4;)for(r=(c+++1)*i;n<r;){if(ti.readBuf(h)<h.length)return void y.trace("Error reading 2-byte buffer",{fileName:"HdrFormat.hx",lineNumber:88,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});if((255&h[0])>128){if(0==(l=(255&h[0])-128)||l>r-n)return void y.trace("Bad scanline data",{fileName:"HdrFormat.hx",lineNumber:95,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});for(;l-- >0;)o[n++]=255&h[1]}else{if(0==(l=255&h[0])||l>r-n)return void y.trace("Bad scanline data",{fileName:"HdrFormat.hx",lineNumber:106,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});if(o[n++]=255&h[1],--l>0){if(ti.readBufOffset(o,n,l)<l)return void y.trace("Error reading non-run data",{fileName:"HdrFormat.hx",lineNumber:112,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});n+=l}}}for(var d=0,I=i;d<I;){var u=d++;t[a]=255&o[u],t[a+1]=255&o[u+i],t[a+2]=255&o[u+2*i],t[a+3]=255&o[u+3*i],a+=4}--s}},ti.readLine=function(){for(var e="";;){var t=ti.buffer[ti.fileOffset];if(10==t){++ti.fileOffset;break}if(e+=String.fromCharCode(t),!(++ti.fileOffset<ti.bufferLength))break}return e},ti.parse=function(e){ti.buffer=R.fromBytes(e),ti.bufferLength=ti.buffer.length,ti.fileOffset=0;for(var t=0,a=0,i=!1,s=0;s<20;){s++;var n=ti.readLine();if(ti.formatPattern.match(n))i=!0;else if(ti.exposurePattern.match(n))parseFloat(ti.exposurePattern.matched(1));else if(ti.widthHeightPattern.match(n)){a=u.parseInt(ti.widthHeightPattern.matched(1)),t=u.parseInt(ti.widthHeightPattern.matched(2));break}}if(!i)return y.trace("File is not run length encoded!",{fileName:"HdrFormat.hx",lineNumber:175,className:"kha.internal.HdrFormat",methodName:"parse"}),null;var r=new Vi(t*a*4),l=t,g=a;ti.readPixelsRawRLE(ti.buffer,r,0,l,g);for(var o=new Ni(t*a*4),h=0;h<r.length;){var c=r[h]/255,d=r[h+1]/255,I=r[h+2]/255,C=r[h+3],m=Math.pow(2,C-128);c*=m,d*=m,I*=m,o[h]=c,o[h+1]=d,o[h+2]=I,o[h+3]=1,h+=4}return{width:t,height:a,data:o}};var ai=function(e){this.stopped=!1,this.element=e};s["kha.js.AEAudioChannel"]=ai,ai.__name__=!0,ai.__interfaces__=[Wt],ai.prototype={play:function(){this.stopped=!1,yt.mobile?yt.insideInputEvent?(this.element.play(),yt.mobileAudioPlaying=!0):yt.mobileAudioPlaying?this.element.play():ai.todo.push(this):this.element.play()},__class__:ai};var ii=function(){};s["kha.js.AudioElementAudio"]=ii,ii.__name__=!0,ii._compile=function(){},ii.play=function(e,t){return null==t&&(t=!1),ii.stream(e,t)},ii.stream=function(e,t){null==t&&(t=!1),e.element.loop=t;var a=new ai(e.element);return a.play(),a};var si=function(e){ia.call(this),this.canvas=e,si.instance=this,this.myColor=ct.fromBytes(0,0,0),e.save()};s["kha.js.CanvasGraphics"]=si,si.__name__=!0,si.__super__=ia,si.prototype=a(ia.prototype,{begin:function(e,t){null==e&&(e=!0),e&&this.clear(t)},clear:function(e){null==e&&(e=0),this.canvas.strokeStyle="rgba("+((16711680&e)>>>16)+","+((65280&e)>>>8)+","+(255&e)+","+.00392156862745098*(e>>>24)+")",this.canvas.fillStyle="rgba("+((16711680&e)>>>16)+","+((65280&e)>>>8)+","+(255&e)+","+.00392156862745098*(e>>>24)+")",.00392156862745098*(e>>>24)==0?this.canvas.clearRect(0,0,this.canvas.canvas.width,this.canvas.canvas.height):this.canvas.fillRect(0,0,this.canvas.canvas.width,this.canvas.canvas.height),this.set_color(this.myColor)},end:function(){},set_color:function(e){return this.myColor=e,this.canvas.strokeStyle="rgba("+((16711680&e)>>>16)+","+((65280&e)>>>8)+","+(255&e)+","+.00392156862745098*(e>>>24)+")",this.canvas.fillStyle="rgba("+((16711680&e)>>>16)+","+((65280&e)>>>8)+","+(255&e)+","+.00392156862745098*(e>>>24)+")",e},fillRect:function(e,t,a,i){var s=this.get_opacity();this.canvas.globalAlpha=s*(.00392156862745098*(this.myColor>>>24)),this.canvas.fillRect(e,t,a,i),this.canvas.globalAlpha=this.get_opacity()},__class__:si});var ni=function(){ut.call(this)};s["kha.js.EnvironmentVariables"]=ni,ni.__name__=!0,ni.__super__=ut,ni.prototype=a(ut.prototype,{__class__:ni});var ri=function(e){this.images=new N,this.kravur=new pt(e)};s["kha.js.Font"]=ri,ri.__name__=!0,ri.__interfaces__=[gt],ri.fromBytes=function(e){return new ri(ei.fromBytes(e))},ri.prototype={height:function(e){return this.kravur._get(e).getHeight()},width:function(e,t){return this.kravur._get(e).stringWidth(t)},widthOfCharacters:function(e,t,a,i){return this.kravur._get(e).charactersWidth(t,a,i)},baseline:function(e){return this.kravur._get(e).getBaselinePosition()},getImage:function(e,t,a){var i=null==a?e:1e4*e+a.length;if(!this.images.h.hasOwnProperty(i)){var s=this.images,n=new N;s.h[i]=n}if(!this.images.h[i].h.hasOwnProperty(t)){var r=this.kravur._get(e,a),l=window.document.createElement("canvas");l.width=r.width,l.height=r.height;var g=l.getContext("2d");g.fillStyle="black",g.fillRect(0,0,r.width,r.height);for(var o=g.getImageData(0,0,r.width,r.height),h=at.__cast(r.getTexture(),ht).bytes,c=0,d=h.length;c<d;){var I=c++;o.data[4*I]=(16711680&t)>>>16,o.data[4*I+1]=(65280&t)>>>8,o.data[4*I+2]=255&t,o.data[4*I+3]=h.b[I]}g.putImageData(o,0,0);var u=window.document.createElement("img");return u.src=l.toDataURL("image/png"),this.images.h[i].h[t]=u,u}return this.images.h[i].h[t]},unload:function(){this.kravur=null,this.images=null},__class__:ri};var li=function(){};s["kha.js.MobileWebAudio"]=li,li.__name__=!0,li._init=function(){try{return void(li._context=new AudioContext)}catch(e){}try{return void(this._context=new webkitAudioContext)}catch(e){}},li.play=function(e,t){null==t&&(t=!1);var a=new gi(e,t);return a.play(),a},li.stream=function(e,t){return null==t&&(t=!1),li.play(e,t)};var gi=function(e,t){this.stopped=!1,this.paused=!1,this.buffer=e._buffer,this.loop=t,this.createSource()};s["kha.js.MobileWebAudioChannel"]=gi,gi.__name__=!0,gi.__interfaces__=[Wt],gi.prototype={createSource:function(){var e=this;this.source=li._context.createBufferSource(),this.source.loop=this.loop,this.source.buffer=this.buffer,this.source.onended=function(){e.stopped=!0},this.gain=li._context.createGain(),this.source.connect(this.gain),this.gain.connect(li._context.destination)},play:function(){(this.paused||this.stopped)&&this.createSource(),this.stopped=!1,this.paused?(this.paused=!1,this.startTime=li._context.currentTime-this.pauseTime,this.source.start(0,this.pauseTime)):(this.startTime=li._context.currentTime,this.source.start())},__class__:gi};var oi=function(e,t){var a=this;Mt.call(this);var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onerror=function(){y.trace("Error loading "+e,{fileName:"MobileWebAudioSound.hx",lineNumber:25,className:"kha.js.MobileWebAudioSound",methodName:"new"})},i.onload=function(){a.compressedData=z.ofData(i.response),a.uncompressedData=null,li._context.decodeAudioData(a.compressedData.b.bufferValue,function(e){a._buffer=e,t(a)},function(){throw new tt("Audio format not supported")})},i.send(null)};s["kha.js.MobileWebAudioSound"]=oi,oi.__name__=!0,oi.__super__=Mt,oi.prototype=a(Mt.prototype,{uncompress:function(e){e()},__class__:oi});var hi=function(e,t){Mt.call(this),this.done=t,hi.loading.push(this),this.element=window.document.createElement("audio"),this.filenames=[];for(var a=0;a<e.length;){var s=e[a];++a,""!=this.element.canPlayType("audio/ogg")&&C.endsWith(s,".ogg")&&this.filenames.push(s),""!=this.element.canPlayType("audio/mp4")&&C.endsWith(s,".mp4")&&this.filenames.push(s)}this.element.addEventListener("error",i(this,this.errorListener),!1),this.element.addEventListener("canplay",i(this,this.canPlayThroughListener),!1),this.element.src=this.filenames[0],this.element.preload="auto",this.element.load()};s["kha.js.Sound"]=hi,hi.__name__=!0,hi.__super__=Mt,hi.prototype=a(Mt.prototype,{errorListener:function(e){if(4==this.element.error.code)for(var t=0,a=this.filenames.length-1;t<a;){var i=t++;if(this.element.src==this.filenames[i])return void(this.element.src=this.filenames[i+1])}y.trace("Error loading "+this.element.src,{fileName:"Sound.hx",lineNumber:108,className:"kha.js.Sound",methodName:"errorListener"}),window.console.log("loadSound failed"),this.finishAsset()},canPlayThroughListener:function(e){this.finishAsset()},finishAsset:function(){this.element.removeEventListener("error",i(this,this.errorListener),!1),this.element.removeEventListener("canplaythrough",i(this,this.canPlayThroughListener),!1),this.done(this),l.remove(hi.loading,this)},uncompress:function(e){e()},__class__:hi});var ci=function(e,t){var a=this;Mt.call(this);var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onerror=function(){y.trace("Error loading "+e,{fileName:"WebAudioSound.hx",lineNumber:76,className:"kha.js.WebAudioSound",methodName:"new"})},i.onload=function(){a.compressedData=z.ofData(i.response),a.uncompressedData=null,t(a)},i.send(null)};s["kha.js.WebAudioSound"]=ci,ci.__name__=!0,ci.__super__=Mt,ci.prototype=a(Mt.prototype,{superUncompress:function(e){Mt.prototype.uncompress.call(this,e)},uncompress:function(e){var t=this;St._context.decodeAudioData(this.compressedData.b.bufferValue,function(a){var i=2*a.getChannelData(0).length,s=new Array(i);if(t.uncompressedData=s,1==a.numberOfChannels)for(var n=0,r=a.getChannelData(0).length;n<r;){var l=n++;t.uncompressedData[2*l]=a.getChannelData(0)[l],t.uncompressedData[2*l+1]=a.getChannelData(0)[l]}else for(var g=0,o=a.getChannelData(0).length;g<o;){var h=g++;t.uncompressedData[2*h]=a.getChannelData(0)[h],t.uncompressedData[2*h+1]=a.getChannelData(1)[h]}t.compressedData=null,e()},function(){t.superUncompress(e)})},__class__:ci});var di=function(e,t){this.value=e,this.type=t};s["kha.js.graphics4.ConstantLocation"]=di,di.__name__=!0,di.__interfaces__=[wa],di.prototype={__class__:di};var Ii=function(e){var t=new Array(9);this.matrix3Cache=t;var a=new Array(16);this.matrixCache=a,this.isDepthAttachment=!1,this.isCubeMap=!1,this.colorMaskAlpha=!0,this.colorMaskBlue=!0,this.colorMaskGreen=!0,this.colorMaskRed=!0,this.depthMask=!1,this.depthTest=!1,this.renderTarget=e,this.init(),yt.gl2?this.instancedExtension=!0:(this.instancedExtension=yt.gl.getExtension("ANGLE_instanced_arrays"),this.blendMinMaxExtension=yt.gl.getExtension("EXT_blend_minmax"))};s["kha.js.graphics4.Graphics"]=Ii,Ii.__name__=!0,Ii.__interfaces__=[Za],Ii.getBlendFunc=function(e){switch(e[1]){case 0:case 2:return 0;case 1:return 1;case 3:return 770;case 4:return 772;case 5:return 771;case 6:return 773;case 7:return 768;case 8:return 774;case 9:return 769;case 10:return 775}},Ii.getBlendOp=function(e){switch(e[1]){case 0:return 32774;case 1:return 32778;case 2:return 32779;case 3:return 32775;case 4:return 32776}},Ii.prototype={init:function(){if(null!=this.renderTarget)if(this.isCubeMap=at.__instanceof(this.renderTarget,va),this.isCubeMap){var e=at.__cast(this.renderTarget,va);this.renderTargetFrameBuffer=e.frameBuffer,this.renderTargetTexture=e.texture,this.isDepthAttachment=e.isDepthAttachment}else{var t=at.__cast(this.renderTarget,Gt);this.renderTargetFrameBuffer=t.frameBuffer,this.renderTargetTexture=t.texture}},begin:function(e){if(yt.gl.enable(3042),yt.gl.blendFunc(770,771),null==this.renderTarget)yt.gl.bindFramebuffer(36160,null),yt.gl.viewport(0,0,_t.windowWidth(),_t.windowHeight());else if(yt.gl.bindFramebuffer(36160,this.renderTargetFrameBuffer),yt.gl.viewport(0,0,this.renderTarget.get_width(),this.renderTarget.get_height()),null!=e){yt.gl.framebufferTexture2D(36160,yt.drawBuffers.COLOR_ATTACHMENT0_WEBGL,3553,this.renderTargetTexture,0);for(var t=0,a=e.length;t<a;){var i=t++;yt.gl.framebufferTexture2D(36160,yt.drawBuffers.COLOR_ATTACHMENT0_WEBGL+i+1,3553,at.__cast(e[i],Gt).texture,0)}for(var s=[yt.drawBuffers.COLOR_ATTACHMENT0_WEBGL],n=0,r=e.length;n<r;){var l=n++;s.push(yt.drawBuffers.COLOR_ATTACHMENT0_WEBGL+l+1)}yt.gl2?yt.gl.drawBuffers(s):yt.drawBuffers.drawBuffersWEBGL(s)}},beginFace:function(e){yt.gl.enable(3042),yt.gl.blendFunc(770,771),yt.gl.bindFramebuffer(36160,this.renderTargetFrameBuffer),yt.gl.framebufferTexture2D(36160,this.isDepthAttachment?36096:36064,34069+e,this.renderTargetTexture,0),yt.gl.viewport(0,0,this.renderTarget.get_width(),this.renderTarget.get_height())},end:function(){switch(yt.gl.getError()){case 0:break;case 1280:y.trace("WebGL error: Invalid enum",{fileName:"Graphics.hx",lineNumber:130,className:"kha.js.graphics4.Graphics",methodName:"end"});break;case 1281:y.trace("WebGL error: Invalid value",{fileName:"Graphics.hx",lineNumber:132,className:"kha.js.graphics4.Graphics",methodName:"end"});break;case 1282:y.trace("WebGL error: Invalid operation",{fileName:"Graphics.hx",lineNumber:134,className:"kha.js.graphics4.Graphics",methodName:"end"});break;case 1285:y.trace("WebGL error: Out of memory",{fileName:"Graphics.hx",lineNumber:138,className:"kha.js.graphics4.Graphics",methodName:"end"});break;case 1286:y.trace("WebGL error: Invalid framebuffer operation",{fileName:"Graphics.hx",lineNumber:136,className:"kha.js.graphics4.Graphics",methodName:"end"});break;case 37442:y.trace("WebGL error: Context lost",{fileName:"Graphics.hx",lineNumber:140,className:"kha.js.graphics4.Graphics",methodName:"end"});break;default:y.trace("Unknown WebGL error",{fileName:"Graphics.hx",lineNumber:142,className:"kha.js.graphics4.Graphics",methodName:"end"})}},clear:function(e,t,a){var i=0;null!=e&&(i|=16384,yt.gl.colorMask(!0,!0,!0,!0),yt.gl.clearColor(.00392156862745098*((16711680&e)>>>16),.00392156862745098*((65280&e)>>>8),.00392156862745098*(255&e),.00392156862745098*(e>>>24))),null!=t&&(i|=256,yt.gl.enable(2929),yt.gl.depthMask(!0),yt.gl.clearDepth(t)),null!=a&&(i|=1024,yt.gl.enable(2960),yt.gl.stencilMask(255),yt.gl.clearStencil(a)),yt.gl.clear(i),yt.gl.colorMask(this.colorMaskRed,this.colorMaskGreen,this.colorMaskBlue,this.colorMaskAlpha),this.depthTest?yt.gl.enable(2929):yt.gl.disable(2929),yt.gl.depthMask(this.depthMask)},viewport:function(e,t,a,i){var s=null==this.renderTarget?_t.windowHeight(0):this.renderTarget.get_height();yt.gl.viewport(e,s-t-i,a,i)},setDepthMode:function(e,t){switch(t[1]){case 0:e?yt.gl.enable(2929):yt.gl.disable(2929),this.depthTest=e,yt.gl.depthFunc(519);break;case 1:yt.gl.enable(2929),this.depthTest=!0,yt.gl.depthFunc(512);break;case 2:yt.gl.enable(2929),this.depthTest=!0,yt.gl.depthFunc(514);break;case 3:yt.gl.enable(2929),this.depthTest=!0,yt.gl.depthFunc(517);break;case 4:yt.gl.enable(2929),this.depthTest=!0,yt.gl.depthFunc(513);break;case 5:yt.gl.enable(2929),this.depthTest=!0,yt.gl.depthFunc(515);break;case 6:yt.gl.enable(2929),this.depthTest=!0,yt.gl.depthFunc(516);break;case 7:yt.gl.enable(2929),this.depthTest=!0,yt.gl.depthFunc(518)}yt.gl.depthMask(e),this.depthMask=e},setBlendingMode:function(e,t,a,i,s,n){e==ba.BlendOne&&t==ba.BlendZero?yt.gl.disable(3042):(yt.gl.enable(3042),yt.gl.blendFuncSeparate(Ii.getBlendFunc(e),Ii.getBlendFunc(t),Ii.getBlendFunc(i),Ii.getBlendFunc(s)),yt.gl.blendEquationSeparate(Ii.getBlendOp(a),Ii.getBlendOp(n)))},setVertexBuffer:function(e){at.__cast(e,ja).set(0)},setVertexBuffers:function(e){for(var t=0,a=0;a<e.length;){var i=e[a];++a,t+=at.__cast(i,ja).set(t)}},setIndexBuffer:function(e){this.indicesCount=e.count(),at.__cast(e,za).set()},setTexture:function(e,t){null==t?(yt.gl.activeTexture(33984+at.__cast(e,Ci).value),yt.gl.bindTexture(3553,null)):at.__cast(t,Gt).set(at.__cast(e,Ci).value)},setTextureDepth:function(e,t){at.__cast(t,Gt).setDepth(at.__cast(e,Ci).value)},setTextureParameters:function(e,t,a,i,s,n){switch(yt.gl.activeTexture(33984+at.__cast(e,Ci).value),t[1]){case 0:yt.gl.texParameteri(3553,10242,10497);break;case 1:yt.gl.texParameteri(3553,10242,33648);break;case 2:yt.gl.texParameteri(3553,10242,33071)}switch(a[1]){case 0:yt.gl.texParameteri(3553,10243,10497);break;case 1:yt.gl.texParameteri(3553,10243,33648);break;case 2:yt.gl.texParameteri(3553,10243,33071)}switch(i[1]){case 0:switch(n[1]){case 0:yt.gl.texParameteri(3553,10241,9728);break;case 1:yt.gl.texParameteri(3553,10241,9984);break;case 2:yt.gl.texParameteri(3553,10241,9986)}break;case 1:case 2:switch(n[1]){case 0:yt.gl.texParameteri(3553,10241,9729);break;case 1:yt.gl.texParameteri(3553,10241,9985);break;case 2:yt.gl.texParameteri(3553,10241,9987)}i==Ha.AnisotropicFilter&&yt.gl.texParameteri(3553,yt.anisotropicFilter.TEXTURE_MAX_ANISOTROPY_EXT,4)}switch(s[1]){case 0:yt.gl.texParameteri(3553,10240,9728);break;case 1:case 2:yt.gl.texParameteri(3553,10240,9729)}},setCubeMap:function(e,t){null==t?(yt.gl.activeTexture(33984+at.__cast(e,Ci).value),yt.gl.bindTexture(34067,null)):t.set(at.__cast(e,Ci).value)},setCubeMapDepth:function(e,t){t.setDepth(at.__cast(e,Ci).value)},setCullMode:function(e){switch(e[1]){case 0:yt.gl.enable(2884),yt.gl.cullFace(1029);break;case 1:yt.gl.enable(2884),yt.gl.cullFace(1028);break;case 2:yt.gl.disable(2884)}},setPipeline:function(e){this.setCullMode(e.cullMode),this.setDepthMode(e.depthWrite,e.depthMode),this.setStencilParameters(e.stencilMode,e.stencilBothPass,e.stencilDepthFail,e.stencilFail,e.stencilReferenceValue,e.stencilReadMask,e.stencilWriteMask),this.setBlendingMode(e.blendSource,e.blendDestination,e.blendOperation,e.alphaBlendSource,e.alphaBlendDestination,e.alphaBlendOperation),e.set(),this.colorMaskRed=e.colorWriteMaskRed,this.colorMaskGreen=e.colorWriteMaskGreen,this.colorMaskBlue=e.colorWriteMaskBlue,this.colorMaskAlpha=e.colorWriteMaskAlpha},setBool:function(e,t){yt.gl.uniform1i(at.__cast(e,di).value,t?1:0)},setInt:function(e,t){yt.gl.uniform1i(at.__cast(e,di).value,t)},setFloat:function(e,t){yt.gl.uniform1f(at.__cast(e,di).value,t)},setFloat2:function(e,t,a){yt.gl.uniform2f(at.__cast(e,di).value,t,a)},setFloat3:function(e,t,a,i){yt.gl.uniform3f(at.__cast(e,di).value,t,a,i)},setFloat4:function(e,t,a,i,s){yt.gl.uniform4f(at.__cast(e,di).value,t,a,i,s)},setFloats:function(e,t){var a=at.__cast(e,di);switch(a.type){case 35664:yt.gl.uniform2fv(a.value,t);break;case 35665:yt.gl.uniform3fv(a.value,t);break;case 35666:yt.gl.uniform4fv(a.value,t);break;default:yt.gl.uniform1fv(a.value,t)}},setMatrix:function(e,t){this.matrixCache[0]=t._00,this.matrixCache[1]=t._01,this.matrixCache[2]=t._02,this.matrixCache[3]=t._03,this.matrixCache[4]=t._10,this.matrixCache[5]=t._11,this.matrixCache[6]=t._12,this.matrixCache[7]=t._13,this.matrixCache[8]=t._20,this.matrixCache[9]=t._21,this.matrixCache[10]=t._22,this.matrixCache[11]=t._23,this.matrixCache[12]=t._30,this.matrixCache[13]=t._31,this.matrixCache[14]=t._32,this.matrixCache[15]=t._33,yt.gl.uniformMatrix4fv(at.__cast(e,di).value,!1,this.matrixCache)},setMatrix3:function(e,t){this.matrix3Cache[0]=t._00,this.matrix3Cache[1]=t._01,this.matrix3Cache[2]=t._02,this.matrix3Cache[3]=t._10,this.matrix3Cache[4]=t._11,this.matrix3Cache[5]=t._12,this.matrix3Cache[6]=t._20,this.matrix3Cache[7]=t._21,this.matrix3Cache[8]=t._22,yt.gl.uniformMatrix3fv(at.__cast(e,di).value,!1,this.matrix3Cache)},drawIndexedVertices:function(e,t){null==t&&(t=-1),null==e&&(e=0);var a=null==yt.elementIndexUint?5123:5125,i=5123==a?2:4;yt.gl.drawElements(4,-1==t?this.indicesCount:t,a,e*i)},convertStencilAction:function(e){switch(e[1]){case 0:return 7680;case 1:return 0;case 2:return 7681;case 3:return 7682;case 4:return 34055;case 5:return 7683;case 6:return 34056;case 7:return 5386}},setStencilParameters:function(e,t,a,i,s,n,r){if(null==r&&(r=255),null==n&&(n=255),e==Aa.Always&&t==ka.Keep&&a==ka.Keep&&i==ka.Keep)yt.gl.disable(2960);else{yt.gl.enable(2960);var l=0;switch(e[1]){case 0:l=519;break;case 1:l=512;break;case 2:l=514;break;case 3:l=517;break;case 4:l=513;break;case 5:l=515;break;case 6:l=516;break;case 7:l=518}yt.gl.stencilMask(r),yt.gl.stencilOp(this.convertStencilAction(i),this.convertStencilAction(a),this.convertStencilAction(t)),yt.gl.stencilFunc(l,s,n)}},scissor:function(e,t,a,i){yt.gl.enable(3089),null==this.renderTarget?yt.gl.scissor(e,_t.windowHeight(0)-t-i,a,i):yt.gl.scissor(e,t,a,i)},disableScissor:function(){yt.gl.disable(3089)},renderTargetsInvertedY:function(){return!0},drawIndexedVerticesInstanced:function(e,t,a){if(null==a&&(a=-1),null==t&&(t=0),this.instancedRenderingAvailable()){var i=null==yt.elementIndexUint?5123:5125,s=null==yt.elementIndexUint?2:4;yt.gl2?yt.gl.drawElementsInstanced(4,-1==a?this.indicesCount:a,i,t*s,e):this.instancedExtension.drawElementsInstancedANGLE(4,-1==a?this.indicesCount:a,i,t*s,e)}},instancedRenderingAvailable:function(){return this.instancedExtension},__class__:Ii};var ui=function(e){Sa.call(this,e)};s["kha.js.graphics4.Graphics2"]=ui,ui.__name__=!0,ui.__super__=Sa,ui.prototype=a(Sa.prototype,{begin:function(e,t){null==e&&(e=!0),yt.gl.colorMask(!0,!0,!0,!0),yt.gl.disable(2929),yt.gl.depthFunc(519),Sa.prototype.begin.call(this,e,t)},__class__:ui});var Ci=function(e){this.value=e};s["kha.js.graphics4.TextureUnit"]=Ci,Ci.__name__=!0,Ci.__interfaces__=[Fa],Ci.prototype={__class__:Ci};var mi=function(){};s["kha.vr.VrInterface"]=mi,mi.__name__=!0,mi.prototype={IsVrEnabled:function(){return!1},__class__:mi};var pi=function(){this.vrHeight=0,this.vrWidth=0,this.height=0,this.width=0,this.vrEnabled=!1,mi.call(this),navigator.getVRDisplays&&(this.vrEnabled=!0,this.getVRDisplays(),y.trace("Display enabled.",{fileName:"VrInterface.hx",lineNumber:36,className:"kha.js.vr.VrInterface",methodName:"new"}))};s["kha.js.vr.VrInterface"]=pi,pi.__name__=!0,pi.__super__=mi,pi.prototype=a(mi.prototype,{getVRDisplays:function(){var e=this;navigator.getVRDisplays().then(function(t){if(t.length>0){e.frameData=new VRFrameData,e.vrDisplay=t[0],e.vrDisplay.depthNear=.1,e.vrDisplay.depthFar=1024;var a=e.vrDisplay.getEyeParameters("left"),i=e.vrDisplay.getEyeParameters("right");e.width=yt.khanvas.width,e.height=yt.khanvas.height,e.vrWidth=2*Math.max(a.renderWidth,i.renderWidth)|0,e.vrHeight=0|Math.max(a.renderHeight,i.renderHeight)}else y.trace("There are no VR displays connected.",{fileName:"VrInterface.hx",lineNumber:56,className:"kha.js.vr.VrInterface",methodName:"getVRDisplays"})})},IsVrEnabled:function(){return this.vrEnabled},__class__:pi});var bi=function(e,t,a){null==a&&(a=0),null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t,this.z=a};s["kha.math.FastVector3"]=bi,bi.__name__=!0,bi.prototype={__class__:bi};var fi=function(){};s["kha.network.ControllerBuilder"]=fi,fi.__name__=!0;var Ai=function(){this.controllers=new N};s["kha.network.Session"]=Ai,Ai.__name__=!0,Ai.the=function(){return Ai.instance},Ai.prototype={sendControllerUpdate:function(e,t){if(this.controllers.h.hasOwnProperty(e)){if(this.controllers.h[e]._inputBuffer.length<this.controllers.h[e]._inputBufferIndex+4+t.length){var a=new z(new Si(this.controllers.h[e]._inputBufferIndex+4+t.length));a.blit(0,this.controllers.h[e]._inputBuffer,0,this.controllers.h[e]._inputBufferIndex),this.controllers.h[e]._inputBuffer=a}this.controllers.h[e]._inputBuffer.setInt32(this.controllers.h[e]._inputBufferIndex,t.length),this.controllers.h[e]._inputBuffer.blit(this.controllers.h[e]._inputBufferIndex+4,t,0,t.length),this.controllers.h[e]._inputBufferIndex+=4+t.length}},__class__:Ai};var wi,vi=0;s.Math=Math,String.prototype.__class__=s.String=String,String.__name__=!0,s.Array=Array,Array.__name__=!0,Date.prototype.__class__=s.Date=Date,Date.__name__=["Date"];var Bi=s.Int={__name__:["Int"]},Mi=s.Dynamic={__name__:["Dynamic"]},_i=s.Float=Number;_i.__name__=["Float"];var Zi=s.Bool=Boolean;Zi.__ename__=["Bool"];var yi=s.Class={__name__:["Class"]},Gi={},Wi={},Si=t.ArrayBuffer||it;null==Si.prototype.slice&&(Si.prototype.slice=it.sliceImpl);var zi=t.DataView||st,Ni=t.Float32Array||nt._new,Vi=t.Uint8Array||rt._new;d.projectWindowMode=c.Window,d.projectWidth=960,d.projectHeight=500,f.dynamicScale=1,v.datasetRGB1=[-1.099459,-.1335146,-4.083223,5.919603,-.1104166,1.600158,-1326538e-12,4.917807,.5127716,-1.169858,-.1832793,.9694744,.09495762,-.04738918,.2194171,.1095749,3.603604,.3815119,-.9665225,-.1403888,5.194457,-1.107607,-.8135181,4.969661,-.2300508,-2.48935,1.279158,-1.292508,-.1299552,-2.071404,-.04752482,1.215598,-1.904179,.3027985,8.707768,.06332446,-.9264666,-.169678,4.57407,-.4232936,-7.575833,5.079755,-.2576343,-4.506805,.6908129,-1.139072,-.1796056,1.923311,6.788529,-2.364389,-1.064041,.171701,1.534681,.501581,-1.107257,-.1384411,-4.285744,5.713157,-.1015992,1.372638,.06555893,5.127514,.6550471,-1.187337,-.1969013,.8551048,.05289708,-.07626406,.01733153,.1779454,3.801038,.4742709,-.9685321,-.1553308,4.732492,-1.178935,-.7852791,4.604492,-.2666518,-2.367663,1.177527,-1.252817,-.05129949,-2.800433,-.01295992,1.308964,-2.204331,.7276011,8.699265,.1188388,-.9459509,-.2322133,4.375041,-.1712018,-7.451681,5.078019,-.4223538,-4.595561,1.074719,-1.125092,-.179675,1.626399,6.989743,-2.406382,-.9060383,.2961611,1.337715,.543814,-1.135338,-.171616,-1.499253,2.373491,-.1654023,.9566404,.1113453,4.528473,.6579439,-1.13278,-.1456214,-1.736672,1.756589,-.1087003,.3757927,.252507,7.178513,.5003814,-1.167176,-.2927225,5.727667,-3.139244,-.6425204,2.822634,-.1457812,-6.78708,1.017072,-1.042529,.04110823,-4.000629,4.362364,1.09054,-1.338674,.8246964,10.95249,.2912211,-1.061598,-.2096143,3.803155,-7.977069,-3.63788,3.707671,-.1903128,-3.397953,.99715,-1.07356,-.2077964,1.492052,16.26322,-5.015304,-.4059889,.2659782,.639538,.5634436,-1.172794,-.2111186,-1.360013,1.60408,-.08473723,.7217312,.154803,4.25701,.6328974,-1.238374,-.2670827,.3247678,.5466311,-.7425952,.527644,.02678026,5.484169,.6814734,-1.176923,-.2574586,2.304045,-2.797678,1.464405,1.998552,.2550559,-4.199772,.7544892,-1.003284,.01943984,-2.145066,10.30924,-15.25413,-2.02301,.5448699,8.159497,.5539148,-1.060017,-.2037206,2.483018,-4.595459,6.526991,4.031804,.1206513,-2.586527,.7875752,-1.081141,-.2123302,1.092275,2.683841,-4.166938,-1.396582,.4371205,1.030233,.6664862,-1.222392,-.2651924,-.4625037,.3521964,.02148855,.5078494,.179159,3.852516,.5998216,-1.42461,-.4710155,-.1826815,1.786277,-1.952442,.5277612,-.01773629,2.415874,.6701272,-1.130655,-.1358609,.9171203,-4.660394,6.251162,1.904529,.2639668,1.85613,.822844,-.9739015,-.06674749,-.4768897,12.48589,-19.94688,-2.353043,.5885575,1.287251,.4830135,-1.082178,-.1974495,1.050245,-4.792855,8.663406,3.246969,.1556731,.8117442,.8050376,-1.063354,-.1727108,.9681592,2.736077,-4.969269,-.836057,.5994612,1.024039,.6786935,-1.261936,-.3053676,-.4262222,.4000196,-.02059388,.4721802,.1480028,3.505343,.6121337,-1.681088,-.6971919,-.1105652,.7437426,-.6594399,.2254221,.08710195,1.263913,.5681865,-.9453001,.03460388,.6067038,-1.985128,3.457236,2.655483,-.01162354,3.304716,1.00195,-1.086609,-.2029011,-.639917,6.926885,-15.12189,-3.793051,.945612,.2222222,.2893725,-1.041259,-.138879,1.147331,6.282086,3.679836,4.398314,-.1355232,1.031134,.9273509,-1.063473,-.1916051,.6556979,-.003371891,-3.699664,-1.926783,.7371154,1.179975,.6367068,-1.33639,-.3778927,-.7259477,.2270247,.4627513,.1366459,.2637347,3.292059,.4998211,-2.119878,-1.055472,.5422052,.7826648,-1.286065,.9517905,-.1432358,-.2379816,.5910513,-.7761432,.2124336,-.6845184,-.9812342,4.347257,.967198,.377315,5.789529,.9646598,-1.118734,-.3513815,.5500918,.9449627,-12.6207,-1.82528,.473126,-3.326892,.3568768,-1.026437,-.08257946,.3221701,11.98372,1.55513,2.560304,.1406465,2.912858,.8643181,-1.069949,-.2029607,.5825042,-.002398595,-3.278335,-1.349882,.7208433,.8505164,.6625391,-1.392309,-.4454945,-.5664,.6283393,-.3761727,.6949802,.07748178,3.192797,.5968661,-2.713405,-1.395112,.202923,.1877272,-.3715859,-.1652929,.2385861,-.4150768,.1375467,-.9588644,.024339,-1.527493,-.9632874,5.496269,1.094931,.2004044,6.084554,1.369604,-.8028546,-.2473563,1.617898,2.073591,-11.49446,-.8394131,.2726847,-4.634538,.1367293,-1.198326,-.1804865,-.3565414,4.0732,1.662086,1.23977,.3367978,2.997402,.9360383,-1.013531,-.185906,.5799857,13.31883,-4.346873,-1.11382,.5275714,.8045177,.6496373,-1.530103,-.6107468,-.3841771,1.881508,-1.464807,.665469,-5950797e-12,2.738912,.8101012,-2.415469,-1.057499,-.4161968,-2.357548,.6300296,.6224915,.01545048,2.038561,-.1339415,-3.096796,-1.465688,-1.199232,4.567061,3.26098,-.9794907,.8950491,2.049235,1.331015,.2713904,.2852852,1.20209,-8.206784,-5.805762,1.804431,-.6090648,-1.990902,.3288858,-1.45658,-.345596,-.06409257,16.67697,-2.311094,-.9771104,.6759863,1.245136,.7911932,-.9860389,-.2099564,.294665,-.0035478,-2.268313,-.06205647,.4705185,.8657995,.6856284,-1.971736,-.9414047,-.3400557,1.468763,-1.474284,.5501062,-110975e-10,2.35637,.9001702,-1.589845,-.7797079,-.558224,-.8137376,.5846617,.1129459,-.02658005,2.707248,-.2112486,-6.940173,-2.823963,-1.620848,1.090696,2.39173,1.370047,.5890462,1.7284,1.331253,1.293144,-.001919778,1.644206,-.8666967,-7.161953,-1.385018,-.1505374,-1.388643,.2530122,-1.48888,-.2495496,-.2377137,11.67714,-.8617124,1.053828,.1992744,.3633564,.8553304,-1.060891,-.4035829,.2823207,-.002369798,-1.876577,-.5950265,.4241017,.3140802,.6631669,-1.101204,-.1351353,-4.030882,6.096353,-.1148599,1.606507,-1555474e-12,4.436084,.5973715,-1.154597,-.1923378,.8512132,.2934895,-.06522777,.1389077,.09091469,3.133307,.2108541,-1.031588,-.1546804,5.266214,-.949139,-.7184867,4.875626,-.1911907,-2.865642,1.087895,-1.159454,-.09546699,-1.508146,-.02031411,1.040653,-2.333508,.2540592,8.594981,.0931677,-1.03594,-.2021151,4.719343,-.9019318,-7.858046,3.901234,-.2233137,-4.344739,.6550733,-1.096669,-.1558196,2.057553,6.274495,-2.678352,-1.814927,.1550676,1.903276,.4998989,-1.114209,-.1473531,-7.602914,8.973685,-.04980074,1.289198,.08366906,4.557987,.6118757,-1.149397,-.1981628,4.914096,-3.498986,-.0625709,.1667401,.104898,2.284689,.5935965,-1.056121,-.1456172,.4272656,2.912649,-.5501745,4.406542,-.138768,1.245555,.9733011,-1.125047,-.04003662,1.058457,-3.462236,.4395278,-2.395805,.5177589,4.866247,.4253189,-1.051444,-.2804541,3.364668,3.293787,-10.15741,3.807407,-.3592377,-3.367415,.7900825,-1.093847,-.1436965,2.38478,5.78707,-2.445987,-1.311171,.2326563,1.158439,.5555416,-1.134824,-.1680468,-3.32562,4.458596,-.1135063,1.1045,.07794544,4.609952,.6854854,-1.143017,-.1565926,.3014687,-.1763027,-.03557925,-.2342406,.2528705,5.884085,.4750602,-1.136801,-.2907502,3.682423,-.4061202,-.8728159,4.00151,-.1522202,-5.528713,1.044847,-1.063652,.07808107,-1.983678,.3648078,2.102276,-3.06505,.8431951,10.3883,.2662834,-1.061015,-.2859814,4.223615,-2.290138,-8.31401,4.405718,-.4613627,-4.50291,1.008383,-1.106302,-.1697123,2.087196,8.238929,-2.992416,-1.821776,.3434859,.7755179,.534119,-1.17111,-.2106304,-1.614361,2.378103,-.1625969,.8504483,.1059312,4.046256,.6618227,-1.20048,-.2235733,1.01439,-1.174074,-.444018,.2262406,.1665868,5.461829,.567631,-1.223587,-.3502622,1.699106,.6724266,1.268567,2.135102,.0008039374,-5.221111,.944569,-.9452673,.1468459,-1.335034,4.346628,-12.85652,-1.807046,.8175243,9.301065,.3656798,-1.134681,-.3310951,3.571244,-2.208948,6.04158,3.107577,-.3112127,-4.186351,.9188333,-1.083237,-.1831394,2.062654,1.385424,-5.00495,-1.332669,.3627352,.332315,.6191181,-1.211527,-.2590617,-.1660874,.3627905,-.1039258,.4697924,.1671653,3.507497,.6022506,-1.433017,-.4733592,.1724445,.9953236,-1.874457,.4432099,.0171581,2.339272,.644147,-1.08492,-.1587903,.8999585,-2.537516,5.877859,2.014554,.09689141,.3177242,.9030399,-1.008242,.00279303,-.3507469,10.283,-20.80454,-2.781026,.899509,3.366951,.3473867,-1.103151,-.2799598,2.525791,-4.255704,9.903388,3.722668,-.3603941,-1.303292,.9369454,-1.102235,-.2025061,2.08566,1.686787,-5.010957,-1.656458,.4584029,-.2751759,.6184162,-1.25613,-.3104904,.163935,.1315502,-.7297583,.477848,.1259265,3.012108,.6202728,-1.620114,-.655267,-.2877157,1.094371,.2818914,.369683,.09428521,1.450951,.5681308,-.9686204,-.03755647,1.46998,-3.103414,2.856583,1.883209,-.05746099,1.286383,1.001751,-1.089377,-.1023062,-1.498891,10.66455,-17.20184,-2.759314,1.061258,2.910211,.2624701,-1.044681,-.2156857,3.230136,-.5863862,6.09664,3.550019,-.4255773,-1.500033,.9687696,-1.133658,-.2505101,1.71784,.008480428,-5.011789,-1.740989,.498343,-.2081829,.6088641,-1.335366,-.3863319,-.5279971,.3638324,.3230699,.08339707,.2483293,2.678646,.4998346,-2.004511,-.9957121,1.250807,.01625025,-.3410754,.7858244,-.09506757,.02651876,.5788643,-.8714157,.1192051,-.8486879,-.3702497,1.818277,1.103427,.2454866,3.841575,.984735,-1.042618,-.2285793,.3620175,2.983368,-9.776844,-1.971587,.6691674,-.7901947,.32132,-1.099112,-.1869868,2.044065,2.062964,1.265668,2.71013,-.1099443,.2179353,.9024108,-1.106985,-.2396881,1.809807,8.523319,-5.011788,-1.590086,.3248449,-.1003187,.6550606,-1.421285,-.4767024,-.3885004,.827459,-.3644229,.6999513,.0519671,2.578431,.624631,-2.611217,-1.398846,.4527425,-.5932142,.2224617,-.5593581,.3389633,-.7767112,.06536004,-.9881543,.04684782,-.8616613,.8799807,4.00313,1.739543,-.08098378,5.524802,1.499673,-.7544759,-.2314808,.812577,-.7724135,-9.577645,-1.629433,.6790832,-4.193895,-.02526624,-1.273719,-.218703,1.401798,5.231832,.7405093,1.775166,-.07269476,1.996087,1.05745,-1.046864,-.2247559,1.679449,11.40057,-4.948829,-1.182664,.3241038,-.2470012,.61159,-1.514607,-.598543,-.187761,1.75693,-1.314206,.611581,-597046e-11,2.412975,.8124304,-2.308414,-1.083797,-.1179959,-1.728246,.7784742,.5494505,.006203168,.9326251,-.1419518,-3.230837,-1.43867,-.9868286,2.974393,1.949339,-.6337857,.8160271,3.278606,1.354373,.5149378,.2754789,1.040965,-4.501186,-3.399057,.9661861,-.4736173,-4.037574,.2794847,-1.62187,-.3192763,.8786242,9.785565,-2.727652,.01903691,.5521261,2.138764,.8419871,-.9951701,-.2550607,1.498952,-.002737197,-3.101832,-.5921329,.2864422,-.4405218,.663141,-1.902954,-.9056918,-.206957,1.191499,-1.092577,.5849556,-9649602e-12,2.048407,.9001527,-1.271627,-.7193923,-.01136606,-.1167951,.003286175,-.05262827,-.02473874,1.716125,-.2187133,-7.647175,-3.114129,-1.490128,-.5266488,3.06309,1.474262,.5481458,2.052174,1.353089,2.191403,.342112,1.44651,2.170943,-7.768187,-1.471207,-.1456708,-1.753574,.2310576,-1.932296,-.3814739,.6245422,6.748294,-.3060171,1.067747,.2500671,-.1252596,.8614611,-.9471101,-.405264,1.300174,-.003951536,-1.908284,-.5385721,.2133578,-.6250292,.6658012],v.datasetRGBRad1=[1.962684,1.159831,4.450588,5.079633,4.437388,4.324573,1.946487,1.287515,3.703696,8.782833,3.440437,5.160333,1.88217,1.335878,2.648641,13.58368,3.105473,5.907387,1.738159,1.624289,-.008786695,21.18253,2.770255,7.055672,1.571896,2.301786,-4.028545,29.66806,1.630876,8.711031,1.475048,2.679086,-6.311315,33.77896,2.140975,9.385283,1.326174,3.378759,-9.831444,39.42061,2.852702,10.82542,1.153344,3.967771,-12.65181,41.95016,7.468239,12.2135,.9746081,4.051626,-12.98454,37.54964,17.49232,14.20619,.8448016,3.181809,-8.757338,21.97962,35.24033,16.39549,2.029623,1.364434,4.201529,5.415099,9.825839,10.63328,2.023126,1.494728,3.420413,9.072178,9.205157,11.86639,1.956307,1.648665,2.039712,14.30239,9.039526,13.30453,1.825053,1.985022,-.8036307,22.02493,9.415361,15.17659,1.650367,2.593201,-4.469328,29.69817,9.410977,17.4485,1.555202,2.962925,-6.60817,33.29887,10.64559,18.50816,1.412478,3.439403,-9.196616,36.85077,13.45341,20.03128,1.25299,3.820805,-11.15338,37.21593,20.14916,21.8232,1.091952,3.663027,-10.3133,29.78985,32.96835,23.7545,.9501691,2.664579,-5.545167,12.81159,51.54768,25.74284],v.datasetRGB2=[-1.14053,-.1982747,-7.51273,8.403899,-.05699038,.9015907,.03392161,4.772522,.5111184,-1.165117,-.1852955,2.963684,-2.262274,-.1571683,.6339974,.04977879,7.243307,.4220053,-1.169936,-.3357429,1.911291,-.2391074,-.4791643,1.446113,-.09178108,-4.700239,.8096219,-1.060246,-.1051633,.5013829,2.832309,-.3707855,1.523131,.09163749,5.604183,.7208566,-1.089753,-.2382167,2.360312,-5.902562,-8.799894,1.377692,-.06131633,-1.415472,.6124057,-1.075481,-.1242391,1.425781,8.810319,-2.922646,1.48652,.0327058,3.889783,.4999482,-1.149342,-.2076337,-7.446587,8.014559,-.04866227,.8203043,.06386483,4.894198,.5452051,-1.120531,-.1513311,2.735504,-2.417591,-.1361114,.4296342,.09427488,8.171403,.4102448,-1.226964,-.3516378,1.308298,-.05097487,-.4846783,1.654619,-.113494,-3.347854,1.131147,-.9664377,.02767589,.1658235,2.407439,-.1300304,.9170958,.2742895,6.642633,.2550064,-1.153358,-.3126223,2.078934,-5.857733,-8.659848,1.758505,-.09616094,-1.230863,.9663832,-1.05385,-.1330743,1.481738,10.49485,-3.528854,.9142363,.124488,2.644615,.5001048,-1.173687,-.2360362,-3.741454,4.088507,-.07528205,.6645237,.07718265,4.65122,.5586318,-1.213757,-.2589561,.7132551,-.4259327,-.1980821,.3627815,.0466656,5.807984,.5847377,-1.108794,-.225987,1.574179,-.3753731,-.5984743,1.659414,-.01681021,.6785219,.8647325,-1.060896,-.0134669,-.7529656,1.711319,-.9792435,.2022433,.3826487,5.725157,.5290714,-1.085145,-.2840715,2.088029,-4.935097,-9.056542,1.976149,-.03912485,-.8636064,.7452125,-1.077983,-.1416633,1.100848,10.15875,-2.943712,.5255135,.2164224,2.941143,.6699937,-1.223293,-.2867444,-1.624136,1.668299,-.09537589,.5015947,.1130741,4.244812,.5082152,-1.325342,-.4280991,.470549,.06926592,-.4572587,.5344144,-.02554192,3.093939,.6639401,-1.113581,-.1192133,.4011536,.7011889,.2052842,.9880724,.01807533,4.69016,.857624,-1.016063,-.1038138,-.2280391,.7898918,-11.27333,.2074545,.5388182,1.364263,.4660455,-1.099582,-.2228607,1.332648,5.135188,1.653152,1.41702,-.1087532,1.809275,.8080874,-1.064357,-.1520775,.8207368,-.001323565,-5.009523,.3946298,.4337902,2.593198,.6719172,-1.278702,-.3512866,-.4511055,.389576,-.2429672,.4270577,.1135348,3.71913,.4998867,-1.580069,-.7095475,-.3198904,1.715748,-1.185915,.4523161,-.01026159,.7927188,.553835,-.9474023,.1173703,.4881381,-2.618684,3.251661,1.213931,-.01736274,8.000768,1.025998,-1.129091,-.3287694,-.3524077,3.352892,-14.16073,-.8485617,.6560766,-2.820937,.3111303,-1.030884,-.1137581,1.109855,8.082276,1.519214,2.112433,-.1592299,3.675905,.8703367,-1.075192,-.1627166,.351491,1.168164,-4.255822,-.6015348,.6265776,2.884818,.6548384,-1.316017,-.3889652,-.5030854,.4488704,-.31868,.4570763,.08909201,3.659274,.5011746,-1.731876,-.8493806,.1194871,2.002781,-2.006547,.4872233,-.02854606,.2662137,.4611629,-.927368,.1380954,-.3302179,-3.553265,4.633345,.9696729,.08799775,8.291129,1.094451,-1.099377,-.3325392,.2501063,2.613712,-13.28142,-.5579527,.4992081,-3.504402,.3022924,-1.04842,-.1227773,.5845373,11.05869,.03813151,1.330409,.01978131,3.95943,.8396439,-1.063233,-.1560639,.2840033,.8751565,-3.41182,-.1436564,.584658,2.899292,.6799095,-1.376715,-.4541567,-1.445491,1.569898,-.1390627,.555827,.04109877,3.349451,.5516123,-1.953391,-1.035869,1.690563,-.196469,-.7787096,.5799605,.02945626,.04217906,.2451373,-1.012422,.07136451,-1.862534,-.7228653,.1947997,.2091805,.06399233,7.928994,1.290733,-.9706708,-.288095,1.107797,-2.731734,-8.445995,.4296774,.5117648,-3.824277,.1761207,-1.110611,-.1789409,.2108488,20.7143,-1.763174,.09554695,-.02943103,3.422079,.8815496,-1.048334,-.1614087,.2475184,.02146938,-2.983901,.2538224,.560137,2.461925,.6777394,-1.393719,-.5002724,-2.40894,2.680983,-.1362825,.7395067,-3300343e-12,3.260889,.8132057,-2.128663,-1.151182,2.923026,-1.931838,-.442617,.2309983,-.00548589,.3279529,-.2229467,-1.618022,-.376649,-3.163544,1.611608,-.3967476,.393368,.3006742,6.835177,1.613765,-.5669064,-.1481749,2.071817,-8.157422,-5.988088,.2387202,.1447191,-4.296385,.05011258,-1.241724,-.2519348,-.1908609,29.52235,-3.33366,-.01837651,.1022249,2.92932,.8867262,-1.02167,-.1667327,.1789771,-.002178108,-2.641572,-.05641484,.5303758,2.138196,.678035,-1.669332,-.7588708,-2.993557,3.17876,-.08066442,.6544672,-808988e-11,2.628924,.9001272,-1.755806,-.8735348,3.258881,-2.504785,-.3300791,.1180565,-.009315982,1.785154,-.3205824,-3.720277,-1.73335,-3.332272,1.515869,.1734218,.8011956,.199544,3.817666,1.638502,.4724641,.3209828,2.051443,-5.105574,-6.509139,-.4232041,.2598931,-2.151756,-.00349391,-1.5256,-.4897606,-.09891121,23.46818,-2.278152,.1681219,-.04469389,1.051,.9294666,-.9908649,-.2008182,.1605143,-.002463113,-2.477349,-.1218647,.4750121,1.460813,.6661364,-2.122119,-1.125475,-3.066599,3.145078,-.05411593,.5133628,-7823408e-12,2.268448,.9001416,-1.528158,-.9370249,2.567559,-1.591439,-.363446,.1763256,.001119624,1.811848,-.2637929,-6.524387,-2.673507,-2.940472,-.6025609,.7852067,1.073499,-.03540435,3.517416,1.490466,.8886026,-.09681828,1.430554,4.993717,-6.071355,-.6053986,.5092997,-1.27301,.07491329,-1.481997,-.5897282,.2659264,1.267239,-.5741291,.05983011,-.2217312,-.3016452,.926083,-1.010943,-.2075134,.05066749,14.70708,-3.780501,.07253223,.4045458,1.320164,.6559925,-1.129907,-.1884011,-8.04767,9.035776,-.05539419,.8823349,.03197135,4.839388,.5042822,-1.133821,-.1510781,3.362822,-2.453381,-.1463925,.4728708,.0595814,7.6363,.4805162,-1.176518,-.3549902,1.729044,-.2160966,-.5075865,1.675584,-.08906902,-5.386842,.5452218,-1.043563,-.07520975,.8750644,2.510518,.007584882,.936125,.07889083,6.066644,.5813108,-1.081304,-.2222253,2.517638,-4.45382,-8.663691,.8662558,-.04802657,-.8965449,.4886656,-1.083774,-.1375469,1.685818,5.63112,-3.100752,.4045941,.02346895,3.390321,.5008309,-1.143158,-.2058334,-9.660198,10.62394,-.04434119,.8607615,.03177325,4.416481,.5918162,-1.146773,-.1727385,4.626048,-4.684602,-.08307137,.1619616,.1484866,7.572868,.2681126,-1.151324,-.3099303,.4125596,2.340752,-.4214444,1.987375,-.191341,-3.845978,1.337311,-1.034258,-.007778759,.7050094,-.8036369,.313857,.2469452,.355997,7.485917,.04790329,-1.096568,-.2673169,2.575654,-.8057121,-8.884928,1.41617,-.2091315,-1.543494,1.065445,-1.083304,-.1528265,1.697727,2.503702,-2.885296,-.12985,.154887,2.479652,.5066496,-1.165736,-.2329945,-5.967964,6.705959,-.05931355,.7485638,.03913878,4.221591,.6183926,-1.212422,-.254591,2.418626,-2.266104,-.1102014,.01363887,.1055411,5.648062,.4557412,-1.070436,-.2163341,.7098718,.7843075,-.432393,2.109823,-.095897,-.1985193,1.060428,-1.104879,-.03013622,.02976276,1.069707,.141,-.488002,.4452288,6.41859,.3195986,-1.048969,-.2655317,2.689426,-3.941038,-9.506461,1.837119,-.1892124,-1.562146,.9043414,-1.106145,-.1601642,1.544544,7.388492,-2.9246,-.4328453,.1763161,2.523111,.5851902,-1.203666,-.2776587,-2.084286,2.45084,-.08746613,.5258507,.07983316,3.860055,.5486167,-1.340448,-.423059,.3462849,.4707607,-.2512626,.1530746,.02724218,3.035216,.5876133,-1.014554,-.116879,.9477794,-1.061218,-.419673,2.058832,-.05989624,3.058168,.9763861,-1.137388,-.0985403,-.2984893,3.64782,-.6585571,-1.47918,.6102932,3.265914,.3480333,-1.021816,-.2344957,2.463671,-7.240685,-8.862697,2.514058,-.2122768,-.03313968,.9028136,-1.126581,-.1874347,1.454154,10.34398,-3.237393,-.8654927,.2457248,1.845769,.6002482,-1.263727,-.3439354,-.1786388,.3980166,-.3349517,.3825166,.1029225,3.331096,.4998955,-1.53001,-.6879698,.2380415,1.608216,-1.682679,.354636,-.00391522,.4517655,.5128605,-.9685659,.09480403,.06076844,-3.217561,4.568074,1.069299,.02083638,7.301088,1.072165,-1.113925,-.3112382,.3954133,5.105907,-14.56866,-.4917378,.5289909,-2.678374,.3014709,-1.046864,-.1215754,1.778308,4.661489,.2565583,1.35368,-.1175767,3.415972,.8457746,-1.10448,-.1940913,1.343668,-.001759206,-5.009204,-.4186951,.312571,1.628183,.6720408,-1.286902,-.3781238,-.08977253,.3545393,-.4866515,.3843664,.08281675,3.122231,.5046991,-1.712597,-.8549112,.4809286,1.515398,-2.212211,.2539029,.02335997,-.06089466,.4268444,-.8807283,.1646097,-.4437898,-3.188247,5.984417,1.334779,-.04026975,7.546431,1.175751,-1.147253,-.3538199,.6101836,4.43778,-15.59813,-1.103222,.6242039,-3.091472,.217429,-1.03823,-.1213475,1.547505,5.893176,1.368738,1.663127,-.137713,3.185279,.8736453,-1.101026,-.1874907,1.272667,3.596524,-5.007243,-.6352483,.3048985,1.931613,.6788844,-1.342753,-.4384971,-1.213491,1.621399,-.1551441,.5614218,.02591739,2.958967,.5782132,-1.937684,-1.066019,1.913336,-.7347719,-.5916167,.158759,.1092568,-.6275002,.1599071,-.9302391,.1486187,-1.603835,.1783713,1.100461,1.174181,-.1602361,7.868331,1.468971,-1.053631,-.372705,1.114117,-.9603286,-10.62469,-1.16214,.7952797,-4.478765,-.04440862,-1.083629,-.1261405,1.229344,11.27825,.131901,1.624729,-.2825898,3.661082,1.036911,-1.09395,-.2067455,1.258035,7.548645,-4.598387,-.8944932,.3292634,1.311304,.6291871,-1.385867,-.5068139,-1.48649,1.969049,-.1698025,.6629167,-5289365e-12,2.760315,.8644368,-2.107367,-1.175639,2.313241,-1.001653,-.4843139,.1124485,3901494e-11,-.3502469,-.320478,-1.475244,-.2833055,-2.085824,1.192563,-.76452,.8380081,.220358,7.157885,1.753702,-.6644372,-.2549735,1.600273,-8.589034,-6.144718,-.7599731,.289837,-5.770923,-.09656242,-1.211687,-.1653494,.83934,27.92988,-3.395461,.9933752,-.03976877,3.776659,.9546526,-1.063757,-.2037563,1.117207,-.001252806,-3.33233,-.6971409,.3388719,1.311398,.6635171,-1.678889,-.7992295,-2.421687,2.871029,-.07662842,.6046208,-7598099e-12,2.002314,.9001307,-1.692144,-.880425,3.060895,-2.000009,-.3183563,.08385862,-.006326713,1.206639,-.3369967,-3.676795,-1.719207,-2.534697,1.005285,.1550407,1.07291,.1318094,3.717018,1.689191,.5424542,.3263528,1.551055,-3.841058,-6.598996,-1.201779,.3530669,-2.542945,-.06482523,-1.553849,-.457686,.9324676,19.50982,-2.344516,1.12102,-.1221537,.7285496,.9582816,-1.02065,-.2215797,1.009774,-.002056855,-2.740338,-.8122355,.3328967,.8982766,.6594676,-2.24736,-1.221267,-3.072346,3.385139,-.04387559,.5084887,-7418833e-12,1.750107,.9001401,-1.248499,-.8442718,3.062611,-2.020314,-.2815341,.05254745,.003345008,1.433225,-.2835911,-7.004119,-2.927978,-2.649852,.7971894,.5466893,1.442667,-.06063912,2.806194,1.547429,1.434882,.09114639,1.170089,.03512808,-5.861915,-1.411843,.5400486,-.7746522,.02386984,-1.559053,-.5502302,1.200396,13.47741,-2.344397,.8868907,-.3292661,-1.362105,.9217826,-1.044436,-.2360719,.7054471,-.002904518,-2.092829,-.5119668,.4174861,.9687435,.6588427],v.datasetRGBRad2=[1.59033,1.355401,1.151412,13.59116,5.857714,8.090833,1.55254,1.51004,.1276413,16.04643,5.912162,8.350009,1.470871,1.880464,-1.865398,20.30808,5.471461,9.109834,1.356563,2.373866,-4.653245,25.70922,5.686009,10.0948,1.244232,2.851519,-7.130942,29.93449,6.38212,11.14578,1.173693,3.120604,-8.491886,31.87393,7.290615,11.80066,1.091845,3.368888,-9.722083,32.68508,10.32424,12.36508,.9858985,3.500541,-10.26328,30.92956,16.10881,13.31222,.8864993,3.172888,-8.68755,23.62161,26.21851,14.74967,.7946973,2.189355,-4.207953,9.399091,40.62849,16.81753,1.711696,1.657311,.9328021,13.1788,15.06751,18.63556,1.666968,1.849993,-.2088601,15.86653,14.8688,19.40719,1.584846,2.170022,-2.019597,19.70826,14.90684,20.45055,1.469412,2.524017,-4.197267,23.65249,16.64588,21.34477,1.369714,2.843548,-6.059031,26.34993,18.81361,22.32186,1.310477,2.984444,-6.831686,26.8234,21.23267,22.59755,1.222552,3.176523,-7.731496,26.7176,24.84358,23.36863,1.115781,3.130635,-7.581744,23.36531,31.71048,24.13859,1.013181,2.699342,-5.602709,15.00158,42.17613,25.15957,.8976323,1.726948,-1.29612,1.183675,55.03215,26.43066],v.datasetRGB3=[-1.372629,-.4905585,-41.00789,41.22169,-.00738936,.4839359,.006474757,3.471755,.5092936,-1.523025,-.6497084,6.249857,-5.662543,-.01908402,.551281,-2181049e-11,2.507663,.4339598,-1.035567,-.0747874,.922103,-2.140047,-.02374146,.3795517,-.01769134,7.479831,.7729303,-1.271086,-.558819,.6908023,2.096832,-.2453967,1.410648,.04475036,-4.719115,.5741186,-.9712598,-.07033926,.9167274,-.9502097,.3004684,.4547054,-.05929017,5.266196,.7204135,-1.087457,-.1888896,.8156686,.3101712,-2.155419,1.422205,.09692261,3.122404,.499943,-1.42528,-.5413508,-34.54883,34.81142,-.008686975,.4914268,-2479243e-12,3.239879,.6094201,-1.688557,-.8070865,7.018459,-6.244574,-.02149341,.3993971,.01252502,1.630662,.109786,-.8664152,.07869125,-.5236535,-1.21896,-.02059093,.6684898,-.05584112,8.602299,1.410496,-1.319763,-.5985323,1.253918,1.914706,-.3216739,.9011213,.1324845,-5.252749,.06231252,-.9706008,-.05914059,.569315,-1.175362,.5221644,.7518213,-.08247655,5.875635,.9850863,-1.08533,-.1956105,.8019605,.5338101,-3.423464,1.110444,.1507923,2.864942,.4999481,-1.431967,-.5478935,-32.86288,33.05288,-.008380797,.477205,-3044274e-12,3.289973,.5976303,-1.801361,-.9315889,5.391756,-4.588592,-.02040076,.4144684,.01814534,1.051795,.1145651,-.7905357,.1451332,-.1605661,-1.592174,.0004561348,.3380323,-.07770275,8.775384,1.489512,-1.308575,-.5539232,.9184133,2.011479,-.3842472,1.432274,.1637153,-4.408856,.05272957,-.9829872,-.08183048,.4464556,-1.442716,1.029641,-.06991617,.008702356,5.706417,.9116452,-1.08713,-.2038013,.7260801,.9164376,-5.006183,1.511271,.1257134,2.715439,.6201652,-1.448662,-.5799075,-28.33268,28.58023,-.009134061,.4404783,-2709026e-12,3.029357,.5540071,-2.061772,-1.14519,7.918478,-7.212525,-.0202076,.2962715,.0468967,.8517209,.2334587,-.6413755,.1780425,-2.412919,1.064484,-.01949986,.6769741,-.175276,7.262714,1.325869,-1.304871,-.3975581,1.219002,.7285178,-.2710105,.7779727,.3247139,-.8818168,.1839517,-1.001104,-.1994801,.3676742,-1.409737,.2901555,.250694,.002468899,3.398923,.8584645,-1.111552,-.2487204,.7410842,1.703749,-5.007855,1.057763,.1354511,2.088715,.6600013,-1.547227,-.6679466,-18.61465,18.84045,-.0124221,.4157339,-2432805e-12,2.812423,.5446957,-2.04389,-1.149081,2.304118,-1.715757,-.02433628,.2816836,.07185458,1.06486,.2706789,-.904072,-.08274472,-.2555676,-.6326215,-.0277088,.6676024,-.2513532,5.903839,1.241452,-1.000013,-.1010774,.3699166,.8774526,-.3042007,.6951053,.4361813,.6793421,.2573892,-1.171332,-.3768188,.3701377,-1.470757,.5525942,.02991456,.01581823,2.365233,.8214514,-1.068667,-.232633,.6725059,2.243733,-4.61437,1.033677,.1376291,2.013334,.6865304,-1.592991,-.7246948,-25.98204,26.2196,-.008365176,.4207571,-2742772e-12,2.623735,.587319,-2.271349,-1.280884,6.308739,-5.75835,-.01977049,.3671835,.06698038,1.150597,.1759218,-.636862,-.007436052,-2.230026,1.640997,-.01548497,.3145331,-.2492644,5.083843,1.260215,-1.177925,-.09628114,.3051152,-.03749544,-.2713209,1.164226,.4559969,2.175429,.2874284,-1.0785,-.3801779,.4788906,-.4795969,.5977621,-.4488535,.03386874,1.538143,.8062054,-1.108028,-.2596892,.5162202,1.557081,-4.265039,1.182535,.1563762,2.095084,.6883383,-1.668427,-.7908511,-27.7969,27.99746,-.007186935,.3757766,-3326858e-12,2.563421,.5439687,-2.156175,-1.220004,3.585732,-3.235988,-.01086239,.1846143,.1046017,1.234427,.2842191,-1.117051,-.4101627,-.846373,.7671472,-.02226609,.8574943,-.3434124,4.475715,1.154824,-.744484,.2312078,-.5393724,.1574213,-.1763914,.2751692,.55642,2.217672,.3483932,-1.273036,-.5275562,.4902512,-.04498436,.4339366,.2386682,.02380879,1.413444,.7855923,-1.084192,-.2936753,.4719432,1.384436,-3.257789,.6119543,.1681884,1.650441,.6936631,-1.84849,-.951267,-30.05251,30.24315,-.005635304,.344778,-2782999e-12,2.309422,.5643559,-2.300008,-1.252335,-1.218876,1.49373,-.0061071,.0797486,.1023449,1.505934,.2360948,-1.483705,-.8547575,-.7797146,.6447971,-.02678052,1.091263,-.3344889,3.830416,1.189425,-.5348005,.3982733,-.4071573,.3265569,-.08658789,-.2370892,.5369097,1.478279,.3143303,-1.320401,-.6043247,.3019196,-.07732911,.4768381,.6745764,.03694098,1.158234,.8169056,-1.10104,-.3420019,.3775661,1.769338,-2.990515,.1649529,.1970125,1.453355,.6759757,-2.251946,-1.229349,-32.71808,32.83114,-.004252027,.3372289,-3001937e-12,2.154046,.5842674,-1.867834,-.9531252,-12.29365,12.69149,-.006844772,.1185107,.07539587,1.846381,.1899412,-3.398629,-2.180862,2.335213,-3.382823,-.008613985,.8431602,-.2393567,3.11246,1.218556,.5708381,.940603,-.6890113,2.746233,-.05772068,.1096005,.3491978,.7281453,.3212049,-1.705909,-.8517224,.113116,-2.141434,.4274043,.33976,.178649,.9026101,.78828,-1.012865,-.3495551,.3369038,3.724205,-3.089586,.1266964,.146179,1.170199,.6931052,-2.890318,-1.665573,-34.93756,35.00369,-.002984251,.2622419,-425936e-11,1.947681,.6905752,-1.956022,-1.0629,-19.19714,19.75164,-.008865396,.216554,.05475637,1.761134,.003164249,-5.612198,-3.101371,4.098034,-6.144001,.009944958,.2905472,-.170711,3.199107,1.33766,.8353756,.4855943,-1.243589,5.147385,-.07013963,.938041,.2335714,.1727744,.2802696,-1.524329,-.7388547,.3259025,-4.050634,.4058549,-.2591384,.1898299,.3556071,.7884126,-1.070371,-.4207858,.1739862,5.29341,-3.136757,.2323856,.1673706,1.007227,.6844287,-1.34172,-.4834889,-46.33447,46.82148,-.006137296,.4599216,.007047323,2.895798,.4999398,-1.529104,-.6498631,15.34103,-14.50675,-.01531439,.3280082,.01682926,1.901587,.5013227,-1.014776,-.1454495,-4.071085,2.954982,-.02630348,.5681531,-.03016505,6.773854,.5003504,-1.172413,-.402632,2.960428,.202071,-.2004947,.9375572,.05998168,-4.945934,.4502898,-.9898161,-.05772814,.4470024,-.5786656,.1158168,.346804,-.0504336,6.867947,.8012363,-1.085111,-.1882675,1.223748,.3565495,-3.688357,.5653723,.06727646,2.69013,.49994,-1.389119,-.529025,-40.55774,41.05972,-.007062577,.456006,-1736334e-12,2.775512,.6671455,-1.584641,-.7200619,12.48067,-11.56028,-.01659568,.3050029,.01099895,1.438927,-.02138015,-.9826068,-.08887254,-2.960031,1.808816,-.02478159,.6035733,-.04868441,7.347705,1.584739,-1.150423,-.4073793,2.412991,.487084,-.2337902,.8295114,.1129914,-5.150045,-.09016643,-1.016933,-.06311501,.5218937,-.571643,.1250993,.3601524,-.05497586,7.060139,1.018333,-1.073151,-.1845444,1.155394,.3004486,-3.431711,.4657031,.09401223,2.68862,.4999544,-1.391257,-.5365815,-42.55881,42.99132,-.005838466,.4229134,-2760038e-12,2.775531,.6234597,-1.780062,-.922888,13.76172,-12.60946,-.01507526,.3117435,.02205045,.6093731,.03463446,-.7388169,.127567,-3.999528,2.223993,-.01856853,.543931,-.08834054,8.037139,1.645951,-1.322387,-.5320143,2.659359,1.086712,-.2129712,.8704649,.1800315,-4.967241,-.138372,-.9378288,-.01599895,.3607555,-1.980561,.3791456,.1212268,-.02845992,6.825542,1.059139,-1.100832,-.2172313,1.211561,2.002721,-5.010011,.5717583,.06777702,2.160006,.5676392,-1.409373,-.5708751,-30.34974,30.79809,-.007280715,.3723304,-2436279e-12,2.577348,.5913377,-1.954312,-1.11651,5.399148,-4.299553,-.01724739,.3742824,.04187077,.1044883,.1232727,-.6772215,.2001396,-.3670523,-1.014628,-.003497152,.4099858,-.1584633,7.7504,1.514559,-1.2916,-.4977437,.9641914,1.56242,-.3227782,.9055427,.3046444,-3.385619,.009546291,-.9750857,-.0877056,.9054256,-1.429236,.8974777,-.1217961,-.05194608,4.909409,.9589153,-1.088007,-.1959301,.9745799,1.260761,-5.008864,.7271248,.1096661,2.717295,.6340731,-1.45605,-.6223072,-22.28088,22.69604,-.009340812,.4118308,-2418083e-12,2.442117,.5589638,-2.176449,-1.302416,2.222836,-1.22273,-.01728051,.1323513,.07027731,.04835745,.2093351,-.5789641,.2215407,.2142291,-1.201725,-.01185728,.8122982,-.238042,6.706841,1.404146,-1.307463,-.4515174,.6447827,1.223841,-.2902391,.4986588,.4073652,-1.706696,.1060885,-.9698678,-.1307094,.9389347,-1.522852,.7768797,-.1368595,-.03857426,3.676935,.8980966,-1.104349,-.2380323,1.047043,1.865421,-5.011664,.7014954,.09622701,1.89136,.6687354,-1.502249,-.6724523,-28.88092,29.3036,-.006685766,.3685464,-2469442e-12,2.310797,.5566754,-2.217125,-1.364924,4.048243,-3.111333,-.01317747,.1921948,.08627702,.001981769,.2213689,-.6215757,.1687995,-.5949131,-.1551293,.0003356129,.6897657,-.2855053,6.271042,1.363084,-1.216317,-.3489429,.7566226,.5409809,-.2830843,.6191825,.4755163,-.9131387,.1383909,-1.030437,-.2034064,.8335995,-1.050947,.8689093,-.367231,-.04056183,3.111269,.8856842,-1.078984,-.2070549,.9683145,1.497022,-5.007653,.7702541,.1285822,2.225188,.6587911,-1.559291,-.7374039,-35.96311,36.3447,-.004667132,.3277964,-2487945e-12,2.215652,.5764681,-2.356929,-1.444755,6.244526,-5.540162,-.00879451,.17921,.09578517,.3737676,.1922194,-.6589752,-.0292691,-1.831779,1.869962,-.002030095,.7552089,-.3168157,4.632196,1.294054,-1.161046,-.1472506,.6494138,-.8327174,-.2320724,.3391212,.5269637,.9376341,.2458573,-1.034427,-.3062504,.8975634,.3203531,.8565142,-.1250162,-.04094017,1.861304,.8223468,-1.109954,-.2740277,1.063811,.7077398,-4.695734,.5621696,.1248956,1.297723,.678972,-1.788293,-.9368751,-43.8298,44.24963,-.00365253,.3094331,-2810503e-12,1.904402,.5861599,-2.268206,-1.312676,2.863082,-2.373727,-.00514498,.1711072,.09316041,.9309598,.1791683,-1.376966,-.7418582,-1.349589,1.563419,-.003124219,.6967139,-.3061887,3.602731,1.255669,-.601754,.2815928,.5424052,-.688545,-.1620001,.2980046,.4995571,.7371203,.2812466,-1.278853,-.5245326,.787052,.3125067,.7748105,-.07788581,.003490956,1.283748,.813019,-1.05093,-.2786331,1.056344,1.053002,-4.047789,.4432174,.1169077,.9532621,.6806764,-2.084927,-1.203954,-48.81638,49.2016,-.002896045,.2882977,-3073517e-12,1.702211,.637418,-2.328567,-1.238023,-1.891019,2.45152,-.005847581,.2084702,.0784813,1.211048,.08095008,-2.634632,-1.78946,-.1370558,-.3326435,.002783737,.5239451,-.2548881,2.896327,1.324116,.06882616,.5997821,.1535398,1.375209,-.1267285,.4239743,.4013122,.1794675,.2395382,-1.430918,-.6439041,.832598,-1.705612,.7236426,-.05567593,.06408718,.6836524,.8388887,-1.037956,-.3215402,.9457349,3.178114,-4.152156,.2230992,.1156198,.7606223,.6656923,-2.967314,-1.728778,-37.30988,37.55578,-.002588835,.2927966,-3935038e-12,1.592161,.6868694,-2.123311,-1.175148,-13.14988,13.86882,-.007828537,.1852026,.05481038,1.294309,.02428177,-5.443597,-3.156344,2.110838,-3.421556,.0118189,.1196951,-.1742902,2.404353,1.272805,1.029898,.5912521,-.3983531,3.286069,-.09252065,1.331381,.2560642,.8001754,.3624178,-1.547574,-.7881604,1.020902,-2.897069,.521347,-.9242315,.1185594,-1.150721,.7317211,-.9621043,-.1991406,.6531287,3.925839,-3.596904,.6317332,.1531334,1.457846,.6966285],v.datasetRGBRad3=[.9926518,1.999494,-4.136109,18.5627,13.51028,13.90238,.9634366,2.119694,-4.614523,19.19701,13.76644,14.18731,.9446537,2.17161,-4.915556,19.1824,15.37135,14.0053,.9073074,2.330536,-5.577596,19.61615,16.88365,14.46955,.8739124,2.388682,-5.842995,19.23265,18.87735,14.85698,.8563688,2.391534,-5.769133,18.28709,20.97209,14.69587,.8270533,2.34279,-5.558071,16.84993,23.56498,15.05975,.7908339,2.190341,-4.852571,13.74862,28.06846,15.48444,.7403619,1.783998,-2.983854,7.622563,35.0761,16.15805,.6840111,1.154457,-.239383,-.7896893,42.82765,17.79469,1.1683,1.860993,-2.129074,12.51952,30.32499,29.38716,1.150338,1.918813,-2.413527,12.74862,30.87134,29.51432,1.114719,1.964689,-2.625423,12.47837,32.37949,29.43596,1.077948,2.006292,-2.846934,11.90195,34.59293,29.37492,1.035143,1.986681,-2.752584,10.60972,37.22185,29.18594,1.015992,1.992054,-2.812626,10.01416,38.473,29.24624,.9756887,1.939897,-2.533281,8.319176,40.83907,29.25586,.9264164,1.716454,-1.597044,4.739725,45.07683,28.78915,.8595191,1.346034,-.02801895,-.6582906,50.17523,28.52953,.7754116,.7709245,2.200201,-7.487661,54.36622,28.93432],v.datasetsRGB=[v.datasetRGB1,v.datasetRGB2,v.datasetRGB3],v.datasetsRGBRad=[v.datasetRGBRad1,v.datasetRGBRad2,v.datasetRGBRad3],W.DEFAULT_RESOLVER=new G,W.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",V.count=0,j.i64tmp=new Z(0,0),U.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1],U.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],U.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1],U.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],U.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$.traitInits=[],$.traitUpdates=[],$.traitLateUpdates=[],$.traitRenders=[],$.traitRenders2D=[],$.pauseUpdates=!1,ae.helpVec=new te,ae.helpMat=ae.identity(),le.framePassed=!0,he.cachedSceneRaws=new k,he.cachedMeshes=new k,he.cachedLamps=new k,he.cachedCameras=new k,he.cachedMaterials=new k,he.cachedParticles=new k,he.cachedWorlds=new k,he.cachedShaders=new k,he.cachedBlobs=new k,he.cachedImages=new k,he.cachedSounds=new k,he.loadingMeshes=new k,he.loadingLamps=new k,he.loadingCameras=new k,he.loadingMaterials=new k,he.loadingParticles=new k,he.loadingWorlds=new k,he.loadingShaders=new k,he.loadingSceneRaws=new k,he.assetsLoaded=0,he.loadingBlobs=new k,he.loadingImages=new k,he.loadingSounds=new k,de.skydomeIndices=[0,1,2,0,3,4,3,5,6,5,7,8,7,9,10,9,11,12,13,14,15,11,16,17,13,18,2,14,2,19,2,1,20,1,4,21,4,6,22,6,8,23,8,10,24,10,12,25,14,26,15,17,27,25,22,23,28,24,29,28,24,25,30,26,31,15,25,27,32,26,19,33,19,20,34,20,21,35,21,22,36,33,34,37,34,35,38,35,36,39,36,28,40,28,29,41,30,42,41,31,43,15,30,32,44,31,33,45,40,41,46,42,47,46,43,48,15,42,44,49,43,45,50,45,37,51,37,38,52,39,53,52,39,40,54,50,51,55,51,52,56,53,57,56,53,54,58,46,59,58,46,47,60,48,61,15,47,49,62,48,50,63,59,64,65,59,60,66,61,67,15,60,62,68,61,63,69,63,55,70,56,71,70,56,57,72,57,58,65,70,71,73,71,72,74,72,65,75,64,76,75,64,66,77,67,78,15,68,79,77,67,69,80,69,70,81,76,77,82,78,83,15,77,79,84,80,85,83,80,81,86,81,73,87,74,88,87,74,75,89,76,90,89,87,88,91,88,89,92,90,93,92,90,82,94,83,95,15,82,84,96,83,85,97,86,98,97,86,87,99,95,100,15,96,101,102,95,97,103,97,98,104,98,99,105,91,106,105,91,92,107,93,108,107,93,94,102,105,106,109,106,107,110,108,111,110,108,102,112,100,113,15,102,101,114,100,103,115,103,104,116,104,105,117,114,118,119,113,115,120,115,116,121,117,122,121,109,123,122,109,110,124,111,125,124,111,112,119,113,126,15,123,124,127,125,128,127,125,119,129,126,130,15,119,118,131,126,120,132,121,133,132,121,122,134,122,123,135,130,132,136,132,133,137,133,134,138,134,135,139,135,127,140,128,141,140,128,129,142,130,143,15,129,131,144,139,140,145,141,146,145,141,142,147,143,148,15,142,144,149,143,136,150,137,151,150,138,152,151,138,139,153,150,151,154,152,155,154,153,156,155,153,145,157,146,158,157,146,147,159,148,160,15,147,149,161,148,150,162,158,163,164,158,159,165,160,166,15,161,167,165,160,162,168,162,154,169,155,170,169,156,171,170,156,157,164,169,170,172,171,173,172,171,164,174,163,175,174,163,165,176,166,177,15,165,167,178,166,168,179,168,169,180,176,181,182,177,183,15,176,178,184,177,179,185,179,180,186,172,187,186,173,188,187,173,174,189,175,182,189,187,190,191,188,192,190,188,189,193,182,194,193,182,181,195,183,196,15,181,184,197,183,185,198,185,186,191,194,195,199,196,200,15,195,197,201,196,198,202,198,191,203,190,204,203,192,205,204,192,193,206,194,207,206,205,208,209,205,206,210,207,211,210,207,199,212,200,213,15,199,201,214,202,215,213,202,203,216,204,209,216,213,217,15,214,218,219,215,220,217,215,216,221,209,222,221,209,208,223,208,210,224,211,225,224,211,212,219,223,226,227,223,224,228,225,229,228,225,219,230,217,231,15,218,232,230,220,233,231,220,221,234,222,227,234,230,232,235,231,233,236,233,234,237,227,238,237,227,226,239,226,228,240,229,241,240,229,230,242,231,243,15,239,240,244,241,245,244,241,242,246,243,247,15,235,248,246,243,236,249,237,250,249,238,251,250,239,252,251,249,250,253,250,251,254,252,255,254,252,244,256,245,257,256,245,246,258,247,259,15,248,260,258,247,249,261,257,262,263,258,264,262,259,265,15,258,260,266,259,261,267,261,253,268,253,254,269,255,270,269,255,256,263,268,271,272,269,273,271,270,274,273,270,263,275,262,276,275,262,264,277,265,278,15,264,266,279,267,272,278,276,280,281,276,277,282,278,283,15,277,279,284,278,272,285,272,271,286,271,273,287,274,288,287,274,275,281,287,3,0,288,5,3,281,7,5,280,9,7,282,11,9,283,13,15,282,284,16,285,18,13,286,0,18,0,2,18,0,4,1,3,6,4,5,8,6,7,10,8,9,12,10,11,17,12,13,2,14,14,19,26,2,20,19,1,21,20,4,22,21,6,23,22,8,24,23,10,25,24,17,25,12,22,28,36,24,28,23,24,30,29,25,32,30,26,33,31,19,34,33,20,35,34,21,36,35,33,37,45,34,38,37,35,39,38,36,40,39,28,41,40,30,41,29,30,44,42,31,45,43,40,46,54,42,46,41,42,49,47,43,50,48,45,51,50,37,52,51,39,52,38,39,54,53,50,55,63,51,56,55,53,56,52,53,58,57,46,58,54,46,60,59,47,62,60,48,63,61,59,65,58,59,66,64,60,68,66,61,69,67,63,70,69,56,70,55,56,72,71,57,65,72,70,73,81,71,74,73,72,75,74,64,75,65,64,77,76,68,77,66,67,80,78,69,81,80,76,82,90,77,84,82,80,83,78,80,86,85,81,87,86,74,87,73,74,89,88,76,89,75,87,91,99,88,92,91,90,92,89,90,94,93,82,96,94,83,97,95,86,97,85,86,99,98,96,102,94,95,103,100,97,104,103,98,105,104,91,105,99,91,107,106,93,107,92,93,102,108,105,109,117,106,110,109,108,110,107,108,112,111,102,114,112,100,115,113,103,116,115,104,117,116,114,119,112,113,120,126,115,121,120,117,121,116,109,122,117,109,124,123,111,124,110,111,119,125,123,127,135,125,127,124,125,129,128,119,131,129,126,132,130,121,132,120,121,134,133,122,135,134,130,136,143,132,137,136,133,138,137,134,139,138,135,140,139,128,140,127,128,142,141,129,144,142,139,145,153,141,145,140,141,147,146,142,149,147,143,150,148,137,150,136,138,151,137,138,153,152,150,154,162,152,154,151,153,155,152,153,157,156,146,157,145,146,159,158,147,161,159,148,162,160,158,164,157,158,165,163,161,165,159,160,168,166,162,169,168,155,169,154,156,170,155,156,164,171,169,172,180,171,172,170,171,174,173,163,174,164,163,176,175,165,178,176,166,179,177,168,180,179,176,182,175,176,184,181,177,185,183,179,186,185,172,186,180,173,187,172,173,189,188,175,189,174,187,191,186,188,190,187,188,193,192,182,193,189,182,195,194,181,197,195,183,198,196,185,191,198,194,199,207,195,201,199,196,202,200,198,203,202,190,203,191,192,204,190,192,206,205,194,206,193,205,209,204,205,210,208,207,210,206,207,212,211,199,214,212,202,213,200,202,216,215,204,216,203,214,219,212,215,217,213,215,221,220,209,221,216,209,223,222,208,224,223,211,224,210,211,219,225,223,227,222,223,228,226,225,228,224,225,230,229,218,230,219,220,231,217,220,234,233,222,234,221,230,235,242,231,236,243,233,237,236,227,237,234,227,239,238,226,240,239,229,240,228,229,242,241,239,244,252,241,244,240,241,246,245,235,246,242,243,249,247,237,249,236,238,250,237,239,251,238,249,253,261,250,254,253,252,254,251,252,256,255,245,256,244,245,258,257,248,258,246,247,261,259,257,263,256,258,262,257,258,266,264,259,267,265,261,268,267,253,269,268,255,269,254,255,263,270,268,272,267,269,271,268,270,273,269,270,275,274,262,275,263,262,277,276,264,279,277,267,278,265,276,281,275,276,282,280,277,284,282,278,285,283,272,286,285,271,287,286,274,287,273,274,281,288,287,0,286,288,3,287,281,5,288,280,7,281,282,9,280,282,16,11,285,13,283,286,18,285,84,289,96,96,289,101,101,289,114,114,289,118,118,289,131,144,131,289,149,144,289,149,289,161,161,289,167,167,289,178,178,289,184,184,289,197,197,289,201,201,289,214,214,289,218,218,289,232,232,289,235,235,289,248,260,248,289,260,289,266,266,289,279,279,289,284,284,289,16,16,289,17,27,17,289,27,289,32,44,32,289,44,289,49,49,289,62,62,289,68,68,289,79,79,289,84],de.skydomePos=[-.5555702447891235,0,.8314695954322815,-.5448951125144958,.10838644951581955,.8314695954322815,-.3753302991390228,.07465790957212448,.9238795042037964,-.7071067690849304,0,.7071067690849304,-.6935198903083801,.13794974982738495,.7071067690849304,-.8314696550369263,0,.5555701851844788,-.8154931664466858,.16221174597740173,.5555701851844788,-.9238795042037964,0,.3826834261417389,-.906127393245697,.18024000525474548,.3826834261417389,-.9807852506637573,0,.19509035348892212,-.9619396924972534,.19134177267551422,.19509035348892212,-1,0,7.549790126404332e-8,-.9807852506637573,.1950903832912445,7.549790126404332e-8,-.19509032368659973,0,.9807852506637573,-.19134171307086945,.03806029632687569,.9807852506637573,2.4803494369507462e-8,-1.246939973498229e-7,1,-.9807853102684021,0,-.282339870929718,-.9619397521018982,.19134178757667542,-.282339870929718,-.3826834559440613,0,.9238795042037964,-.3535534143447876,.14644673466682434,.9238795042037964,-.513279914855957,.21260765194892883,.8314695954322815,-.6532813906669617,.2705981731414795,.7071067690849304,-.7681776881217957,.3181897699832916,.5555701851844788,-.853553295135498,.3535534739494324,.3826834261417389,-.9061273336410522,.37533038854599,.19509035348892212,-.9238794445991516,.38268354535102844,7.549790126404332e-8,-.1802399456501007,.07465796172618866,.9807852506637573,-.9061273336410522,.37533038854599,-.282339870929718,-.7681776285171509,.5132800936698914,.3826834261417389,-.8154929876327515,.5448952317237854,.19509035348892212,-.8314694762229919,.5555704236030579,7.549790126404332e-8,-.16221162676811218,.1083865687251091,.9807852506637573,-.8154929876327515,.5448952317237854,-.282339870929718,-.3181896209716797,.2126077115535736,.9238795042037964,-.4619396924972534,.3086584508419037,.8314695954322815,-.5879377126693726,.3928476572036743,.7071067690849304,-.6913416385650635,.4619399309158325,.5555701851844788,-.39284735918045044,.3928476870059967,.8314695954322815,-.49999988079071045,.5000001788139343,.7071067690849304,-.5879376530647278,.5879380106925964,.5555701851844788,-.6532813310623169,.6532816290855408,.3826834261417389,-.6935197114944458,.6935200691223145,.19509035348892212,-.7071065902709961,.7071070075035095,7.549790126404332e-8,-.137949600815773,.13794992864131927,.9807852506637573,-.6935197114944458,.6935200691223145,-.282339870929718,-.2705979645252228,.27059829235076904,.9238795042037964,-.544894814491272,.8154932856559753,.19509035348892212,-.5555700063705444,.8314698338508606,7.549790126404332e-8,-.10838623344898224,.16221193969249725,.9807852506637573,-.544894814491272,.8154932856559753,-.282339870929718,-.21260739862918854,.31818991899490356,.9238795042037964,-.3086581230163574,.4619399905204773,.8314695954322815,-.39284729957580566,.5879380106925964,.7071067690849304,-.46193957328796387,.6913419365882874,.5555701851844788,-.5132797956466675,.7681779265403748,.3826834261417389,-.21260732412338257,.5132802128791809,.8314695954322815,-.27059781551361084,.6532816886901855,.7071067690849304,-.3181893825531006,.7681779861450195,.5555701851844788,-.3535531759262085,.8535535335540771,.3826834261417389,-.3753299117088318,.9061275124549866,.19509035348892212,-.3826831579208374,.9238797426223755,7.549790126404332e-8,-.0746576264500618,.18024024367332458,.9807852506637573,-.3753299117088318,.9061275124549866,-.282339870929718,-.14644642174243927,.3535536825656891,.9238795042037964,-.1913413405418396,.961939811706543,.19509035348892212,-.1802397072315216,.9061275720596313,.3826834261417389,-.19508999586105347,.9807854890823364,7.549790126404332e-8,-.038059964776039124,.19134201109409332,.9807852506637573,-.1913413405418396,.961939811706543,-.282339870929718,-.07465757429599762,.3753305673599243,.9238795042037964,-.10838611423969269,.544895350933075,.8314695954322815,-.13794942200183868,.6935201287269592,.7071067690849304,-.1622113734483719,.8154933452606201,.5555701851844788,3.191853465978056e-7,.7071069478988647,.7071067690849304,3.340865077916533e-7,.8314697742462158,.5555701851844788,2.7448186301626265e-7,.9238796830177307,.3826834261417389,3.936911525670439e-7,.9807852506637573,.19509035348892212,3.7878999137319624e-7,1.000000238418579,7.549790126404332e-8,3.2663592719472945e-7,.19509060680866241,.9807852506637573,3.936911525670439e-7,.9807852506637573,-.282339870929718,3.191853465978056e-7,.3826836943626404,.9238795042037964,3.117347660008818e-7,.5555704832077026,.8314695954322815,.19509074091911316,.9807854890823364,7.549790126404332e-8,.038060616701841354,.19134199619293213,.9807852506637573,.19134210050106049,.9619396924972534,-.282339870929718,.07465820759534836,.37533053755760193,.9238795042037964,.10838674008846283,.544895350933075,.8314695954322815,.13795003294944763,.6935200691223145,.7071067690849304,.16221202909946442,.8154932856559753,.5555701851844788,.18024025857448578,.9061275720596313,.3826834261417389,.19134210050106049,.9619396924972534,.19509035348892212,.3181900382041931,.7681778073310852,.5555701851844788,.3535537123680115,.8535535335540771,.3826834261417389,.3753306269645691,.9061273336410522,.19509035348892212,.3826838731765747,.9238796830177307,7.549790126404332e-8,.07465826719999313,.180240198969841,.9807852506637573,.3753306269645691,.9061273336410522,-.282339870929718,.14644701778888702,.3535536229610443,.9238795042037964,.21260792016983032,.5132801532745361,.8314695954322815,.2705984115600586,.6532816290855408,.7071067690849304,.10838685184717178,.16221188008785248,.9807852506637573,.5448954105377197,.8154930472373962,-.282339870929718,.555570662021637,.831469714641571,7.549790126404332e-8,.2126079499721527,.3181898593902588,.9238795042037964,.3086586892604828,.4619399309158325,.8314695954322815,.39284783601760864,.5879379510879517,.7071067690849304,.4619401693344116,.691341757774353,.5555701851844788,.5132802724838257,.76817786693573,.3826834261417389,.5448954105377197,.8154930472373962,.19509035348892212,.5879381895065308,.5879377722740173,.5555701851844788,.6532818078994751,.6532816290855408,.3826834261417389,.693520188331604,.6935198307037354,.19509035348892212,.7071072459220886,.7071068286895752,7.549790126404332e-8,.13795019686222076,.1379498541355133,.9807852506637573,.693520188331604,.6935198307037354,-.282339870929718,.27059850096702576,.27059823274612427,.9238795042037964,.3928478956222534,.39284759759902954,.8314695954322815,.5000003576278687,.5000000596046448,.7071067690849304,.8154934048652649,.5448949933052063,-.282339870929718,.8314700722694397,.5555702447891235,7.549790126404332e-8,.3181900978088379,.21260765194892883,.9238795042037964,.4619401693344116,.3086583614349365,.8314695954322815,.5879381895065308,.3928475081920624,.7071067690849304,.6913420557975769,.4619397222995758,.5555701851844788,.7681781053543091,.5132800936698914,.3826834261417389,.8154934048652649,.5448949933052063,.19509035348892212,.16221219301223755,.10838649421930313,.9807852506637573,.8535537123680115,.3535534739494324,.3826834261417389,.9061276316642761,.3753301501274109,.19509035348892212,.9238799810409546,.3826833963394165,7.549790126404332e-8,.1802404820919037,.07465791702270508,.9807852506637573,.9061276316642761,.3753301501274109,-.282339870929718,.353553831577301,.14644670486450195,.9238795042037964,.5132803916931152,.21260759234428406,.8314695954322815,.6532818078994751,.27059802412986755,.7071067690849304,.7681780457496643,.3181895613670349,.5555701851844788,.37533071637153625,.07465790212154388,.9238795042037964,.5448955297470093,.10838642716407776,.8314695954322815,.6935202479362488,.13794966042041779,.7071067690849304,.8154933452606201,.1622115671634674,.5555701851844788,.9061277508735657,.18024002015590668,.3826834261417389,.9619399309158325,.1913416087627411,.19509035348892212,.9807857275009155,.19509024918079376,7.549790126404332e-8,.19134224951267242,.0380602702498436,.9807852506637573,.9619399309158325,.1913416087627411,-.282339870929718,.923879861831665,6.356849979738399e-8,.3826834261417389,.9807853698730469,-8.544311214109257e-8,.19509035348892212,1.0000003576278687,-1.0034427333494023e-7,7.549790126404332e-8,.19509084522724152,-7.2120158733923745e-9,.9807852506637573,.9807853698730469,-8.544311214109257e-8,-.282339870929718,.3826838433742523,4.121675800661251e-8,.9238795042037964,.555570662021637,2.6315596812764852e-8,.8314695954322815,.7071070671081543,-2.5838467365701945e-8,.7071067690849304,.831469714641571,-8.544311214109257e-8,.5555701851844788,.5448955297470093,-.10838636755943298,.8314695954322815,.693520188331604,-.13794972002506256,.7071067690849304,.8154932260513306,-.16221173107624054,.5555701851844788,.9061277508735657,-.18023990094661713,.3826834261417389,.961939811706543,-.19134175777435303,.19509035348892212,.980785608291626,-.19509044289588928,7.549790126404332e-8,.19134221971035004,-.03806028142571449,.9807852506637573,.961939811706543,-.19134175777435303,-.282339870929718,.3753306567668915,-.07465781271457672,.9238795042037964,.9061274528503418,-.37533026933670044,.19509035348892212,.8535537123680115,-.35355332493782043,.3826834261417389,.9238798022270203,-.38268357515335083,7.549790126404332e-8,.1802404373884201,-.07465790957212448,.9807852506637573,.9061274528503418,-.37533026933670044,-.282339870929718,.35355374217033386,-.1464466005563736,.9238795042037964,.5132803916931152,-.21260753273963928,.8314695954322815,.6532817482948303,-.27059805393218994,.7071067690849304,.7681777477264404,-.3181896507740021,.5555701851844788,.5879380702972412,-.39284747838974,.7071067690849304,.6913416981697083,-.4619396924972534,.5555701851844788,.7681780457496643,-.513279914855957,.3826834261417389,.8154931664466858,-.5448950529098511,.19509035348892212,.8314698338508606,-.5555703639984131,7.549790126404332e-8,.16221213340759277,-.10838647186756134,.9807852506637573,.8154931664466858,-.5448950529098511,-.282339870929718,.31818997859954834,-.2126075178384781,.9238795042037964,.4619401693344116,-.30865830183029175,.8314695954322815,.7071069478988647,-.70710688829422,7.549790126404332e-8,.6935198903083801,-.6935197710990906,.19509035348892212,.1379501223564148,-.13794980943202972,.9807852506637573,.6935198903083801,-.6935197710990906,-.282339870929718,.2705983519554138,-.27059805393218994,.9238795042037964,.39284786581993103,-.3928475081920624,.8314695954322815,.5000002384185791,-.5,.7071067690849304,.5879377722740173,-.5879376530647278,.5555701851844788,.6532817482948303,-.6532813906669617,.3826834261417389,.3928477168083191,-.5879377722740173,.7071067690849304,.308658629655838,-.4619397819042206,.8314695954322815,.4619397819042206,-.6913415193557739,.5555701851844788,.5132802724838257,-.7681776881217957,.3826834261417389,.5448950529098511,-.8154929280281067,.19509035348892212,.5555703639984131,-.8314696550369263,7.549790126404332e-8,.10838677734136581,-.1622118055820465,.9807852506637573,.5448950529098511,-.8154929280281067,-.282339870929718,.21260780096054077,-.3181896507740021,.9238795042037964,.38268354535102844,-.9238795042037964,7.549790126404332e-8,.07465820759534836,-.18024009466171265,.9807852506637573,.37533023953437805,-.9061271548271179,-.282339870929718,.14644686877727509,-.3535533547401428,.9238795042037964,.21260783076286316,-.5132799744606018,.8314695954322815,.27059826254844666,-.6532814502716064,.7071067690849304,.31818968057632446,-.7681774497032166,.5555701851844788,.3535537123680115,-.8535533547401428,.3826834261417389,.37533023953437805,-.9061271548271179,.19509035348892212,.16221174597740173,-.8154928088188171,.5555701851844788,.1379498839378357,-.6935198903083801,.7071067690849304,.18024027347564697,-.906127393245697,.3826834261417389,.19134174287319183,-.9619393944740295,.19509035348892212,.19509044289588928,-.9807851910591125,7.549790126404332e-8,.03806057572364807,-.19134186208248138,.9807852506637573,.19134174287319183,-.9619393944740295,-.282339870929718,.07465810328722,-.37533020973205566,.9238795042037964,.10838666558265686,-.5448951125144958,.8314695954322815,3.117347660008818e-7,-.19509045779705048,.9807852506637573,9.566792869009078e-8,-.9807848334312439,-.282339870929718,1.4037141227163374e-7,-.9999998211860657,7.549790126404332e-8,2.819324436131865e-7,-.3826833665370941,.9238795042037964,2.819324436131865e-7,-.5555701851844788,.8314695954322815,1.850748958531767e-7,-.7071067094802856,.7071067690849304,1.4037141227163374e-7,-.8314692378044128,.5555701851844788,3.191853465978056e-7,-.9238794445991516,.3826834261417389,9.566792869009078e-8,-.9807848334312439,.19509035348892212,-.16221146285533905,-.8154926896095276,.5555701851844788,-.13794949650764465,-.6935198307037354,.7071067690849304,-.18023963272571564,-.9061273336410522,.3826834261417389,-.19134153425693512,-.9619392156600952,.19509035348892212,-.1950901597738266,-.9807850122451782,7.549790126404332e-8,-.03805994614958763,-.1913418471813202,.9807852506637573,-.19134153425693512,-.9619392156600952,-.282339870929718,-.07465753704309464,-.37533020973205566,.9238795042037964,-.1083860844373703,-.5448950529098511,.8314695954322815,-.37532997131347656,-.906126856803894,-.282339870929718,-.14644630253314972,-.35355332493782043,.9238795042037964,-.2126072347164154,-.5132798552513123,.8314695954322815,-.2705978453159332,-.6532813310623169,.7071067690849304,-.3181893527507782,-.7681772708892822,.5555701851844788,-.35355305671691895,-.853553295135498,.3826834261417389,-.37532997131347656,-.906126856803894,.19509035348892212,-.3826832175254822,-.9238792061805725,7.549790126404332e-8,-.07465756684541702,-.18024007976055145,.9807852506637573,-.5132796168327332,-.7681776285171509,.3826834261417389,-.5448946952819824,-.815492570400238,.19509035348892212,-.5555699467658997,-.8314692378044128,7.549790126404332e-8,-.10838612914085388,-.16221177577972412,.9807852506637573,-.5448946952819824,-.815492570400238,-.282339870929718,-.21260720491409302,-.3181895613670349,.9238795042037964,-.3086579740047455,-.46193963289260864,.8314695954322815,-.3928472399711609,-.5879376530647278,.7071067690849304,-.46193939447402954,-.69134122133255,.5555701851844788,-.3928471505641937,-.39284732937812805,.8314695954322815,-.4999997317790985,-.49999985098838806,.7071067690849304,-.5879373550415039,-.5879372954368591,.5555701851844788,-.6532810926437378,-.6532813906669617,.3826834261417389,-.6935193538665771,-.6935193538665771,.19509035348892212,-.7071064114570618,-.707106351852417,7.549790126404332e-8,-.13794946670532227,-.13794976472854614,.9807852506637573,-.6935193538665771,-.6935193538665771,-.282339870929718,-.2705976963043213,-.2705979347229004,.9238795042037964,-.8154924511909485,-.5448945760726929,.19509035348892212,-.768177330493927,-.5132798552513123,.3826834261417389,-.8314691185951233,-.5555698275566101,7.549790126404332e-8,-.16221146285533905,-.10838642716407776,.9807852506637573,-.8154924511909485,-.5448945760726929,-.282339870929718,-.31818926334381104,-.21260741353034973,.9238795042037964,-.46193939447402954,-.3086581230163574,.8314695954322815,-.5879374742507935,-.39284729957580566,.7071067690849304,-.6913411617279053,-.4619393050670624,.5555701851844788,-.5132795572280884,-.21260738372802734,.8314695954322815,-.35355299711227417,-.14644651114940643,.9238795042037964,-.6532811522483826,-.2705978751182556,.7071067690849304,-.7681770920753479,-.31818920373916626,.5555701851844788,-.8535529375076294,-.35355329513549805,.3826834261417389,-.9061266183853149,-.37532979249954224,.19509035348892212,-.9238789081573486,-.38268303871154785,7.549790126404332e-8,-.18023976683616638,-.0746578574180603,.9807852506637573,-.9061266183853149,-.37532979249954224,-.282339870929718,-.9619388580322266,-.1913413405418396,.19509035348892212,-.9061269760131836,-.18023987114429474,.3826834261417389,-.98078453540802,-.19508998095989227,7.549790126404332e-8,-.19134151935577393,-.038060225546360016,.9807852506637573,-.9619388580322266,-.1913413405418396,-.282339870929718,-.375329852104187,-.07465773820877075,.9238795042037964,-.5448946356773376,-.10838624089956284,.8314695954322815,-.6935195326805115,-.13794952630996704,.7071067690849304,-.8154923915863037,-.1622113138437271,.5555701851844788,5.960464477539063e-8,-4.2721556070546285e-8,-.8600426912307739],de.skydomeNor=[.5597705245018005,0,-.8286385536193848,.5489974617958069,-.10919522494077682,-.8286385536193848,.3804132342338562,-.07565538585186005,-.921689510345459,.7101352214813232,0,-.7040314674377441,.6964934468269348,-.13852351903915405,-.7040314674377441,.8333384394645691,0,-.5527512431144714,.8173161745071411,-.16257210075855255,-.5527512431144714,.9247413277626038,0,-.3805353045463562,.9069795608520508,-.18039490282535553,-.3805353045463562,.9809869527816772,0,-.19391460716724396,.9621570706367493,-.191381573677063,-.19391460716724396,.9998779296875,0,-.01501510664820671,.9806512594223022,-.19504378736019135,-.01501510664820671,.20096439123153687,0,-.9795831441879272,.19708853960037231,-.039185766130685806,-.9795831441879272,0,0,-1,.8584856986999512,0,.5128025412559509,.8419751524925232,-.1674550622701645,.5128025412559509,.3878597319126129,0,-.921689510345459,.3583483397960663,-.14841151237487793,-.921689510345459,.5171361565589905,-.2142094224691391,-.8286385536193848,.6560564041137695,-.2717368006706238,-.7040314674377441,.7698904275894165,-.3188879191875458,-.5527512431144714,.8543656468391418,-.35386210680007935,-.3805353045463562,.9063386917114258,-.3754081726074219,-.19391460716724396,.9237647652626038,-.382610559463501,-.01501510664820671,.18564409017562866,-.07690664380788803,-.9795831441879272,.7931455373764038,-.32853174209594727,.5128025412559509,.7689138650894165,-.5137485861778259,-.3805353045463562,.8156682252883911,-.5449995398521423,-.19391460716724396,.8313547372817993,-.5554978847503662,-.01501510664820671,.1670888364315033,-.1116367056965828,-.9795831441879272,.713797390460968,-.4769432544708252,.5128025412559509,.32248908281326294,-.2154911905527115,-.921689510345459,.46540728211402893,-.3109835982322693,-.8286385536193848,.5904415845870972,-.39451277256011963,-.7040314674377441,.6928922533988953,-.46296578645706177,-.5527512431144714,.395794540643692,-.395794540643692,-.8286385536193848,.5021210312843323,-.5021210312843323,-.7040314674377441,.5892513990402222,-.5892513990402222,-.5527512431144714,.6538895964622498,-.6538895964622498,-.3805353045463562,.6936551928520203,-.6936551928520203,-.19391460716724396,.7070223093032837,-.7070223093032837,-.01501510664820671,.1420941799879074,-.1420941799879074,-.9795831441879272,.6070436835289001,-.6070436835289001,.5128025412559509,.27426984906196594,-.27426984906196594,-.921689510345459,.5449995398521423,-.8156682252883911,-.19391460716724396,.5554978847503662,-.8313547372817993,-.01501510664820671,.1116367056965828,-.1670888364315033,-.9795831441879272,.4769432544708252,-.713797390460968,.5128025412559509,.2154911905527115,-.32248908281326294,-.921689510345459,.3109835982322693,-.46540728211402893,-.8286385536193848,.39451277256011963,-.5904415845870972,-.7040314674377441,.46296578645706177,-.6928922533988953,-.5527512431144714,.5137485861778259,-.7689138650894165,-.3805353045463562,.2142094224691391,-.5171361565589905,-.8286385536193848,.2717368006706238,-.6560564041137695,-.7040314674377441,.3188879191875458,-.7698904275894165,-.5527512431144714,.35386210680007935,-.8543656468391418,-.3805353045463562,.3754081726074219,-.9063386917114258,-.19391460716724396,.382610559463501,-.9237647652626038,-.01501510664820671,.07690664380788803,-.18564409017562866,-.9795831441879272,.32853174209594727,-.7931455373764038,.5128025412559509,.14841151237487793,-.3583483397960663,-.921689510345459,.191381573677063,-.9621570706367493,-.19391460716724396,.18039490282535553,-.9069795608520508,-.3805353045463562,.19504378736019135,-.9806512594223022,-.01501510664820671,.039185766130685806,-.19708853960037231,-.9795831441879272,.1674550622701645,-.8419751524925232,.5128025412559509,.07565538585186005,-.3804132342338562,-.921689510345459,.10919522494077682,-.5489974617958069,-.8286385536193848,.13852351903915405,-.6964934468269348,-.7040314674377441,.16257210075855255,-.8173161745071411,-.5527512431144714,0,-.7101352214813232,-.7040314674377441,0,-.8333384394645691,-.5527512431144714,0,-.9247413277626038,-.3805353045463562,0,-.9809869527816772,-.19391460716724396,0,-.9998779296875,-.01501510664820671,0,-.20096439123153687,-.9795831441879272,0,-.8584856986999512,.5128025412559509,0,-.3878597319126129,-.921689510345459,0,-.5597705245018005,-.8286385536193848,-.19504378736019135,-.9806512594223022,-.01501510664820671,-.039185766130685806,-.19708853960037231,-.9795831441879272,-.1674550622701645,-.8419751524925232,.5128025412559509,-.07565538585186005,-.3804132342338562,-.921689510345459,-.10919522494077682,-.5489974617958069,-.8286385536193848,-.13852351903915405,-.6964934468269348,-.7040314674377441,-.16257210075855255,-.8173161745071411,-.5527512431144714,-.18039490282535553,-.9069795608520508,-.3805353045463562,-.191381573677063,-.9621570706367493,-.19391460716724396,-.3188879191875458,-.7698904275894165,-.5527512431144714,-.35386210680007935,-.8543656468391418,-.3805353045463562,-.3754081726074219,-.9063386917114258,-.19391460716724396,-.382610559463501,-.9237647652626038,-.01501510664820671,-.07690664380788803,-.18564409017562866,-.9795831441879272,-.32853174209594727,-.7931455373764038,.5128025412559509,-.14841151237487793,-.3583483397960663,-.921689510345459,-.2142094224691391,-.5171361565589905,-.8286385536193848,-.2717368006706238,-.6560564041137695,-.7040314674377441,-.1116367056965828,-.1670888364315033,-.9795831441879272,-.4769432544708252,-.713797390460968,.5128025412559509,-.5554978847503662,-.8313547372817993,-.01501510664820671,-.2154911905527115,-.32248908281326294,-.921689510345459,-.3109835982322693,-.46540728211402893,-.8286385536193848,-.39451277256011963,-.5904415845870972,-.7040314674377441,-.46296578645706177,-.6928922533988953,-.5527512431144714,-.5137485861778259,-.7689138650894165,-.3805353045463562,-.5449995398521423,-.8156682252883911,-.19391460716724396,-.5892513990402222,-.5892513990402222,-.5527512431144714,-.6538895964622498,-.6538895964622498,-.3805353045463562,-.6936551928520203,-.6936551928520203,-.19391460716724396,-.7070223093032837,-.7070223093032837,-.01501510664820671,-.1420941799879074,-.1420941799879074,-.9795831441879272,-.6070436835289001,-.6070436835289001,.5128025412559509,-.27426984906196594,-.27426984906196594,-.921689510345459,-.395794540643692,-.395794540643692,-.8286385536193848,-.5021210312843323,-.5021210312843323,-.7040314674377441,-.713797390460968,-.4769432544708252,.5128025412559509,-.8313547372817993,-.5554978847503662,-.01501510664820671,-.32248908281326294,-.2154911905527115,-.921689510345459,-.46540728211402893,-.3109835982322693,-.8286385536193848,-.5904415845870972,-.39451277256011963,-.7040314674377441,-.6928922533988953,-.46296578645706177,-.5527512431144714,-.7689138650894165,-.5137485861778259,-.3805353045463562,-.8156682252883911,-.5449995398521423,-.19391460716724396,-.1670888364315033,-.1116367056965828,-.9795831441879272,-.8543656468391418,-.35386210680007935,-.3805353045463562,-.9063386917114258,-.3754081726074219,-.19391460716724396,-.9237647652626038,-.382610559463501,-.01501510664820671,-.18564409017562866,-.07690664380788803,-.9795831441879272,-.7931455373764038,-.32853174209594727,.5128025412559509,-.3583483397960663,-.14841151237487793,-.921689510345459,-.5171361565589905,-.2142094224691391,-.8286385536193848,-.6560564041137695,-.2717368006706238,-.7040314674377441,-.7698904275894165,-.3188879191875458,-.5527512431144714,-.3804132342338562,-.07565538585186005,-.921689510345459,-.5489974617958069,-.10919522494077682,-.8286385536193848,-.6964934468269348,-.13852351903915405,-.7040314674377441,-.8173161745071411,-.16257210075855255,-.5527512431144714,-.9069795608520508,-.18039490282535553,-.3805353045463562,-.9621570706367493,-.191381573677063,-.19391460716724396,-.9806512594223022,-.19504378736019135,-.01501510664820671,-.19708853960037231,-.039185766130685806,-.9795831441879272,-.8419751524925232,-.1674550622701645,.5128025412559509,-.9247413277626038,0,-.3805353045463562,-.9809869527816772,0,-.19391460716724396,-.9998779296875,0,-.01501510664820671,-.20096439123153687,0,-.9795831441879272,-.8584856986999512,0,.5128025412559509,-.3878597319126129,0,-.921689510345459,-.5597705245018005,0,-.8286385536193848,-.7101352214813232,0,-.7040314674377441,-.8333384394645691,0,-.5527512431144714,-.5489974617958069,.10919522494077682,-.8286385536193848,-.6964934468269348,.13852351903915405,-.7040314674377441,-.8173161745071411,.16257210075855255,-.5527512431144714,-.9069795608520508,.18039490282535553,-.3805353045463562,-.9621570706367493,.191381573677063,-.19391460716724396,-.9806512594223022,.19504378736019135,-.01501510664820671,-.19708853960037231,.039185766130685806,-.9795831441879272,-.8419751524925232,.1674550622701645,.5128025412559509,-.3804132342338562,.07565538585186005,-.921689510345459,-.9063386917114258,.3754081726074219,-.19391460716724396,-.8543656468391418,.35386210680007935,-.3805353045463562,-.9237647652626038,.382610559463501,-.01501510664820671,-.18564409017562866,.07690664380788803,-.9795831441879272,-.7931455373764038,.32853174209594727,.5128025412559509,-.3583483397960663,.14841151237487793,-.921689510345459,-.5171361565589905,.2142094224691391,-.8286385536193848,-.6560564041137695,.2717368006706238,-.7040314674377441,-.7698904275894165,.3188879191875458,-.5527512431144714,-.5904415845870972,.39451277256011963,-.7040314674377441,-.6928922533988953,.46296578645706177,-.5527512431144714,-.7689138650894165,.5137485861778259,-.3805353045463562,-.8156682252883911,.5449995398521423,-.19391460716724396,-.8313547372817993,.5554978847503662,-.01501510664820671,-.1670888364315033,.1116367056965828,-.9795831441879272,-.713797390460968,.4769432544708252,.5128025412559509,-.32248908281326294,.2154911905527115,-.921689510345459,-.46540728211402893,.3109835982322693,-.8286385536193848,-.7070223093032837,.7070223093032837,-.01501510664820671,-.6936551928520203,.6936551928520203,-.19391460716724396,-.1420941799879074,.1420941799879074,-.9795831441879272,-.6070436835289001,.6070436835289001,.5128025412559509,-.27426984906196594,.27426984906196594,-.921689510345459,-.395794540643692,.395794540643692,-.8286385536193848,-.5021210312843323,.5021210312843323,-.7040314674377441,-.5892513990402222,.5892513990402222,-.5527512431144714,-.6538895964622498,.6538895964622498,-.3805353045463562,-.39451277256011963,.5904415845870972,-.7040314674377441,-.3109835982322693,.46540728211402893,-.8286385536193848,-.46296578645706177,.6928922533988953,-.5527512431144714,-.5137485861778259,.7689138650894165,-.3805353045463562,-.5449995398521423,.8156682252883911,-.19391460716724396,-.5554978847503662,.8313547372817993,-.01501510664820671,-.1116367056965828,.1670888364315033,-.9795831441879272,-.4769432544708252,.713797390460968,.5128025412559509,-.2154911905527115,.32248908281326294,-.921689510345459,-.382610559463501,.9237647652626038,-.01501510664820671,-.07690664380788803,.18564409017562866,-.9795831441879272,-.32853174209594727,.7931455373764038,.5128025412559509,-.14841151237487793,.3583483397960663,-.921689510345459,-.2142094224691391,.5171361565589905,-.8286385536193848,-.2717368006706238,.6560564041137695,-.7040314674377441,-.3188879191875458,.7698904275894165,-.5527512431144714,-.35386210680007935,.8543656468391418,-.3805353045463562,-.3754081726074219,.9063386917114258,-.19391460716724396,-.16257210075855255,.8173161745071411,-.5527512431144714,-.13852351903915405,.6964934468269348,-.7040314674377441,-.18039490282535553,.9069795608520508,-.3805353045463562,-.191381573677063,.9621570706367493,-.19391460716724396,-.19504378736019135,.9806512594223022,-.01501510664820671,-.039185766130685806,.19708853960037231,-.9795831441879272,-.1674550622701645,.8419751524925232,.5128025412559509,-.07565538585186005,.3804132342338562,-.921689510345459,-.10919522494077682,.5489974617958069,-.8286385536193848,0,.20096439123153687,-.9795831441879272,0,.8584856986999512,.5128025412559509,0,.9998779296875,-.01501510664820671,0,.3878597319126129,-.921689510345459,0,.5597705245018005,-.8286385536193848,0,.7101352214813232,-.7040314674377441,0,.8333384394645691,-.5527512431144714,0,.9247413277626038,-.3805353045463562,0,.9809869527816772,-.19391460716724396,.16257210075855255,.8173161745071411,-.5527512431144714,.13852351903915405,.6964934468269348,-.7040314674377441,.18039490282535553,.9069795608520508,-.3805353045463562,.191381573677063,.9621570706367493,-.19391460716724396,.19504378736019135,.9806512594223022,-.01501510664820671,.039185766130685806,.19708853960037231,-.9795831441879272,.1674550622701645,.8419751524925232,.5128025412559509,.07565538585186005,.3804132342338562,-.921689510345459,.10919522494077682,.5489974617958069,-.8286385536193848,.32853174209594727,.7931455373764038,.5128025412559509,.14841151237487793,.3583483397960663,-.921689510345459,.2142094224691391,.5171361565589905,-.8286385536193848,.2717368006706238,.6560564041137695,-.7040314674377441,.3188879191875458,.7698904275894165,-.5527512431144714,.35386210680007935,.8543656468391418,-.3805353045463562,.3754081726074219,.9063386917114258,-.19391460716724396,.382610559463501,.9237647652626038,-.01501510664820671,.07690664380788803,.18564409017562866,-.9795831441879272,.5137485861778259,.7689138650894165,-.3805353045463562,.5449995398521423,.8156682252883911,-.19391460716724396,.5554978847503662,.8313547372817993,-.01501510664820671,.1116367056965828,.1670888364315033,-.9795831441879272,.4769432544708252,.713797390460968,.5128025412559509,.2154911905527115,.32248908281326294,-.921689510345459,.3109835982322693,.46540728211402893,-.8286385536193848,.39451277256011963,.5904415845870972,-.7040314674377441,.46296578645706177,.6928922533988953,-.5527512431144714,.395794540643692,.395794540643692,-.8286385536193848,.5021210312843323,.5021210312843323,-.7040314674377441,.5892513990402222,.5892513990402222,-.5527512431144714,.6538895964622498,.6538895964622498,-.3805353045463562,.6936551928520203,.6936551928520203,-.19391460716724396,.7070223093032837,.7070223093032837,-.01501510664820671,.1420941799879074,.1420941799879074,-.9795831441879272,.6070436835289001,.6070436835289001,.5128025412559509,.27426984906196594,.27426984906196594,-.921689510345459,.8156682252883911,.5449995398521423,-.19391460716724396,.7689138650894165,.5137485861778259,-.3805353045463562,.8313547372817993,.5554978847503662,-.01501510664820671,.1670888364315033,.1116367056965828,-.9795831441879272,.713797390460968,.4769432544708252,.5128025412559509,.32248908281326294,.2154911905527115,-.921689510345459,.46540728211402893,.3109835982322693,-.8286385536193848,.5904415845870972,.39451277256011963,-.7040314674377441,.6928922533988953,.46296578645706177,-.5527512431144714,.5171361565589905,.2142094224691391,-.8286385536193848,.3583483397960663,.14841151237487793,-.921689510345459,.6560564041137695,.2717368006706238,-.7040314674377441,.7698904275894165,.3188879191875458,-.5527512431144714,.8543656468391418,.35386210680007935,-.3805353045463562,.9063386917114258,.3754081726074219,-.19391460716724396,.9237647652626038,.382610559463501,-.01501510664820671,.18564409017562866,.07690664380788803,-.9795831441879272,.7931455373764038,.32853174209594727,.5128025412559509,.9621570706367493,.191381573677063,-.19391460716724396,.9069795608520508,.18039490282535553,-.3805353045463562,.9806512594223022,.19504378736019135,-.01501510664820671,.19708853960037231,.039185766130685806,-.9795831441879272,.8419751524925232,.1674855798482895,.5128025412559509,.3804132342338562,.07565538585186005,-.921689510345459,.5489974617958069,.10919522494077682,-.8286385536193848,.6964934468269348,.13852351903915405,-.7040314674377441,.8173161745071411,.16257210075855255,-.5527512431144714,0,0,.999969482421875],de.sphereIndices=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,11,12,13,14,15,16,14,16,17,18,19,20,18,20,21,22,23,24,22,24,25,26,27,28,26,28,29,30,31,32,33,34,35,33,35,36,37,38,39,37,39,40,41,42,43,41,43,44,45,46,47,45,47,48,49,50,51,49,51,52,53,54,55,53,55,56,57,58,59,60,61,62,60,62,63,64,65,66,64,66,67,68,69,70,68,70,71,72,73,74,72,74,75,76,77,78,79,80,81,82,83,84,82,84,85,86,87,88,86,88,89,90,91,92,90,92,93,94,95,96,94,96,97,98,99,100,98,100,101,102,103,104,105,106,107,108,109,110,108,110,111,112,113,114,112,114,115,116,117,118,116,118,119,120,121,122,123,124,125,126,127,128,126,128,129,130,131,132,130,132,133,134,135,136,134,136,137,138,139,140,138,140,141,142,143,144,142,144,145,146,147,148,146,148,149,150,151,152,150,152,153,154,155,156,154,156,157,158,159,160,158,160,161,162,163,164,162,164,165,166,167,168,166,168,169,170,171,172,170,172,173,174,175,176,177,178,179,180,181,182,180,182,183,184,185,186,184,186,187,188,189,190,188,190,191,192,193,194,195,196,197,198,199,200,198,200,201,202,203,204,202,204,205,206,207,208,206,208,209,210,211,212,210,212,213,214,215,216,214,216,217,218,219,220,221,222,223,224,225,226,224,226,227,228,229,230,228,230,231,232,233,234,232,234,235,236,237,238,236,238,239,240,241,242,243,244,245,243,245,246,247,248,249,247,249,250,251,252,253,251,253,254,255,256,257,255,257,258,259,260,261,259,261,262,263,264,265,263,265,266,267,268,269,270,271,272,270,272,273,274,275,276,274,276,277,278,279,280,278,280,281,282,283,284,282,284,285,286,287,288,286,288,289,290,291,292,293,294,295,296,297,298,296,298,299,300,301,302,300,302,303,304,305,306,304,306,307,308,309,310,308,310,311,312,313,314,315,316,317,318,319,320,318,320,321,322,323,324,322,324,325,326,327,328,326,328,329,330,331,332,330,332,333,334,335,336,337,338,339,340,341,342,340,342,343,344,345,346,344,346,347,348,349,350,348,350,351,352,353,354,352,354,355,356,357,358,356,358,359,360,361,362,363,364,365,363,365,366,367,368,369,367,369,370,371,372,373,371,373,374,375,376,377,375,377,378,379,380,381,379,381,382,383,384,385,383,385,386,387,388,389,390,391,392,390,392,393,394,395,396,394,396,397,398,399,400,398,400,401,402,403,404,402,404,405,406,407,408,409,410,411,412,413,414,412,414,415,416,417,418,416,418,419,420,421,422,420,422,423,424,425,426,424,426,427,428,429,430,428,430,431,432,433,434,435,436,437,438,439,440,438,440,441,442,443,444,442,444,445,446,447,448,446,448,449,450,451,452,453,454,455,456,457,458,456,458,459,460,461,462,460,462,463,464,465,466,464,466,467,468,469,470,468,470,471,472,473,474,472,474,475,476,477,478,476,478,479],de.spherePos=[0,.4619397521018982,-.19134175777435303,0,.5,-2.1855694143368964e-8,.19134169816970825,.4619397521018982,-2.1855694143368964e-8,.1767766773700714,.4267766773700714,-.19134175777435303,0,.4619397521018982,.19134171307086945,0,.3535533845424652,.3535533845424652,.13529899716377258,.3266407251358032,.3535533845424652,.1767766773700714,.4267766773700714,.19134171307086945,0,.19134172797203064,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,.0732232853770256,.1767767071723938,.4619397521018982,0,7.549790126404332e-8,-.5,0,.19134174287319183,-.4619397521018982,.0732232928276062,.1767767071723938,-.4619397521018982,0,.3535533845424652,-.3535533845424652,0,.4619397521018982,-.19134175777435303,.1767766773700714,.4267766773700714,-.19134175777435303,.13529899716377258,.3266407251358032,-.3535533845424652,0,.5,-2.1855694143368964e-8,0,.4619397521018982,.19134171307086945,.1767766773700714,.4267766773700714,.19134171307086945,.19134169816970825,.4619397521018982,-2.1855694143368964e-8,0,.3535533845424652,.3535533845424652,0,.19134172797203064,.4619397521018982,.0732232853770256,.1767767071723938,.4619397521018982,.13529899716377258,.3266407251358032,.3535533845424652,0,.19134174287319183,-.4619397521018982,0,.3535533845424652,-.3535533845424652,.13529899716377258,.3266407251358032,-.3535533845424652,.0732232928276062,.1767767071723938,-.4619397521018982,0,7.549790126404332e-8,-.5,.0732232928276062,.1767767071723938,-.4619397521018982,.13529899716377258,.13529902696609497,-.4619397521018982,.13529899716377258,.3266407251358032,-.3535533845424652,.1767766773700714,.4267766773700714,-.19134175777435303,.32664069533348083,.3266407251358032,-.19134175777435303,.24999994039535522,.2499999850988388,-.3535533845424652,.19134169816970825,.4619397521018982,-2.1855694143368964e-8,.1767766773700714,.4267766773700714,.19134171307086945,.32664069533348083,.3266407251358032,.19134171307086945,.3535533547401428,.3535533845424652,-2.1855694143368964e-8,.13529899716377258,.3266407251358032,.3535533845424652,.0732232853770256,.1767767071723938,.4619397521018982,.1352989822626114,.13529904186725616,.4619397521018982,.24999994039535522,.2499999850988388,.3535533845424652,.0732232928276062,.1767767071723938,-.4619397521018982,.13529899716377258,.3266407251358032,-.3535533845424652,.24999994039535522,.2499999850988388,-.3535533845424652,.13529899716377258,.13529902696609497,-.4619397521018982,.1767766773700714,.4267766773700714,-.19134175777435303,.19134169816970825,.4619397521018982,-2.1855694143368964e-8,.3535533547401428,.3535533845424652,-2.1855694143368964e-8,.32664069533348083,.3266407251358032,-.19134175777435303,.1767766773700714,.4267766773700714,.19134171307086945,.13529899716377258,.3266407251358032,.3535533845424652,.24999994039535522,.2499999850988388,.3535533845424652,.32664069533348083,.3266407251358032,.19134171307086945,.0732232853770256,.1767767071723938,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,.1352989822626114,.13529904186725616,.4619397521018982,.24999994039535522,.2499999850988388,.3535533845424652,.1352989822626114,.13529904186725616,.4619397521018982,.17677663266658783,.07322334498167038,.4619397521018982,.32664063572883606,.13529902696609497,.3535533845424652,.13529899716377258,.13529902696609497,-.4619397521018982,.24999994039535522,.2499999850988388,-.3535533845424652,.32664063572883606,.13529902696609497,-.3535533845424652,.17677664756774902,.07322331517934799,-.4619397521018982,.32664069533348083,.3266407251358032,-.19134175777435303,.3535533547401428,.3535533845424652,-2.1855694143368964e-8,.4619396924972534,.19134169816970825,-2.1855694143368964e-8,.42677661776542664,.1767766773700714,-.19134175777435303,.32664069533348083,.3266407251358032,.19134171307086945,.24999994039535522,.2499999850988388,.3535533845424652,.32664063572883606,.13529902696609497,.3535533845424652,.42677661776542664,.1767766773700714,.19134171307086945,.1352989822626114,.13529904186725616,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,.17677663266658783,.07322334498167038,.4619397521018982,0,7.549790126404332e-8,-.5,.13529899716377258,.13529902696609497,-.4619397521018982,.17677664756774902,.07322331517934799,-.4619397521018982,.24999994039535522,.2499999850988388,-.3535533845424652,.32664069533348083,.3266407251358032,-.19134175777435303,.42677661776542664,.1767766773700714,-.19134175777435303,.32664063572883606,.13529902696609497,-.3535533845424652,.3535533547401428,.3535533845424652,-2.1855694143368964e-8,.32664069533348083,.3266407251358032,.19134171307086945,.42677661776542664,.1767766773700714,.19134171307086945,.4619396924972534,.19134169816970825,-2.1855694143368964e-8,.17677664756774902,.07322331517934799,-.4619397521018982,.32664063572883606,.13529902696609497,-.3535533845424652,.35355326533317566,3.554926308879658e-8,-.3535533845424652,.19134163856506348,2.809868249187275e-8,-.4619397521018982,.42677661776542664,.1767766773700714,-.19134175777435303,.4619396924972534,.19134169816970825,-2.1855694143368964e-8,.49999988079071045,5.746940701101266e-9,-2.1855694143368964e-8,.46193966269493103,5.746940701101266e-9,-.19134175777435303,.42677661776542664,.1767766773700714,.19134171307086945,.32664063572883606,.13529902696609497,.3535533845424652,.35355326533317566,3.554926308879658e-8,.3535533845424652,.46193966269493103,5.746940701101266e-9,.19134171307086945,.17677663266658783,.07322334498167038,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,.19134163856506348,6.535158547649189e-8,.4619397521018982,0,7.549790126404332e-8,-.5,.17677664756774902,.07322331517934799,-.4619397521018982,.19134163856506348,2.809868249187275e-8,-.4619397521018982,.32664063572883606,.13529902696609497,-.3535533845424652,.42677661776542664,.1767766773700714,-.19134175777435303,.46193966269493103,5.746940701101266e-9,-.19134175777435303,.35355326533317566,3.554926308879658e-8,-.3535533845424652,.4619396924972534,.19134169816970825,-2.1855694143368964e-8,.42677661776542664,.1767766773700714,.19134171307086945,.46193966269493103,5.746940701101266e-9,.19134171307086945,.49999988079071045,5.746940701101266e-9,-2.1855694143368964e-8,.32664063572883606,.13529902696609497,.3535533845424652,.17677663266658783,.07322334498167038,.4619397521018982,.19134163856506348,6.535158547649189e-8,.4619397521018982,.35355326533317566,3.554926308879658e-8,.3535533845424652,.19134163856506348,6.535158547649189e-8,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,.17677661776542664,-.07322321087121964,.4619397521018982,0,7.549790126404332e-8,-.5,.19134163856506348,2.809868249187275e-8,-.4619397521018982,.17677660286426544,-.07322324812412262,-.4619397521018982,.35355326533317566,3.554926308879658e-8,-.3535533845424652,.46193966269493103,5.746940701101266e-9,-.19134175777435303,.42677655816078186,-.17677666246891022,-.19134175777435303,.3266405761241913,-.135298952460289,-.3535533845424652,.49999988079071045,5.746940701101266e-9,-2.1855694143368964e-8,.46193966269493103,5.746940701101266e-9,.19134171307086945,.42677655816078186,-.17677666246891022,.19134171307086945,.46193960309028625,-.19134168326854706,-2.1855694143368964e-8,.35355326533317566,3.554926308879658e-8,.3535533845424652,.19134163856506348,6.535158547649189e-8,.4619397521018982,.17677661776542664,-.07322321087121964,.4619397521018982,.3266405761241913,-.135298952460289,.3535533845424652,.19134163856506348,2.809868249187275e-8,-.4619397521018982,.35355326533317566,3.554926308879658e-8,-.3535533845424652,.3266405761241913,-.135298952460289,-.3535533845424652,.17677660286426544,-.07322324812412262,-.4619397521018982,.46193966269493103,5.746940701101266e-9,-.19134175777435303,.49999988079071045,5.746940701101266e-9,-2.1855694143368964e-8,.46193960309028625,-.19134168326854706,-2.1855694143368964e-8,.42677655816078186,-.17677666246891022,-.19134175777435303,.46193966269493103,5.746940701101266e-9,.19134171307086945,.35355326533317566,3.554926308879658e-8,.3535533845424652,.3266405761241913,-.135298952460289,.3535533845424652,.42677655816078186,-.17677666246891022,.19134171307086945,.3266405761241913,-.135298952460289,-.3535533845424652,.42677655816078186,-.17677666246891022,-.19134175777435303,.3266405761241913,-.32664066553115845,-.19134175777435303,.24999982118606567,-.24999988079071045,-.3535533845424652,.46193960309028625,-.19134168326854706,-2.1855694143368964e-8,.42677655816078186,-.17677666246891022,.19134171307086945,.3266405761241913,-.32664066553115845,.19134171307086945,.3535532057285309,-.35355329513549805,-2.1855694143368964e-8,.3266405761241913,-.135298952460289,.3535533845424652,.17677661776542664,-.07322321087121964,.4619397521018982,.135298952460289,-.13529890775680542,.4619397521018982,.24999982118606567,-.24999988079071045,.3535533845424652,.17677660286426544,-.07322324812412262,-.4619397521018982,.3266405761241913,-.135298952460289,-.3535533845424652,.24999982118606567,-.24999988079071045,-.3535533845424652,.1352989226579666,-.1352989375591278,-.4619397521018982,.42677655816078186,-.17677666246891022,-.19134175777435303,.46193960309028625,-.19134168326854706,-2.1855694143368964e-8,.3535532057285309,-.35355329513549805,-2.1855694143368964e-8,.3266405761241913,-.32664066553115845,-.19134175777435303,.42677655816078186,-.17677666246891022,.19134171307086945,.3266405761241913,-.135298952460289,.3535533845424652,.24999982118606567,-.24999988079071045,.3535533845424652,.3266405761241913,-.32664066553115845,.19134171307086945,.17677661776542664,-.07322321087121964,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,.135298952460289,-.13529890775680542,.4619397521018982,0,7.549790126404332e-8,-.5,.17677660286426544,-.07322324812412262,-.4619397521018982,.1352989226579666,-.1352989375591278,-.4619397521018982,.1352989226579666,-.1352989375591278,-.4619397521018982,.24999982118606567,-.24999988079071045,-.3535533845424652,.13529886305332184,-.3266405761241913,-.3535533845424652,.07322320342063904,-.17677657306194305,-.4619397521018982,.3266405761241913,-.32664066553115845,-.19134175777435303,.3535532057285309,-.35355329513549805,-2.1855694143368964e-8,.19134151935577393,-.46193960309028625,-2.1855694143368964e-8,.17677652835845947,-.42677655816078186,-.19134175777435303,.3266405761241913,-.32664066553115845,.19134171307086945,.24999982118606567,-.24999988079071045,.3535533845424652,.13529886305332184,-.3266405761241913,.3535533845424652,.17677652835845947,-.42677655816078186,.19134171307086945,.135298952460289,-.13529890775680542,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,.07322324067354202,-.17677655816078186,.4619397521018982,0,7.549790126404332e-8,-.5,.1352989226579666,-.1352989375591278,-.4619397521018982,.07322320342063904,-.17677657306194305,-.4619397521018982,.24999982118606567,-.24999988079071045,-.3535533845424652,.3266405761241913,-.32664066553115845,-.19134175777435303,.17677652835845947,-.42677655816078186,-.19134175777435303,.13529886305332184,-.3266405761241913,-.3535533845424652,.3535532057285309,-.35355329513549805,-2.1855694143368964e-8,.3266405761241913,-.32664066553115845,.19134171307086945,.17677652835845947,-.42677655816078186,.19134171307086945,.19134151935577393,-.46193960309028625,-2.1855694143368964e-8,.24999982118606567,-.24999988079071045,.3535533845424652,.135298952460289,-.13529890775680542,.4619397521018982,.07322324067354202,-.17677655816078186,.4619397521018982,.13529886305332184,-.3266405761241913,.3535533845424652,.17677652835845947,-.42677655816078186,-.19134175777435303,.19134151935577393,-.46193960309028625,-2.1855694143368964e-8,-1.630022552490118e-7,-.4999997615814209,-2.1855694143368964e-8,-1.4810109405516414e-7,-.46193957328796387,-.19134175777435303,.17677652835845947,-.42677655816078186,.19134171307086945,.13529886305332184,-.3266405761241913,.3535533845424652,-1.3319993286131648e-7,-.3535531759262085,.3535533845424652,-1.4810109405516414e-7,-.46193957328796387,.19134171307086945,.07322324067354202,-.17677655816078186,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,-3.634237799587936e-8,-.1913415640592575,.4619397521018982,0,7.549790126404332e-8,-.5,.07322320342063904,-.17677657306194305,-.4619397521018982,-8.104586157742233e-8,-.1913415640592575,-.4619397521018982,.13529886305332184,-.3266405761241913,-.3535533845424652,.17677652835845947,-.42677655816078186,-.19134175777435303,-1.4810109405516414e-7,-.46193957328796387,-.19134175777435303,-1.3319993286131648e-7,-.3535531759262085,-.3535533845424652,.19134151935577393,-.46193960309028625,-2.1855694143368964e-8,.17677652835845947,-.42677655816078186,.19134171307086945,-1.4810109405516414e-7,-.46193957328796387,.19134171307086945,-1.630022552490118e-7,-.4999997615814209,-2.1855694143368964e-8,.13529886305332184,-.3266405761241913,.3535533845424652,.07322324067354202,-.17677655816078186,.4619397521018982,-3.634237799587936e-8,-.1913415640592575,.4619397521018982,-1.3319993286131648e-7,-.3535531759262085,.3535533845424652,.07322320342063904,-.17677657306194305,-.4619397521018982,.13529886305332184,-.3266405761241913,-.3535533845424652,-1.3319993286131648e-7,-.3535531759262085,-.3535533845424652,-8.104586157742233e-8,-.1913415640592575,-.4619397521018982,0,7.549790126404332e-8,-.5,-8.104586157742233e-8,-.1913415640592575,-.4619397521018982,-.07322335243225098,-.17677651345729828,-.4619397521018982,-1.3319993286131648e-7,-.3535531759262085,-.3535533845424652,-1.4810109405516414e-7,-.46193957328796387,-.19134175777435303,-.17677679657936096,-.4267764389514923,-.19134175777435303,-.13529910147190094,-.3266404867172241,-.3535533845424652,-1.630022552490118e-7,-.4999997615814209,-2.1855694143368964e-8,-1.4810109405516414e-7,-.46193957328796387,.19134171307086945,-.17677679657936096,-.4267764389514923,.19134171307086945,-.1913418173789978,-.4619394838809967,-2.1855694143368964e-8,-1.3319993286131648e-7,-.3535531759262085,.3535533845424652,-3.634237799587936e-8,-.1913415640592575,.4619397521018982,-.07322331517934799,-.17677652835845947,.4619397521018982,-.13529910147190094,-.3266404867172241,.3535533845424652,-8.104586157742233e-8,-.1913415640592575,-.4619397521018982,-1.3319993286131648e-7,-.3535531759262085,-.3535533845424652,-.13529910147190094,-.3266404867172241,-.3535533845424652,-.07322335243225098,-.17677651345729828,-.4619397521018982,-1.4810109405516414e-7,-.46193957328796387,-.19134175777435303,-1.630022552490118e-7,-.4999997615814209,-2.1855694143368964e-8,-.1913418173789978,-.4619394838809967,-2.1855694143368964e-8,-.17677679657936096,-.4267764389514923,-.19134175777435303,-1.4810109405516414e-7,-.46193957328796387,.19134171307086945,-1.3319993286131648e-7,-.3535531759262085,.3535533845424652,-.13529910147190094,-.3266404867172241,.3535533845424652,-.17677679657936096,-.4267764389514923,.19134171307086945,-3.634237799587936e-8,-.1913415640592575,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,-.07322331517934799,-.17677652835845947,.4619397521018982,-.1913418173789978,-.4619394838809967,-2.1855694143368964e-8,-.17677679657936096,-.4267764389514923,.19134171307086945,-.3266407549381256,-.32664042711257935,.19134171307086945,-.3535534143447876,-.35355305671691895,-2.1855694143368964e-8,-.13529910147190094,-.3266404867172241,.3535533845424652,-.07322331517934799,-.17677652835845947,.4619397521018982,-.13529899716377258,-.13529886305332184,.4619397521018982,-.25,-.24999970197677612,.3535533845424652,-.07322335243225098,-.17677651345729828,-.4619397521018982,-.13529910147190094,-.3266404867172241,-.3535533845424652,-.25,-.24999970197677612,-.3535533845424652,-.13529902696609497,-.13529883325099945,-.4619397521018982,-.17677679657936096,-.4267764389514923,-.19134175777435303,-.1913418173789978,-.4619394838809967,-2.1855694143368964e-8,-.3535534143447876,-.35355305671691895,-2.1855694143368964e-8,-.3266407549381256,-.32664042711257935,-.19134175777435303,-.17677679657936096,-.4267764389514923,.19134171307086945,-.13529910147190094,-.3266404867172241,.3535533845424652,-.25,-.24999970197677612,.3535533845424652,-.3266407549381256,-.32664042711257935,.19134171307086945,-.07322331517934799,-.17677652835845947,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,-.13529899716377258,-.13529886305332184,.4619397521018982,0,7.549790126404332e-8,-.5,-.07322335243225098,-.17677651345729828,-.4619397521018982,-.13529902696609497,-.13529883325099945,-.4619397521018982,-.13529910147190094,-.3266404867172241,-.3535533845424652,-.17677679657936096,-.4267764389514923,-.19134175777435303,-.3266407549381256,-.32664042711257935,-.19134175777435303,-.25,-.24999970197677612,-.3535533845424652,-.13529902696609497,-.13529883325099945,-.4619397521018982,-.25,-.24999970197677612,-.3535533845424652,-.32664066553115845,-.1352987438440323,-.3535533845424652,-.17677664756774902,-.07322311401367188,-.4619397521018982,-.3266407549381256,-.32664042711257935,-.19134175777435303,-.3535534143447876,-.35355305671691895,-2.1855694143368964e-8,-.4619396924972534,-.19134138524532318,-2.1855694143368964e-8,-.42677661776542664,-.17677639424800873,-.19134175777435303,-.3266407549381256,-.32664042711257935,.19134171307086945,-.25,-.24999970197677612,.3535533845424652,-.32664066553115845,-.1352987438440323,.3535533845424652,-.42677661776542664,-.17677639424800873,.19134171307086945,-.13529899716377258,-.13529886305332184,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,-.17677663266658783,-.07322315126657486,.4619397521018982,0,7.549790126404332e-8,-.5,-.13529902696609497,-.13529883325099945,-.4619397521018982,-.17677664756774902,-.07322311401367188,-.4619397521018982,-.25,-.24999970197677612,-.3535533845424652,-.3266407549381256,-.32664042711257935,-.19134175777435303,-.42677661776542664,-.17677639424800873,-.19134175777435303,-.32664066553115845,-.1352987438440323,-.3535533845424652,-.3535534143447876,-.35355305671691895,-2.1855694143368964e-8,-.3266407549381256,-.32664042711257935,.19134171307086945,-.42677661776542664,-.17677639424800873,.19134171307086945,-.4619396924972534,-.19134138524532318,-2.1855694143368964e-8,-.25,-.24999970197677612,.3535533845424652,-.13529899716377258,-.13529886305332184,.4619397521018982,-.17677663266658783,-.07322315126657486,.4619397521018982,-.32664066553115845,-.1352987438440323,.3535533845424652,-.42677661776542664,-.17677639424800873,.19134171307086945,-.32664066553115845,-.1352987438440323,.3535533845424652,-.35355323553085327,2.4416550559180905e-7,.3535533845424652,-.46193960309028625,2.590666667856567e-7,.19134171307086945,-.17677663266658783,-.07322315126657486,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,-.19134162366390228,1.2495623025188252e-7,.4619397521018982,0,7.549790126404332e-8,-.5,-.17677664756774902,-.07322311401367188,-.4619397521018982,-.19134162366390228,1.6965971383342549e-7,-.4619397521018982,-.32664066553115845,-.1352987438440323,-.3535533845424652,-.42677661776542664,-.17677639424800873,-.19134175777435303,-.46193960309028625,2.590666667856567e-7,-.19134175777435303,-.35355323553085327,2.4416550559180905e-7,-.3535533845424652,-.4619396924972534,-.19134138524532318,-2.1855694143368964e-8,-.42677661776542664,-.17677639424800873,.19134171307086945,-.46193960309028625,2.590666667856567e-7,.19134171307086945,-.4999998211860657,3.037701503671997e-7,-2.1855694143368964e-8,-.32664066553115845,-.1352987438440323,.3535533845424652,-.17677663266658783,-.07322315126657486,.4619397521018982,-.19134162366390228,1.2495623025188252e-7,.4619397521018982,-.35355323553085327,2.4416550559180905e-7,.3535533845424652,-.17677664756774902,-.07322311401367188,-.4619397521018982,-.32664066553115845,-.1352987438440323,-.3535533845424652,-.35355323553085327,2.4416550559180905e-7,-.3535533845424652,-.19134162366390228,1.6965971383342549e-7,-.4619397521018982,-.42677661776542664,-.17677639424800873,-.19134175777435303,-.4619396924972534,-.19134138524532318,-2.1855694143368964e-8,-.4999998211860657,3.037701503671997e-7,-2.1855694143368964e-8,-.46193960309028625,2.590666667856567e-7,-.19134175777435303,0,7.549790126404332e-8,-.5,-.19134162366390228,1.6965971383342549e-7,-.4619397521018982,-.17677657306194305,.07322343438863754,-.4619397521018982,-.35355323553085327,2.4416550559180905e-7,-.3535533845424652,-.46193960309028625,2.590666667856567e-7,-.19134175777435303,-.4267764687538147,.17677688598632812,-.19134175777435303,-.3266405165195465,.1352991908788681,-.3535533845424652,-.4999998211860657,3.037701503671997e-7,-2.1855694143368964e-8,-.46193960309028625,2.590666667856567e-7,.19134171307086945,-.4267764687538147,.17677688598632812,.19134171307086945,-.4619394838809967,.19134193658828735,-2.1855694143368964e-8,-.35355323553085327,2.4416550559180905e-7,.3535533845424652,-.19134162366390228,1.2495623025188252e-7,.4619397521018982,-.17677658796310425,.07322338968515396,.4619397521018982,-.3266405165195465,.1352991908788681,.3535533845424652,-.19134162366390228,1.6965971383342549e-7,-.4619397521018982,-.35355323553085327,2.4416550559180905e-7,-.3535533845424652,-.3266405165195465,.1352991908788681,-.3535533845424652,-.17677657306194305,.07322343438863754,-.4619397521018982,-.46193960309028625,2.590666667856567e-7,-.19134175777435303,-.4999998211860657,3.037701503671997e-7,-2.1855694143368964e-8,-.4619394838809967,.19134193658828735,-2.1855694143368964e-8,-.4267764687538147,.17677688598632812,-.19134175777435303,-.46193960309028625,2.590666667856567e-7,.19134171307086945,-.35355323553085327,2.4416550559180905e-7,.3535533845424652,-.3266405165195465,.1352991908788681,.3535533845424652,-.4267764687538147,.17677688598632812,.19134171307086945,-.19134162366390228,1.2495623025188252e-7,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,-.17677658796310425,.07322338968515396,.4619397521018982,-.3266405165195465,.1352991908788681,.3535533845424652,-.17677658796310425,.07322338968515396,.4619397521018982,-.1352989226579666,.13529905676841736,.4619397521018982,-.2499997317790985,.2500000596046448,.3535533845424652,-.17677657306194305,.07322343438863754,-.4619397521018982,-.3266405165195465,.1352991908788681,-.3535533845424652,-.2499997317790985,.2500000596046448,-.3535533845424652,-.13529889285564423,.13529910147190094,-.4619397521018982,-.4267764687538147,.17677688598632812,-.19134175777435303,-.4619394838809967,.19134193658828735,-2.1855694143368964e-8,-.35355302691459656,.35355350375175476,-2.1855694143368964e-8,-.32664045691490173,.3266408443450928,-.19134175777435303,-.4267764687538147,.17677688598632812,.19134171307086945,-.3266405165195465,.1352991908788681,.3535533845424652,-.2499997317790985,.2500000596046448,.3535533845424652,-.32664045691490173,.3266408443450928,.19134171307086945,-.17677658796310425,.07322338968515396,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,-.1352989226579666,.13529905676841736,.4619397521018982,0,7.549790126404332e-8,-.5,-.17677657306194305,.07322343438863754,-.4619397521018982,-.13529889285564423,.13529910147190094,-.4619397521018982,-.3266405165195465,.1352991908788681,-.3535533845424652,-.4267764687538147,.17677688598632812,-.19134175777435303,-.32664045691490173,.3266408443450928,-.19134175777435303,-.2499997317790985,.2500000596046448,-.3535533845424652,-.4619394838809967,.19134193658828735,-2.1855694143368964e-8,-.4267764687538147,.17677688598632812,.19134171307086945,-.32664045691490173,.3266408443450928,.19134171307086945,-.35355302691459656,.35355350375175476,-2.1855694143368964e-8,-.13529889285564423,.13529910147190094,-.4619397521018982,-.2499997317790985,.2500000596046448,-.3535533845424652,-.13529875874519348,.32664069533348083,-.3535533845424652,-.07322317361831665,.1767767071723938,-.4619397521018982,-.32664045691490173,.3266408443450928,-.19134175777435303,-.35355302691459656,.35355350375175476,-2.1855694143368964e-8,-.1913413554430008,.4619397521018982,-2.1855694143368964e-8,-.17677639424800873,.426776647567749,-.19134175777435303,-.32664045691490173,.3266408443450928,.19134171307086945,-.2499997317790985,.2500000596046448,.3535533845424652,-.13529875874519348,.32664069533348083,.3535533845424652,-.17677639424800873,.426776647567749,.19134171307086945,-.1352989226579666,.13529905676841736,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,-.07322321832180023,.1767766922712326,.4619397521018982,0,7.549790126404332e-8,-.5,-.13529889285564423,.13529910147190094,-.4619397521018982,-.07322317361831665,.1767767071723938,-.4619397521018982,-.2499997317790985,.2500000596046448,-.3535533845424652,-.32664045691490173,.3266408443450928,-.19134175777435303,-.17677639424800873,.426776647567749,-.19134175777435303,-.13529875874519348,.32664069533348083,-.3535533845424652,-.35355302691459656,.35355350375175476,-2.1855694143368964e-8,-.32664045691490173,.3266408443450928,.19134171307086945,-.17677639424800873,.426776647567749,.19134171307086945,-.1913413554430008,.4619397521018982,-2.1855694143368964e-8,-.2499997317790985,.2500000596046448,.3535533845424652,-.1352989226579666,.13529905676841736,.4619397521018982,-.07322321832180023,.1767766922712326,.4619397521018982,-.13529875874519348,.32664069533348083,.3535533845424652,-.07322321832180023,.1767766922712326,.4619397521018982,-6.975096056294205e-8,4.660612162865618e-8,.5,0,.19134172797203064,.4619397521018982,0,7.549790126404332e-8,-.5,-.07322317361831665,.1767767071723938,-.4619397521018982,0,.19134174287319183,-.4619397521018982,-.13529875874519348,.32664069533348083,-.3535533845424652,-.17677639424800873,.426776647567749,-.19134175777435303,0,.4619397521018982,-.19134175777435303,0,.3535533845424652,-.3535533845424652,-.1913413554430008,.4619397521018982,-2.1855694143368964e-8,-.17677639424800873,.426776647567749,.19134171307086945,0,.4619397521018982,.19134171307086945,0,.5,-2.1855694143368964e-8,0,.19134172797203064,.4619397521018982,0,.3535533845424652,.3535533845424652,-.13529875874519348,.32664069533348083,.3535533845424652,-.07322321832180023,.1767766922712326,.4619397521018982,-.07322317361831665,.1767767071723938,-.4619397521018982,-.13529875874519348,.32664069533348083,-.3535533845424652,0,.3535533845424652,-.3535533845424652,0,.19134174287319183,-.4619397521018982,-.17677639424800873,.426776647567749,-.19134175777435303,-.1913413554430008,.4619397521018982,-2.1855694143368964e-8,0,.5,-2.1855694143368964e-8,0,.4619397521018982,-.19134175777435303,-.17677639424800873,.426776647567749,.19134171307086945,-.13529875874519348,.32664069533348083,.3535533845424652,0,.3535533845424652,.3535533845424652,0,.4619397521018982,.19134171307086945],Ce.uidCounter=0,me.num=0,Ze.helpVec0=new te,Ze.helpVec1=new te,Ze.helpVec2=new te,ye.m1=ae.identity(),ye.m2=ae.identity(),ye.vpos=new te,ye.vpos2=new te,ye.vscl=new te,ye.vscl2=new te,ye.q1=new Ze,ye.q2=new Ze,Ge.skinMaxBones=50,Ge.vpos=new te,Ge.vscl=new te,Ge.q1=new Ze,Ge.q2=new Ze,Ge.vpos2=new te,Ge.vscl2=new te,We.uidCounter=0,We.seed=1,Se.temp=new te,Se.sphereCenter=new te,Ke.m=ae.identity(),Ke.p1=new te,Ke.p2=new te,Ke.p3=new te,Fe.temp=ae.identity(),je.biasMat=new ae(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),je.helpMat=ae.identity(),je.helpMat2=ae.identity(),je.helpMat3=_e.identity(),je.helpVec=new te,je.helpVec2=new te,je.helpQuat=new Ze,Qe.gamepads=[],Je.buttons=["left","right","middle"],$e.scale=1,$e.last=0,$e.realDelta=0,et.eases=[et.easeLinear,et.easeSineIn,et.easeSineOut,et.easeSineInOut,et.easeQuadIn,et.easeQuadOut,et.easeQuadInOut,et.easeCubicIn,et.easeCubicOut,et.easeCubicInOut,et.easeQuartIn,et.easeQuartOut,et.easeQuartInOut,et.easeQuintIn,et.easeQuintOut,et.easeQuintInOut,et.easeExpoIn,et.easeExpoOut,et.easeExpoInOut,et.easeCircIn,et.easeCircOut,et.easeCircInOut,et.easeBackIn,et.easeBackOut,et.easeBackInOut],et.anims=[],at.__toStr={}.toString,nt.BYTES_PER_ELEMENT=4,rt.BYTES_PER_ELEMENT=1,dt.canvas_id="khanvas",wt.DIF_COUNT=3,wt.maxframetime=.5,wt.startTime=0,Bt.BotBody_armskin_mesh_fragData0="s1484:I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CnByZWNpc2lvbiBoaWdocCBpbnQ7Cgp2YXJ5aW5nIGhpZ2hwIHZlYzMgd25vcm1hbDsKCmhpZ2hwIHZlYzIgb2N0YWhlZHJvbldyYXAoaGlnaHAgdmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6IC0xLjAsICh2LnkgPj0gMC4wKSA:IDEuMCA6IC0xLjApOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICBoaWdocCBmbG9hdCBpbmRleCA9IGZsb29yKGYxICogMTAwLjApOwogICAgaGlnaHAgZmxvYXQgYWxwaGEgPSBjbGFtcChmMiwgMC4wLCAwLjk5OTAwMDAxMjg3NDYwMzI3MTQ4NDM3NSk7CiAgICByZXR1cm4gaW5kZXggKyBhbHBoYTsKfQoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjMyBuID0gbm9ybWFsaXplKHdub3JtYWwpOwogICAgaGlnaHAgdmVjMyBiYXNlY29sID0gdmVjMygwLjI0Mjg0MjEyMjkxMjQwNjkyMTM4NjcxODc1LCAwLjI2NjczNjE3OTU5MDIyNTIxOTcyNjU2MjUsIDAuMjQxNDMyODYwNDkzNjU5OTczMTQ0NTMxMjUpOwogICAgaGlnaHAgZmxvYXQgcm91Z2huZXNzID0gMC4xMDAwMDAwMDE0OTAxMTYxMTkzODQ3NjU2MjU7CiAgICBoaWdocCBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGhpZ2hwIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICBoaWdocCB2ZWMyIF84MzsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF84MyA9IG4ueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzgzID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfODMueCwgXzgzLnksIG4ueik7CiAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBnbF9GcmFnRGF0YVsxXSA9IHZlYzQoYmFzZWNvbCwgb2NjbHVzaW9uKTsKfQoK",Bt.BotBody_armskin_mesh_fragData1="s1375:I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CnByZWNpc2lvbiBtZWRpdW1wIGludDsKCnZhcnlpbmcgdmVjMyB3bm9ybWFsOwoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogLTEuMCwgKHYueSA%PSAwLjApID8gMS4wIDogLTEuMCk7Cn0KCmZsb2F0IHBhY2tGbG9hdChmbG9hdCBmMSwgZmxvYXQgZjIpCnsKICAgIGZsb2F0IGluZGV4ID0gZmxvb3IoZjEgKiAxMDAuMCk7CiAgICBmbG9hdCBhbHBoYSA9IGNsYW1wKGYyLCAwLjAsIDAuOTk5MDAwMDEyODc0NjAzMjcxNDg0Mzc1KTsKICAgIHJldHVybiBpbmRleCArIGFscGhhOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuMjQyODQyMTIyOTEyNDA2OTIxMzg2NzE4NzUsIDAuMjY2NzM2MTc5NTkwMjI1MjE5NzI2NTYyNSwgMC4yNDE0MzI4NjA0OTM2NTk5NzMxNDQ1MzEyNSk7CiAgICBmbG9hdCByb3VnaG5lc3MgPSAwLjEwMDAwMDAwMTQ5MDExNjExOTM4NDc2NTYyNTsKICAgIGZsb2F0IG1ldGFsbGljID0gMC4wOwogICAgZmxvYXQgb2NjbHVzaW9uID0gMS4wOwogICAgbiAvPSB2ZWMzKChhYnMobi54KSArIGFicyhuLnkpKSArIGFicyhuLnopKTsKICAgIHZlYzIgXzgzOwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzgzID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfODMgPSBvY3RhaGVkcm9uV3JhcChuLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF84My54LCBfODMueSwgbi56KTsKICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIDEuMCAtIGdsX0ZyYWdDb29yZC56KTsKICAgIGdsX0ZyYWdEYXRhWzFdID0gdmVjNChiYXNlY29sLCBvY2NsdXNpb24pOwp9Cgo",Bt.BotBody_armskin_mesh_fragData2="s1343:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7CgppbiB2ZWMzIHdub3JtYWw7Cm91dCB2ZWM0IGZyYWdDb2xvclsyXTsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6IC0xLjAsICh2LnkgPj0gMC4wKSA:IDEuMCA6IC0xLjApOwp9CgpmbG9hdCBwYWNrRmxvYXQoZmxvYXQgZjEsIGZsb2F0IGYyKQp7CiAgICBmbG9hdCBpbmRleCA9IGZsb29yKGYxICogMTAwLjApOwogICAgZmxvYXQgYWxwaGEgPSBjbGFtcChmMiwgMC4wLCAwLjk5OTAwMDAxMjg3NDYwMzI3MTQ4NDM3NSk7CiAgICByZXR1cm4gaW5kZXggKyBhbHBoYTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjMyBuID0gbm9ybWFsaXplKHdub3JtYWwpOwogICAgdmVjMyBiYXNlY29sID0gdmVjMygwLjI0Mjg0MjEyMjkxMjQwNjkyMTM4NjcxODc1LCAwLjI2NjczNjE3OTU5MDIyNTIxOTcyNjU2MjUsIDAuMjQxNDMyODYwNDkzNjU5OTczMTQ0NTMxMjUpOwogICAgZmxvYXQgcm91Z2huZXNzID0gMC4xMDAwMDAwMDE0OTAxMTYxMTkzODQ3NjU2MjU7CiAgICBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICB2ZWMyIF84MzsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF84MyA9IG4ueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzgzID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfODMueCwgXzgzLnksIG4ueik7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgMS4wIC0gZ2xfRnJhZ0Nvb3JkLnopOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBvY2NsdXNpb24pOwp9Cgo",Bt.BotBody_armskin_mesh_vertData0="s2026:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIHZlYzQgc2tpbkJvbmVzWzEzNF07CnVuaWZvcm0gbWF0MyBOOwp1bmlmb3JtIG1hdDQgV1ZQOwoKYXR0cmlidXRlIHZlYzMgcG9zOwphdHRyaWJ1dGUgdmVjNCBib25lOwphdHRyaWJ1dGUgdmVjNCB3ZWlnaHQ7CnZhcnlpbmcgdmVjMyB3bm9ybWFsOwphdHRyaWJ1dGUgdmVjMyBub3I7Cgp2b2lkIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQgYm9uZV8xLCBpbm91dCB2ZWM0IHdlaWdodF8xLCBpbm91dCB2ZWM0IEEsIGlub3V0IHZlYzQgQikKewogICAgaXZlYzQgYm9uZWkgPSBib25lXzEgKiBpdmVjNCgyKTsKICAgIG1hdDQgbWF0QSA9IG1hdDQodmVjNChza2luQm9uZXNbYm9uZWkueF0pLCB2ZWM0KHNraW5Cb25lc1tib25laS55XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnpdKSwgdmVjNChza2luQm9uZXNbYm9uZWkud10pKTsKICAgIG1hdDQgbWF0QiA9IG1hdDQodmVjNChza2luQm9uZXNbYm9uZWkueCArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueSArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueiArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkudyArIDFdKSk7CiAgICB2ZWMzIF8xMjkgPSB3ZWlnaHRfMS54eXogKiBzaWduKG1hdEFbM10gKiBtYXRBKS54eXo7CiAgICB3ZWlnaHRfMSA9IHZlYzQoXzEyOS54LCBfMTI5LnksIF8xMjkueiwgd2VpZ2h0XzEudyk7CiAgICBBID0gbWF0QSAqIHdlaWdodF8xOwogICAgQiA9IG1hdEIgKiB3ZWlnaHRfMTsKICAgIGZsb2F0IGludk5vcm1BID0gMS4wIC8gbGVuZ3RoKEEpOwogICAgQSAqPSBpbnZOb3JtQTsKICAgIEIgKj0gaW52Tm9ybUE7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgdmVjNCBwYXJhbSA9IHdlaWdodDsKICAgIHZlYzQgc2tpbkI7CiAgICB2ZWM0IHBhcmFtXzIgPSBza2luQjsKICAgIHZlYzQgcGFyYW1fMTsKICAgIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQoYm9uZSksIHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKTsKICAgIHZlYzQgc2tpbkEgPSBwYXJhbV8xOwogICAgc2tpbkIgPSBwYXJhbV8yOwogICAgdmVjMyBfMTkwID0gc3Bvcy54eXogKyAoY3Jvc3Moc2tpbkEueHl6LCBjcm9zcyhza2luQS54eXosIHNwb3MueHl6KSArIChzcG9zLnh5eiAqIHNraW5BLncpKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMTkwLngsIF8xOTAueSwgXzE5MC56LCBzcG9zLncpOwogICAgdmVjMyBfMjEzID0gc3Bvcy54eXogKyAoKCgoc2tpbkIueHl6ICogc2tpbkEudykgLSAoc2tpbkEueHl6ICogc2tpbkIudykpICsgY3Jvc3Moc2tpbkEueHl6LCBza2luQi54eXopKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMjEzLngsIF8yMTMueSwgXzIxMy56LCBzcG9zLncpOwogICAgd25vcm1hbCA9IG5vcm1hbGl6ZShOICogKG5vciArIChjcm9zcyhza2luQS54eXosIGNyb3NzKHNraW5BLnh5eiwgbm9yKSArIChub3IgKiBza2luQS53KSkgKiAyLjApKSk7CiAgICBnbF9Qb3NpdGlvbiA9IFdWUCAqIHNwb3M7Cn0KCg",Bt.BotBody_armskin_mesh_vertData1="s2292:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgdmVjNCBza2luQm9uZXNbMTM0XTsKdW5pZm9ybSBtZWRpdW1wIG1hdDMgTjsKdW5pZm9ybSBtZWRpdW1wIG1hdDQgV1ZQOwoKYXR0cmlidXRlIG1lZGl1bXAgdmVjMyBwb3M7CmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzQgYm9uZTsKYXR0cmlidXRlIG1lZGl1bXAgdmVjNCB3ZWlnaHQ7CnZhcnlpbmcgbWVkaXVtcCB2ZWMzIHdub3JtYWw7CmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzMgbm9yOwoKdm9pZCBnZXRTa2lubmluZ0R1YWxRdWF0KG1lZGl1bXAgaXZlYzQgYm9uZV8xLCBpbm91dCBtZWRpdW1wIHZlYzQgd2VpZ2h0XzEsIGlub3V0IG1lZGl1bXAgdmVjNCBBLCBpbm91dCBtZWRpdW1wIHZlYzQgQikKewogICAgbWVkaXVtcCBpdmVjNCBib25laSA9IGJvbmVfMSAqIGl2ZWM0KDIpOwogICAgbWVkaXVtcCBtYXQ0IG1hdEEgPSBtYXQ0KHZlYzQoc2tpbkJvbmVzW2JvbmVpLnhdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS56XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnddKSk7CiAgICBtZWRpdW1wIG1hdDQgbWF0QiA9IG1hdDQodmVjNChza2luQm9uZXNbYm9uZWkueCArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueSArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueiArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkudyArIDFdKSk7CiAgICBtZWRpdW1wIHZlYzMgXzEyOSA9IHdlaWdodF8xLnh5eiAqIHNpZ24obWF0QVszXSAqIG1hdEEpLnh5ejsKICAgIHdlaWdodF8xID0gdmVjNChfMTI5LngsIF8xMjkueSwgXzEyOS56LCB3ZWlnaHRfMS53KTsKICAgIEEgPSBtYXRBICogd2VpZ2h0XzE7CiAgICBCID0gbWF0QiAqIHdlaWdodF8xOwogICAgbWVkaXVtcCBmbG9hdCBpbnZOb3JtQSA9IDEuMCAvIGxlbmd0aChBKTsKICAgIEEgKj0gaW52Tm9ybUE7CiAgICBCICo9IGludk5vcm1BOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBtZWRpdW1wIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgbWVkaXVtcCB2ZWM0IHBhcmFtID0gd2VpZ2h0OwogICAgbWVkaXVtcCB2ZWM0IHNraW5COwogICAgbWVkaXVtcCB2ZWM0IHBhcmFtXzIgPSBza2luQjsKICAgIG1lZGl1bXAgdmVjNCBwYXJhbV8xOwogICAgZ2V0U2tpbm5pbmdEdWFsUXVhdChpdmVjNChib25lKSwgcGFyYW0sIHBhcmFtXzEsIHBhcmFtXzIpOwogICAgbWVkaXVtcCB2ZWM0IHNraW5BID0gcGFyYW1fMTsKICAgIHNraW5CID0gcGFyYW1fMjsKICAgIG1lZGl1bXAgdmVjMyBfMTkwID0gc3Bvcy54eXogKyAoY3Jvc3Moc2tpbkEueHl6LCBjcm9zcyhza2luQS54eXosIHNwb3MueHl6KSArIChzcG9zLnh5eiAqIHNraW5BLncpKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMTkwLngsIF8xOTAueSwgXzE5MC56LCBzcG9zLncpOwogICAgbWVkaXVtcCB2ZWMzIF8yMTMgPSBzcG9zLnh5eiArICgoKChza2luQi54eXogKiBza2luQS53KSAtIChza2luQS54eXogKiBza2luQi53KSkgKyBjcm9zcyhza2luQS54eXosIHNraW5CLnh5eikpICogMi4wKTsKICAgIHNwb3MgPSB2ZWM0KF8yMTMueCwgXzIxMy55LCBfMjEzLnosIHNwb3Mudyk7CiAgICB3bm9ybWFsID0gbm9ybWFsaXplKE4gKiAobm9yICsgKGNyb3NzKHNraW5BLnh5eiwgY3Jvc3Moc2tpbkEueHl6LCBub3IpICsgKG5vciAqIHNraW5BLncpKSAqIDIuMCkpKTsKICAgIGdsX1Bvc2l0aW9uID0gV1ZQICogc3BvczsKfQoK",Bt.BotBody_armskin_mesh_vertData2="s2254:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgdmVjNCBza2luQm9uZXNbMTM0XTsKdW5pZm9ybSBtZWRpdW1wIG1hdDMgTjsKdW5pZm9ybSBtZWRpdW1wIG1hdDQgV1ZQOwoKaW4gbWVkaXVtcCB2ZWMzIHBvczsKaW4gbWVkaXVtcCB2ZWM0IGJvbmU7CmluIG1lZGl1bXAgdmVjNCB3ZWlnaHQ7Cm91dCBtZWRpdW1wIHZlYzMgd25vcm1hbDsKaW4gbWVkaXVtcCB2ZWMzIG5vcjsKCnZvaWQgZ2V0U2tpbm5pbmdEdWFsUXVhdChtZWRpdW1wIGl2ZWM0IGJvbmVfMSwgaW5vdXQgbWVkaXVtcCB2ZWM0IHdlaWdodF8xLCBpbm91dCBtZWRpdW1wIHZlYzQgQSwgaW5vdXQgbWVkaXVtcCB2ZWM0IEIpCnsKICAgIG1lZGl1bXAgaXZlYzQgYm9uZWkgPSBib25lXzEgKiBpdmVjNCgyKTsKICAgIG1lZGl1bXAgbWF0NCBtYXRBID0gbWF0NCh2ZWM0KHNraW5Cb25lc1tib25laS54XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnldKSwgdmVjNChza2luQm9uZXNbYm9uZWkuel0pLCB2ZWM0KHNraW5Cb25lc1tib25laS53XSkpOwogICAgbWVkaXVtcCBtYXQ0IG1hdEIgPSBtYXQ0KHZlYzQoc2tpbkJvbmVzW2JvbmVpLnggKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnkgKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnogKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLncgKyAxXSkpOwogICAgbWVkaXVtcCB2ZWMzIF8xMjkgPSB3ZWlnaHRfMS54eXogKiBzaWduKG1hdEFbM10gKiBtYXRBKS54eXo7CiAgICB3ZWlnaHRfMSA9IHZlYzQoXzEyOS54LCBfMTI5LnksIF8xMjkueiwgd2VpZ2h0XzEudyk7CiAgICBBID0gbWF0QSAqIHdlaWdodF8xOwogICAgQiA9IG1hdEIgKiB3ZWlnaHRfMTsKICAgIG1lZGl1bXAgZmxvYXQgaW52Tm9ybUEgPSAxLjAgLyBsZW5ndGgoQSk7CiAgICBBICo9IGludk5vcm1BOwogICAgQiAqPSBpbnZOb3JtQTsKfQoKdm9pZCBtYWluKCkKewogICAgbWVkaXVtcCB2ZWM0IHNwb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIG1lZGl1bXAgdmVjNCBwYXJhbSA9IHdlaWdodDsKICAgIG1lZGl1bXAgdmVjNCBza2luQjsKICAgIG1lZGl1bXAgdmVjNCBwYXJhbV8yID0gc2tpbkI7CiAgICBtZWRpdW1wIHZlYzQgcGFyYW1fMTsKICAgIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQoYm9uZSksIHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKTsKICAgIG1lZGl1bXAgdmVjNCBza2luQSA9IHBhcmFtXzE7CiAgICBza2luQiA9IHBhcmFtXzI7CiAgICBtZWRpdW1wIHZlYzMgXzE5MCA9IHNwb3MueHl6ICsgKGNyb3NzKHNraW5BLnh5eiwgY3Jvc3Moc2tpbkEueHl6LCBzcG9zLnh5eikgKyAoc3Bvcy54eXogKiBza2luQS53KSkgKiAyLjApOwogICAgc3BvcyA9IHZlYzQoXzE5MC54LCBfMTkwLnksIF8xOTAueiwgc3Bvcy53KTsKICAgIG1lZGl1bXAgdmVjMyBfMjEzID0gc3Bvcy54eXogKyAoKCgoc2tpbkIueHl6ICogc2tpbkEudykgLSAoc2tpbkEueHl6ICogc2tpbkIudykpICsgY3Jvc3Moc2tpbkEueHl6LCBza2luQi54eXopKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMjEzLngsIF8yMTMueSwgXzIxMy56LCBzcG9zLncpOwogICAgd25vcm1hbCA9IG5vcm1hbGl6ZShOICogKG5vciArIChjcm9zcyhza2luQS54eXosIGNyb3NzKHNraW5BLnh5eiwgbm9yKSArIChub3IgKiBza2luQS53KSkgKiAyLjApKSk7CiAgICBnbF9Qb3NpdGlvbiA9IFdWUCAqIHNwb3M7Cn0KCg",Bt.BotBody_armskin_shadowmap_fragData0="s103:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdm9pZCBtYWluKCkKewp9Cgo",Bt.BotBody_armskin_shadowmap_fragData1="s106:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp2b2lkIG1haW4oKQp7Cn0KCg",Bt.BotBody_armskin_shadowmap_fragData2="s110:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp2b2lkIG1haW4oKQp7Cn0KCg",Bt.BotBody_armskin_shadowmap_vertData0="s1839:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIHZlYzQgc2tpbkJvbmVzWzEzNF07CnVuaWZvcm0gbWF0NCBMV1ZQOwoKYXR0cmlidXRlIHZlYzMgcG9zOwphdHRyaWJ1dGUgdmVjNCBib25lOwphdHRyaWJ1dGUgdmVjNCB3ZWlnaHQ7CmF0dHJpYnV0ZSB2ZWMzIG5vcjsKCnZvaWQgZ2V0U2tpbm5pbmdEdWFsUXVhdChpdmVjNCBib25lXzEsIGlub3V0IHZlYzQgd2VpZ2h0XzEsIGlub3V0IHZlYzQgQSwgaW5vdXQgdmVjNCBCKQp7CiAgICBpdmVjNCBib25laSA9IGJvbmVfMSAqIGl2ZWM0KDIpOwogICAgbWF0NCBtYXRBID0gbWF0NCh2ZWM0KHNraW5Cb25lc1tib25laS54XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnldKSwgdmVjNChza2luQm9uZXNbYm9uZWkuel0pLCB2ZWM0KHNraW5Cb25lc1tib25laS53XSkpOwogICAgbWF0NCBtYXRCID0gbWF0NCh2ZWM0KHNraW5Cb25lc1tib25laS54ICsgMV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS55ICsgMV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS56ICsgMV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS53ICsgMV0pKTsKICAgIHZlYzMgXzEyOSA9IHdlaWdodF8xLnh5eiAqIHNpZ24obWF0QVszXSAqIG1hdEEpLnh5ejsKICAgIHdlaWdodF8xID0gdmVjNChfMTI5LngsIF8xMjkueSwgXzEyOS56LCB3ZWlnaHRfMS53KTsKICAgIEEgPSBtYXRBICogd2VpZ2h0XzE7CiAgICBCID0gbWF0QiAqIHdlaWdodF8xOwogICAgZmxvYXQgaW52Tm9ybUEgPSAxLjAgLyBsZW5ndGgoQSk7CiAgICBBICo9IGludk5vcm1BOwogICAgQiAqPSBpbnZOb3JtQTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjNCBzcG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICB2ZWM0IHBhcmFtID0gd2VpZ2h0OwogICAgdmVjNCBza2luQjsKICAgIHZlYzQgcGFyYW1fMiA9IHNraW5COwogICAgdmVjNCBwYXJhbV8xOwogICAgZ2V0U2tpbm5pbmdEdWFsUXVhdChpdmVjNChib25lKSwgcGFyYW0sIHBhcmFtXzEsIHBhcmFtXzIpOwogICAgdmVjNCBza2luQSA9IHBhcmFtXzE7CiAgICBza2luQiA9IHBhcmFtXzI7CiAgICB2ZWMzIF8xOTAgPSBzcG9zLnh5eiArIChjcm9zcyhza2luQS54eXosIGNyb3NzKHNraW5BLnh5eiwgc3Bvcy54eXopICsgKHNwb3MueHl6ICogc2tpbkEudykpICogMi4wKTsKICAgIHNwb3MgPSB2ZWM0KF8xOTAueCwgXzE5MC55LCBfMTkwLnosIHNwb3Mudyk7CiAgICB2ZWMzIF8yMTMgPSBzcG9zLnh5eiArICgoKChza2luQi54eXogKiBza2luQS53KSAtIChza2luQS54eXogKiBza2luQi53KSkgKyBjcm9zcyhza2luQS54eXosIHNraW5CLnh5eikpICogMi4wKTsKICAgIHNwb3MgPSB2ZWM0KF8yMTMueCwgXzIxMy55LCBfMjEzLnosIHNwb3Mudyk7CiAgICBnbF9Qb3NpdGlvbiA9IExXVlAgKiBzcG9zOwp9Cgo",Bt.BotBody_armskin_shadowmap_vertData1="s2084:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgdmVjNCBza2luQm9uZXNbMTM0XTsKdW5pZm9ybSBtZWRpdW1wIG1hdDQgTFdWUDsKCmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzMgcG9zOwphdHRyaWJ1dGUgbWVkaXVtcCB2ZWM0IGJvbmU7CmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzQgd2VpZ2h0OwphdHRyaWJ1dGUgbWVkaXVtcCB2ZWMzIG5vcjsKCnZvaWQgZ2V0U2tpbm5pbmdEdWFsUXVhdChtZWRpdW1wIGl2ZWM0IGJvbmVfMSwgaW5vdXQgbWVkaXVtcCB2ZWM0IHdlaWdodF8xLCBpbm91dCBtZWRpdW1wIHZlYzQgQSwgaW5vdXQgbWVkaXVtcCB2ZWM0IEIpCnsKICAgIG1lZGl1bXAgaXZlYzQgYm9uZWkgPSBib25lXzEgKiBpdmVjNCgyKTsKICAgIG1lZGl1bXAgbWF0NCBtYXRBID0gbWF0NCh2ZWM0KHNraW5Cb25lc1tib25laS54XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnldKSwgdmVjNChza2luQm9uZXNbYm9uZWkuel0pLCB2ZWM0KHNraW5Cb25lc1tib25laS53XSkpOwogICAgbWVkaXVtcCBtYXQ0IG1hdEIgPSBtYXQ0KHZlYzQoc2tpbkJvbmVzW2JvbmVpLnggKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnkgKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnogKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLncgKyAxXSkpOwogICAgbWVkaXVtcCB2ZWMzIF8xMjkgPSB3ZWlnaHRfMS54eXogKiBzaWduKG1hdEFbM10gKiBtYXRBKS54eXo7CiAgICB3ZWlnaHRfMSA9IHZlYzQoXzEyOS54LCBfMTI5LnksIF8xMjkueiwgd2VpZ2h0XzEudyk7CiAgICBBID0gbWF0QSAqIHdlaWdodF8xOwogICAgQiA9IG1hdEIgKiB3ZWlnaHRfMTsKICAgIG1lZGl1bXAgZmxvYXQgaW52Tm9ybUEgPSAxLjAgLyBsZW5ndGgoQSk7CiAgICBBICo9IGludk5vcm1BOwogICAgQiAqPSBpbnZOb3JtQTsKfQoKdm9pZCBtYWluKCkKewogICAgbWVkaXVtcCB2ZWM0IHNwb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIG1lZGl1bXAgdmVjNCBwYXJhbSA9IHdlaWdodDsKICAgIG1lZGl1bXAgdmVjNCBza2luQjsKICAgIG1lZGl1bXAgdmVjNCBwYXJhbV8yID0gc2tpbkI7CiAgICBtZWRpdW1wIHZlYzQgcGFyYW1fMTsKICAgIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQoYm9uZSksIHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKTsKICAgIG1lZGl1bXAgdmVjNCBza2luQSA9IHBhcmFtXzE7CiAgICBza2luQiA9IHBhcmFtXzI7CiAgICBtZWRpdW1wIHZlYzMgXzE5MCA9IHNwb3MueHl6ICsgKGNyb3NzKHNraW5BLnh5eiwgY3Jvc3Moc2tpbkEueHl6LCBzcG9zLnh5eikgKyAoc3Bvcy54eXogKiBza2luQS53KSkgKiAyLjApOwogICAgc3BvcyA9IHZlYzQoXzE5MC54LCBfMTkwLnksIF8xOTAueiwgc3Bvcy53KTsKICAgIG1lZGl1bXAgdmVjMyBfMjEzID0gc3Bvcy54eXogKyAoKCgoc2tpbkIueHl6ICogc2tpbkEudykgLSAoc2tpbkEueHl6ICogc2tpbkIudykpICsgY3Jvc3Moc2tpbkEueHl6LCBza2luQi54eXopKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMjEzLngsIF8yMTMueSwgXzIxMy56LCBzcG9zLncpOwogICAgZ2xfUG9zaXRpb24gPSBMV1ZQICogc3BvczsKfQoK",Bt.BotBody_armskin_shadowmap_vertData2="s2051:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgdmVjNCBza2luQm9uZXNbMTM0XTsKdW5pZm9ybSBtZWRpdW1wIG1hdDQgTFdWUDsKCmluIG1lZGl1bXAgdmVjMyBwb3M7CmluIG1lZGl1bXAgdmVjNCBib25lOwppbiBtZWRpdW1wIHZlYzQgd2VpZ2h0OwppbiBtZWRpdW1wIHZlYzMgbm9yOwoKdm9pZCBnZXRTa2lubmluZ0R1YWxRdWF0KG1lZGl1bXAgaXZlYzQgYm9uZV8xLCBpbm91dCBtZWRpdW1wIHZlYzQgd2VpZ2h0XzEsIGlub3V0IG1lZGl1bXAgdmVjNCBBLCBpbm91dCBtZWRpdW1wIHZlYzQgQikKewogICAgbWVkaXVtcCBpdmVjNCBib25laSA9IGJvbmVfMSAqIGl2ZWM0KDIpOwogICAgbWVkaXVtcCBtYXQ0IG1hdEEgPSBtYXQ0KHZlYzQoc2tpbkJvbmVzW2JvbmVpLnhdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS56XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnddKSk7CiAgICBtZWRpdW1wIG1hdDQgbWF0QiA9IG1hdDQodmVjNChza2luQm9uZXNbYm9uZWkueCArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueSArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueiArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkudyArIDFdKSk7CiAgICBtZWRpdW1wIHZlYzMgXzEyOSA9IHdlaWdodF8xLnh5eiAqIHNpZ24obWF0QVszXSAqIG1hdEEpLnh5ejsKICAgIHdlaWdodF8xID0gdmVjNChfMTI5LngsIF8xMjkueSwgXzEyOS56LCB3ZWlnaHRfMS53KTsKICAgIEEgPSBtYXRBICogd2VpZ2h0XzE7CiAgICBCID0gbWF0QiAqIHdlaWdodF8xOwogICAgbWVkaXVtcCBmbG9hdCBpbnZOb3JtQSA9IDEuMCAvIGxlbmd0aChBKTsKICAgIEEgKj0gaW52Tm9ybUE7CiAgICBCICo9IGludk5vcm1BOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBtZWRpdW1wIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgbWVkaXVtcCB2ZWM0IHBhcmFtID0gd2VpZ2h0OwogICAgbWVkaXVtcCB2ZWM0IHNraW5COwogICAgbWVkaXVtcCB2ZWM0IHBhcmFtXzIgPSBza2luQjsKICAgIG1lZGl1bXAgdmVjNCBwYXJhbV8xOwogICAgZ2V0U2tpbm5pbmdEdWFsUXVhdChpdmVjNChib25lKSwgcGFyYW0sIHBhcmFtXzEsIHBhcmFtXzIpOwogICAgbWVkaXVtcCB2ZWM0IHNraW5BID0gcGFyYW1fMTsKICAgIHNraW5CID0gcGFyYW1fMjsKICAgIG1lZGl1bXAgdmVjMyBfMTkwID0gc3Bvcy54eXogKyAoY3Jvc3Moc2tpbkEueHl6LCBjcm9zcyhza2luQS54eXosIHNwb3MueHl6KSArIChzcG9zLnh5eiAqIHNraW5BLncpKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMTkwLngsIF8xOTAueSwgXzE5MC56LCBzcG9zLncpOwogICAgbWVkaXVtcCB2ZWMzIF8yMTMgPSBzcG9zLnh5eiArICgoKChza2luQi54eXogKiBza2luQS53KSAtIChza2luQS54eXogKiBza2luQi53KSkgKyBjcm9zcyhza2luQS54eXosIHNraW5CLnh5eikpICogMi4wKTsKICAgIHNwb3MgPSB2ZWM0KF8yMTMueCwgXzIxMy55LCBfMjEzLnosIHNwb3Mudyk7CiAgICBnbF9Qb3NpdGlvbiA9IExXVlAgKiBzcG9zOwp9Cgo",Bt.BotJoints_armskin_mesh_fragData0="s1494:I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CnByZWNpc2lvbiBoaWdocCBpbnQ7Cgp2YXJ5aW5nIGhpZ2hwIHZlYzMgd25vcm1hbDsKCmhpZ2hwIHZlYzIgb2N0YWhlZHJvbldyYXAoaGlnaHAgdmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6IC0xLjAsICh2LnkgPj0gMC4wKSA:IDEuMCA6IC0xLjApOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICBoaWdocCBmbG9hdCBpbmRleCA9IGZsb29yKGYxICogMTAwLjApOwogICAgaGlnaHAgZmxvYXQgYWxwaGEgPSBjbGFtcChmMiwgMC4wLCAwLjk5OTAwMDAxMjg3NDYwMzI3MTQ4NDM3NSk7CiAgICByZXR1cm4gaW5kZXggKyBhbHBoYTsKfQoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjMyBuID0gbm9ybWFsaXplKHdub3JtYWwpOwogICAgaGlnaHAgdmVjMyBiYXNlY29sID0gdmVjMygwLjA2OTk2NTE2ODgzMzczMjYwNDk4MDQ2ODc1LCAwLjAyNzczOTIxNzUwNDg1ODk3MDY0MjA4OTg0Mzc1LCAwLjAyMDg5MDY2NjE3MTkwODM3ODYwMTA3NDIxODc1KTsKICAgIGhpZ2hwIGZsb2F0IHJvdWdobmVzcyA9IDAuMTAwMDAwMDAxNDkwMTE2MTE5Mzg0NzY1NjI1OwogICAgaGlnaHAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBuIC89IHZlYzMoKGFicyhuLngpICsgYWJzKG4ueSkpICsgYWJzKG4ueikpOwogICAgaGlnaHAgdmVjMiBfODM7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfODMgPSBuLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF84MyA9IG9jdGFoZWRyb25XcmFwKG4ueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzgzLngsIF84My55LCBuLnopOwogICAgZ2xfRnJhZ0RhdGFbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgMS4wIC0gZ2xfRnJhZ0Nvb3JkLnopOwogICAgZ2xfRnJhZ0RhdGFbMV0gPSB2ZWM0KGJhc2Vjb2wsIG9jY2x1c2lvbik7Cn0KCg",Bt.BotJoints_armskin_mesh_fragData1="s1384:I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CnByZWNpc2lvbiBtZWRpdW1wIGludDsKCnZhcnlpbmcgdmVjMyB3bm9ybWFsOwoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogLTEuMCwgKHYueSA%PSAwLjApID8gMS4wIDogLTEuMCk7Cn0KCmZsb2F0IHBhY2tGbG9hdChmbG9hdCBmMSwgZmxvYXQgZjIpCnsKICAgIGZsb2F0IGluZGV4ID0gZmxvb3IoZjEgKiAxMDAuMCk7CiAgICBmbG9hdCBhbHBoYSA9IGNsYW1wKGYyLCAwLjAsIDAuOTk5MDAwMDEyODc0NjAzMjcxNDg0Mzc1KTsKICAgIHJldHVybiBpbmRleCArIGFscGhhOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuMDY5OTY1MTY4ODMzNzMyNjA0OTgwNDY4NzUsIDAuMDI3NzM5MjE3NTA0ODU4OTcwNjQyMDg5ODQzNzUsIDAuMDIwODkwNjY2MTcxOTA4Mzc4NjAxMDc0MjE4NzUpOwogICAgZmxvYXQgcm91Z2huZXNzID0gMC4xMDAwMDAwMDE0OTAxMTYxMTkzODQ3NjU2MjU7CiAgICBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICB2ZWMyIF84MzsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF84MyA9IG4ueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzgzID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfODMueCwgXzgzLnksIG4ueik7CiAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBnbF9GcmFnRGF0YVsxXSA9IHZlYzQoYmFzZWNvbCwgb2NjbHVzaW9uKTsKfQoK",Bt.BotJoints_armskin_mesh_fragData2="s1352:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7CgppbiB2ZWMzIHdub3JtYWw7Cm91dCB2ZWM0IGZyYWdDb2xvclsyXTsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6IC0xLjAsICh2LnkgPj0gMC4wKSA:IDEuMCA6IC0xLjApOwp9CgpmbG9hdCBwYWNrRmxvYXQoZmxvYXQgZjEsIGZsb2F0IGYyKQp7CiAgICBmbG9hdCBpbmRleCA9IGZsb29yKGYxICogMTAwLjApOwogICAgZmxvYXQgYWxwaGEgPSBjbGFtcChmMiwgMC4wLCAwLjk5OTAwMDAxMjg3NDYwMzI3MTQ4NDM3NSk7CiAgICByZXR1cm4gaW5kZXggKyBhbHBoYTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjMyBuID0gbm9ybWFsaXplKHdub3JtYWwpOwogICAgdmVjMyBiYXNlY29sID0gdmVjMygwLjA2OTk2NTE2ODgzMzczMjYwNDk4MDQ2ODc1LCAwLjAyNzczOTIxNzUwNDg1ODk3MDY0MjA4OTg0Mzc1LCAwLjAyMDg5MDY2NjE3MTkwODM3ODYwMTA3NDIxODc1KTsKICAgIGZsb2F0IHJvdWdobmVzcyA9IDAuMTAwMDAwMDAxNDkwMTE2MTE5Mzg0NzY1NjI1OwogICAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBuIC89IHZlYzMoKGFicyhuLngpICsgYWJzKG4ueSkpICsgYWJzKG4ueikpOwogICAgdmVjMiBfODM7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfODMgPSBuLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF84MyA9IG9jdGFoZWRyb25XcmFwKG4ueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzgzLngsIF84My55LCBuLnopOwogICAgZnJhZ0NvbG9yWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIDEuMCAtIGdsX0ZyYWdDb29yZC56KTsKICAgIGZyYWdDb2xvclsxXSA9IHZlYzQoYmFzZWNvbCwgb2NjbHVzaW9uKTsKfQoK",Bt.BotJoints_armskin_mesh_vertData0="s2026:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIHZlYzQgc2tpbkJvbmVzWzEzNF07CnVuaWZvcm0gbWF0MyBOOwp1bmlmb3JtIG1hdDQgV1ZQOwoKYXR0cmlidXRlIHZlYzMgcG9zOwphdHRyaWJ1dGUgdmVjNCBib25lOwphdHRyaWJ1dGUgdmVjNCB3ZWlnaHQ7CnZhcnlpbmcgdmVjMyB3bm9ybWFsOwphdHRyaWJ1dGUgdmVjMyBub3I7Cgp2b2lkIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQgYm9uZV8xLCBpbm91dCB2ZWM0IHdlaWdodF8xLCBpbm91dCB2ZWM0IEEsIGlub3V0IHZlYzQgQikKewogICAgaXZlYzQgYm9uZWkgPSBib25lXzEgKiBpdmVjNCgyKTsKICAgIG1hdDQgbWF0QSA9IG1hdDQodmVjNChza2luQm9uZXNbYm9uZWkueF0pLCB2ZWM0KHNraW5Cb25lc1tib25laS55XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnpdKSwgdmVjNChza2luQm9uZXNbYm9uZWkud10pKTsKICAgIG1hdDQgbWF0QiA9IG1hdDQodmVjNChza2luQm9uZXNbYm9uZWkueCArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueSArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueiArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkudyArIDFdKSk7CiAgICB2ZWMzIF8xMjkgPSB3ZWlnaHRfMS54eXogKiBzaWduKG1hdEFbM10gKiBtYXRBKS54eXo7CiAgICB3ZWlnaHRfMSA9IHZlYzQoXzEyOS54LCBfMTI5LnksIF8xMjkueiwgd2VpZ2h0XzEudyk7CiAgICBBID0gbWF0QSAqIHdlaWdodF8xOwogICAgQiA9IG1hdEIgKiB3ZWlnaHRfMTsKICAgIGZsb2F0IGludk5vcm1BID0gMS4wIC8gbGVuZ3RoKEEpOwogICAgQSAqPSBpbnZOb3JtQTsKICAgIEIgKj0gaW52Tm9ybUE7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgdmVjNCBwYXJhbSA9IHdlaWdodDsKICAgIHZlYzQgc2tpbkI7CiAgICB2ZWM0IHBhcmFtXzIgPSBza2luQjsKICAgIHZlYzQgcGFyYW1fMTsKICAgIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQoYm9uZSksIHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKTsKICAgIHZlYzQgc2tpbkEgPSBwYXJhbV8xOwogICAgc2tpbkIgPSBwYXJhbV8yOwogICAgdmVjMyBfMTkwID0gc3Bvcy54eXogKyAoY3Jvc3Moc2tpbkEueHl6LCBjcm9zcyhza2luQS54eXosIHNwb3MueHl6KSArIChzcG9zLnh5eiAqIHNraW5BLncpKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMTkwLngsIF8xOTAueSwgXzE5MC56LCBzcG9zLncpOwogICAgdmVjMyBfMjEzID0gc3Bvcy54eXogKyAoKCgoc2tpbkIueHl6ICogc2tpbkEudykgLSAoc2tpbkEueHl6ICogc2tpbkIudykpICsgY3Jvc3Moc2tpbkEueHl6LCBza2luQi54eXopKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMjEzLngsIF8yMTMueSwgXzIxMy56LCBzcG9zLncpOwogICAgd25vcm1hbCA9IG5vcm1hbGl6ZShOICogKG5vciArIChjcm9zcyhza2luQS54eXosIGNyb3NzKHNraW5BLnh5eiwgbm9yKSArIChub3IgKiBza2luQS53KSkgKiAyLjApKSk7CiAgICBnbF9Qb3NpdGlvbiA9IFdWUCAqIHNwb3M7Cn0KCg",Bt.BotJoints_armskin_mesh_vertData1="s2292:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgdmVjNCBza2luQm9uZXNbMTM0XTsKdW5pZm9ybSBtZWRpdW1wIG1hdDMgTjsKdW5pZm9ybSBtZWRpdW1wIG1hdDQgV1ZQOwoKYXR0cmlidXRlIG1lZGl1bXAgdmVjMyBwb3M7CmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzQgYm9uZTsKYXR0cmlidXRlIG1lZGl1bXAgdmVjNCB3ZWlnaHQ7CnZhcnlpbmcgbWVkaXVtcCB2ZWMzIHdub3JtYWw7CmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzMgbm9yOwoKdm9pZCBnZXRTa2lubmluZ0R1YWxRdWF0KG1lZGl1bXAgaXZlYzQgYm9uZV8xLCBpbm91dCBtZWRpdW1wIHZlYzQgd2VpZ2h0XzEsIGlub3V0IG1lZGl1bXAgdmVjNCBBLCBpbm91dCBtZWRpdW1wIHZlYzQgQikKewogICAgbWVkaXVtcCBpdmVjNCBib25laSA9IGJvbmVfMSAqIGl2ZWM0KDIpOwogICAgbWVkaXVtcCBtYXQ0IG1hdEEgPSBtYXQ0KHZlYzQoc2tpbkJvbmVzW2JvbmVpLnhdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS56XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnddKSk7CiAgICBtZWRpdW1wIG1hdDQgbWF0QiA9IG1hdDQodmVjNChza2luQm9uZXNbYm9uZWkueCArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueSArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueiArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkudyArIDFdKSk7CiAgICBtZWRpdW1wIHZlYzMgXzEyOSA9IHdlaWdodF8xLnh5eiAqIHNpZ24obWF0QVszXSAqIG1hdEEpLnh5ejsKICAgIHdlaWdodF8xID0gdmVjNChfMTI5LngsIF8xMjkueSwgXzEyOS56LCB3ZWlnaHRfMS53KTsKICAgIEEgPSBtYXRBICogd2VpZ2h0XzE7CiAgICBCID0gbWF0QiAqIHdlaWdodF8xOwogICAgbWVkaXVtcCBmbG9hdCBpbnZOb3JtQSA9IDEuMCAvIGxlbmd0aChBKTsKICAgIEEgKj0gaW52Tm9ybUE7CiAgICBCICo9IGludk5vcm1BOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBtZWRpdW1wIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgbWVkaXVtcCB2ZWM0IHBhcmFtID0gd2VpZ2h0OwogICAgbWVkaXVtcCB2ZWM0IHNraW5COwogICAgbWVkaXVtcCB2ZWM0IHBhcmFtXzIgPSBza2luQjsKICAgIG1lZGl1bXAgdmVjNCBwYXJhbV8xOwogICAgZ2V0U2tpbm5pbmdEdWFsUXVhdChpdmVjNChib25lKSwgcGFyYW0sIHBhcmFtXzEsIHBhcmFtXzIpOwogICAgbWVkaXVtcCB2ZWM0IHNraW5BID0gcGFyYW1fMTsKICAgIHNraW5CID0gcGFyYW1fMjsKICAgIG1lZGl1bXAgdmVjMyBfMTkwID0gc3Bvcy54eXogKyAoY3Jvc3Moc2tpbkEueHl6LCBjcm9zcyhza2luQS54eXosIHNwb3MueHl6KSArIChzcG9zLnh5eiAqIHNraW5BLncpKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMTkwLngsIF8xOTAueSwgXzE5MC56LCBzcG9zLncpOwogICAgbWVkaXVtcCB2ZWMzIF8yMTMgPSBzcG9zLnh5eiArICgoKChza2luQi54eXogKiBza2luQS53KSAtIChza2luQS54eXogKiBza2luQi53KSkgKyBjcm9zcyhza2luQS54eXosIHNraW5CLnh5eikpICogMi4wKTsKICAgIHNwb3MgPSB2ZWM0KF8yMTMueCwgXzIxMy55LCBfMjEzLnosIHNwb3Mudyk7CiAgICB3bm9ybWFsID0gbm9ybWFsaXplKE4gKiAobm9yICsgKGNyb3NzKHNraW5BLnh5eiwgY3Jvc3Moc2tpbkEueHl6LCBub3IpICsgKG5vciAqIHNraW5BLncpKSAqIDIuMCkpKTsKICAgIGdsX1Bvc2l0aW9uID0gV1ZQICogc3BvczsKfQoK",Bt.BotJoints_armskin_mesh_vertData2="s2254:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgdmVjNCBza2luQm9uZXNbMTM0XTsKdW5pZm9ybSBtZWRpdW1wIG1hdDMgTjsKdW5pZm9ybSBtZWRpdW1wIG1hdDQgV1ZQOwoKaW4gbWVkaXVtcCB2ZWMzIHBvczsKaW4gbWVkaXVtcCB2ZWM0IGJvbmU7CmluIG1lZGl1bXAgdmVjNCB3ZWlnaHQ7Cm91dCBtZWRpdW1wIHZlYzMgd25vcm1hbDsKaW4gbWVkaXVtcCB2ZWMzIG5vcjsKCnZvaWQgZ2V0U2tpbm5pbmdEdWFsUXVhdChtZWRpdW1wIGl2ZWM0IGJvbmVfMSwgaW5vdXQgbWVkaXVtcCB2ZWM0IHdlaWdodF8xLCBpbm91dCBtZWRpdW1wIHZlYzQgQSwgaW5vdXQgbWVkaXVtcCB2ZWM0IEIpCnsKICAgIG1lZGl1bXAgaXZlYzQgYm9uZWkgPSBib25lXzEgKiBpdmVjNCgyKTsKICAgIG1lZGl1bXAgbWF0NCBtYXRBID0gbWF0NCh2ZWM0KHNraW5Cb25lc1tib25laS54XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnldKSwgdmVjNChza2luQm9uZXNbYm9uZWkuel0pLCB2ZWM0KHNraW5Cb25lc1tib25laS53XSkpOwogICAgbWVkaXVtcCBtYXQ0IG1hdEIgPSBtYXQ0KHZlYzQoc2tpbkJvbmVzW2JvbmVpLnggKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnkgKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnogKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLncgKyAxXSkpOwogICAgbWVkaXVtcCB2ZWMzIF8xMjkgPSB3ZWlnaHRfMS54eXogKiBzaWduKG1hdEFbM10gKiBtYXRBKS54eXo7CiAgICB3ZWlnaHRfMSA9IHZlYzQoXzEyOS54LCBfMTI5LnksIF8xMjkueiwgd2VpZ2h0XzEudyk7CiAgICBBID0gbWF0QSAqIHdlaWdodF8xOwogICAgQiA9IG1hdEIgKiB3ZWlnaHRfMTsKICAgIG1lZGl1bXAgZmxvYXQgaW52Tm9ybUEgPSAxLjAgLyBsZW5ndGgoQSk7CiAgICBBICo9IGludk5vcm1BOwogICAgQiAqPSBpbnZOb3JtQTsKfQoKdm9pZCBtYWluKCkKewogICAgbWVkaXVtcCB2ZWM0IHNwb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIG1lZGl1bXAgdmVjNCBwYXJhbSA9IHdlaWdodDsKICAgIG1lZGl1bXAgdmVjNCBza2luQjsKICAgIG1lZGl1bXAgdmVjNCBwYXJhbV8yID0gc2tpbkI7CiAgICBtZWRpdW1wIHZlYzQgcGFyYW1fMTsKICAgIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQoYm9uZSksIHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKTsKICAgIG1lZGl1bXAgdmVjNCBza2luQSA9IHBhcmFtXzE7CiAgICBza2luQiA9IHBhcmFtXzI7CiAgICBtZWRpdW1wIHZlYzMgXzE5MCA9IHNwb3MueHl6ICsgKGNyb3NzKHNraW5BLnh5eiwgY3Jvc3Moc2tpbkEueHl6LCBzcG9zLnh5eikgKyAoc3Bvcy54eXogKiBza2luQS53KSkgKiAyLjApOwogICAgc3BvcyA9IHZlYzQoXzE5MC54LCBfMTkwLnksIF8xOTAueiwgc3Bvcy53KTsKICAgIG1lZGl1bXAgdmVjMyBfMjEzID0gc3Bvcy54eXogKyAoKCgoc2tpbkIueHl6ICogc2tpbkEudykgLSAoc2tpbkEueHl6ICogc2tpbkIudykpICsgY3Jvc3Moc2tpbkEueHl6LCBza2luQi54eXopKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMjEzLngsIF8yMTMueSwgXzIxMy56LCBzcG9zLncpOwogICAgd25vcm1hbCA9IG5vcm1hbGl6ZShOICogKG5vciArIChjcm9zcyhza2luQS54eXosIGNyb3NzKHNraW5BLnh5eiwgbm9yKSArIChub3IgKiBza2luQS53KSkgKiAyLjApKSk7CiAgICBnbF9Qb3NpdGlvbiA9IFdWUCAqIHNwb3M7Cn0KCg",Bt.BotJoints_armskin_shadowmap_fragData0="s103:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdm9pZCBtYWluKCkKewp9Cgo",Bt.BotJoints_armskin_shadowmap_fragData1="s106:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp2b2lkIG1haW4oKQp7Cn0KCg",Bt.BotJoints_armskin_shadowmap_fragData2="s110:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp2b2lkIG1haW4oKQp7Cn0KCg",Bt.BotJoints_armskin_shadowmap_vertData0="s1839:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIHZlYzQgc2tpbkJvbmVzWzEzNF07CnVuaWZvcm0gbWF0NCBMV1ZQOwoKYXR0cmlidXRlIHZlYzMgcG9zOwphdHRyaWJ1dGUgdmVjNCBib25lOwphdHRyaWJ1dGUgdmVjNCB3ZWlnaHQ7CmF0dHJpYnV0ZSB2ZWMzIG5vcjsKCnZvaWQgZ2V0U2tpbm5pbmdEdWFsUXVhdChpdmVjNCBib25lXzEsIGlub3V0IHZlYzQgd2VpZ2h0XzEsIGlub3V0IHZlYzQgQSwgaW5vdXQgdmVjNCBCKQp7CiAgICBpdmVjNCBib25laSA9IGJvbmVfMSAqIGl2ZWM0KDIpOwogICAgbWF0NCBtYXRBID0gbWF0NCh2ZWM0KHNraW5Cb25lc1tib25laS54XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnldKSwgdmVjNChza2luQm9uZXNbYm9uZWkuel0pLCB2ZWM0KHNraW5Cb25lc1tib25laS53XSkpOwogICAgbWF0NCBtYXRCID0gbWF0NCh2ZWM0KHNraW5Cb25lc1tib25laS54ICsgMV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS55ICsgMV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS56ICsgMV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS53ICsgMV0pKTsKICAgIHZlYzMgXzEyOSA9IHdlaWdodF8xLnh5eiAqIHNpZ24obWF0QVszXSAqIG1hdEEpLnh5ejsKICAgIHdlaWdodF8xID0gdmVjNChfMTI5LngsIF8xMjkueSwgXzEyOS56LCB3ZWlnaHRfMS53KTsKICAgIEEgPSBtYXRBICogd2VpZ2h0XzE7CiAgICBCID0gbWF0QiAqIHdlaWdodF8xOwogICAgZmxvYXQgaW52Tm9ybUEgPSAxLjAgLyBsZW5ndGgoQSk7CiAgICBBICo9IGludk5vcm1BOwogICAgQiAqPSBpbnZOb3JtQTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjNCBzcG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICB2ZWM0IHBhcmFtID0gd2VpZ2h0OwogICAgdmVjNCBza2luQjsKICAgIHZlYzQgcGFyYW1fMiA9IHNraW5COwogICAgdmVjNCBwYXJhbV8xOwogICAgZ2V0U2tpbm5pbmdEdWFsUXVhdChpdmVjNChib25lKSwgcGFyYW0sIHBhcmFtXzEsIHBhcmFtXzIpOwogICAgdmVjNCBza2luQSA9IHBhcmFtXzE7CiAgICBza2luQiA9IHBhcmFtXzI7CiAgICB2ZWMzIF8xOTAgPSBzcG9zLnh5eiArIChjcm9zcyhza2luQS54eXosIGNyb3NzKHNraW5BLnh5eiwgc3Bvcy54eXopICsgKHNwb3MueHl6ICogc2tpbkEudykpICogMi4wKTsKICAgIHNwb3MgPSB2ZWM0KF8xOTAueCwgXzE5MC55LCBfMTkwLnosIHNwb3Mudyk7CiAgICB2ZWMzIF8yMTMgPSBzcG9zLnh5eiArICgoKChza2luQi54eXogKiBza2luQS53KSAtIChza2luQS54eXogKiBza2luQi53KSkgKyBjcm9zcyhza2luQS54eXosIHNraW5CLnh5eikpICogMi4wKTsKICAgIHNwb3MgPSB2ZWM0KF8yMTMueCwgXzIxMy55LCBfMjEzLnosIHNwb3Mudyk7CiAgICBnbF9Qb3NpdGlvbiA9IExXVlAgKiBzcG9zOwp9Cgo",Bt.BotJoints_armskin_shadowmap_vertData1="s2084:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgdmVjNCBza2luQm9uZXNbMTM0XTsKdW5pZm9ybSBtZWRpdW1wIG1hdDQgTFdWUDsKCmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzMgcG9zOwphdHRyaWJ1dGUgbWVkaXVtcCB2ZWM0IGJvbmU7CmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzQgd2VpZ2h0OwphdHRyaWJ1dGUgbWVkaXVtcCB2ZWMzIG5vcjsKCnZvaWQgZ2V0U2tpbm5pbmdEdWFsUXVhdChtZWRpdW1wIGl2ZWM0IGJvbmVfMSwgaW5vdXQgbWVkaXVtcCB2ZWM0IHdlaWdodF8xLCBpbm91dCBtZWRpdW1wIHZlYzQgQSwgaW5vdXQgbWVkaXVtcCB2ZWM0IEIpCnsKICAgIG1lZGl1bXAgaXZlYzQgYm9uZWkgPSBib25lXzEgKiBpdmVjNCgyKTsKICAgIG1lZGl1bXAgbWF0NCBtYXRBID0gbWF0NCh2ZWM0KHNraW5Cb25lc1tib25laS54XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnldKSwgdmVjNChza2luQm9uZXNbYm9uZWkuel0pLCB2ZWM0KHNraW5Cb25lc1tib25laS53XSkpOwogICAgbWVkaXVtcCBtYXQ0IG1hdEIgPSBtYXQ0KHZlYzQoc2tpbkJvbmVzW2JvbmVpLnggKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnkgKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnogKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLncgKyAxXSkpOwogICAgbWVkaXVtcCB2ZWMzIF8xMjkgPSB3ZWlnaHRfMS54eXogKiBzaWduKG1hdEFbM10gKiBtYXRBKS54eXo7CiAgICB3ZWlnaHRfMSA9IHZlYzQoXzEyOS54LCBfMTI5LnksIF8xMjkueiwgd2VpZ2h0XzEudyk7CiAgICBBID0gbWF0QSAqIHdlaWdodF8xOwogICAgQiA9IG1hdEIgKiB3ZWlnaHRfMTsKICAgIG1lZGl1bXAgZmxvYXQgaW52Tm9ybUEgPSAxLjAgLyBsZW5ndGgoQSk7CiAgICBBICo9IGludk5vcm1BOwogICAgQiAqPSBpbnZOb3JtQTsKfQoKdm9pZCBtYWluKCkKewogICAgbWVkaXVtcCB2ZWM0IHNwb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIG1lZGl1bXAgdmVjNCBwYXJhbSA9IHdlaWdodDsKICAgIG1lZGl1bXAgdmVjNCBza2luQjsKICAgIG1lZGl1bXAgdmVjNCBwYXJhbV8yID0gc2tpbkI7CiAgICBtZWRpdW1wIHZlYzQgcGFyYW1fMTsKICAgIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQoYm9uZSksIHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKTsKICAgIG1lZGl1bXAgdmVjNCBza2luQSA9IHBhcmFtXzE7CiAgICBza2luQiA9IHBhcmFtXzI7CiAgICBtZWRpdW1wIHZlYzMgXzE5MCA9IHNwb3MueHl6ICsgKGNyb3NzKHNraW5BLnh5eiwgY3Jvc3Moc2tpbkEueHl6LCBzcG9zLnh5eikgKyAoc3Bvcy54eXogKiBza2luQS53KSkgKiAyLjApOwogICAgc3BvcyA9IHZlYzQoXzE5MC54LCBfMTkwLnksIF8xOTAueiwgc3Bvcy53KTsKICAgIG1lZGl1bXAgdmVjMyBfMjEzID0gc3Bvcy54eXogKyAoKCgoc2tpbkIueHl6ICogc2tpbkEudykgLSAoc2tpbkEueHl6ICogc2tpbkIudykpICsgY3Jvc3Moc2tpbkEueHl6LCBza2luQi54eXopKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMjEzLngsIF8yMTMueSwgXzIxMy56LCBzcG9zLncpOwogICAgZ2xfUG9zaXRpb24gPSBMV1ZQICogc3BvczsKfQoK",Bt.BotJoints_armskin_shadowmap_vertData2="s2051:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgdmVjNCBza2luQm9uZXNbMTM0XTsKdW5pZm9ybSBtZWRpdW1wIG1hdDQgTFdWUDsKCmluIG1lZGl1bXAgdmVjMyBwb3M7CmluIG1lZGl1bXAgdmVjNCBib25lOwppbiBtZWRpdW1wIHZlYzQgd2VpZ2h0OwppbiBtZWRpdW1wIHZlYzMgbm9yOwoKdm9pZCBnZXRTa2lubmluZ0R1YWxRdWF0KG1lZGl1bXAgaXZlYzQgYm9uZV8xLCBpbm91dCBtZWRpdW1wIHZlYzQgd2VpZ2h0XzEsIGlub3V0IG1lZGl1bXAgdmVjNCBBLCBpbm91dCBtZWRpdW1wIHZlYzQgQikKewogICAgbWVkaXVtcCBpdmVjNCBib25laSA9IGJvbmVfMSAqIGl2ZWM0KDIpOwogICAgbWVkaXVtcCBtYXQ0IG1hdEEgPSBtYXQ0KHZlYzQoc2tpbkJvbmVzW2JvbmVpLnhdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS56XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnddKSk7CiAgICBtZWRpdW1wIG1hdDQgbWF0QiA9IG1hdDQodmVjNChza2luQm9uZXNbYm9uZWkueCArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueSArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueiArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkudyArIDFdKSk7CiAgICBtZWRpdW1wIHZlYzMgXzEyOSA9IHdlaWdodF8xLnh5eiAqIHNpZ24obWF0QVszXSAqIG1hdEEpLnh5ejsKICAgIHdlaWdodF8xID0gdmVjNChfMTI5LngsIF8xMjkueSwgXzEyOS56LCB3ZWlnaHRfMS53KTsKICAgIEEgPSBtYXRBICogd2VpZ2h0XzE7CiAgICBCID0gbWF0QiAqIHdlaWdodF8xOwogICAgbWVkaXVtcCBmbG9hdCBpbnZOb3JtQSA9IDEuMCAvIGxlbmd0aChBKTsKICAgIEEgKj0gaW52Tm9ybUE7CiAgICBCICo9IGludk5vcm1BOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBtZWRpdW1wIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgbWVkaXVtcCB2ZWM0IHBhcmFtID0gd2VpZ2h0OwogICAgbWVkaXVtcCB2ZWM0IHNraW5COwogICAgbWVkaXVtcCB2ZWM0IHBhcmFtXzIgPSBza2luQjsKICAgIG1lZGl1bXAgdmVjNCBwYXJhbV8xOwogICAgZ2V0U2tpbm5pbmdEdWFsUXVhdChpdmVjNChib25lKSwgcGFyYW0sIHBhcmFtXzEsIHBhcmFtXzIpOwogICAgbWVkaXVtcCB2ZWM0IHNraW5BID0gcGFyYW1fMTsKICAgIHNraW5CID0gcGFyYW1fMjsKICAgIG1lZGl1bXAgdmVjMyBfMTkwID0gc3Bvcy54eXogKyAoY3Jvc3Moc2tpbkEueHl6LCBjcm9zcyhza2luQS54eXosIHNwb3MueHl6KSArIChzcG9zLnh5eiAqIHNraW5BLncpKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMTkwLngsIF8xOTAueSwgXzE5MC56LCBzcG9zLncpOwogICAgbWVkaXVtcCB2ZWMzIF8yMTMgPSBzcG9zLnh5eiArICgoKChza2luQi54eXogKiBza2luQS53KSAtIChza2luQS54eXogKiBza2luQi53KSkgKyBjcm9zcyhza2luQS54eXosIHNraW5CLnh5eikpICogMi4wKTsKICAgIHNwb3MgPSB2ZWM0KF8yMTMueCwgXzIxMy55LCBfMjEzLnosIHNwb3Mudyk7CiAgICBnbF9Qb3NpdGlvbiA9IExXVlAgKiBzcG9zOwp9Cgo",Bt.Cube_mesh_fragData0="s1403:I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CnByZWNpc2lvbiBoaWdocCBpbnQ7Cgp2YXJ5aW5nIGhpZ2hwIHZlYzMgd25vcm1hbDsKCmhpZ2hwIHZlYzIgb2N0YWhlZHJvbldyYXAoaGlnaHAgdmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6IC0xLjAsICh2LnkgPj0gMC4wKSA:IDEuMCA6IC0xLjApOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICBoaWdocCBmbG9hdCBpbmRleCA9IGZsb29yKGYxICogMTAwLjApOwogICAgaGlnaHAgZmxvYXQgYWxwaGEgPSBjbGFtcChmMiwgMC4wLCAwLjk5OTAwMDAxMjg3NDYwMzI3MTQ4NDM3NSk7CiAgICByZXR1cm4gaW5kZXggKyBhbHBoYTsKfQoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjMyBuID0gbm9ybWFsaXplKHdub3JtYWwpOwogICAgaGlnaHAgdmVjMyBiYXNlY29sID0gdmVjMygwLjY3Mzc5NTc1OTY3Nzg4Njk2Mjg5MDYyNSk7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSAwLjEwMDAwMDAwMTQ5MDExNjExOTM4NDc2NTYyNTsKICAgIGhpZ2hwIGZsb2F0IG1ldGFsbGljID0gMC4wOwogICAgaGlnaHAgZmxvYXQgb2NjbHVzaW9uID0gMS4wOwogICAgbiAvPSB2ZWMzKChhYnMobi54KSArIGFicyhuLnkpKSArIGFicyhuLnopKTsKICAgIGhpZ2hwIHZlYzIgXzgxOwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzgxID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfODEgPSBvY3RhaGVkcm9uV3JhcChuLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF84MS54LCBfODEueSwgbi56KTsKICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIDEuMCAtIGdsX0ZyYWdDb29yZC56KTsKICAgIGdsX0ZyYWdEYXRhWzFdID0gdmVjNChiYXNlY29sLCBvY2NsdXNpb24pOwp9Cgo",Bt.Cube_mesh_fragData1="s1294:I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CnByZWNpc2lvbiBtZWRpdW1wIGludDsKCnZhcnlpbmcgdmVjMyB3bm9ybWFsOwoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogLTEuMCwgKHYueSA%PSAwLjApID8gMS4wIDogLTEuMCk7Cn0KCmZsb2F0IHBhY2tGbG9hdChmbG9hdCBmMSwgZmxvYXQgZjIpCnsKICAgIGZsb2F0IGluZGV4ID0gZmxvb3IoZjEgKiAxMDAuMCk7CiAgICBmbG9hdCBhbHBoYSA9IGNsYW1wKGYyLCAwLjAsIDAuOTk5MDAwMDEyODc0NjAzMjcxNDg0Mzc1KTsKICAgIHJldHVybiBpbmRleCArIGFscGhhOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuNjczNzk1NzU5Njc3ODg2OTYyODkwNjI1KTsKICAgIGZsb2F0IHJvdWdobmVzcyA9IDAuMTAwMDAwMDAxNDkwMTE2MTE5Mzg0NzY1NjI1OwogICAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBuIC89IHZlYzMoKGFicyhuLngpICsgYWJzKG4ueSkpICsgYWJzKG4ueikpOwogICAgdmVjMiBfODE7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfODEgPSBuLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF84MSA9IG9jdGFoZWRyb25XcmFwKG4ueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzgxLngsIF84MS55LCBuLnopOwogICAgZ2xfRnJhZ0RhdGFbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgMS4wIC0gZ2xfRnJhZ0Nvb3JkLnopOwogICAgZ2xfRnJhZ0RhdGFbMV0gPSB2ZWM0KGJhc2Vjb2wsIG9jY2x1c2lvbik7Cn0KCg",Bt.Cube_mesh_fragData2="s1262:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7CgppbiB2ZWMzIHdub3JtYWw7Cm91dCB2ZWM0IGZyYWdDb2xvclsyXTsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6IC0xLjAsICh2LnkgPj0gMC4wKSA:IDEuMCA6IC0xLjApOwp9CgpmbG9hdCBwYWNrRmxvYXQoZmxvYXQgZjEsIGZsb2F0IGYyKQp7CiAgICBmbG9hdCBpbmRleCA9IGZsb29yKGYxICogMTAwLjApOwogICAgZmxvYXQgYWxwaGEgPSBjbGFtcChmMiwgMC4wLCAwLjk5OTAwMDAxMjg3NDYwMzI3MTQ4NDM3NSk7CiAgICByZXR1cm4gaW5kZXggKyBhbHBoYTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjMyBuID0gbm9ybWFsaXplKHdub3JtYWwpOwogICAgdmVjMyBiYXNlY29sID0gdmVjMygwLjY3Mzc5NTc1OTY3Nzg4Njk2Mjg5MDYyNSk7CiAgICBmbG9hdCByb3VnaG5lc3MgPSAwLjEwMDAwMDAwMTQ5MDExNjExOTM4NDc2NTYyNTsKICAgIGZsb2F0IG1ldGFsbGljID0gMC4wOwogICAgZmxvYXQgb2NjbHVzaW9uID0gMS4wOwogICAgbiAvPSB2ZWMzKChhYnMobi54KSArIGFicyhuLnkpKSArIGFicyhuLnopKTsKICAgIHZlYzIgXzgxOwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzgxID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfODEgPSBvY3RhaGVkcm9uV3JhcChuLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF84MS54LCBfODEueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIG9jY2x1c2lvbik7Cn0KCg",Bt.Cube_mesh_vertData0="s300:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDMgTjsKdW5pZm9ybSBtYXQ0IFdWUDsKCmF0dHJpYnV0ZSB2ZWMzIHBvczsKdmFyeWluZyB2ZWMzIHdub3JtYWw7CmF0dHJpYnV0ZSB2ZWMzIG5vcjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgd25vcm1hbCA9IG5vcm1hbGl6ZShOICogbm9yKTsKICAgIGdsX1Bvc2l0aW9uID0gV1ZQICogc3BvczsKfQoK",Bt.Cube_mesh_vertData1="s364:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgbWF0MyBOOwp1bmlmb3JtIG1lZGl1bXAgbWF0NCBXVlA7CgphdHRyaWJ1dGUgbWVkaXVtcCB2ZWMzIHBvczsKdmFyeWluZyBtZWRpdW1wIHZlYzMgd25vcm1hbDsKYXR0cmlidXRlIG1lZGl1bXAgdmVjMyBub3I7Cgp2b2lkIG1haW4oKQp7CiAgICBtZWRpdW1wIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgd25vcm1hbCA9IG5vcm1hbGl6ZShOICogbm9yKTsKICAgIGdsX1Bvc2l0aW9uID0gV1ZQICogc3BvczsKfQoK",Bt.Cube_mesh_vertData2="s344:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0MyBOOwp1bmlmb3JtIG1lZGl1bXAgbWF0NCBXVlA7CgppbiBtZWRpdW1wIHZlYzMgcG9zOwpvdXQgbWVkaXVtcCB2ZWMzIHdub3JtYWw7CmluIG1lZGl1bXAgdmVjMyBub3I7Cgp2b2lkIG1haW4oKQp7CiAgICBtZWRpdW1wIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgd25vcm1hbCA9IG5vcm1hbGl6ZShOICogbm9yKTsKICAgIGdsX1Bvc2l0aW9uID0gV1ZQICogc3BvczsKfQoK",Bt.Cube_shadowmap_fragData0="s103:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdm9pZCBtYWluKCkKewp9Cgo",Bt.Cube_shadowmap_fragData1="s106:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp2b2lkIG1haW4oKQp7Cn0KCg",Bt.Cube_shadowmap_fragData2="s110:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp2b2lkIG1haW4oKQp7Cn0KCg",Bt.Cube_shadowmap_vertData0="s207:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgTFdWUDsKCmF0dHJpYnV0ZSB2ZWMzIHBvczsKYXR0cmlidXRlIHZlYzMgbm9yOwoKdm9pZCBtYWluKCkKewogICAgdmVjNCBzcG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IExXVlAgKiBzcG9zOwp9Cgo",Bt.Cube_shadowmap_vertData1="s250:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBMV1ZQOwoKYXR0cmlidXRlIG1lZGl1bXAgdmVjMyBwb3M7CmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzMgbm9yOwoKdm9pZCBtYWluKCkKewogICAgbWVkaXVtcCB2ZWM0IHNwb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIGdsX1Bvc2l0aW9uID0gTFdWUCAqIHNwb3M7Cn0KCg",Bt.Cube_shadowmap_vertData2="s235:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBMV1ZQOwoKaW4gbWVkaXVtcCB2ZWMzIHBvczsKaW4gbWVkaXVtcCB2ZWMzIG5vcjsKCnZvaWQgbWFpbigpCnsKICAgIG1lZGl1bXAgdmVjNCBzcG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IExXVlAgKiBzcG9zOwp9Cgo",Bt.Ground_mesh_fragData0="s2147:I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CnByZWNpc2lvbiBoaWdocCBpbnQ7Cgp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBJbWFnZVRleHR1cmVfMDAxOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBJbWFnZVRleHR1cmU7Cgp2YXJ5aW5nIGhpZ2hwIHZlYzMgd25vcm1hbDsKdmFyeWluZyBoaWdocCB2ZWMyIHRleENvb3JkOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogLTEuMCwgKHYueSA%PSAwLjApID8gMS4wIDogLTEuMCk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdChoaWdocCBmbG9hdCBmMSwgaGlnaHAgZmxvYXQgZjIpCnsKICAgIGhpZ2hwIGZsb2F0IGluZGV4ID0gZmxvb3IoZjEgKiAxMDAuMCk7CiAgICBoaWdocCBmbG9hdCBhbHBoYSA9IGNsYW1wKGYyLCAwLjAsIDAuOTk5MDAwMDEyODc0NjAzMjcxNDg0Mzc1KTsKICAgIHJldHVybiBpbmRleCArIGFscGhhOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICBoaWdocCB2ZWM0IEltYWdlVGV4dHVyZV8wMDFfc3RvcmUgPSB0ZXh0dXJlMkQoSW1hZ2VUZXh0dXJlXzAwMSwgdGV4Q29vcmQpOwogICAgaGlnaHAgdmVjMyBfNzQgPSBwb3coSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZS54eXosIHZlYzMoMi4yMDAwMDAwNDc2ODM3MTU4MjAzMTI1KSk7CiAgICBJbWFnZVRleHR1cmVfMDAxX3N0b3JlID0gdmVjNChfNzQueCwgXzc0LnksIF83NC56LCBJbWFnZVRleHR1cmVfMDAxX3N0b3JlLncpOwogICAgaGlnaHAgdmVjNCBJbWFnZVRleHR1cmVfc3RvcmUgPSB0ZXh0dXJlMkQoSW1hZ2VUZXh0dXJlLCB0ZXhDb29yZCk7CiAgICBoaWdocCB2ZWMzIEltYWdlVGV4dHVyZV8wMDFfQ29sb3JfcmVzID0gSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZS54eXo7CiAgICBoaWdocCB2ZWMzIEltYWdlVGV4dHVyZV9Db2xvcl9yZXMgPSBJbWFnZVRleHR1cmVfc3RvcmUueHl6OwogICAgaGlnaHAgdmVjMyBiYXNlY29sID0gSW1hZ2VUZXh0dXJlXzAwMV9Db2xvcl9yZXM7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSBJbWFnZVRleHR1cmVfQ29sb3JfcmVzLng7CiAgICBoaWdocCBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGhpZ2hwIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICBoaWdocCB2ZWMyIF8xMTE7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTExID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTExID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTExLngsIF8xMTEueSwgbi56KTsKICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIDEuMCAtIGdsX0ZyYWdDb29yZC56KTsKICAgIGdsX0ZyYWdEYXRhWzFdID0gdmVjNChiYXNlY29sLCBvY2NsdXNpb24pOwp9Cgo",Bt.Ground_mesh_fragData1="s1995:I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CnByZWNpc2lvbiBtZWRpdW1wIGludDsKCnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlXzAwMTsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBJbWFnZVRleHR1cmU7Cgp2YXJ5aW5nIHZlYzMgd25vcm1hbDsKdmFyeWluZyB2ZWMyIHRleENvb3JkOwoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogLTEuMCwgKHYueSA%PSAwLjApID8gMS4wIDogLTEuMCk7Cn0KCmZsb2F0IHBhY2tGbG9hdChmbG9hdCBmMSwgZmxvYXQgZjIpCnsKICAgIGZsb2F0IGluZGV4ID0gZmxvb3IoZjEgKiAxMDAuMCk7CiAgICBmbG9hdCBhbHBoYSA9IGNsYW1wKGYyLCAwLjAsIDAuOTk5MDAwMDEyODc0NjAzMjcxNDg0Mzc1KTsKICAgIHJldHVybiBpbmRleCArIGFscGhhOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICB2ZWM0IEltYWdlVGV4dHVyZV8wMDFfc3RvcmUgPSB0ZXh0dXJlMkQoSW1hZ2VUZXh0dXJlXzAwMSwgdGV4Q29vcmQpOwogICAgdmVjMyBfNzQgPSBwb3coSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZS54eXosIHZlYzMoMi4yMDAwMDAwNDc2ODM3MTU4MjAzMTI1KSk7CiAgICBJbWFnZVRleHR1cmVfMDAxX3N0b3JlID0gdmVjNChfNzQueCwgXzc0LnksIF83NC56LCBJbWFnZVRleHR1cmVfMDAxX3N0b3JlLncpOwogICAgdmVjNCBJbWFnZVRleHR1cmVfc3RvcmUgPSB0ZXh0dXJlMkQoSW1hZ2VUZXh0dXJlLCB0ZXhDb29yZCk7CiAgICB2ZWMzIEltYWdlVGV4dHVyZV8wMDFfQ29sb3JfcmVzID0gSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZS54eXo7CiAgICB2ZWMzIEltYWdlVGV4dHVyZV9Db2xvcl9yZXMgPSBJbWFnZVRleHR1cmVfc3RvcmUueHl6OwogICAgdmVjMyBiYXNlY29sID0gSW1hZ2VUZXh0dXJlXzAwMV9Db2xvcl9yZXM7CiAgICBmbG9hdCByb3VnaG5lc3MgPSBJbWFnZVRleHR1cmVfQ29sb3JfcmVzLng7CiAgICBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICB2ZWMyIF8xMTE7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTExID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTExID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTExLngsIF8xMTEueSwgbi56KTsKICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIDEuMCAtIGdsX0ZyYWdDb29yZC56KTsKICAgIGdsX0ZyYWdEYXRhWzFdID0gdmVjNChiYXNlY29sLCBvY2NsdXNpb24pOwp9Cgo",Bt.Ground_mesh_fragData2="s1951:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIEltYWdlVGV4dHVyZV8wMDE7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gdmVjMyB3bm9ybWFsOwppbiB2ZWMyIHRleENvb3JkOwpvdXQgdmVjNCBmcmFnQ29sb3JbMl07Cgp2ZWMyIG9jdGFoZWRyb25XcmFwKHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAtMS4wLCAodi55ID49IDAuMCkgPyAxLjAgOiAtMS4wKTsKfQoKZmxvYXQgcGFja0Zsb2F0KGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgZmxvYXQgaW5kZXggPSBmbG9vcihmMSAqIDEwMC4wKTsKICAgIGZsb2F0IGFscGhhID0gY2xhbXAoZjIsIDAuMCwgMC45OTkwMDAwMTI4NzQ2MDMyNzE0ODQzNzUpOwogICAgcmV0dXJuIGluZGV4ICsgYWxwaGE7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIHZlYzQgSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlXzAwMSwgdGV4Q29vcmQpOwogICAgdmVjMyBfNzQgPSBwb3coSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZS54eXosIHZlYzMoMi4yMDAwMDAwNDc2ODM3MTU4MjAzMTI1KSk7CiAgICBJbWFnZVRleHR1cmVfMDAxX3N0b3JlID0gdmVjNChfNzQueCwgXzc0LnksIF83NC56LCBJbWFnZVRleHR1cmVfMDAxX3N0b3JlLncpOwogICAgdmVjNCBJbWFnZVRleHR1cmVfc3RvcmUgPSB0ZXh0dXJlKEltYWdlVGV4dHVyZSwgdGV4Q29vcmQpOwogICAgdmVjMyBJbWFnZVRleHR1cmVfMDAxX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV8wMDFfc3RvcmUueHl6OwogICAgdmVjMyBJbWFnZVRleHR1cmVfQ29sb3JfcmVzID0gSW1hZ2VUZXh0dXJlX3N0b3JlLnh5ejsKICAgIHZlYzMgYmFzZWNvbCA9IEltYWdlVGV4dHVyZV8wMDFfQ29sb3JfcmVzOwogICAgZmxvYXQgcm91Z2huZXNzID0gSW1hZ2VUZXh0dXJlX0NvbG9yX3Jlcy54OwogICAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBuIC89IHZlYzMoKGFicyhuLngpICsgYWJzKG4ueSkpICsgYWJzKG4ueikpOwogICAgdmVjMiBfMTExOwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzExMSA9IG4ueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzExMSA9IG9jdGFoZWRyb25XcmFwKG4ueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzExMS54LCBfMTExLnksIG4ueik7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgMS4wIC0gZ2xfRnJhZ0Nvb3JkLnopOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBvY2NsdXNpb24pOwp9Cgo",Bt.Ground_mesh_vertData0="s384:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDMgTjsKdW5pZm9ybSBtYXQ0IFdWUDsKCmF0dHJpYnV0ZSB2ZWMzIHBvczsKdmFyeWluZyB2ZWMzIHdub3JtYWw7CmF0dHJpYnV0ZSB2ZWMzIG5vcjsKdmFyeWluZyB2ZWMyIHRleENvb3JkOwphdHRyaWJ1dGUgdmVjMiB0ZXg7Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWM0IHNwb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIHdub3JtYWwgPSBub3JtYWxpemUoTiAqIG5vcik7CiAgICBnbF9Qb3NpdGlvbiA9IFdWUCAqIHNwb3M7CiAgICB0ZXhDb29yZCA9IHRleDsKfQoK",Bt.Ground_mesh_vertData1="s470:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgbWF0MyBOOwp1bmlmb3JtIG1lZGl1bXAgbWF0NCBXVlA7CgphdHRyaWJ1dGUgbWVkaXVtcCB2ZWMzIHBvczsKdmFyeWluZyBtZWRpdW1wIHZlYzMgd25vcm1hbDsKYXR0cmlidXRlIG1lZGl1bXAgdmVjMyBub3I7CnZhcnlpbmcgbWVkaXVtcCB2ZWMyIHRleENvb3JkOwphdHRyaWJ1dGUgbWVkaXVtcCB2ZWMyIHRleDsKCnZvaWQgbWFpbigpCnsKICAgIG1lZGl1bXAgdmVjNCBzcG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICB3bm9ybWFsID0gbm9ybWFsaXplKE4gKiBub3IpOwogICAgZ2xfUG9zaXRpb24gPSBXVlAgKiBzcG9zOwogICAgdGV4Q29vcmQgPSB0ZXg7Cn0KCg",Bt.Ground_mesh_vertData2="s435:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0MyBOOwp1bmlmb3JtIG1lZGl1bXAgbWF0NCBXVlA7CgppbiBtZWRpdW1wIHZlYzMgcG9zOwpvdXQgbWVkaXVtcCB2ZWMzIHdub3JtYWw7CmluIG1lZGl1bXAgdmVjMyBub3I7Cm91dCBtZWRpdW1wIHZlYzIgdGV4Q29vcmQ7CmluIG1lZGl1bXAgdmVjMiB0ZXg7Cgp2b2lkIG1haW4oKQp7CiAgICBtZWRpdW1wIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgd25vcm1hbCA9IG5vcm1hbGl6ZShOICogbm9yKTsKICAgIGdsX1Bvc2l0aW9uID0gV1ZQICogc3BvczsKICAgIHRleENvb3JkID0gdGV4Owp9Cgo",Bt.Ground_shadowmap_fragData0="s103:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdm9pZCBtYWluKCkKewp9Cgo",Bt.Ground_shadowmap_fragData1="s106:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp2b2lkIG1haW4oKQp7Cn0KCg",Bt.Ground_shadowmap_fragData2="s110:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp2b2lkIG1haW4oKQp7Cn0KCg",Bt.Ground_shadowmap_vertData0="s234:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgTFdWUDsKCmF0dHJpYnV0ZSB2ZWMzIHBvczsKYXR0cmlidXRlIHZlYzMgbm9yOwphdHRyaWJ1dGUgdmVjMiB0ZXg7Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWM0IHNwb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIGdsX1Bvc2l0aW9uID0gTFdWUCAqIHNwb3M7Cn0KCg",Bt.Ground_shadowmap_vertData1="s287:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBMV1ZQOwoKYXR0cmlidXRlIG1lZGl1bXAgdmVjMyBwb3M7CmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzMgbm9yOwphdHRyaWJ1dGUgbWVkaXVtcCB2ZWMyIHRleDsKCnZvaWQgbWFpbigpCnsKICAgIG1lZGl1bXAgdmVjNCBzcG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IExXVlAgKiBzcG9zOwp9Cgo",Bt.Ground_shadowmap_vertData2="s263:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBMV1ZQOwoKaW4gbWVkaXVtcCB2ZWMzIHBvczsKaW4gbWVkaXVtcCB2ZWMzIG5vcjsKaW4gbWVkaXVtcCB2ZWMyIHRleDsKCnZvaWQgbWFpbigpCnsKICAgIG1lZGl1bXAgdmVjNCBzcG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IExXVlAgKiBzcG9zOwp9Cgo",Bt.blur_edge_pass_fragData0="s2850:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gaGlnaHAgdmVjMiBkaXJJbnY7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHRleDsKCnZhcnlpbmcgaGlnaHAgdmVjMiB0ZXhDb29yZDsKCmhpZ2hwIHZlYzIgb2N0YWhlZHJvbldyYXAoaGlnaHAgdmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6IC0xLjAsICh2LnkgPj0gMC4wKSA:IDEuMCA6IC0xLjApOwp9CgpoaWdocCB2ZWMzIGdldE5vcihoaWdocCB2ZWMyIGVuYykKewogICAgaGlnaHAgdmVjMyBuOwogICAgbi56ID0gKDEuMCAtIGFicyhlbmMueCkpIC0gYWJzKGVuYy55KTsKICAgIGhpZ2hwIHZlYzIgXzU4OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzU4ID0gZW5jOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF81OCA9IG9jdGFoZWRyb25XcmFwKGVuYyk7CiAgICB9CiAgICBuID0gdmVjMyhfNTgueCwgXzU4LnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgcmV0dXJuIG47Cn0KCmhpZ2hwIGZsb2F0IGRvQmx1cihoaWdocCBmbG9hdCBibHVyV2VpZ2h0LCBpbnQgcG9zLCBoaWdocCB2ZWMzIG5vciwgaGlnaHAgdmVjMiB0ZXhDb29yZF8xKQp7CiAgICBoaWdocCBmbG9hdCBwb3NhZGQgPSBmbG9hdChwb3MpICsgMC41OwogICAgaGlnaHAgdmVjMyBub3IyID0gZ2V0Tm9yKHRleHR1cmUyRChnYnVmZmVyMCwgdGV4Q29vcmRfMSArIChkaXJJbnYgKiBmbG9hdChwb3MpKSkueHkpOwogICAgaGlnaHAgZmxvYXQgaW5mbHVlbmNlRmFjdG9yID0gc3RlcCgwLjk0OTk5OTk4ODA3OTA3MTA0NDkyMTg3NSwgZG90KG5vcjIsIG5vcikpOwogICAgaGlnaHAgZmxvYXQgY29sID0gdGV4dHVyZTJEKHRleCwgdGV4Q29vcmRfMSArIChkaXJJbnYgKiBwb3NhZGQpKS54OwogICAgZ2xfRnJhZ0RhdGFbMF0ueCArPSAoKGNvbCAqIGJsdXJXZWlnaHQpICogaW5mbHVlbmNlRmFjdG9yKTsKICAgIGhpZ2hwIGZsb2F0IHdlaWdodCA9IGJsdXJXZWlnaHQgKiBpbmZsdWVuY2VGYWN0b3I7CiAgICBub3IyID0gZ2V0Tm9yKHRleHR1cmUyRChnYnVmZmVyMCwgdGV4Q29vcmRfMSAtIChkaXJJbnYgKiBmbG9hdChwb3MpKSkueHkpOwogICAgaW5mbHVlbmNlRmFjdG9yID0gc3RlcCgwLjk0OTk5OTk4ODA3OTA3MTA0NDkyMTg3NSwgZG90KG5vcjIsIG5vcikpOwogICAgY29sID0gdGV4dHVyZTJEKHRleCwgdGV4Q29vcmRfMSAtIChkaXJJbnYgKiBwb3NhZGQpKS54OwogICAgZ2xfRnJhZ0RhdGFbMF0ueCArPSAoKGNvbCAqIGJsdXJXZWlnaHQpICogaW5mbHVlbmNlRmFjdG9yKTsKICAgIHdlaWdodCArPSAoYmx1cldlaWdodCAqIGluZmx1ZW5jZUZhY3Rvcik7CiAgICByZXR1cm4gd2VpZ2h0Owp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWMyIHRjID0gdGV4Q29vcmQgKiAxLjA7CiAgICBoaWdocCB2ZWMzIG5vciA9IGdldE5vcih0ZXh0dXJlMkQoZ2J1ZmZlcjAsIHRleENvb3JkKS54eSk7CiAgICBnbF9GcmFnRGF0YVswXS54ID0gdGV4dHVyZTJEKHRleCwgdGMpLnggKiAwLjIyNzAyNjk5ODk5NjczNDYxOTE0MDYyNTsKICAgIGhpZ2hwIGZsb2F0IHdlaWdodCA9IDAuMjI3MDI2OTk4OTk2NzM0NjE5MTQwNjI1OwogICAgaGlnaHAgZmxvYXQgXzE3OCA9IGRvQmx1cigwLjE5NDU5NDYwNjc1NzE2NDAwMTQ2NDg0Mzc1LCAxLCBub3IsIHRjKTsKICAgIHdlaWdodCArPSBfMTc4OwogICAgaGlnaHAgZmxvYXQgXzE4NSA9IGRvQmx1cigwLjEyMTYyMTYwMTI4MzU1MDI2MjQ1MTE3MTg3NSwgMiwgbm9yLCB0Yyk7CiAgICB3ZWlnaHQgKz0gXzE4NTsKICAgIGhpZ2hwIGZsb2F0IF8xOTIgPSBkb0JsdXIoMC4wNTQwNTM5OTk0ODM1ODUzNTc2NjYwMTU2MjUsIDMsIG5vciwgdGMpOwogICAgd2VpZ2h0ICs9IF8xOTI7CiAgICBoaWdocCBmbG9hdCBfMTk5ID0gZG9CbHVyKDAuMDE2MjE2MDAwNTQyMDQ0NjM5NTg3NDAyMzQzNzUsIDQsIG5vciwgdGMpOwogICAgd2VpZ2h0ICs9IF8xOTk7CiAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQoZ2xfRnJhZ0RhdGFbMF0ueCAvIHdlaWdodCk7Cn0KCg",Bt.blur_edge_pass_fragData1="s2666:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIGdidWZmZXIwOwp1bmlmb3JtIHZlYzIgZGlySW52Owp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKCnZhcnlpbmcgdmVjMiB0ZXhDb29yZDsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6IC0xLjAsICh2LnkgPj0gMC4wKSA:IDEuMCA6IC0xLjApOwp9Cgp2ZWMzIGdldE5vcih2ZWMyIGVuYykKewogICAgdmVjMyBuOwogICAgbi56ID0gKDEuMCAtIGFicyhlbmMueCkpIC0gYWJzKGVuYy55KTsKICAgIHZlYzIgXzU4OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzU4ID0gZW5jOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF81OCA9IG9jdGFoZWRyb25XcmFwKGVuYyk7CiAgICB9CiAgICBuID0gdmVjMyhfNTgueCwgXzU4LnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgcmV0dXJuIG47Cn0KCmZsb2F0IGRvQmx1cihmbG9hdCBibHVyV2VpZ2h0LCBpbnQgcG9zLCB2ZWMzIG5vciwgdmVjMiB0ZXhDb29yZF8xKQp7CiAgICBmbG9hdCBwb3NhZGQgPSBmbG9hdChwb3MpICsgMC41OwogICAgdmVjMyBub3IyID0gZ2V0Tm9yKHRleHR1cmUyRChnYnVmZmVyMCwgdGV4Q29vcmRfMSArIChkaXJJbnYgKiBmbG9hdChwb3MpKSkueHkpOwogICAgZmxvYXQgaW5mbHVlbmNlRmFjdG9yID0gc3RlcCgwLjk0OTk5OTk4ODA3OTA3MTA0NDkyMTg3NSwgZG90KG5vcjIsIG5vcikpOwogICAgZmxvYXQgY29sID0gdGV4dHVyZTJEKHRleCwgdGV4Q29vcmRfMSArIChkaXJJbnYgKiBwb3NhZGQpKS54OwogICAgZ2xfRnJhZ0RhdGFbMF0ueCArPSAoKGNvbCAqIGJsdXJXZWlnaHQpICogaW5mbHVlbmNlRmFjdG9yKTsKICAgIGZsb2F0IHdlaWdodCA9IGJsdXJXZWlnaHQgKiBpbmZsdWVuY2VGYWN0b3I7CiAgICBub3IyID0gZ2V0Tm9yKHRleHR1cmUyRChnYnVmZmVyMCwgdGV4Q29vcmRfMSAtIChkaXJJbnYgKiBmbG9hdChwb3MpKSkueHkpOwogICAgaW5mbHVlbmNlRmFjdG9yID0gc3RlcCgwLjk0OTk5OTk4ODA3OTA3MTA0NDkyMTg3NSwgZG90KG5vcjIsIG5vcikpOwogICAgY29sID0gdGV4dHVyZTJEKHRleCwgdGV4Q29vcmRfMSAtIChkaXJJbnYgKiBwb3NhZGQpKS54OwogICAgZ2xfRnJhZ0RhdGFbMF0ueCArPSAoKGNvbCAqIGJsdXJXZWlnaHQpICogaW5mbHVlbmNlRmFjdG9yKTsKICAgIHdlaWdodCArPSAoYmx1cldlaWdodCAqIGluZmx1ZW5jZUZhY3Rvcik7CiAgICByZXR1cm4gd2VpZ2h0Owp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMyIHRjID0gdGV4Q29vcmQgKiAxLjA7CiAgICB2ZWMzIG5vciA9IGdldE5vcih0ZXh0dXJlMkQoZ2J1ZmZlcjAsIHRleENvb3JkKS54eSk7CiAgICBnbF9GcmFnRGF0YVswXS54ID0gdGV4dHVyZTJEKHRleCwgdGMpLnggKiAwLjIyNzAyNjk5ODk5NjczNDYxOTE0MDYyNTsKICAgIGZsb2F0IHdlaWdodCA9IDAuMjI3MDI2OTk4OTk2NzM0NjE5MTQwNjI1OwogICAgZmxvYXQgXzE3OCA9IGRvQmx1cigwLjE5NDU5NDYwNjc1NzE2NDAwMTQ2NDg0Mzc1LCAxLCBub3IsIHRjKTsKICAgIHdlaWdodCArPSBfMTc4OwogICAgZmxvYXQgXzE4NSA9IGRvQmx1cigwLjEyMTYyMTYwMTI4MzU1MDI2MjQ1MTE3MTg3NSwgMiwgbm9yLCB0Yyk7CiAgICB3ZWlnaHQgKz0gXzE4NTsKICAgIGZsb2F0IF8xOTIgPSBkb0JsdXIoMC4wNTQwNTM5OTk0ODM1ODUzNTc2NjYwMTU2MjUsIDMsIG5vciwgdGMpOwogICAgd2VpZ2h0ICs9IF8xOTI7CiAgICBmbG9hdCBfMTk5ID0gZG9CbHVyKDAuMDE2MjE2MDAwNTQyMDQ0NjM5NTg3NDAyMzQzNzUsIDQsIG5vciwgdGMpOwogICAgd2VpZ2h0ICs9IF8xOTk7CiAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQoZ2xfRnJhZ0RhdGFbMF0ueCAvIHdlaWdodCk7Cn0KCg",Bt.blur_edge_pass_fragData2="s2640:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIGdidWZmZXIwOwp1bmlmb3JtIHZlYzIgZGlySW52Owp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKCm91dCB2ZWM0IGZyYWdDb2xvcjsKaW4gdmVjMiB0ZXhDb29yZDsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6IC0xLjAsICh2LnkgPj0gMC4wKSA:IDEuMCA6IC0xLjApOwp9Cgp2ZWMzIGdldE5vcih2ZWMyIGVuYykKewogICAgdmVjMyBuOwogICAgbi56ID0gKDEuMCAtIGFicyhlbmMueCkpIC0gYWJzKGVuYy55KTsKICAgIHZlYzIgXzU4OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzU4ID0gZW5jOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF81OCA9IG9jdGFoZWRyb25XcmFwKGVuYyk7CiAgICB9CiAgICBuID0gdmVjMyhfNTgueCwgXzU4LnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgcmV0dXJuIG47Cn0KCmZsb2F0IGRvQmx1cihmbG9hdCBibHVyV2VpZ2h0LCBpbnQgcG9zLCB2ZWMzIG5vciwgdmVjMiB0ZXhDb29yZF8xKQp7CiAgICBmbG9hdCBwb3NhZGQgPSBmbG9hdChwb3MpICsgMC41OwogICAgdmVjMyBub3IyID0gZ2V0Tm9yKHRleHR1cmUoZ2J1ZmZlcjAsIHRleENvb3JkXzEgKyAoZGlySW52ICogZmxvYXQocG9zKSkpLnh5KTsKICAgIGZsb2F0IGluZmx1ZW5jZUZhY3RvciA9IHN0ZXAoMC45NDk5OTk5ODgwNzkwNzEwNDQ5MjE4NzUsIGRvdChub3IyLCBub3IpKTsKICAgIGZsb2F0IGNvbCA9IHRleHR1cmUodGV4LCB0ZXhDb29yZF8xICsgKGRpckludiAqIHBvc2FkZCkpLng7CiAgICBmcmFnQ29sb3IueCArPSAoKGNvbCAqIGJsdXJXZWlnaHQpICogaW5mbHVlbmNlRmFjdG9yKTsKICAgIGZsb2F0IHdlaWdodCA9IGJsdXJXZWlnaHQgKiBpbmZsdWVuY2VGYWN0b3I7CiAgICBub3IyID0gZ2V0Tm9yKHRleHR1cmUoZ2J1ZmZlcjAsIHRleENvb3JkXzEgLSAoZGlySW52ICogZmxvYXQocG9zKSkpLnh5KTsKICAgIGluZmx1ZW5jZUZhY3RvciA9IHN0ZXAoMC45NDk5OTk5ODgwNzkwNzEwNDQ5MjE4NzUsIGRvdChub3IyLCBub3IpKTsKICAgIGNvbCA9IHRleHR1cmUodGV4LCB0ZXhDb29yZF8xIC0gKGRpckludiAqIHBvc2FkZCkpLng7CiAgICBmcmFnQ29sb3IueCArPSAoKGNvbCAqIGJsdXJXZWlnaHQpICogaW5mbHVlbmNlRmFjdG9yKTsKICAgIHdlaWdodCArPSAoYmx1cldlaWdodCAqIGluZmx1ZW5jZUZhY3Rvcik7CiAgICByZXR1cm4gd2VpZ2h0Owp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMyIHRjID0gdGV4Q29vcmQgKiAxLjA7CiAgICB2ZWMzIG5vciA9IGdldE5vcih0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZCkueHkpOwogICAgZnJhZ0NvbG9yLnggPSB0ZXh0dXJlKHRleCwgdGMpLnggKiAwLjIyNzAyNjk5ODk5NjczNDYxOTE0MDYyNTsKICAgIGZsb2F0IHdlaWdodCA9IDAuMjI3MDI2OTk4OTk2NzM0NjE5MTQwNjI1OwogICAgZmxvYXQgXzE3OCA9IGRvQmx1cigwLjE5NDU5NDYwNjc1NzE2NDAwMTQ2NDg0Mzc1LCAxLCBub3IsIHRjKTsKICAgIHdlaWdodCArPSBfMTc4OwogICAgZmxvYXQgXzE4NSA9IGRvQmx1cigwLjEyMTYyMTYwMTI4MzU1MDI2MjQ1MTE3MTg3NSwgMiwgbm9yLCB0Yyk7CiAgICB3ZWlnaHQgKz0gXzE4NTsKICAgIGZsb2F0IF8xOTIgPSBkb0JsdXIoMC4wNTQwNTM5OTk0ODM1ODUzNTc2NjYwMTU2MjUsIDMsIG5vciwgdGMpOwogICAgd2VpZ2h0ICs9IF8xOTI7CiAgICBmbG9hdCBfMTk5ID0gZG9CbHVyKDAuMDE2MjE2MDAwNTQyMDQ0NjM5NTg3NDAyMzQzNzUsIDQsIG5vciwgdGMpOwogICAgd2VpZ2h0ICs9IF8xOTk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KGZyYWdDb2xvci54IC8gd2VpZ2h0KTsKfQoK",Bt.blur_edge_pass_vertData0="s214:I3ZlcnNpb24gMTAwCgp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSB2ZWMyIHBvczsKCnZvaWQgbWFpbigpCnsKICAgIHRleENvb3JkID0gKHBvcyAqIHZlYzIoMC41KSkgKyB2ZWMyKDAuNSk7CiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zLCAwLjAsIDEuMCk7Cn0KCg",Bt.blur_edge_pass_vertData1="s235:I3ZlcnNpb24gMTAwCgp2YXJ5aW5nIG1lZGl1bXAgdmVjMiB0ZXhDb29yZDsKYXR0cmlidXRlIG1lZGl1bXAgdmVjMiBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwp9Cgo",Bt.blur_edge_pass_vertData2="s224:I3ZlcnNpb24gMzAwIGVzCgpvdXQgbWVkaXVtcCB2ZWMyIHRleENvb3JkOwppbiBtZWRpdW1wIHZlYzIgcG9zOwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKfQoK",Bt.compositor_pass_fragData0="s3591:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCB2ZWMyIHRleFN0ZXA7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHRleDsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlckQ7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGdidWZmZXIwOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBnYnVmZmVyMTsKCnZhcnlpbmcgaGlnaHAgdmVjMiB0ZXhDb29yZDsKCmhpZ2hwIHZlYzMgdG9uZW1hcEZpbG1pYyhoaWdocCB2ZWMzIGNvbG9yKQp7CiAgICBoaWdocCB2ZWMzIHggPSBtYXgodmVjMygwLjApLCBjb2xvciAtIHZlYzMoMC4wMDQwMDAwMDAxODk5ODk4MDUyMjE1NTc2MTcxODc1KSk7CiAgICByZXR1cm4gKHggKiAoKHggKiA2LjE5OTk5OTgwOTI2NTEzNjcxODc1KSArIHZlYzMoMC41KSkpIC8gKCh4ICogKCh4ICogNi4xOTk5OTk4MDkyNjUxMzY3MTg3NSkgKyB2ZWMzKDEuNzAwMDAwMDQ3NjgzNzE1ODIwMzEyNSkpKSArIHZlYzMoMC4wNTk5OTk5OTg2NTg4OTU0OTI1NTM3MTA5Mzc1KSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzIgdGV4Q28gPSB0ZXhDb29yZDsKICAgIGhpZ2hwIHZlYzIgdGNyZ2JOVyA9IHRleENvICsgKHZlYzIoLTEuMCkgKiB0ZXhTdGVwKTsKICAgIGhpZ2hwIHZlYzIgdGNyZ2JORSA9IHRleENvICsgKHZlYzIoMS4wLCAtMS4wKSAqIHRleFN0ZXApOwogICAgaGlnaHAgdmVjMiB0Y3JnYlNXID0gdGV4Q28gKyAodmVjMigtMS4wLCAxLjApICogdGV4U3RlcCk7CiAgICBoaWdocCB2ZWMyIHRjcmdiU0UgPSB0ZXhDbyArICh2ZWMyKDEuMCkgKiB0ZXhTdGVwKTsKICAgIGhpZ2hwIHZlYzIgdGNyZ2JNID0gdmVjMih0ZXhDbyk7CiAgICBoaWdocCB2ZWMzIHJnYk5XID0gdGV4dHVyZTJEKHRleCwgdGNyZ2JOVykueHl6OwogICAgaGlnaHAgdmVjMyByZ2JORSA9IHRleHR1cmUyRCh0ZXgsIHRjcmdiTkUpLnh5ejsKICAgIGhpZ2hwIHZlYzMgcmdiU1cgPSB0ZXh0dXJlMkQodGV4LCB0Y3JnYlNXKS54eXo7CiAgICBoaWdocCB2ZWMzIHJnYlNFID0gdGV4dHVyZTJEKHRleCwgdGNyZ2JTRSkueHl6OwogICAgaGlnaHAgdmVjMyByZ2JNID0gdGV4dHVyZTJEKHRleCwgdGNyZ2JNKS54eXo7CiAgICBoaWdocCB2ZWMzIGx1bWEgPSB2ZWMzKDAuMjk4OTk5OTk0OTkzMjA5ODM4ODY3MTg3NSwgMC41ODcwMDAwMTIzOTc3NjYxMTMyODEyNSwgMC4xMTQwMDAwMDAwNTk2MDQ2NDQ3NzUzOTA2MjUpOwogICAgaGlnaHAgZmxvYXQgbHVtYU5XID0gZG90KHJnYk5XLCBsdW1hKTsKICAgIGhpZ2hwIGZsb2F0IGx1bWFORSA9IGRvdChyZ2JORSwgbHVtYSk7CiAgICBoaWdocCBmbG9hdCBsdW1hU1cgPSBkb3QocmdiU1csIGx1bWEpOwogICAgaGlnaHAgZmxvYXQgbHVtYVNFID0gZG90KHJnYlNFLCBsdW1hKTsKICAgIGhpZ2hwIGZsb2F0IGx1bWFNID0gZG90KHJnYk0sIGx1bWEpOwogICAgaGlnaHAgZmxvYXQgbHVtYU1pbiA9IG1pbihsdW1hTSwgbWluKG1pbihsdW1hTlcsIGx1bWFORSksIG1pbihsdW1hU1csIGx1bWFTRSkpKTsKICAgIGhpZ2hwIGZsb2F0IGx1bWFNYXggPSBtYXgobHVtYU0sIG1heChtYXgobHVtYU5XLCBsdW1hTkUpLCBtYXgobHVtYVNXLCBsdW1hU0UpKSk7CiAgICBoaWdocCB2ZWMyIGRpcjsKICAgIGRpci54ID0gLSgobHVtYU5XICsgbHVtYU5FKSAtIChsdW1hU1cgKyBsdW1hU0UpKTsKICAgIGRpci55ID0gKGx1bWFOVyArIGx1bWFTVykgLSAobHVtYU5FICsgbHVtYVNFKTsKICAgIGhpZ2hwIGZsb2F0IGRpclJlZHVjZSA9IG1heCgoKChsdW1hTlcgKyBsdW1hTkUpICsgbHVtYVNXKSArIGx1bWFTRSkgKiAwLjAzMTI1LCAwLjAwNzgxMjUpOwogICAgaGlnaHAgZmxvYXQgcmNwRGlyTWluID0gMS4wIC8gKG1pbihhYnMoZGlyLngpLCBhYnMoZGlyLnkpKSArIGRpclJlZHVjZSk7CiAgICBkaXIgPSBtaW4odmVjMig4LjApLCBtYXgodmVjMigtOC4wKSwgZGlyICogcmNwRGlyTWluKSkgKiB0ZXhTdGVwOwogICAgaGlnaHAgdmVjMyByZ2JBID0gKHRleHR1cmUyRCh0ZXgsIHRleENvICsgKGRpciAqIC0wLjE2NjY2NjY3MTYzMzcyMDM5Nzk0OTIxODc1KSkueHl6ICsgdGV4dHVyZTJEKHRleCwgdGV4Q28gKyAoZGlyICogMC4xNjY2NjY2NzE2MzM3MjAzOTc5NDkyMTg3NSkpLnh5eikgKiAwLjU7CiAgICBoaWdocCB2ZWMzIHJnYkIgPSAocmdiQSAqIDAuNSkgKyAoKHRleHR1cmUyRCh0ZXgsIHRleENvICsgKGRpciAqIC0wLjUpKS54eXogKyB0ZXh0dXJlMkQodGV4LCB0ZXhDbyArIChkaXIgKiAwLjUpKS54eXopICogMC4yNSk7CiAgICBoaWdocCBmbG9hdCBsdW1hQiA9IGRvdChyZ2JCLCBsdW1hKTsKICAgIGlmICgobHVtYUIgPCBsdW1hTWluKSB8fCAobHVtYUIgPiBsdW1hTWF4KSkKICAgIHsKICAgICAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQocmdiQS54LCByZ2JBLnksIHJnYkEueiwgZ2xfRnJhZ0RhdGFbMF0udyk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgZ2xfRnJhZ0RhdGFbMF0gPSB2ZWM0KHJnYkIueCwgcmdiQi55LCByZ2JCLnosIGdsX0ZyYWdEYXRhWzBdLncpOwogICAgfQogICAgaGlnaHAgdmVjMyBfMjc3ID0gdG9uZW1hcEZpbG1pYyhnbF9GcmFnRGF0YVswXS54eXopOwogICAgZ2xfRnJhZ0RhdGFbMF0gPSB2ZWM0KF8yNzcueCwgXzI3Ny55LCBfMjc3LnosIGdsX0ZyYWdEYXRhWzBdLncpOwp9Cgo",Bt.compositor_pass_fragData1="s3356:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIHZlYzIgdGV4U3RlcDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCB0ZXg7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlckQ7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjE7Cgp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7Cgp2ZWMzIHRvbmVtYXBGaWxtaWModmVjMyBjb2xvcikKewogICAgdmVjMyB4ID0gbWF4KHZlYzMoMC4wKSwgY29sb3IgLSB2ZWMzKDAuMDA0MDAwMDAwMTg5OTg5ODA1MjIxNTU3NjE3MTg3NSkpOwogICAgcmV0dXJuICh4ICogKCh4ICogNi4xOTk5OTk4MDkyNjUxMzY3MTg3NSkgKyB2ZWMzKDAuNSkpKSAvICgoeCAqICgoeCAqIDYuMTk5OTk5ODA5MjY1MTM2NzE4NzUpICsgdmVjMygxLjcwMDAwMDA0NzY4MzcxNTgyMDMxMjUpKSkgKyB2ZWMzKDAuMDU5OTk5OTk4NjU4ODk1NDkyNTUzNzEwOTM3NSkpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMyIHRleENvID0gdGV4Q29vcmQ7CiAgICB2ZWMyIHRjcmdiTlcgPSB0ZXhDbyArICh2ZWMyKC0xLjApICogdGV4U3RlcCk7CiAgICB2ZWMyIHRjcmdiTkUgPSB0ZXhDbyArICh2ZWMyKDEuMCwgLTEuMCkgKiB0ZXhTdGVwKTsKICAgIHZlYzIgdGNyZ2JTVyA9IHRleENvICsgKHZlYzIoLTEuMCwgMS4wKSAqIHRleFN0ZXApOwogICAgdmVjMiB0Y3JnYlNFID0gdGV4Q28gKyAodmVjMigxLjApICogdGV4U3RlcCk7CiAgICB2ZWMyIHRjcmdiTSA9IHZlYzIodGV4Q28pOwogICAgdmVjMyByZ2JOVyA9IHRleHR1cmUyRCh0ZXgsIHRjcmdiTlcpLnh5ejsKICAgIHZlYzMgcmdiTkUgPSB0ZXh0dXJlMkQodGV4LCB0Y3JnYk5FKS54eXo7CiAgICB2ZWMzIHJnYlNXID0gdGV4dHVyZTJEKHRleCwgdGNyZ2JTVykueHl6OwogICAgdmVjMyByZ2JTRSA9IHRleHR1cmUyRCh0ZXgsIHRjcmdiU0UpLnh5ejsKICAgIHZlYzMgcmdiTSA9IHRleHR1cmUyRCh0ZXgsIHRjcmdiTSkueHl6OwogICAgdmVjMyBsdW1hID0gdmVjMygwLjI5ODk5OTk5NDk5MzIwOTgzODg2NzE4NzUsIDAuNTg3MDAwMDEyMzk3NzY2MTEzMjgxMjUsIDAuMTE0MDAwMDAwMDU5NjA0NjQ0Nzc1MzkwNjI1KTsKICAgIGZsb2F0IGx1bWFOVyA9IGRvdChyZ2JOVywgbHVtYSk7CiAgICBmbG9hdCBsdW1hTkUgPSBkb3QocmdiTkUsIGx1bWEpOwogICAgZmxvYXQgbHVtYVNXID0gZG90KHJnYlNXLCBsdW1hKTsKICAgIGZsb2F0IGx1bWFTRSA9IGRvdChyZ2JTRSwgbHVtYSk7CiAgICBmbG9hdCBsdW1hTSA9IGRvdChyZ2JNLCBsdW1hKTsKICAgIGZsb2F0IGx1bWFNaW4gPSBtaW4obHVtYU0sIG1pbihtaW4obHVtYU5XLCBsdW1hTkUpLCBtaW4obHVtYVNXLCBsdW1hU0UpKSk7CiAgICBmbG9hdCBsdW1hTWF4ID0gbWF4KGx1bWFNLCBtYXgobWF4KGx1bWFOVywgbHVtYU5FKSwgbWF4KGx1bWFTVywgbHVtYVNFKSkpOwogICAgdmVjMiBkaXI7CiAgICBkaXIueCA9IC0oKGx1bWFOVyArIGx1bWFORSkgLSAobHVtYVNXICsgbHVtYVNFKSk7CiAgICBkaXIueSA9IChsdW1hTlcgKyBsdW1hU1cpIC0gKGx1bWFORSArIGx1bWFTRSk7CiAgICBmbG9hdCBkaXJSZWR1Y2UgPSBtYXgoKCgobHVtYU5XICsgbHVtYU5FKSArIGx1bWFTVykgKyBsdW1hU0UpICogMC4wMzEyNSwgMC4wMDc4MTI1KTsKICAgIGZsb2F0IHJjcERpck1pbiA9IDEuMCAvIChtaW4oYWJzKGRpci54KSwgYWJzKGRpci55KSkgKyBkaXJSZWR1Y2UpOwogICAgZGlyID0gbWluKHZlYzIoOC4wKSwgbWF4KHZlYzIoLTguMCksIGRpciAqIHJjcERpck1pbikpICogdGV4U3RlcDsKICAgIHZlYzMgcmdiQSA9ICh0ZXh0dXJlMkQodGV4LCB0ZXhDbyArIChkaXIgKiAtMC4xNjY2NjY2NzE2MzM3MjAzOTc5NDkyMTg3NSkpLnh5eiArIHRleHR1cmUyRCh0ZXgsIHRleENvICsgKGRpciAqIDAuMTY2NjY2NjcxNjMzNzIwMzk3OTQ5MjE4NzUpKS54eXopICogMC41OwogICAgdmVjMyByZ2JCID0gKHJnYkEgKiAwLjUpICsgKCh0ZXh0dXJlMkQodGV4LCB0ZXhDbyArIChkaXIgKiAtMC41KSkueHl6ICsgdGV4dHVyZTJEKHRleCwgdGV4Q28gKyAoZGlyICogMC41KSkueHl6KSAqIDAuMjUpOwogICAgZmxvYXQgbHVtYUIgPSBkb3QocmdiQiwgbHVtYSk7CiAgICBpZiAoKGx1bWFCIDwgbHVtYU1pbikgfHwgKGx1bWFCID4gbHVtYU1heCkpCiAgICB7CiAgICAgICAgZ2xfRnJhZ0RhdGFbMF0gPSB2ZWM0KHJnYkEueCwgcmdiQS55LCByZ2JBLnosIGdsX0ZyYWdEYXRhWzBdLncpOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChyZ2JCLngsIHJnYkIueSwgcmdiQi56LCBnbF9GcmFnRGF0YVswXS53KTsKICAgIH0KICAgIHZlYzMgXzI3NyA9IHRvbmVtYXBGaWxtaWMoZ2xfRnJhZ0RhdGFbMF0ueHl6KTsKICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChfMjc3LngsIF8yNzcueSwgXzI3Ny56LCBnbF9GcmFnRGF0YVswXS53KTsKfQoK",Bt.compositor_pass_fragData2="s3310:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIHZlYzIgdGV4U3RlcDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCB0ZXg7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlckQ7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjE7CgppbiB2ZWMyIHRleENvb3JkOwpvdXQgdmVjNCBmcmFnQ29sb3I7Cgp2ZWMzIHRvbmVtYXBGaWxtaWModmVjMyBjb2xvcikKewogICAgdmVjMyB4ID0gbWF4KHZlYzMoMC4wKSwgY29sb3IgLSB2ZWMzKDAuMDA0MDAwMDAwMTg5OTg5ODA1MjIxNTU3NjE3MTg3NSkpOwogICAgcmV0dXJuICh4ICogKCh4ICogNi4xOTk5OTk4MDkyNjUxMzY3MTg3NSkgKyB2ZWMzKDAuNSkpKSAvICgoeCAqICgoeCAqIDYuMTk5OTk5ODA5MjY1MTM2NzE4NzUpICsgdmVjMygxLjcwMDAwMDA0NzY4MzcxNTgyMDMxMjUpKSkgKyB2ZWMzKDAuMDU5OTk5OTk4NjU4ODk1NDkyNTUzNzEwOTM3NSkpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMyIHRleENvID0gdGV4Q29vcmQ7CiAgICB2ZWMyIHRjcmdiTlcgPSB0ZXhDbyArICh2ZWMyKC0xLjApICogdGV4U3RlcCk7CiAgICB2ZWMyIHRjcmdiTkUgPSB0ZXhDbyArICh2ZWMyKDEuMCwgLTEuMCkgKiB0ZXhTdGVwKTsKICAgIHZlYzIgdGNyZ2JTVyA9IHRleENvICsgKHZlYzIoLTEuMCwgMS4wKSAqIHRleFN0ZXApOwogICAgdmVjMiB0Y3JnYlNFID0gdGV4Q28gKyAodmVjMigxLjApICogdGV4U3RlcCk7CiAgICB2ZWMyIHRjcmdiTSA9IHZlYzIodGV4Q28pOwogICAgdmVjMyByZ2JOVyA9IHRleHR1cmUodGV4LCB0Y3JnYk5XKS54eXo7CiAgICB2ZWMzIHJnYk5FID0gdGV4dHVyZSh0ZXgsIHRjcmdiTkUpLnh5ejsKICAgIHZlYzMgcmdiU1cgPSB0ZXh0dXJlKHRleCwgdGNyZ2JTVykueHl6OwogICAgdmVjMyByZ2JTRSA9IHRleHR1cmUodGV4LCB0Y3JnYlNFKS54eXo7CiAgICB2ZWMzIHJnYk0gPSB0ZXh0dXJlKHRleCwgdGNyZ2JNKS54eXo7CiAgICB2ZWMzIGx1bWEgPSB2ZWMzKDAuMjk4OTk5OTk0OTkzMjA5ODM4ODY3MTg3NSwgMC41ODcwMDAwMTIzOTc3NjYxMTMyODEyNSwgMC4xMTQwMDAwMDAwNTk2MDQ2NDQ3NzUzOTA2MjUpOwogICAgZmxvYXQgbHVtYU5XID0gZG90KHJnYk5XLCBsdW1hKTsKICAgIGZsb2F0IGx1bWFORSA9IGRvdChyZ2JORSwgbHVtYSk7CiAgICBmbG9hdCBsdW1hU1cgPSBkb3QocmdiU1csIGx1bWEpOwogICAgZmxvYXQgbHVtYVNFID0gZG90KHJnYlNFLCBsdW1hKTsKICAgIGZsb2F0IGx1bWFNID0gZG90KHJnYk0sIGx1bWEpOwogICAgZmxvYXQgbHVtYU1pbiA9IG1pbihsdW1hTSwgbWluKG1pbihsdW1hTlcsIGx1bWFORSksIG1pbihsdW1hU1csIGx1bWFTRSkpKTsKICAgIGZsb2F0IGx1bWFNYXggPSBtYXgobHVtYU0sIG1heChtYXgobHVtYU5XLCBsdW1hTkUpLCBtYXgobHVtYVNXLCBsdW1hU0UpKSk7CiAgICB2ZWMyIGRpcjsKICAgIGRpci54ID0gLSgobHVtYU5XICsgbHVtYU5FKSAtIChsdW1hU1cgKyBsdW1hU0UpKTsKICAgIGRpci55ID0gKGx1bWFOVyArIGx1bWFTVykgLSAobHVtYU5FICsgbHVtYVNFKTsKICAgIGZsb2F0IGRpclJlZHVjZSA9IG1heCgoKChsdW1hTlcgKyBsdW1hTkUpICsgbHVtYVNXKSArIGx1bWFTRSkgKiAwLjAzMTI1LCAwLjAwNzgxMjUpOwogICAgZmxvYXQgcmNwRGlyTWluID0gMS4wIC8gKG1pbihhYnMoZGlyLngpLCBhYnMoZGlyLnkpKSArIGRpclJlZHVjZSk7CiAgICBkaXIgPSBtaW4odmVjMig4LjApLCBtYXgodmVjMigtOC4wKSwgZGlyICogcmNwRGlyTWluKSkgKiB0ZXhTdGVwOwogICAgdmVjMyByZ2JBID0gKHRleHR1cmUodGV4LCB0ZXhDbyArIChkaXIgKiAtMC4xNjY2NjY2NzE2MzM3MjAzOTc5NDkyMTg3NSkpLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDbyArIChkaXIgKiAwLjE2NjY2NjY3MTYzMzcyMDM5Nzk0OTIxODc1KSkueHl6KSAqIDAuNTsKICAgIHZlYzMgcmdiQiA9IChyZ2JBICogMC41KSArICgodGV4dHVyZSh0ZXgsIHRleENvICsgKGRpciAqIC0wLjUpKS54eXogKyB0ZXh0dXJlKHRleCwgdGV4Q28gKyAoZGlyICogMC41KSkueHl6KSAqIDAuMjUpOwogICAgZmxvYXQgbHVtYUIgPSBkb3QocmdiQiwgbHVtYSk7CiAgICBpZiAoKGx1bWFCIDwgbHVtYU1pbikgfHwgKGx1bWFCID4gbHVtYU1heCkpCiAgICB7CiAgICAgICAgZnJhZ0NvbG9yID0gdmVjNChyZ2JBLngsIHJnYkEueSwgcmdiQS56LCBmcmFnQ29sb3Iudyk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgZnJhZ0NvbG9yID0gdmVjNChyZ2JCLngsIHJnYkIueSwgcmdiQi56LCBmcmFnQ29sb3Iudyk7CiAgICB9CiAgICB2ZWMzIF8yNzcgPSB0b25lbWFwRmlsbWljKGZyYWdDb2xvci54eXopOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMjc3LngsIF8yNzcueSwgXzI3Ny56LCBmcmFnQ29sb3Iudyk7Cn0KCg",Bt.compositor_pass_vertData0="s214:I3ZlcnNpb24gMTAwCgp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSB2ZWMyIHBvczsKCnZvaWQgbWFpbigpCnsKICAgIHRleENvb3JkID0gKHBvcyAqIHZlYzIoMC41KSkgKyB2ZWMyKDAuNSk7CiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zLCAwLjAsIDEuMCk7Cn0KCg",Bt.compositor_pass_vertData1="s235:I3ZlcnNpb24gMTAwCgp2YXJ5aW5nIG1lZGl1bXAgdmVjMiB0ZXhDb29yZDsKYXR0cmlidXRlIG1lZGl1bXAgdmVjMiBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwp9Cgo",Bt.compositor_pass_vertData2="s224:I3ZlcnNpb24gMzAwIGVzCgpvdXQgbWVkaXVtcCB2ZWMyIHRleENvb3JkOwppbiBtZWRpdW1wIHZlYzIgcG9zOwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKfQoK",Bt.deferred_indirect_fragData0="s5950:I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCA6IHJlcXVpcmUKcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CnByZWNpc2lvbiBoaWdocCBpbnQ7Cgp1bmlmb3JtIGhpZ2hwIHZlYzQgc2hpcnJbN107CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGdidWZmZXIwOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBnYnVmZmVyMTsKdW5pZm9ybSBoaWdocCB2ZWMzIGV5ZTsKdW5pZm9ybSBoaWdocCB2ZWMzIGV5ZUxvb2s7CnVuaWZvcm0gaGlnaHAgdmVjMiBjYW1lcmFQcm9qOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzZW52bWFwQnJkZjsKdW5pZm9ybSBpbnQgZW52bWFwTnVtTWlwbWFwczsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgc2Vudm1hcFJhZGlhbmNlOwp1bmlmb3JtIGhpZ2hwIGZsb2F0IGVudm1hcFN0cmVuZ3RoOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzc2FvdGV4Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBnYnVmZmVyRDsKCnZhcnlpbmcgaGlnaHAgdmVjMiB0ZXhDb29yZDsKdmFyeWluZyBoaWdocCB2ZWMzIHZpZXdSYXk7CgpoaWdocCB2ZWMyIG9jdGFoZWRyb25XcmFwKGhpZ2hwIHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAtMS4wLCAodi55ID49IDAuMCkgPyAxLjAgOiAtMS4wKTsKfQoKaGlnaHAgdmVjMiB1bnBhY2tGbG9hdChoaWdocCBmbG9hdCBmKQp7CiAgICByZXR1cm4gdmVjMihmbG9vcihmKSAvIDEwMC4wLCBmcmFjdChmKSk7Cn0KCmhpZ2hwIHZlYzMgc3VyZmFjZUFsYmVkbyhoaWdocCB2ZWMzIGJhc2VDb2xvciwgaGlnaHAgZmxvYXQgbWV0YWxuZXNzKQp7CiAgICByZXR1cm4gbWl4KGJhc2VDb2xvciwgdmVjMygwLjApLCB2ZWMzKG1ldGFsbmVzcykpOwp9CgpoaWdocCB2ZWMzIGdldFBvcyhoaWdocCB2ZWMzIGV5ZV8xLCBoaWdocCB2ZWMzIGV5ZUxvb2tfMSwgaGlnaHAgdmVjMyB2aWV3UmF5XzEsIGhpZ2hwIGZsb2F0IGRlcHRoLCBoaWdocCB2ZWMyIGNhbWVyYVByb2pfMSkKewogICAgaGlnaHAgdmVjMyB2cmF5ID0gbm9ybWFsaXplKHZpZXdSYXlfMSk7CiAgICBoaWdocCBmbG9hdCBsaW5lYXJEZXB0aCA9IGNhbWVyYVByb2pfMS55IC8gKCgoZGVwdGggKiAwLjUpICsgMC41KSAtIGNhbWVyYVByb2pfMS54KTsKICAgIGhpZ2hwIGZsb2F0IHZpZXdaRGlzdCA9IGRvdChleWVMb29rXzEsIHZyYXkpOwogICAgaGlnaHAgdmVjMyB3cG9zaXRpb24gPSBleWVfMSArICh2cmF5ICogKGxpbmVhckRlcHRoIC8gdmlld1pEaXN0KSk7CiAgICByZXR1cm4gd3Bvc2l0aW9uOwp9CgpoaWdocCB2ZWMzIHN1cmZhY2VGMChoaWdocCB2ZWMzIGJhc2VDb2xvciwgaGlnaHAgZmxvYXQgbWV0YWxuZXNzKQp7CiAgICByZXR1cm4gbWl4KHZlYzMoMC4wMzk5OTk5OTkxMDU5MzAzMjgzNjkxNDA2MjUpLCBiYXNlQ29sb3IsIHZlYzMobWV0YWxuZXNzKSk7Cn0KCmhpZ2hwIHZlYzMgc2hJcnJhZGlhbmNlKGhpZ2hwIHZlYzMgbm9yKQp7CiAgICBoaWdocCB2ZWMzIGNsMDAgPSB2ZWMzKHNoaXJyWzBdLngsIHNoaXJyWzBdLnksIHNoaXJyWzBdLnopOwogICAgaGlnaHAgdmVjMyBjbDFtMSA9IHZlYzMoc2hpcnJbMF0udywgc2hpcnJbMV0ueCwgc2hpcnJbMV0ueSk7CiAgICBoaWdocCB2ZWMzIGNsMTAgPSB2ZWMzKHNoaXJyWzFdLnosIHNoaXJyWzFdLncsIHNoaXJyWzJdLngpOwogICAgaGlnaHAgdmVjMyBjbDExID0gdmVjMyhzaGlyclsyXS55LCBzaGlyclsyXS56LCBzaGlyclsyXS53KTsKICAgIGhpZ2hwIHZlYzMgY2wybTIgPSB2ZWMzKHNoaXJyWzNdLngsIHNoaXJyWzNdLnksIHNoaXJyWzNdLnopOwogICAgaGlnaHAgdmVjMyBjbDJtMSA9IHZlYzMoc2hpcnJbM10udywgc2hpcnJbNF0ueCwgc2hpcnJbNF0ueSk7CiAgICBoaWdocCB2ZWMzIGNsMjAgPSB2ZWMzKHNoaXJyWzRdLnosIHNoaXJyWzRdLncsIHNoaXJyWzVdLngpOwogICAgaGlnaHAgdmVjMyBjbDIxID0gdmVjMyhzaGlycls1XS55LCBzaGlycls1XS56LCBzaGlycls1XS53KTsKICAgIGhpZ2hwIHZlYzMgY2wyMiA9IHZlYzMoc2hpcnJbNl0ueCwgc2hpcnJbNl0ueSwgc2hpcnJbNl0ueik7CiAgICByZXR1cm4gKCgoKCgoKCgoKGNsMjIgKiAwLjQyOTA0Mjk5NDk3NjA0MzcwMTE3MTg3NSkgKiAoKG5vci55ICogbm9yLnkpIC0gKC1ub3IueiAqIC1ub3IueikpKSArICgoKGNsMjAgKiAwLjc0MzEyNTAyMTQ1NzY3MjExOTE0MDYyNSkgKiBub3IueCkgKiBub3IueCkpICsgKGNsMDAgKiAwLjg4NjIyNzAxMTY4MDYwMzAyNzM0Mzc1KSkgLSAoY2wyMCAqIDAuMjQ3NzA3OTkyNzkyMTI5NTE2NjAxNTYyNSkpICsgKCgoY2wybTIgKiAwLjg1ODA4NTk4OTk1MjA4NzQwMjM0Mzc1KSAqIG5vci55KSAqIC1ub3IueikpICsgKCgoY2wyMSAqIDAuODU4MDg1OTg5OTUyMDg3NDAyMzQzNzUpICogbm9yLnkpICogbm9yLngpKSArICgoKGNsMm0xICogMC44NTgwODU5ODk5NTIwODc0MDIzNDM3NSkgKiAtbm9yLnopICogbm9yLngpKSArICgoY2wxMSAqIDEuMDIzMzI3OTQ2NjYyOTAyODMyMDMxMjUpICogbm9yLnkpKSArICgoY2wxbTEgKiAxLjAyMzMyNzk0NjY2MjkwMjgzMjAzMTI1KSAqIC1ub3IueikpICsgKChjbDEwICogMS4wMjMzMjc5NDY2NjI5MDI4MzIwMzEyNSkgKiBub3IueCk7Cn0KCmhpZ2hwIGZsb2F0IGdldE1pcEZyb21Sb3VnaG5lc3MoaGlnaHAgZmxvYXQgcm91Z2huZXNzLCBoaWdocCBmbG9hdCBudW1NaXBtYXBzKQp7CiAgICByZXR1cm4gcm91Z2huZXNzICogbnVtTWlwbWFwczsKfQoKaGlnaHAgdmVjMiBlbnZNYXBFcXVpcmVjdChoaWdocCB2ZWMzIG5vcm1hbCkKewogICAgaGlnaHAgZmxvYXQgcGhpID0gYWNvcyhub3JtYWwueik7CiAgICBoaWdocCBmbG9hdCB0aGV0YSA9IGF0YW4oLW5vcm1hbC55LCBub3JtYWwueCkgKyAzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzU7CiAgICByZXR1cm4gdmVjMih0aGV0YSAvIDYuMjgzMTg1NDgyMDI1MTQ2NDg0Mzc1LCBwaGkgLyAzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWM0IGcwID0gdGV4dHVyZTJEKGdidWZmZXIwLCB0ZXhDb29yZCk7CiAgICBoaWdocCB2ZWMzIG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGcwLngpKSAtIGFicyhnMC55KTsKICAgIGhpZ2hwIHZlYzIgXzMxNDsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8zMTQgPSBnMC54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMzE0ID0gb2N0YWhlZHJvbldyYXAoZzAueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzMxNC54LCBfMzE0LnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgaGlnaHAgdmVjMiBtZXRyb3VnaCA9IHVucGFja0Zsb2F0KGcwLnopOwogICAgaGlnaHAgdmVjNCBnMSA9IHRleHR1cmUyRChnYnVmZmVyMSwgdGV4Q29vcmQpOwogICAgaGlnaHAgdmVjMyBhbGJlZG8gPSBzdXJmYWNlQWxiZWRvKGcxLnh5eiwgbWV0cm91Z2gueCk7CiAgICBoaWdocCBmbG9hdCBkZXB0aCA9ICgoMS4wIC0gZzAudykgKiAyLjApIC0gMS4wOwogICAgaGlnaHAgdmVjMyBwID0gZ2V0UG9zKGV5ZSwgZXllTG9vaywgdmlld1JheSwgZGVwdGgsIGNhbWVyYVByb2opOwogICAgaGlnaHAgdmVjMyB2ID0gbm9ybWFsaXplKGV5ZSAtIHApOwogICAgaGlnaHAgZmxvYXQgZG90TlYgPSBtYXgoZG90KG4sIHYpLCAwLjApOwogICAgaGlnaHAgdmVjMyBmMCA9IHN1cmZhY2VGMChnMS54eXosIG1ldHJvdWdoLngpOwogICAgaGlnaHAgdmVjMiBlbnZCUkRGID0gdGV4dHVyZTJEKHNlbnZtYXBCcmRmLCB2ZWMyKG1ldHJvdWdoLnksIDEuMCAtIGRvdE5WKSkueHk7CiAgICBoaWdocCB2ZWMzIGVudmwgPSBzaElycmFkaWFuY2Uobik7CiAgICBoaWdocCB2ZWMzIHJlZmxlY3Rpb25Xb3JsZCA9IHJlZmxlY3QoLXYsIG4pOwogICAgaGlnaHAgZmxvYXQgbG9kID0gZ2V0TWlwRnJvbVJvdWdobmVzcyhtZXRyb3VnaC55LCBmbG9hdChlbnZtYXBOdW1NaXBtYXBzKSk7CiAgICBoaWdocCB2ZWMzIHByZWZpbHRlcmVkQ29sb3IgPSB0ZXh0dXJlMkRMb2RFWFQoc2Vudm1hcFJhZGlhbmNlLCBlbnZNYXBFcXVpcmVjdChyZWZsZWN0aW9uV29ybGQpLCBsb2QpLnh5ejsKICAgIGVudmwgKj0gYWxiZWRvOwogICAgZW52bCArPSAoKHByZWZpbHRlcmVkQ29sb3IgKiAoKGYwICogZW52QlJERi54KSArIHZlYzMoZW52QlJERi55KSkpICogMS41KTsKICAgIGVudmwgKj0gKGVudm1hcFN0cmVuZ3RoICogZzEudyk7CiAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQoZW52bC54LCBlbnZsLnksIGVudmwueiwgZ2xfRnJhZ0RhdGFbMF0udyk7CiAgICBoaWdocCB2ZWMzIF80NTMgPSBnbF9GcmFnRGF0YVswXS54eXogKiB0ZXh0dXJlMkQoc3Nhb3RleCwgdGV4Q29vcmQpLng7CiAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQoXzQ1My54LCBfNDUzLnksIF80NTMueiwgZ2xfRnJhZ0RhdGFbMF0udyk7Cn0KCg",Bt.deferred_indirect_fragData1="s5472:I3ZlcnNpb24gMTAwCiNleHRlbnNpb24gR0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCA6IHJlcXVpcmUKcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CnByZWNpc2lvbiBtZWRpdW1wIGludDsKCnVuaWZvcm0gdmVjNCBzaGlycls3XTsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBnYnVmZmVyMDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBnYnVmZmVyMTsKdW5pZm9ybSB2ZWMzIGV5ZTsKdW5pZm9ybSB2ZWMzIGV5ZUxvb2s7CnVuaWZvcm0gdmVjMiBjYW1lcmFQcm9qOwp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHNlbnZtYXBCcmRmOwp1bmlmb3JtIGludCBlbnZtYXBOdW1NaXBtYXBzOwp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHNlbnZtYXBSYWRpYW5jZTsKdW5pZm9ybSBmbG9hdCBlbnZtYXBTdHJlbmd0aDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBzc2FvdGV4Owp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIGdidWZmZXJEOwoKdmFyeWluZyB2ZWMyIHRleENvb3JkOwp2YXJ5aW5nIHZlYzMgdmlld1JheTsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6IC0xLjAsICh2LnkgPj0gMC4wKSA:IDEuMCA6IC0xLjApOwp9Cgp2ZWMyIHVucGFja0Zsb2F0KGZsb2F0IGYpCnsKICAgIHJldHVybiB2ZWMyKGZsb29yKGYpIC8gMTAwLjAsIGZyYWN0KGYpKTsKfQoKdmVjMyBzdXJmYWNlQWxiZWRvKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgoYmFzZUNvbG9yLCB2ZWMzKDAuMCksIHZlYzMobWV0YWxuZXNzKSk7Cn0KCnZlYzMgZ2V0UG9zKHZlYzMgZXllXzEsIHZlYzMgZXllTG9va18xLCB2ZWMzIHZpZXdSYXlfMSwgZmxvYXQgZGVwdGgsIHZlYzIgY2FtZXJhUHJval8xKQp7CiAgICB2ZWMzIHZyYXkgPSBub3JtYWxpemUodmlld1JheV8xKTsKICAgIGZsb2F0IGxpbmVhckRlcHRoID0gY2FtZXJhUHJval8xLnkgLyAoKChkZXB0aCAqIDAuNSkgKyAwLjUpIC0gY2FtZXJhUHJval8xLngpOwogICAgZmxvYXQgdmlld1pEaXN0ID0gZG90KGV5ZUxvb2tfMSwgdnJheSk7CiAgICB2ZWMzIHdwb3NpdGlvbiA9IGV5ZV8xICsgKHZyYXkgKiAobGluZWFyRGVwdGggLyB2aWV3WkRpc3QpKTsKICAgIHJldHVybiB3cG9zaXRpb247Cn0KCnZlYzMgc3VyZmFjZUYwKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgodmVjMygwLjAzOTk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSksIGJhc2VDb2xvciwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKdmVjMyBzaElycmFkaWFuY2UodmVjMyBub3IpCnsKICAgIHZlYzMgY2wwMCA9IHZlYzMoc2hpcnJbMF0ueCwgc2hpcnJbMF0ueSwgc2hpcnJbMF0ueik7CiAgICB2ZWMzIGNsMW0xID0gdmVjMyhzaGlyclswXS53LCBzaGlyclsxXS54LCBzaGlyclsxXS55KTsKICAgIHZlYzMgY2wxMCA9IHZlYzMoc2hpcnJbMV0ueiwgc2hpcnJbMV0udywgc2hpcnJbMl0ueCk7CiAgICB2ZWMzIGNsMTEgPSB2ZWMzKHNoaXJyWzJdLnksIHNoaXJyWzJdLnosIHNoaXJyWzJdLncpOwogICAgdmVjMyBjbDJtMiA9IHZlYzMoc2hpcnJbM10ueCwgc2hpcnJbM10ueSwgc2hpcnJbM10ueik7CiAgICB2ZWMzIGNsMm0xID0gdmVjMyhzaGlyclszXS53LCBzaGlycls0XS54LCBzaGlycls0XS55KTsKICAgIHZlYzMgY2wyMCA9IHZlYzMoc2hpcnJbNF0ueiwgc2hpcnJbNF0udywgc2hpcnJbNV0ueCk7CiAgICB2ZWMzIGNsMjEgPSB2ZWMzKHNoaXJyWzVdLnksIHNoaXJyWzVdLnosIHNoaXJyWzVdLncpOwogICAgdmVjMyBjbDIyID0gdmVjMyhzaGlycls2XS54LCBzaGlycls2XS55LCBzaGlycls2XS56KTsKICAgIHJldHVybiAoKCgoKCgoKCgoY2wyMiAqIDAuNDI5MDQyOTk0OTc2MDQzNzAxMTcxODc1KSAqICgobm9yLnkgKiBub3IueSkgLSAoLW5vci56ICogLW5vci56KSkpICsgKCgoY2wyMCAqIDAuNzQzMTI1MDIxNDU3NjcyMTE5MTQwNjI1KSAqIG5vci54KSAqIG5vci54KSkgKyAoY2wwMCAqIDAuODg2MjI3MDExNjgwNjAzMDI3MzQzNzUpKSAtIChjbDIwICogMC4yNDc3MDc5OTI3OTIxMjk1MTY2MDE1NjI1KSkgKyAoKChjbDJtMiAqIDAuODU4MDg1OTg5OTUyMDg3NDAyMzQzNzUpICogbm9yLnkpICogLW5vci56KSkgKyAoKChjbDIxICogMC44NTgwODU5ODk5NTIwODc0MDIzNDM3NSkgKiBub3IueSkgKiBub3IueCkpICsgKCgoY2wybTEgKiAwLjg1ODA4NTk4OTk1MjA4NzQwMjM0Mzc1KSAqIC1ub3IueikgKiBub3IueCkpICsgKChjbDExICogMS4wMjMzMjc5NDY2NjI5MDI4MzIwMzEyNSkgKiBub3IueSkpICsgKChjbDFtMSAqIDEuMDIzMzI3OTQ2NjYyOTAyODMyMDMxMjUpICogLW5vci56KSkgKyAoKGNsMTAgKiAxLjAyMzMyNzk0NjY2MjkwMjgzMjAzMTI1KSAqIG5vci54KTsKfQoKZmxvYXQgZ2V0TWlwRnJvbVJvdWdobmVzcyhmbG9hdCByb3VnaG5lc3MsIGZsb2F0IG51bU1pcG1hcHMpCnsKICAgIHJldHVybiByb3VnaG5lc3MgKiBudW1NaXBtYXBzOwp9Cgp2ZWMyIGVudk1hcEVxdWlyZWN0KHZlYzMgbm9ybWFsKQp7CiAgICBmbG9hdCBwaGkgPSBhY29zKG5vcm1hbC56KTsKICAgIGZsb2F0IHRoZXRhID0gYXRhbigtbm9ybWFsLnksIG5vcm1hbC54KSArIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NTsKICAgIHJldHVybiB2ZWMyKHRoZXRhIC8gNi4yODMxODU0ODIwMjUxNDY0ODQzNzUsIHBoaSAvIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgZzAgPSB0ZXh0dXJlMkQoZ2J1ZmZlcjAsIHRleENvb3JkKTsKICAgIHZlYzMgbjsKICAgIG4ueiA9ICgxLjAgLSBhYnMoZzAueCkpIC0gYWJzKGcwLnkpOwogICAgdmVjMiBfMzE0OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzMxNCA9IGcwLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8zMTQgPSBvY3RhaGVkcm9uV3JhcChnMC54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMzE0LngsIF8zMTQueSwgbi56KTsKICAgIG4gPSBub3JtYWxpemUobik7CiAgICB2ZWMyIG1ldHJvdWdoID0gdW5wYWNrRmxvYXQoZzAueik7CiAgICB2ZWM0IGcxID0gdGV4dHVyZTJEKGdidWZmZXIxLCB0ZXhDb29yZCk7CiAgICB2ZWMzIGFsYmVkbyA9IHN1cmZhY2VBbGJlZG8oZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIGZsb2F0IGRlcHRoID0gKCgxLjAgLSBnMC53KSAqIDIuMCkgLSAxLjA7CiAgICB2ZWMzIHAgPSBnZXRQb3MoZXllLCBleWVMb29rLCB2aWV3UmF5LCBkZXB0aCwgY2FtZXJhUHJvaik7CiAgICB2ZWMzIHYgPSBub3JtYWxpemUoZXllIC0gcCk7CiAgICBmbG9hdCBkb3ROViA9IG1heChkb3QobiwgdiksIDAuMCk7CiAgICB2ZWMzIGYwID0gc3VyZmFjZUYwKGcxLnh5eiwgbWV0cm91Z2gueCk7CiAgICB2ZWMyIGVudkJSREYgPSB0ZXh0dXJlMkQoc2Vudm1hcEJyZGYsIHZlYzIobWV0cm91Z2gueSwgMS4wIC0gZG90TlYpKS54eTsKICAgIHZlYzMgZW52bCA9IHNoSXJyYWRpYW5jZShuKTsKICAgIHZlYzMgcmVmbGVjdGlvbldvcmxkID0gcmVmbGVjdCgtdiwgbik7CiAgICBmbG9hdCBsb2QgPSBnZXRNaXBGcm9tUm91Z2huZXNzKG1ldHJvdWdoLnksIGZsb2F0KGVudm1hcE51bU1pcG1hcHMpKTsKICAgIHZlYzMgcHJlZmlsdGVyZWRDb2xvciA9IHRleHR1cmUyRExvZEVYVChzZW52bWFwUmFkaWFuY2UsIGVudk1hcEVxdWlyZWN0KHJlZmxlY3Rpb25Xb3JsZCksIGxvZCkueHl6OwogICAgZW52bCAqPSBhbGJlZG87CiAgICBlbnZsICs9ICgocHJlZmlsdGVyZWRDb2xvciAqICgoZjAgKiBlbnZCUkRGLngpICsgdmVjMyhlbnZCUkRGLnkpKSkgKiAxLjUpOwogICAgZW52bCAqPSAoZW52bWFwU3RyZW5ndGggKiBnMS53KTsKICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChlbnZsLngsIGVudmwueSwgZW52bC56LCBnbF9GcmFnRGF0YVswXS53KTsKICAgIHZlYzMgXzQ1MyA9IGdsX0ZyYWdEYXRhWzBdLnh5eiAqIHRleHR1cmUyRChzc2FvdGV4LCB0ZXhDb29yZCkueDsKICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChfNDUzLngsIF80NTMueSwgXzQ1My56LCBnbF9GcmFnRGF0YVswXS53KTsKfQoK",Bt.deferred_indirect_fragData2="s5376:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIHZlYzQgc2hpcnJbN107CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjE7CnVuaWZvcm0gdmVjMyBleWU7CnVuaWZvcm0gdmVjMyBleWVMb29rOwp1bmlmb3JtIHZlYzIgY2FtZXJhUHJvajsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBzZW52bWFwQnJkZjsKdW5pZm9ybSBpbnQgZW52bWFwTnVtTWlwbWFwczsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBzZW52bWFwUmFkaWFuY2U7CnVuaWZvcm0gZmxvYXQgZW52bWFwU3RyZW5ndGg7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgc3Nhb3RleDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBnYnVmZmVyRDsKCmluIHZlYzIgdGV4Q29vcmQ7CmluIHZlYzMgdmlld1JheTsKb3V0IHZlYzQgZnJhZ0NvbG9yOwoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogLTEuMCwgKHYueSA%PSAwLjApID8gMS4wIDogLTEuMCk7Cn0KCnZlYzIgdW5wYWNrRmxvYXQoZmxvYXQgZikKewogICAgcmV0dXJuIHZlYzIoZmxvb3IoZikgLyAxMDAuMCwgZnJhY3QoZikpOwp9Cgp2ZWMzIHN1cmZhY2VBbGJlZG8odmVjMyBiYXNlQ29sb3IsIGZsb2F0IG1ldGFsbmVzcykKewogICAgcmV0dXJuIG1peChiYXNlQ29sb3IsIHZlYzMoMC4wKSwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKdmVjMyBnZXRQb3ModmVjMyBleWVfMSwgdmVjMyBleWVMb29rXzEsIHZlYzMgdmlld1JheV8xLCBmbG9hdCBkZXB0aCwgdmVjMiBjYW1lcmFQcm9qXzEpCnsKICAgIHZlYzMgdnJheSA9IG5vcm1hbGl6ZSh2aWV3UmF5XzEpOwogICAgZmxvYXQgbGluZWFyRGVwdGggPSBjYW1lcmFQcm9qXzEueSAvICgoKGRlcHRoICogMC41KSArIDAuNSkgLSBjYW1lcmFQcm9qXzEueCk7CiAgICBmbG9hdCB2aWV3WkRpc3QgPSBkb3QoZXllTG9va18xLCB2cmF5KTsKICAgIHZlYzMgd3Bvc2l0aW9uID0gZXllXzEgKyAodnJheSAqIChsaW5lYXJEZXB0aCAvIHZpZXdaRGlzdCkpOwogICAgcmV0dXJuIHdwb3NpdGlvbjsKfQoKdmVjMyBzdXJmYWNlRjAodmVjMyBiYXNlQ29sb3IsIGZsb2F0IG1ldGFsbmVzcykKewogICAgcmV0dXJuIG1peCh2ZWMzKDAuMDM5OTk5OTk5MTA1OTMwMzI4MzY5MTQwNjI1KSwgYmFzZUNvbG9yLCB2ZWMzKG1ldGFsbmVzcykpOwp9Cgp2ZWMzIHNoSXJyYWRpYW5jZSh2ZWMzIG5vcikKewogICAgdmVjMyBjbDAwID0gdmVjMyhzaGlyclswXS54LCBzaGlyclswXS55LCBzaGlyclswXS56KTsKICAgIHZlYzMgY2wxbTEgPSB2ZWMzKHNoaXJyWzBdLncsIHNoaXJyWzFdLngsIHNoaXJyWzFdLnkpOwogICAgdmVjMyBjbDEwID0gdmVjMyhzaGlyclsxXS56LCBzaGlyclsxXS53LCBzaGlyclsyXS54KTsKICAgIHZlYzMgY2wxMSA9IHZlYzMoc2hpcnJbMl0ueSwgc2hpcnJbMl0ueiwgc2hpcnJbMl0udyk7CiAgICB2ZWMzIGNsMm0yID0gdmVjMyhzaGlyclszXS54LCBzaGlyclszXS55LCBzaGlyclszXS56KTsKICAgIHZlYzMgY2wybTEgPSB2ZWMzKHNoaXJyWzNdLncsIHNoaXJyWzRdLngsIHNoaXJyWzRdLnkpOwogICAgdmVjMyBjbDIwID0gdmVjMyhzaGlycls0XS56LCBzaGlycls0XS53LCBzaGlycls1XS54KTsKICAgIHZlYzMgY2wyMSA9IHZlYzMoc2hpcnJbNV0ueSwgc2hpcnJbNV0ueiwgc2hpcnJbNV0udyk7CiAgICB2ZWMzIGNsMjIgPSB2ZWMzKHNoaXJyWzZdLngsIHNoaXJyWzZdLnksIHNoaXJyWzZdLnopOwogICAgcmV0dXJuICgoKCgoKCgoKChjbDIyICogMC40MjkwNDI5OTQ5NzYwNDM3MDExNzE4NzUpICogKChub3IueSAqIG5vci55KSAtICgtbm9yLnogKiAtbm9yLnopKSkgKyAoKChjbDIwICogMC43NDMxMjUwMjE0NTc2NzIxMTkxNDA2MjUpICogbm9yLngpICogbm9yLngpKSArIChjbDAwICogMC44ODYyMjcwMTE2ODA2MDMwMjczNDM3NSkpIC0gKGNsMjAgKiAwLjI0NzcwNzk5Mjc5MjEyOTUxNjYwMTU2MjUpKSArICgoKGNsMm0yICogMC44NTgwODU5ODk5NTIwODc0MDIzNDM3NSkgKiBub3IueSkgKiAtbm9yLnopKSArICgoKGNsMjEgKiAwLjg1ODA4NTk4OTk1MjA4NzQwMjM0Mzc1KSAqIG5vci55KSAqIG5vci54KSkgKyAoKChjbDJtMSAqIDAuODU4MDg1OTg5OTUyMDg3NDAyMzQzNzUpICogLW5vci56KSAqIG5vci54KSkgKyAoKGNsMTEgKiAxLjAyMzMyNzk0NjY2MjkwMjgzMjAzMTI1KSAqIG5vci55KSkgKyAoKGNsMW0xICogMS4wMjMzMjc5NDY2NjI5MDI4MzIwMzEyNSkgKiAtbm9yLnopKSArICgoY2wxMCAqIDEuMDIzMzI3OTQ2NjYyOTAyODMyMDMxMjUpICogbm9yLngpOwp9CgpmbG9hdCBnZXRNaXBGcm9tUm91Z2huZXNzKGZsb2F0IHJvdWdobmVzcywgZmxvYXQgbnVtTWlwbWFwcykKewogICAgcmV0dXJuIHJvdWdobmVzcyAqIG51bU1pcG1hcHM7Cn0KCnZlYzIgZW52TWFwRXF1aXJlY3QodmVjMyBub3JtYWwpCnsKICAgIGZsb2F0IHBoaSA9IGFjb3Mobm9ybWFsLnopOwogICAgZmxvYXQgdGhldGEgPSBhdGFuKC1ub3JtYWwueSwgbm9ybWFsLngpICsgMy4xNDE1OTI3NDEwMTI1NzMyNDIxODc1OwogICAgcmV0dXJuIHZlYzIodGhldGEgLyA2LjI4MzE4NTQ4MjAyNTE0NjQ4NDM3NSwgcGhpIC8gMy4xNDE1OTI3NDEwMTI1NzMyNDIxODc1KTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjNCBnMCA9IHRleHR1cmUoZ2J1ZmZlcjAsIHRleENvb3JkKTsKICAgIHZlYzMgbjsKICAgIG4ueiA9ICgxLjAgLSBhYnMoZzAueCkpIC0gYWJzKGcwLnkpOwogICAgdmVjMiBfMzE0OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzMxNCA9IGcwLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8zMTQgPSBvY3RhaGVkcm9uV3JhcChnMC54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMzE0LngsIF8zMTQueSwgbi56KTsKICAgIG4gPSBub3JtYWxpemUobik7CiAgICB2ZWMyIG1ldHJvdWdoID0gdW5wYWNrRmxvYXQoZzAueik7CiAgICB2ZWM0IGcxID0gdGV4dHVyZShnYnVmZmVyMSwgdGV4Q29vcmQpOwogICAgdmVjMyBhbGJlZG8gPSBzdXJmYWNlQWxiZWRvKGcxLnh5eiwgbWV0cm91Z2gueCk7CiAgICBmbG9hdCBkZXB0aCA9ICgoMS4wIC0gZzAudykgKiAyLjApIC0gMS4wOwogICAgdmVjMyBwID0gZ2V0UG9zKGV5ZSwgZXllTG9vaywgdmlld1JheSwgZGVwdGgsIGNhbWVyYVByb2opOwogICAgdmVjMyB2ID0gbm9ybWFsaXplKGV5ZSAtIHApOwogICAgZmxvYXQgZG90TlYgPSBtYXgoZG90KG4sIHYpLCAwLjApOwogICAgdmVjMyBmMCA9IHN1cmZhY2VGMChnMS54eXosIG1ldHJvdWdoLngpOwogICAgdmVjMiBlbnZCUkRGID0gdGV4dHVyZShzZW52bWFwQnJkZiwgdmVjMihtZXRyb3VnaC55LCAxLjAgLSBkb3ROVikpLnh5OwogICAgdmVjMyBlbnZsID0gc2hJcnJhZGlhbmNlKG4pOwogICAgdmVjMyByZWZsZWN0aW9uV29ybGQgPSByZWZsZWN0KC12LCBuKTsKICAgIGZsb2F0IGxvZCA9IGdldE1pcEZyb21Sb3VnaG5lc3MobWV0cm91Z2gueSwgZmxvYXQoZW52bWFwTnVtTWlwbWFwcykpOwogICAgdmVjMyBwcmVmaWx0ZXJlZENvbG9yID0gdGV4dHVyZUxvZChzZW52bWFwUmFkaWFuY2UsIGVudk1hcEVxdWlyZWN0KHJlZmxlY3Rpb25Xb3JsZCksIGxvZCkueHl6OwogICAgZW52bCAqPSBhbGJlZG87CiAgICBlbnZsICs9ICgocHJlZmlsdGVyZWRDb2xvciAqICgoZjAgKiBlbnZCUkRGLngpICsgdmVjMyhlbnZCUkRGLnkpKSkgKiAxLjUpOwogICAgZW52bCAqPSAoZW52bWFwU3RyZW5ndGggKiBnMS53KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoZW52bC54LCBlbnZsLnksIGVudmwueiwgZnJhZ0NvbG9yLncpOwogICAgdmVjMyBfNDUzID0gZnJhZ0NvbG9yLnh5eiAqIHRleHR1cmUoc3Nhb3RleCwgdGV4Q29vcmQpLng7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF80NTMueCwgXzQ1My55LCBfNDUzLnosIGZyYWdDb2xvci53KTsKfQoK",Bt.deferred_indirect_vertData0="s520:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgaW52VlA7CnVuaWZvcm0gdmVjMyBleWU7Cgp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSB2ZWMyIHBvczsKdmFyeWluZyB2ZWMzIHZpZXdSYXk7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwogICAgdmVjNCB2ID0gdmVjNChwb3MueCwgcG9zLnksIDEuMCwgMS4wKTsKICAgIHYgPSB2ZWM0KGludlZQICogdik7CiAgICB2ZWMzIF82MiA9IHYueHl6IC8gdmVjMyh2LncpOwogICAgdiA9IHZlYzQoXzYyLngsIF82Mi55LCBfNjIueiwgdi53KTsKICAgIHZpZXdSYXkgPSB2Lnh5eiAtIGV5ZTsKfQoK",Bt.deferred_indirect_vertData1="s595:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBpbnZWUDsKdW5pZm9ybSBtZWRpdW1wIHZlYzMgZXllOwoKdmFyeWluZyBtZWRpdW1wIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzIgcG9zOwp2YXJ5aW5nIG1lZGl1bXAgdmVjMyB2aWV3UmF5OwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKICAgIG1lZGl1bXAgdmVjNCB2ID0gdmVjNChwb3MueCwgcG9zLnksIDEuMCwgMS4wKTsKICAgIHYgPSB2ZWM0KGludlZQICogdik7CiAgICBtZWRpdW1wIHZlYzMgXzYyID0gdi54eXogLyB2ZWMzKHYudyk7CiAgICB2ID0gdmVjNChfNjIueCwgXzYyLnksIF82Mi56LCB2LncpOwogICAgdmlld1JheSA9IHYueHl6IC0gZXllOwp9Cgo",Bt.deferred_indirect_vertData2="s579:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBpbnZWUDsKdW5pZm9ybSBtZWRpdW1wIHZlYzMgZXllOwoKb3V0IG1lZGl1bXAgdmVjMiB0ZXhDb29yZDsKaW4gbWVkaXVtcCB2ZWMyIHBvczsKb3V0IG1lZGl1bXAgdmVjMyB2aWV3UmF5OwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKICAgIG1lZGl1bXAgdmVjNCB2ID0gdmVjNChwb3MueCwgcG9zLnksIDEuMCwgMS4wKTsKICAgIHYgPSB2ZWM0KGludlZQICogdik7CiAgICBtZWRpdW1wIHZlYzMgXzYyID0gdi54eXogLyB2ZWMzKHYudyk7CiAgICB2ID0gdmVjNChfNjIueCwgXzYyLnksIF82Mi56LCB2LncpOwogICAgdmlld1JheSA9IHYueHl6IC0gZXllOwp9Cgo",Bt.deferred_light_fragData0="s11630:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgc2hhZG93TWFwOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXJDdWJlIHNoYWRvd01hcEN1YmU7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGdidWZmZXIwOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBnYnVmZmVyMTsKdW5pZm9ybSBoaWdocCBtYXQ0IGludlZQOwp1bmlmb3JtIGhpZ2hwIHZlYzMgZXllOwp1bmlmb3JtIGhpZ2hwIHZlYzMgbGlnaHRQb3M7CnVuaWZvcm0gaW50IGxpZ2h0U2hhZG93Owp1bmlmb3JtIGhpZ2hwIG1hdDQgTFdWUDsKdW5pZm9ybSBoaWdocCBmbG9hdCBzaGFkb3dzQmlhczsKdW5pZm9ybSBoaWdocCB2ZWMyIGxpZ2h0UHJvajsKdW5pZm9ybSBpbnQgbGlnaHRUeXBlOwp1bmlmb3JtIGhpZ2hwIHZlYzMgbGlnaHREaXI7CnVuaWZvcm0gaGlnaHAgdmVjMiBzcG90bGlnaHREYXRhOwp1bmlmb3JtIGhpZ2hwIHZlYzMgbGlnaHRDb2xvcjsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlckQ7Cgp2YXJ5aW5nIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CgpoaWdocCB2ZWMyIG9jdGFoZWRyb25XcmFwKGhpZ2hwIHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAtMS4wLCAodi55ID49IDAuMCkgPyAxLjAgOiAtMS4wKTsKfQoKaGlnaHAgdmVjMyBnZXRQb3MyKGhpZ2hwIG1hdDQgaW52VlBfMSwgaGlnaHAgZmxvYXQgZGVwdGgsIGhpZ2hwIHZlYzIgY29vcmQpCnsKICAgIGhpZ2hwIHZlYzQgcG9zID0gdmVjNCgoY29vcmQgKiAyLjApIC0gdmVjMigxLjApLCBkZXB0aCwgMS4wKTsKICAgIHBvcyA9IGludlZQXzEgKiBwb3M7CiAgICBoaWdocCB2ZWMzIF80OTcgPSBwb3MueHl6IC8gdmVjMyhwb3Mudyk7CiAgICBwb3MgPSB2ZWM0KF80OTcueCwgXzQ5Ny55LCBfNDk3LnosIHBvcy53KTsKICAgIHJldHVybiBwb3MueHl6Owp9CgpoaWdocCB2ZWMyIHVucGFja0Zsb2F0KGhpZ2hwIGZsb2F0IGYpCnsKICAgIHJldHVybiB2ZWMyKGZsb29yKGYpIC8gMTAwLjAsIGZyYWN0KGYpKTsKfQoKaGlnaHAgdmVjMyBzdXJmYWNlQWxiZWRvKGhpZ2hwIHZlYzMgYmFzZUNvbG9yLCBoaWdocCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgoYmFzZUNvbG9yLCB2ZWMzKDAuMCksIHZlYzMobWV0YWxuZXNzKSk7Cn0KCmhpZ2hwIHZlYzMgc3VyZmFjZUYwKGhpZ2hwIHZlYzMgYmFzZUNvbG9yLCBoaWdocCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgodmVjMygwLjAzOTk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSksIGJhc2VDb2xvciwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKaGlnaHAgZmxvYXQgc2hhZG93Q29tcGFyZShoaWdocCB2ZWMyIHV2LCBoaWdocCBmbG9hdCBjb21wYXJlKQp7CiAgICBoaWdocCBmbG9hdCBkZXB0aCA9IHRleHR1cmUyRChzaGFkb3dNYXAsIHV2KS54OwogICAgcmV0dXJuIHN0ZXAoY29tcGFyZSwgZGVwdGgpOwp9CgpoaWdocCBmbG9hdCBzaGFkb3dMZXJwKGhpZ2hwIHZlYzIgdXYsIGhpZ2hwIGZsb2F0IGNvbXBhcmUsIGhpZ2hwIHZlYzIgc21TaXplKQp7CiAgICBoaWdocCB2ZWMyIHRleGVsU2l6ZSA9IHZlYzIoMS4wKSAvIHNtU2l6ZTsKICAgIGhpZ2hwIHZlYzIgZiA9IGZyYWN0KCh1diAqIHNtU2l6ZSkgKyB2ZWMyKDAuNSkpOwogICAgaGlnaHAgdmVjMiBjZW50cm9pZFVWID0gZmxvb3IoKHV2ICogc21TaXplKSArIHZlYzIoMC41KSkgLyBzbVNpemU7CiAgICBoaWdocCBmbG9hdCBsYiA9IHNoYWRvd0NvbXBhcmUoY2VudHJvaWRVViwgY29tcGFyZSk7CiAgICBoaWdocCBmbG9hdCBsdCA9IHNoYWRvd0NvbXBhcmUoY2VudHJvaWRVViArICh0ZXhlbFNpemUgKiB2ZWMyKDAuMCwgMS4wKSksIGNvbXBhcmUpOwogICAgaGlnaHAgZmxvYXQgcmIgPSBzaGFkb3dDb21wYXJlKGNlbnRyb2lkVVYgKyAodGV4ZWxTaXplICogdmVjMigxLjAsIDAuMCkpLCBjb21wYXJlKTsKICAgIGhpZ2hwIGZsb2F0IHJ0ID0gc2hhZG93Q29tcGFyZShjZW50cm9pZFVWICsgdGV4ZWxTaXplLCBjb21wYXJlKTsKICAgIGhpZ2hwIGZsb2F0IGEgPSBtaXgobGIsIGx0LCBmLnkpOwogICAgaGlnaHAgZmxvYXQgYiA9IG1peChyYiwgcnQsIGYueSk7CiAgICBoaWdocCBmbG9hdCBjID0gbWl4KGEsIGIsIGYueCk7CiAgICByZXR1cm4gYzsKfQoKaGlnaHAgZmxvYXQgUENGKGhpZ2hwIHZlYzIgdXYsIGhpZ2hwIGZsb2F0IGNvbXBhcmUsIGhpZ2hwIHZlYzIgc21TaXplKQp7CiAgICBoaWdocCBmbG9hdCByZXN1bHQgPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoLTEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYgKyAodmVjMigtMS4wLCAwLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoLTEuMCwgMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diArICh2ZWMyKDAuMCwgLTEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYsIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diArICh2ZWMyKDAuMCwgMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diArICh2ZWMyKDEuMCwgLTEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYgKyAodmVjMigxLjAsIDAuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYgKyAodmVjMigxLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJldHVybiByZXN1bHQgLyA5LjA7Cn0KCmhpZ2hwIGZsb2F0IHNoYWRvd1Rlc3QoaGlnaHAgdmVjMyBsUG9zLCBoaWdocCBmbG9hdCBzaGFkb3dzQmlhc18xLCBoaWdocCB2ZWMyIHNtU2l6ZSkKewogICAgYm9vbCBfNDM5ID0gbFBvcy54IDwgMC4wOwogICAgYm9vbCBfNDQ1OwogICAgaWYgKCFfNDM5KQogICAgewogICAgICAgIF80NDUgPSBsUG9zLnkgPCAwLjA7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzQ0NSA9IF80Mzk7CiAgICB9CiAgICBib29sIF80NTE7CiAgICBpZiAoIV80NDUpCiAgICB7CiAgICAgICAgXzQ1MSA9IGxQb3MueCA%IDEuMDsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNDUxID0gXzQ0NTsKICAgIH0KICAgIGJvb2wgXzQ1NzsKICAgIGlmICghXzQ1MSkKICAgIHsKICAgICAgICBfNDU3ID0gbFBvcy55ID4gMS4wOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF80NTcgPSBfNDUxOwogICAgfQogICAgaWYgKF80NTcpCiAgICB7CiAgICAgICAgcmV0dXJuIDEuMDsKICAgIH0KICAgIHJldHVybiBQQ0YobFBvcy54eSwgbFBvcy56IC0gc2hhZG93c0JpYXNfMSwgc21TaXplKTsKfQoKaGlnaHAgZmxvYXQgbHBUb0RlcHRoKGlub3V0IGhpZ2hwIHZlYzMgbHAsIGhpZ2hwIHZlYzIgbGlnaHRQcm9qXzEpCnsKICAgIGxwID0gYWJzKGxwKTsKICAgIGhpZ2hwIGZsb2F0IHpjb21wID0gbWF4KGxwLngsIG1heChscC55LCBscC56KSk7CiAgICB6Y29tcCA9IGxpZ2h0UHJval8xLnggLSAobGlnaHRQcm9qXzEueSAvIHpjb21wKTsKICAgIHJldHVybiAoemNvbXAgKiAwLjUpICsgMC41Owp9CgpoaWdocCBmbG9hdCBQQ0ZDdWJlKGhpZ2hwIHZlYzMgbHAsIGlub3V0IGhpZ2hwIHZlYzMgbWwsIGhpZ2hwIGZsb2F0IGJpYXMsIGhpZ2hwIHZlYzIgbGlnaHRQcm9qXzEsIGhpZ2hwIHZlYzMgbikKewogICAgaGlnaHAgdmVjMyBwYXJhbSA9IGxwIC0gKG4gKiAwLjAwMzAwMDAwMDAyNjA3NzAzMjA4OTIzMzM5ODQzNzUpOwogICAgaGlnaHAgZmxvYXQgXzMzMiA9IGxwVG9EZXB0aChwYXJhbSwgbGlnaHRQcm9qXzEpOwogICAgaGlnaHAgZmxvYXQgY29tcGFyZSA9IF8zMzIgLSAoYmlhcyAqIDAuNDAwMDAwMDA1OTYwNDY0NDc3NTM5MDYyNSk7CiAgICBtbCArPSAobiAqIDAuMDAzMDAwMDAwMDI2MDc3MDMyMDg5MjMzMzk4NDM3NSk7CiAgICBoaWdocCBmbG9hdCByZXN1bHQgPSBzdGVwKGNvbXBhcmUsIHRleHR1cmVDdWJlKHNoYWRvd01hcEN1YmUsIG1sKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmVDdWJlKHNoYWRvd01hcEN1YmUsIG1sICsgdmVjMygwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZUN1YmUoc2hhZG93TWFwQ3ViZSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlQ3ViZShzaGFkb3dNYXBDdWJlLCBtbCArIHZlYzMoMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmVDdWJlKHNoYWRvd01hcEN1YmUsIG1sICsgdmVjMygwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZUN1YmUoc2hhZG93TWFwQ3ViZSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZUN1YmUoc2hhZG93TWFwQ3ViZSwgbWwgKyB2ZWMzKDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZUN1YmUoc2hhZG93TWFwQ3ViZSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZUN1YmUoc2hhZG93TWFwQ3ViZSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0IC89IDkuMDsKICAgIHJldHVybiByZXN1bHQ7Cn0KCmhpZ2hwIGZsb2F0IGF0dGVudWF0ZShoaWdocCBmbG9hdCBkaXN0KQp7CiAgICByZXR1cm4gMS4wIC8gKGRpc3QgKiBkaXN0KTsKfQoKaGlnaHAgdmVjMyBsYW1iZXJ0RGlmZnVzZUJSREYoaGlnaHAgdmVjMyBhbGJlZG8sIGhpZ2hwIGZsb2F0IG5sKQp7CiAgICByZXR1cm4gYWxiZWRvICogbWF4KDAuMCwgbmwpOwp9CgpoaWdocCBmbG9hdCBkX2dneChoaWdocCBmbG9hdCBuaCwgaGlnaHAgZmxvYXQgYSkKewogICAgaGlnaHAgZmxvYXQgYTIgPSBhICogYTsKICAgIGhpZ2hwIGZsb2F0IGRlbm9tID0gcG93KCgobmggKiBuaCkgKiAoYTIgLSAxLjApKSArIDEuMCwgMi4wKTsKICAgIHJldHVybiAoYTIgKiAwLjMxODMwOTg3MzM0MjUxNDAzODA4NTkzNzUpIC8gZGVub207Cn0KCmhpZ2hwIGZsb2F0IHZfc21pdGhzY2hsaWNrKGhpZ2hwIGZsb2F0IG5sLCBoaWdocCBmbG9hdCBudiwgaGlnaHAgZmxvYXQgYSkKewogICAgcmV0dXJuIDEuMCAvICgoKG5sICogKDEuMCAtIGEpKSArIGEpICogKChudiAqICgxLjAgLSBhKSkgKyBhKSk7Cn0KCmhpZ2hwIHZlYzMgZl9zY2hsaWNrKGhpZ2hwIHZlYzMgZjAsIGhpZ2hwIGZsb2F0IHZoKQp7CiAgICByZXR1cm4gZjAgKyAoKHZlYzMoMS4wKSAtIGYwKSAqIGV4cDIoKCgtNS41NTQ3Mjk5Mzg1MDcwODAwNzgxMjUgKiB2aCkgLSA2Ljk4MzE2MDAxODkyMDg5ODQzNzUpICogdmgpKTsKfQoKaGlnaHAgdmVjMyBzcGVjdWxhckJSREYoaGlnaHAgdmVjMyBmMCwgaGlnaHAgZmxvYXQgcm91Z2huZXNzLCBoaWdocCBmbG9hdCBubCwgaGlnaHAgZmxvYXQgbmgsIGhpZ2hwIGZsb2F0IG52LCBoaWdocCBmbG9hdCB2aCkKewogICAgaGlnaHAgZmxvYXQgYSA9IHJvdWdobmVzcyAqIHJvdWdobmVzczsKICAgIHJldHVybiAoZl9zY2hsaWNrKGYwLCB2aCkgKiAoZF9nZ3gobmgsIGEpICogY2xhbXAodl9zbWl0aHNjaGxpY2sobmwsIG52LCBhKSwgMC4wLCAxLjApKSkgLyB2ZWMzKDQuMCk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzIgdGV4Q29vcmQgPSB3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udyk7CiAgICB0ZXhDb29yZCA9ICh0ZXhDb29yZCAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWM0IGcwID0gdGV4dHVyZTJEKGdidWZmZXIwLCB0ZXhDb29yZCk7CiAgICBoaWdocCB2ZWM0IGcxID0gdGV4dHVyZTJEKGdidWZmZXIxLCB0ZXhDb29yZCk7CiAgICBoaWdocCBmbG9hdCBkZXB0aCA9ICgoMS4wIC0gZzAudykgKiAyLjApIC0gMS4wOwogICAgaGlnaHAgdmVjMyBuOwogICAgbi56ID0gKDEuMCAtIGFicyhnMC54KSkgLSBhYnMoZzAueSk7CiAgICBoaWdocCB2ZWMyIF81NTE7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfNTUxID0gZzAueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzU1MSA9IG9jdGFoZWRyb25XcmFwKGcwLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF81NTEueCwgXzU1MS55LCBuLnopOwogICAgbiA9IG5vcm1hbGl6ZShuKTsKICAgIGhpZ2hwIHZlYzMgcCA9IGdldFBvczIoaW52VlAsIGRlcHRoLCB0ZXhDb29yZCk7CiAgICBoaWdocCB2ZWMyIG1ldHJvdWdoID0gdW5wYWNrRmxvYXQoZzAueik7CiAgICBoaWdocCB2ZWMzIHYgPSBub3JtYWxpemUoZXllIC0gcCk7CiAgICBoaWdocCBmbG9hdCBkb3ROViA9IGRvdChuLCB2KTsKICAgIGhpZ2hwIHZlYzMgYWxiZWRvID0gc3VyZmFjZUFsYmVkbyhnMS54eXosIG1ldHJvdWdoLngpOwogICAgaGlnaHAgdmVjMyBmMCA9IHN1cmZhY2VGMChnMS54eXosIG1ldHJvdWdoLngpOwogICAgaGlnaHAgdmVjMyBscCA9IGxpZ2h0UG9zIC0gcDsKICAgIGhpZ2hwIHZlYzMgbCA9IG5vcm1hbGl6ZShscCk7CiAgICBoaWdocCB2ZWMzIGggPSBub3JtYWxpemUodiArIGwpOwogICAgaGlnaHAgZmxvYXQgZG90TkggPSBkb3QobiwgaCk7CiAgICBoaWdocCBmbG9hdCBkb3RWSCA9IGRvdCh2LCBoKTsKICAgIGhpZ2hwIGZsb2F0IGRvdE5MID0gZG90KG4sIGwpOwogICAgaGlnaHAgZmxvYXQgdmlzaWJpbGl0eSA9IDEuMDsKICAgIGlmIChsaWdodFNoYWRvdyA9PSAxKQogICAgewogICAgICAgIGhpZ2hwIHZlYzQgbFBvcyA9IExXVlAgKiB2ZWM0KHAsIDEuMCk7CiAgICAgICAgaWYgKGxQb3MudyA%IDAuMCkKICAgICAgICB7CiAgICAgICAgICAgIHZpc2liaWxpdHkgPSBzaGFkb3dUZXN0KGxQb3MueHl6IC8gdmVjMyhsUG9zLncpLCBzaGFkb3dzQmlhcywgdmVjMigxMDI0LjApKTsKICAgICAgICB9CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgaWYgKGxpZ2h0U2hhZG93ID09IDIpCiAgICAgICAgewogICAgICAgICAgICBoaWdocCB2ZWMzIHBhcmFtID0gLWw7CiAgICAgICAgICAgIGhpZ2hwIGZsb2F0IF82NzcgPSBQQ0ZDdWJlKGxwLCBwYXJhbSwgc2hhZG93c0JpYXMsIGxpZ2h0UHJvaiwgbik7CiAgICAgICAgICAgIHZpc2liaWxpdHkgPSBfNjc3OwogICAgICAgIH0KICAgIH0KICAgIHZpc2liaWxpdHkgKj0gYXR0ZW51YXRlKGRpc3RhbmNlKHAsIGxpZ2h0UG9zKSk7CiAgICBpZiAobGlnaHRUeXBlID09IDIpCiAgICB7CiAgICAgICAgaGlnaHAgZmxvYXQgc3BvdEVmZmVjdCA9IGRvdChsaWdodERpciwgbCk7CiAgICAgICAgaWYgKHNwb3RFZmZlY3QgPCBzcG90bGlnaHREYXRhLngpCiAgICAgICAgewogICAgICAgICAgICB2aXNpYmlsaXR5ICo9IHNtb290aHN0ZXAoc3BvdGxpZ2h0RGF0YS55LCBzcG90bGlnaHREYXRhLngsIHNwb3RFZmZlY3QpOwogICAgICAgIH0KICAgIH0KICAgIGhpZ2hwIHZlYzMgXzcyMiA9IGxhbWJlcnREaWZmdXNlQlJERihhbGJlZG8sIGRvdE5MKSArIHNwZWN1bGFyQlJERihmMCwgbWV0cm91Z2gueSwgZG90TkwsIGRvdE5ILCBkb3ROViwgZG90VkgpOwogICAgZ2xfRnJhZ0RhdGFbMF0gPSB2ZWM0KF83MjIueCwgXzcyMi55LCBfNzIyLnosIGdsX0ZyYWdEYXRhWzBdLncpOwogICAgaGlnaHAgdmVjMyBfNzI5ID0gZ2xfRnJhZ0RhdGFbMF0ueHl6ICogbGlnaHRDb2xvcjsKICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChfNzI5LngsIF83MjkueSwgXzcyOS56LCBnbF9GcmFnRGF0YVswXS53KTsKICAgIGhpZ2hwIHZlYzMgXzczNSA9IGdsX0ZyYWdEYXRhWzBdLnh5eiAqIHZpc2liaWxpdHk7CiAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQoXzczNS54LCBfNzM1LnksIF83MzUueiwgZ2xfRnJhZ0RhdGFbMF0udyk7Cn0KCg",Bt.deferred_light_fragData1="s10702:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHNoYWRvd01hcDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXJDdWJlIHNoYWRvd01hcEN1YmU7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjE7CnVuaWZvcm0gbWF0NCBpbnZWUDsKdW5pZm9ybSB2ZWMzIGV5ZTsKdW5pZm9ybSB2ZWMzIGxpZ2h0UG9zOwp1bmlmb3JtIGludCBsaWdodFNoYWRvdzsKdW5pZm9ybSBtYXQ0IExXVlA7CnVuaWZvcm0gZmxvYXQgc2hhZG93c0JpYXM7CnVuaWZvcm0gdmVjMiBsaWdodFByb2o7CnVuaWZvcm0gaW50IGxpZ2h0VHlwZTsKdW5pZm9ybSB2ZWMzIGxpZ2h0RGlyOwp1bmlmb3JtIHZlYzIgc3BvdGxpZ2h0RGF0YTsKdW5pZm9ybSB2ZWMzIGxpZ2h0Q29sb3I7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlckQ7Cgp2YXJ5aW5nIHZlYzQgd3ZwcG9zaXRpb247Cgp2ZWMyIG9jdGFoZWRyb25XcmFwKHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAtMS4wLCAodi55ID49IDAuMCkgPyAxLjAgOiAtMS4wKTsKfQoKdmVjMyBnZXRQb3MyKG1hdDQgaW52VlBfMSwgZmxvYXQgZGVwdGgsIHZlYzIgY29vcmQpCnsKICAgIHZlYzQgcG9zID0gdmVjNCgoY29vcmQgKiAyLjApIC0gdmVjMigxLjApLCBkZXB0aCwgMS4wKTsKICAgIHBvcyA9IGludlZQXzEgKiBwb3M7CiAgICB2ZWMzIF80OTcgPSBwb3MueHl6IC8gdmVjMyhwb3Mudyk7CiAgICBwb3MgPSB2ZWM0KF80OTcueCwgXzQ5Ny55LCBfNDk3LnosIHBvcy53KTsKICAgIHJldHVybiBwb3MueHl6Owp9Cgp2ZWMyIHVucGFja0Zsb2F0KGZsb2F0IGYpCnsKICAgIHJldHVybiB2ZWMyKGZsb29yKGYpIC8gMTAwLjAsIGZyYWN0KGYpKTsKfQoKdmVjMyBzdXJmYWNlQWxiZWRvKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgoYmFzZUNvbG9yLCB2ZWMzKDAuMCksIHZlYzMobWV0YWxuZXNzKSk7Cn0KCnZlYzMgc3VyZmFjZUYwKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgodmVjMygwLjAzOTk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSksIGJhc2VDb2xvciwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKZmxvYXQgc2hhZG93Q29tcGFyZSh2ZWMyIHV2LCBmbG9hdCBjb21wYXJlKQp7CiAgICBmbG9hdCBkZXB0aCA9IHRleHR1cmUyRChzaGFkb3dNYXAsIHV2KS54OwogICAgcmV0dXJuIHN0ZXAoY29tcGFyZSwgZGVwdGgpOwp9CgpmbG9hdCBzaGFkb3dMZXJwKHZlYzIgdXYsIGZsb2F0IGNvbXBhcmUsIHZlYzIgc21TaXplKQp7CiAgICB2ZWMyIHRleGVsU2l6ZSA9IHZlYzIoMS4wKSAvIHNtU2l6ZTsKICAgIHZlYzIgZiA9IGZyYWN0KCh1diAqIHNtU2l6ZSkgKyB2ZWMyKDAuNSkpOwogICAgdmVjMiBjZW50cm9pZFVWID0gZmxvb3IoKHV2ICogc21TaXplKSArIHZlYzIoMC41KSkgLyBzbVNpemU7CiAgICBmbG9hdCBsYiA9IHNoYWRvd0NvbXBhcmUoY2VudHJvaWRVViwgY29tcGFyZSk7CiAgICBmbG9hdCBsdCA9IHNoYWRvd0NvbXBhcmUoY2VudHJvaWRVViArICh0ZXhlbFNpemUgKiB2ZWMyKDAuMCwgMS4wKSksIGNvbXBhcmUpOwogICAgZmxvYXQgcmIgPSBzaGFkb3dDb21wYXJlKGNlbnRyb2lkVVYgKyAodGV4ZWxTaXplICogdmVjMigxLjAsIDAuMCkpLCBjb21wYXJlKTsKICAgIGZsb2F0IHJ0ID0gc2hhZG93Q29tcGFyZShjZW50cm9pZFVWICsgdGV4ZWxTaXplLCBjb21wYXJlKTsKICAgIGZsb2F0IGEgPSBtaXgobGIsIGx0LCBmLnkpOwogICAgZmxvYXQgYiA9IG1peChyYiwgcnQsIGYueSk7CiAgICBmbG9hdCBjID0gbWl4KGEsIGIsIGYueCk7CiAgICByZXR1cm4gYzsKfQoKZmxvYXQgUENGKHZlYzIgdXYsIGZsb2F0IGNvbXBhcmUsIHZlYzIgc21TaXplKQp7CiAgICBmbG9hdCByZXN1bHQgPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoLTEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYgKyAodmVjMigtMS4wLCAwLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoLTEuMCwgMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diArICh2ZWMyKDAuMCwgLTEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYsIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diArICh2ZWMyKDAuMCwgMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diArICh2ZWMyKDEuMCwgLTEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYgKyAodmVjMigxLjAsIDAuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYgKyAodmVjMigxLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJldHVybiByZXN1bHQgLyA5LjA7Cn0KCmZsb2F0IHNoYWRvd1Rlc3QodmVjMyBsUG9zLCBmbG9hdCBzaGFkb3dzQmlhc18xLCB2ZWMyIHNtU2l6ZSkKewogICAgYm9vbCBfNDM5ID0gbFBvcy54IDwgMC4wOwogICAgYm9vbCBfNDQ1OwogICAgaWYgKCFfNDM5KQogICAgewogICAgICAgIF80NDUgPSBsUG9zLnkgPCAwLjA7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzQ0NSA9IF80Mzk7CiAgICB9CiAgICBib29sIF80NTE7CiAgICBpZiAoIV80NDUpCiAgICB7CiAgICAgICAgXzQ1MSA9IGxQb3MueCA%IDEuMDsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNDUxID0gXzQ0NTsKICAgIH0KICAgIGJvb2wgXzQ1NzsKICAgIGlmICghXzQ1MSkKICAgIHsKICAgICAgICBfNDU3ID0gbFBvcy55ID4gMS4wOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF80NTcgPSBfNDUxOwogICAgfQogICAgaWYgKF80NTcpCiAgICB7CiAgICAgICAgcmV0dXJuIDEuMDsKICAgIH0KICAgIHJldHVybiBQQ0YobFBvcy54eSwgbFBvcy56IC0gc2hhZG93c0JpYXNfMSwgc21TaXplKTsKfQoKZmxvYXQgbHBUb0RlcHRoKGlub3V0IHZlYzMgbHAsIHZlYzIgbGlnaHRQcm9qXzEpCnsKICAgIGxwID0gYWJzKGxwKTsKICAgIGZsb2F0IHpjb21wID0gbWF4KGxwLngsIG1heChscC55LCBscC56KSk7CiAgICB6Y29tcCA9IGxpZ2h0UHJval8xLnggLSAobGlnaHRQcm9qXzEueSAvIHpjb21wKTsKICAgIHJldHVybiAoemNvbXAgKiAwLjUpICsgMC41Owp9CgpmbG9hdCBQQ0ZDdWJlKHZlYzMgbHAsIGlub3V0IHZlYzMgbWwsIGZsb2F0IGJpYXMsIHZlYzIgbGlnaHRQcm9qXzEsIHZlYzMgbikKewogICAgdmVjMyBwYXJhbSA9IGxwIC0gKG4gKiAwLjAwMzAwMDAwMDAyNjA3NzAzMjA4OTIzMzM5ODQzNzUpOwogICAgZmxvYXQgXzMzMiA9IGxwVG9EZXB0aChwYXJhbSwgbGlnaHRQcm9qXzEpOwogICAgZmxvYXQgY29tcGFyZSA9IF8zMzIgLSAoYmlhcyAqIDAuNDAwMDAwMDA1OTYwNDY0NDc3NTM5MDYyNSk7CiAgICBtbCArPSAobiAqIDAuMDAzMDAwMDAwMDI2MDc3MDMyMDg5MjMzMzk4NDM3NSk7CiAgICBmbG9hdCByZXN1bHQgPSBzdGVwKGNvbXBhcmUsIHRleHR1cmVDdWJlKHNoYWRvd01hcEN1YmUsIG1sKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmVDdWJlKHNoYWRvd01hcEN1YmUsIG1sICsgdmVjMygwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZUN1YmUoc2hhZG93TWFwQ3ViZSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlQ3ViZShzaGFkb3dNYXBDdWJlLCBtbCArIHZlYzMoMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmVDdWJlKHNoYWRvd01hcEN1YmUsIG1sICsgdmVjMygwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZUN1YmUoc2hhZG93TWFwQ3ViZSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZUN1YmUoc2hhZG93TWFwQ3ViZSwgbWwgKyB2ZWMzKDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZUN1YmUoc2hhZG93TWFwQ3ViZSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZUN1YmUoc2hhZG93TWFwQ3ViZSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0IC89IDkuMDsKICAgIHJldHVybiByZXN1bHQ7Cn0KCmZsb2F0IGF0dGVudWF0ZShmbG9hdCBkaXN0KQp7CiAgICByZXR1cm4gMS4wIC8gKGRpc3QgKiBkaXN0KTsKfQoKdmVjMyBsYW1iZXJ0RGlmZnVzZUJSREYodmVjMyBhbGJlZG8sIGZsb2F0IG5sKQp7CiAgICByZXR1cm4gYWxiZWRvICogbWF4KDAuMCwgbmwpOwp9CgpmbG9hdCBkX2dneChmbG9hdCBuaCwgZmxvYXQgYSkKewogICAgZmxvYXQgYTIgPSBhICogYTsKICAgIGZsb2F0IGRlbm9tID0gcG93KCgobmggKiBuaCkgKiAoYTIgLSAxLjApKSArIDEuMCwgMi4wKTsKICAgIHJldHVybiAoYTIgKiAwLjMxODMwOTg3MzM0MjUxNDAzODA4NTkzNzUpIC8gZGVub207Cn0KCmZsb2F0IHZfc21pdGhzY2hsaWNrKGZsb2F0IG5sLCBmbG9hdCBudiwgZmxvYXQgYSkKewogICAgcmV0dXJuIDEuMCAvICgoKG5sICogKDEuMCAtIGEpKSArIGEpICogKChudiAqICgxLjAgLSBhKSkgKyBhKSk7Cn0KCnZlYzMgZl9zY2hsaWNrKHZlYzMgZjAsIGZsb2F0IHZoKQp7CiAgICByZXR1cm4gZjAgKyAoKHZlYzMoMS4wKSAtIGYwKSAqIGV4cDIoKCgtNS41NTQ3Mjk5Mzg1MDcwODAwNzgxMjUgKiB2aCkgLSA2Ljk4MzE2MDAxODkyMDg5ODQzNzUpICogdmgpKTsKfQoKdmVjMyBzcGVjdWxhckJSREYodmVjMyBmMCwgZmxvYXQgcm91Z2huZXNzLCBmbG9hdCBubCwgZmxvYXQgbmgsIGZsb2F0IG52LCBmbG9hdCB2aCkKewogICAgZmxvYXQgYSA9IHJvdWdobmVzcyAqIHJvdWdobmVzczsKICAgIHJldHVybiAoZl9zY2hsaWNrKGYwLCB2aCkgKiAoZF9nZ3gobmgsIGEpICogY2xhbXAodl9zbWl0aHNjaGxpY2sobmwsIG52LCBhKSwgMC4wLCAxLjApKSkgLyB2ZWMzKDQuMCk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzIgdGV4Q29vcmQgPSB3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udyk7CiAgICB0ZXhDb29yZCA9ICh0ZXhDb29yZCAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICB2ZWM0IGcwID0gdGV4dHVyZTJEKGdidWZmZXIwLCB0ZXhDb29yZCk7CiAgICB2ZWM0IGcxID0gdGV4dHVyZTJEKGdidWZmZXIxLCB0ZXhDb29yZCk7CiAgICBmbG9hdCBkZXB0aCA9ICgoMS4wIC0gZzAudykgKiAyLjApIC0gMS4wOwogICAgdmVjMyBuOwogICAgbi56ID0gKDEuMCAtIGFicyhnMC54KSkgLSBhYnMoZzAueSk7CiAgICB2ZWMyIF81NTE7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfNTUxID0gZzAueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzU1MSA9IG9jdGFoZWRyb25XcmFwKGcwLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF81NTEueCwgXzU1MS55LCBuLnopOwogICAgbiA9IG5vcm1hbGl6ZShuKTsKICAgIHZlYzMgcCA9IGdldFBvczIoaW52VlAsIGRlcHRoLCB0ZXhDb29yZCk7CiAgICB2ZWMyIG1ldHJvdWdoID0gdW5wYWNrRmxvYXQoZzAueik7CiAgICB2ZWMzIHYgPSBub3JtYWxpemUoZXllIC0gcCk7CiAgICBmbG9hdCBkb3ROViA9IGRvdChuLCB2KTsKICAgIHZlYzMgYWxiZWRvID0gc3VyZmFjZUFsYmVkbyhnMS54eXosIG1ldHJvdWdoLngpOwogICAgdmVjMyBmMCA9IHN1cmZhY2VGMChnMS54eXosIG1ldHJvdWdoLngpOwogICAgdmVjMyBscCA9IGxpZ2h0UG9zIC0gcDsKICAgIHZlYzMgbCA9IG5vcm1hbGl6ZShscCk7CiAgICB2ZWMzIGggPSBub3JtYWxpemUodiArIGwpOwogICAgZmxvYXQgZG90TkggPSBkb3QobiwgaCk7CiAgICBmbG9hdCBkb3RWSCA9IGRvdCh2LCBoKTsKICAgIGZsb2F0IGRvdE5MID0gZG90KG4sIGwpOwogICAgZmxvYXQgdmlzaWJpbGl0eSA9IDEuMDsKICAgIGlmIChsaWdodFNoYWRvdyA9PSAxKQogICAgewogICAgICAgIHZlYzQgbFBvcyA9IExXVlAgKiB2ZWM0KHAsIDEuMCk7CiAgICAgICAgaWYgKGxQb3MudyA%IDAuMCkKICAgICAgICB7CiAgICAgICAgICAgIHZpc2liaWxpdHkgPSBzaGFkb3dUZXN0KGxQb3MueHl6IC8gdmVjMyhsUG9zLncpLCBzaGFkb3dzQmlhcywgdmVjMigxMDI0LjApKTsKICAgICAgICB9CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgaWYgKGxpZ2h0U2hhZG93ID09IDIpCiAgICAgICAgewogICAgICAgICAgICB2ZWMzIHBhcmFtID0gLWw7CiAgICAgICAgICAgIGZsb2F0IF82NzcgPSBQQ0ZDdWJlKGxwLCBwYXJhbSwgc2hhZG93c0JpYXMsIGxpZ2h0UHJvaiwgbik7CiAgICAgICAgICAgIHZpc2liaWxpdHkgPSBfNjc3OwogICAgICAgIH0KICAgIH0KICAgIHZpc2liaWxpdHkgKj0gYXR0ZW51YXRlKGRpc3RhbmNlKHAsIGxpZ2h0UG9zKSk7CiAgICBpZiAobGlnaHRUeXBlID09IDIpCiAgICB7CiAgICAgICAgZmxvYXQgc3BvdEVmZmVjdCA9IGRvdChsaWdodERpciwgbCk7CiAgICAgICAgaWYgKHNwb3RFZmZlY3QgPCBzcG90bGlnaHREYXRhLngpCiAgICAgICAgewogICAgICAgICAgICB2aXNpYmlsaXR5ICo9IHNtb290aHN0ZXAoc3BvdGxpZ2h0RGF0YS55LCBzcG90bGlnaHREYXRhLngsIHNwb3RFZmZlY3QpOwogICAgICAgIH0KICAgIH0KICAgIHZlYzMgXzcyMiA9IGxhbWJlcnREaWZmdXNlQlJERihhbGJlZG8sIGRvdE5MKSArIHNwZWN1bGFyQlJERihmMCwgbWV0cm91Z2gueSwgZG90TkwsIGRvdE5ILCBkb3ROViwgZG90VkgpOwogICAgZ2xfRnJhZ0RhdGFbMF0gPSB2ZWM0KF83MjIueCwgXzcyMi55LCBfNzIyLnosIGdsX0ZyYWdEYXRhWzBdLncpOwogICAgdmVjMyBfNzI5ID0gZ2xfRnJhZ0RhdGFbMF0ueHl6ICogbGlnaHRDb2xvcjsKICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChfNzI5LngsIF83MjkueSwgXzcyOS56LCBnbF9GcmFnRGF0YVswXS53KTsKICAgIHZlYzMgXzczNSA9IGdsX0ZyYWdEYXRhWzBdLnh5eiAqIHZpc2liaWxpdHk7CiAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQoXzczNS54LCBfNzM1LnksIF83MzUueiwgZ2xfRnJhZ0RhdGFbMF0udyk7Cn0KCg",Bt.deferred_light_fragData2="s10616:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHNoYWRvd01hcDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXJDdWJlIHNoYWRvd01hcEN1YmU7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjE7CnVuaWZvcm0gbWF0NCBpbnZWUDsKdW5pZm9ybSB2ZWMzIGV5ZTsKdW5pZm9ybSB2ZWMzIGxpZ2h0UG9zOwp1bmlmb3JtIGludCBsaWdodFNoYWRvdzsKdW5pZm9ybSBtYXQ0IExXVlA7CnVuaWZvcm0gZmxvYXQgc2hhZG93c0JpYXM7CnVuaWZvcm0gdmVjMiBsaWdodFByb2o7CnVuaWZvcm0gaW50IGxpZ2h0VHlwZTsKdW5pZm9ybSB2ZWMzIGxpZ2h0RGlyOwp1bmlmb3JtIHZlYzIgc3BvdGxpZ2h0RGF0YTsKdW5pZm9ybSB2ZWMzIGxpZ2h0Q29sb3I7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlckQ7CgppbiB2ZWM0IHd2cHBvc2l0aW9uOwpvdXQgdmVjNCBmcmFnQ29sb3I7Cgp2ZWMyIG9jdGFoZWRyb25XcmFwKHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAtMS4wLCAodi55ID49IDAuMCkgPyAxLjAgOiAtMS4wKTsKfQoKdmVjMyBnZXRQb3MyKG1hdDQgaW52VlBfMSwgZmxvYXQgZGVwdGgsIHZlYzIgY29vcmQpCnsKICAgIHZlYzQgcG9zID0gdmVjNCgoY29vcmQgKiAyLjApIC0gdmVjMigxLjApLCBkZXB0aCwgMS4wKTsKICAgIHBvcyA9IGludlZQXzEgKiBwb3M7CiAgICB2ZWMzIF80OTcgPSBwb3MueHl6IC8gdmVjMyhwb3Mudyk7CiAgICBwb3MgPSB2ZWM0KF80OTcueCwgXzQ5Ny55LCBfNDk3LnosIHBvcy53KTsKICAgIHJldHVybiBwb3MueHl6Owp9Cgp2ZWMyIHVucGFja0Zsb2F0KGZsb2F0IGYpCnsKICAgIHJldHVybiB2ZWMyKGZsb29yKGYpIC8gMTAwLjAsIGZyYWN0KGYpKTsKfQoKdmVjMyBzdXJmYWNlQWxiZWRvKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgoYmFzZUNvbG9yLCB2ZWMzKDAuMCksIHZlYzMobWV0YWxuZXNzKSk7Cn0KCnZlYzMgc3VyZmFjZUYwKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgodmVjMygwLjAzOTk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSksIGJhc2VDb2xvciwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKZmxvYXQgc2hhZG93Q29tcGFyZSh2ZWMyIHV2LCBmbG9hdCBjb21wYXJlKQp7CiAgICBmbG9hdCBkZXB0aCA9IHRleHR1cmUoc2hhZG93TWFwLCB1dikueDsKICAgIHJldHVybiBzdGVwKGNvbXBhcmUsIGRlcHRoKTsKfQoKZmxvYXQgc2hhZG93TGVycCh2ZWMyIHV2LCBmbG9hdCBjb21wYXJlLCB2ZWMyIHNtU2l6ZSkKewogICAgdmVjMiB0ZXhlbFNpemUgPSB2ZWMyKDEuMCkgLyBzbVNpemU7CiAgICB2ZWMyIGYgPSBmcmFjdCgodXYgKiBzbVNpemUpICsgdmVjMigwLjUpKTsKICAgIHZlYzIgY2VudHJvaWRVViA9IGZsb29yKCh1diAqIHNtU2l6ZSkgKyB2ZWMyKDAuNSkpIC8gc21TaXplOwogICAgZmxvYXQgbGIgPSBzaGFkb3dDb21wYXJlKGNlbnRyb2lkVVYsIGNvbXBhcmUpOwogICAgZmxvYXQgbHQgPSBzaGFkb3dDb21wYXJlKGNlbnRyb2lkVVYgKyAodGV4ZWxTaXplICogdmVjMigwLjAsIDEuMCkpLCBjb21wYXJlKTsKICAgIGZsb2F0IHJiID0gc2hhZG93Q29tcGFyZShjZW50cm9pZFVWICsgKHRleGVsU2l6ZSAqIHZlYzIoMS4wLCAwLjApKSwgY29tcGFyZSk7CiAgICBmbG9hdCBydCA9IHNoYWRvd0NvbXBhcmUoY2VudHJvaWRVViArIHRleGVsU2l6ZSwgY29tcGFyZSk7CiAgICBmbG9hdCBhID0gbWl4KGxiLCBsdCwgZi55KTsKICAgIGZsb2F0IGIgPSBtaXgocmIsIHJ0LCBmLnkpOwogICAgZmxvYXQgYyA9IG1peChhLCBiLCBmLngpOwogICAgcmV0dXJuIGM7Cn0KCmZsb2F0IFBDRih2ZWMyIHV2LCBmbG9hdCBjb21wYXJlLCB2ZWMyIHNtU2l6ZSkKewogICAgZmxvYXQgcmVzdWx0ID0gc2hhZG93TGVycCh1diArICh2ZWMyKC0xLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoLTEuMCwgMC4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diArICh2ZWMyKC0xLjAsIDEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYgKyAodmVjMigwLjAsIC0xLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2LCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYgKyAodmVjMigwLjAsIDEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYgKyAodmVjMigxLjAsIC0xLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoMS4wLCAwLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXR1cm4gcmVzdWx0IC8gOS4wOwp9CgpmbG9hdCBzaGFkb3dUZXN0KHZlYzMgbFBvcywgZmxvYXQgc2hhZG93c0JpYXNfMSwgdmVjMiBzbVNpemUpCnsKICAgIGJvb2wgXzQzOSA9IGxQb3MueCA8IDAuMDsKICAgIGJvb2wgXzQ0NTsKICAgIGlmICghXzQzOSkKICAgIHsKICAgICAgICBfNDQ1ID0gbFBvcy55IDwgMC4wOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF80NDUgPSBfNDM5OwogICAgfQogICAgYm9vbCBfNDUxOwogICAgaWYgKCFfNDQ1KQogICAgewogICAgICAgIF80NTEgPSBsUG9zLnggPiAxLjA7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzQ1MSA9IF80NDU7CiAgICB9CiAgICBib29sIF80NTc7CiAgICBpZiAoIV80NTEpCiAgICB7CiAgICAgICAgXzQ1NyA9IGxQb3MueSA%IDEuMDsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNDU3ID0gXzQ1MTsKICAgIH0KICAgIGlmIChfNDU3KQogICAgewogICAgICAgIHJldHVybiAxLjA7CiAgICB9CiAgICByZXR1cm4gUENGKGxQb3MueHksIGxQb3MueiAtIHNoYWRvd3NCaWFzXzEsIHNtU2l6ZSk7Cn0KCmZsb2F0IGxwVG9EZXB0aChpbm91dCB2ZWMzIGxwLCB2ZWMyIGxpZ2h0UHJval8xKQp7CiAgICBscCA9IGFicyhscCk7CiAgICBmbG9hdCB6Y29tcCA9IG1heChscC54LCBtYXgobHAueSwgbHAueikpOwogICAgemNvbXAgPSBsaWdodFByb2pfMS54IC0gKGxpZ2h0UHJval8xLnkgLyB6Y29tcCk7CiAgICByZXR1cm4gKHpjb21wICogMC41KSArIDAuNTsKfQoKZmxvYXQgUENGQ3ViZSh2ZWMzIGxwLCBpbm91dCB2ZWMzIG1sLCBmbG9hdCBiaWFzLCB2ZWMyIGxpZ2h0UHJval8xLCB2ZWMzIG4pCnsKICAgIHZlYzMgcGFyYW0gPSBscCAtIChuICogMC4wMDMwMDAwMDAwMjYwNzcwMzIwODkyMzMzOTg0Mzc1KTsKICAgIGZsb2F0IF8zMzIgPSBscFRvRGVwdGgocGFyYW0sIGxpZ2h0UHJval8xKTsKICAgIGZsb2F0IGNvbXBhcmUgPSBfMzMyIC0gKGJpYXMgKiAwLjQwMDAwMDAwNTk2MDQ2NDQ3NzUzOTA2MjUpOwogICAgbWwgKz0gKG4gKiAwLjAwMzAwMDAwMDAyNjA3NzAzMjA4OTIzMzM5ODQzNzUpOwogICAgZmxvYXQgcmVzdWx0ID0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmUsIG1sKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmUoc2hhZG93TWFwQ3ViZSwgbWwgKyB2ZWMzKDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmUsIG1sICsgdmVjMygtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlLCBtbCArIHZlYzMoMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmUoc2hhZG93TWFwQ3ViZSwgbWwgKyB2ZWMzKDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmUsIG1sICsgdmVjMygtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmUoc2hhZG93TWFwQ3ViZSwgbWwgKyB2ZWMzKDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlLCBtbCArIHZlYzMoLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmUsIG1sICsgdmVjMygtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCAvPSA5LjA7CiAgICByZXR1cm4gcmVzdWx0Owp9CgpmbG9hdCBhdHRlbnVhdGUoZmxvYXQgZGlzdCkKewogICAgcmV0dXJuIDEuMCAvIChkaXN0ICogZGlzdCk7Cn0KCnZlYzMgbGFtYmVydERpZmZ1c2VCUkRGKHZlYzMgYWxiZWRvLCBmbG9hdCBubCkKewogICAgcmV0dXJuIGFsYmVkbyAqIG1heCgwLjAsIG5sKTsKfQoKZmxvYXQgZF9nZ3goZmxvYXQgbmgsIGZsb2F0IGEpCnsKICAgIGZsb2F0IGEyID0gYSAqIGE7CiAgICBmbG9hdCBkZW5vbSA9IHBvdygoKG5oICogbmgpICogKGEyIC0gMS4wKSkgKyAxLjAsIDIuMCk7CiAgICByZXR1cm4gKGEyICogMC4zMTgzMDk4NzMzNDI1MTQwMzgwODU5Mzc1KSAvIGRlbm9tOwp9CgpmbG9hdCB2X3NtaXRoc2NobGljayhmbG9hdCBubCwgZmxvYXQgbnYsIGZsb2F0IGEpCnsKICAgIHJldHVybiAxLjAgLyAoKChubCAqICgxLjAgLSBhKSkgKyBhKSAqICgobnYgKiAoMS4wIC0gYSkpICsgYSkpOwp9Cgp2ZWMzIGZfc2NobGljayh2ZWMzIGYwLCBmbG9hdCB2aCkKewogICAgcmV0dXJuIGYwICsgKCh2ZWMzKDEuMCkgLSBmMCkgKiBleHAyKCgoLTUuNTU0NzI5OTM4NTA3MDgwMDc4MTI1ICogdmgpIC0gNi45ODMxNjAwMTg5MjA4OTg0Mzc1KSAqIHZoKSk7Cn0KCnZlYzMgc3BlY3VsYXJCUkRGKHZlYzMgZjAsIGZsb2F0IHJvdWdobmVzcywgZmxvYXQgbmwsIGZsb2F0IG5oLCBmbG9hdCBudiwgZmxvYXQgdmgpCnsKICAgIGZsb2F0IGEgPSByb3VnaG5lc3MgKiByb3VnaG5lc3M7CiAgICByZXR1cm4gKGZfc2NobGljayhmMCwgdmgpICogKGRfZ2d4KG5oLCBhKSAqIGNsYW1wKHZfc21pdGhzY2hsaWNrKG5sLCBudiwgYSksIDAuMCwgMS4wKSkpIC8gdmVjMyg0LjApOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMyIHRleENvb3JkID0gd3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHd2cHBvc2l0aW9uLncpOwogICAgdGV4Q29vcmQgPSAodGV4Q29vcmQgKiAwLjUpICsgdmVjMigwLjUpOwogICAgdmVjNCBnMCA9IHRleHR1cmUoZ2J1ZmZlcjAsIHRleENvb3JkKTsKICAgIHZlYzQgZzEgPSB0ZXh0dXJlKGdidWZmZXIxLCB0ZXhDb29yZCk7CiAgICBmbG9hdCBkZXB0aCA9ICgoMS4wIC0gZzAudykgKiAyLjApIC0gMS4wOwogICAgdmVjMyBuOwogICAgbi56ID0gKDEuMCAtIGFicyhnMC54KSkgLSBhYnMoZzAueSk7CiAgICB2ZWMyIF81NTE7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfNTUxID0gZzAueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzU1MSA9IG9jdGFoZWRyb25XcmFwKGcwLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF81NTEueCwgXzU1MS55LCBuLnopOwogICAgbiA9IG5vcm1hbGl6ZShuKTsKICAgIHZlYzMgcCA9IGdldFBvczIoaW52VlAsIGRlcHRoLCB0ZXhDb29yZCk7CiAgICB2ZWMyIG1ldHJvdWdoID0gdW5wYWNrRmxvYXQoZzAueik7CiAgICB2ZWMzIHYgPSBub3JtYWxpemUoZXllIC0gcCk7CiAgICBmbG9hdCBkb3ROViA9IGRvdChuLCB2KTsKICAgIHZlYzMgYWxiZWRvID0gc3VyZmFjZUFsYmVkbyhnMS54eXosIG1ldHJvdWdoLngpOwogICAgdmVjMyBmMCA9IHN1cmZhY2VGMChnMS54eXosIG1ldHJvdWdoLngpOwogICAgdmVjMyBscCA9IGxpZ2h0UG9zIC0gcDsKICAgIHZlYzMgbCA9IG5vcm1hbGl6ZShscCk7CiAgICB2ZWMzIGggPSBub3JtYWxpemUodiArIGwpOwogICAgZmxvYXQgZG90TkggPSBkb3QobiwgaCk7CiAgICBmbG9hdCBkb3RWSCA9IGRvdCh2LCBoKTsKICAgIGZsb2F0IGRvdE5MID0gZG90KG4sIGwpOwogICAgZmxvYXQgdmlzaWJpbGl0eSA9IDEuMDsKICAgIGlmIChsaWdodFNoYWRvdyA9PSAxKQogICAgewogICAgICAgIHZlYzQgbFBvcyA9IExXVlAgKiB2ZWM0KHAsIDEuMCk7CiAgICAgICAgaWYgKGxQb3MudyA%IDAuMCkKICAgICAgICB7CiAgICAgICAgICAgIHZpc2liaWxpdHkgPSBzaGFkb3dUZXN0KGxQb3MueHl6IC8gdmVjMyhsUG9zLncpLCBzaGFkb3dzQmlhcywgdmVjMigxMDI0LjApKTsKICAgICAgICB9CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgaWYgKGxpZ2h0U2hhZG93ID09IDIpCiAgICAgICAgewogICAgICAgICAgICB2ZWMzIHBhcmFtID0gLWw7CiAgICAgICAgICAgIGZsb2F0IF82NzcgPSBQQ0ZDdWJlKGxwLCBwYXJhbSwgc2hhZG93c0JpYXMsIGxpZ2h0UHJvaiwgbik7CiAgICAgICAgICAgIHZpc2liaWxpdHkgPSBfNjc3OwogICAgICAgIH0KICAgIH0KICAgIHZpc2liaWxpdHkgKj0gYXR0ZW51YXRlKGRpc3RhbmNlKHAsIGxpZ2h0UG9zKSk7CiAgICBpZiAobGlnaHRUeXBlID09IDIpCiAgICB7CiAgICAgICAgZmxvYXQgc3BvdEVmZmVjdCA9IGRvdChsaWdodERpciwgbCk7CiAgICAgICAgaWYgKHNwb3RFZmZlY3QgPCBzcG90bGlnaHREYXRhLngpCiAgICAgICAgewogICAgICAgICAgICB2aXNpYmlsaXR5ICo9IHNtb290aHN0ZXAoc3BvdGxpZ2h0RGF0YS55LCBzcG90bGlnaHREYXRhLngsIHNwb3RFZmZlY3QpOwogICAgICAgIH0KICAgIH0KICAgIHZlYzMgXzcyMiA9IGxhbWJlcnREaWZmdXNlQlJERihhbGJlZG8sIGRvdE5MKSArIHNwZWN1bGFyQlJERihmMCwgbWV0cm91Z2gueSwgZG90TkwsIGRvdE5ILCBkb3ROViwgZG90VkgpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfNzIyLngsIF83MjIueSwgXzcyMi56LCBmcmFnQ29sb3Iudyk7CiAgICB2ZWMzIF83MjkgPSBmcmFnQ29sb3IueHl6ICogbGlnaHRDb2xvcjsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzcyOS54LCBfNzI5LnksIF83MjkueiwgZnJhZ0NvbG9yLncpOwogICAgdmVjMyBfNzM1ID0gZnJhZ0NvbG9yLnh5eiAqIHZpc2liaWxpdHk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83MzUueCwgXzczNS55LCBfNzM1LnosIGZyYWdDb2xvci53KTsKfQoK",Bt.deferred_light_vertData0="s230:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgTFZXVlA7Cgp2YXJ5aW5nIHZlYzQgd3ZwcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMzIHBvczsKCnZvaWQgbWFpbigpCnsKICAgIHd2cHBvc2l0aW9uID0gTFZXVlAgKiB2ZWM0KHBvcywgMS4wKTsKICAgIGdsX1Bvc2l0aW9uID0gd3ZwcG9zaXRpb247Cn0KCg",Bt.deferred_light_vertData1="s262:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBMVldWUDsKCnZhcnlpbmcgbWVkaXVtcCB2ZWM0IHd2cHBvc2l0aW9uOwphdHRyaWJ1dGUgbWVkaXVtcCB2ZWMzIHBvczsKCnZvaWQgbWFpbigpCnsKICAgIHd2cHBvc2l0aW9uID0gTFZXVlAgKiB2ZWM0KHBvcywgMS4wKTsKICAgIGdsX1Bvc2l0aW9uID0gd3ZwcG9zaXRpb247Cn0KCg",Bt.deferred_light_vertData2="s251:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBMVldWUDsKCm91dCBtZWRpdW1wIHZlYzQgd3ZwcG9zaXRpb247CmluIG1lZGl1bXAgdmVjMyBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICB3dnBwb3NpdGlvbiA9IExWV1ZQICogdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IHd2cHBvc2l0aW9uOwp9Cgo",Bt.deferred_light_quad_fragData0="s8171:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgc2hhZG93TWFwOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBnYnVmZmVyMDsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjE7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGdidWZmZXJEOwp1bmlmb3JtIGhpZ2hwIHZlYzMgZXllOwp1bmlmb3JtIGhpZ2hwIHZlYzMgZXllTG9vazsKdW5pZm9ybSBoaWdocCB2ZWMyIGNhbWVyYVByb2o7CnVuaWZvcm0gaGlnaHAgdmVjMyBsOwp1bmlmb3JtIGludCBsaWdodFNoYWRvdzsKdW5pZm9ybSBoaWdocCBtYXQ0IExXVlA7CnVuaWZvcm0gaGlnaHAgZmxvYXQgc2hhZG93c0JpYXM7CnVuaWZvcm0gaGlnaHAgdmVjMyBsaWdodENvbG9yOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXJDdWJlIHNoYWRvd01hcEN1YmU7Cgp2YXJ5aW5nIGhpZ2hwIHZlYzIgdGV4Q29vcmQ7CnZhcnlpbmcgaGlnaHAgdmVjMyB2aWV3UmF5OwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogLTEuMCwgKHYueSA%PSAwLjApID8gMS4wIDogLTEuMCk7Cn0KCmhpZ2hwIHZlYzMgZ2V0UG9zKGhpZ2hwIHZlYzMgZXllXzEsIGhpZ2hwIHZlYzMgZXllTG9va18xLCBoaWdocCB2ZWMzIHZpZXdSYXlfMSwgaGlnaHAgZmxvYXQgZGVwdGgsIGhpZ2hwIHZlYzIgY2FtZXJhUHJval8xKQp7CiAgICBoaWdocCB2ZWMzIHZyYXkgPSBub3JtYWxpemUodmlld1JheV8xKTsKICAgIGhpZ2hwIGZsb2F0IGxpbmVhckRlcHRoID0gY2FtZXJhUHJval8xLnkgLyAoKChkZXB0aCAqIDAuNSkgKyAwLjUpIC0gY2FtZXJhUHJval8xLngpOwogICAgaGlnaHAgZmxvYXQgdmlld1pEaXN0ID0gZG90KGV5ZUxvb2tfMSwgdnJheSk7CiAgICBoaWdocCB2ZWMzIHdwb3NpdGlvbiA9IGV5ZV8xICsgKHZyYXkgKiAobGluZWFyRGVwdGggLyB2aWV3WkRpc3QpKTsKICAgIHJldHVybiB3cG9zaXRpb247Cn0KCmhpZ2hwIHZlYzIgdW5wYWNrRmxvYXQoaGlnaHAgZmxvYXQgZikKewogICAgcmV0dXJuIHZlYzIoZmxvb3IoZikgLyAxMDAuMCwgZnJhY3QoZikpOwp9CgpoaWdocCB2ZWMzIHN1cmZhY2VBbGJlZG8oaGlnaHAgdmVjMyBiYXNlQ29sb3IsIGhpZ2hwIGZsb2F0IG1ldGFsbmVzcykKewogICAgcmV0dXJuIG1peChiYXNlQ29sb3IsIHZlYzMoMC4wKSwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKaGlnaHAgdmVjMyBzdXJmYWNlRjAoaGlnaHAgdmVjMyBiYXNlQ29sb3IsIGhpZ2hwIGZsb2F0IG1ldGFsbmVzcykKewogICAgcmV0dXJuIG1peCh2ZWMzKDAuMDM5OTk5OTk5MTA1OTMwMzI4MzY5MTQwNjI1KSwgYmFzZUNvbG9yLCB2ZWMzKG1ldGFsbmVzcykpOwp9CgpoaWdocCBmbG9hdCBzaGFkb3dDb21wYXJlKGhpZ2hwIHZlYzIgdXYsIGhpZ2hwIGZsb2F0IGNvbXBhcmUpCnsKICAgIGhpZ2hwIGZsb2F0IGRlcHRoID0gdGV4dHVyZTJEKHNoYWRvd01hcCwgdXYpLng7CiAgICByZXR1cm4gc3RlcChjb21wYXJlLCBkZXB0aCk7Cn0KCmhpZ2hwIGZsb2F0IHNoYWRvd0xlcnAoaGlnaHAgdmVjMiB1diwgaGlnaHAgZmxvYXQgY29tcGFyZSwgaGlnaHAgdmVjMiBzbVNpemUpCnsKICAgIGhpZ2hwIHZlYzIgdGV4ZWxTaXplID0gdmVjMigxLjApIC8gc21TaXplOwogICAgaGlnaHAgdmVjMiBmID0gZnJhY3QoKHV2ICogc21TaXplKSArIHZlYzIoMC41KSk7CiAgICBoaWdocCB2ZWMyIGNlbnRyb2lkVVYgPSBmbG9vcigodXYgKiBzbVNpemUpICsgdmVjMigwLjUpKSAvIHNtU2l6ZTsKICAgIGhpZ2hwIGZsb2F0IGxiID0gc2hhZG93Q29tcGFyZShjZW50cm9pZFVWLCBjb21wYXJlKTsKICAgIGhpZ2hwIGZsb2F0IGx0ID0gc2hhZG93Q29tcGFyZShjZW50cm9pZFVWICsgKHRleGVsU2l6ZSAqIHZlYzIoMC4wLCAxLjApKSwgY29tcGFyZSk7CiAgICBoaWdocCBmbG9hdCByYiA9IHNoYWRvd0NvbXBhcmUoY2VudHJvaWRVViArICh0ZXhlbFNpemUgKiB2ZWMyKDEuMCwgMC4wKSksIGNvbXBhcmUpOwogICAgaGlnaHAgZmxvYXQgcnQgPSBzaGFkb3dDb21wYXJlKGNlbnRyb2lkVVYgKyB0ZXhlbFNpemUsIGNvbXBhcmUpOwogICAgaGlnaHAgZmxvYXQgYSA9IG1peChsYiwgbHQsIGYueSk7CiAgICBoaWdocCBmbG9hdCBiID0gbWl4KHJiLCBydCwgZi55KTsKICAgIGhpZ2hwIGZsb2F0IGMgPSBtaXgoYSwgYiwgZi54KTsKICAgIHJldHVybiBjOwp9CgpoaWdocCBmbG9hdCBQQ0YoaGlnaHAgdmVjMiB1diwgaGlnaHAgZmxvYXQgY29tcGFyZSwgaGlnaHAgdmVjMiBzbVNpemUpCnsKICAgIGhpZ2hwIGZsb2F0IHJlc3VsdCA9IHNoYWRvd0xlcnAodXYgKyAodmVjMigtMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diArICh2ZWMyKC0xLjAsIDAuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYgKyAodmVjMigtMS4wLCAxLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoMC4wLCAtMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoMC4wLCAxLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoMS4wLCAtMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diArICh2ZWMyKDEuMCwgMC4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diArICh2ZWMyKDEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmV0dXJuIHJlc3VsdCAvIDkuMDsKfQoKaGlnaHAgZmxvYXQgc2hhZG93VGVzdChoaWdocCB2ZWMzIGxQb3MsIGhpZ2hwIGZsb2F0IHNoYWRvd3NCaWFzXzEsIGhpZ2hwIHZlYzIgc21TaXplKQp7CiAgICBib29sIF8yODYgPSBsUG9zLnggPCAwLjA7CiAgICBib29sIF8yOTI7CiAgICBpZiAoIV8yODYpCiAgICB7CiAgICAgICAgXzI5MiA9IGxQb3MueSA8IDAuMDsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMjkyID0gXzI4NjsKICAgIH0KICAgIGJvb2wgXzI5ODsKICAgIGlmICghXzI5MikKICAgIHsKICAgICAgICBfMjk4ID0gbFBvcy54ID4gMS4wOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8yOTggPSBfMjkyOwogICAgfQogICAgYm9vbCBfMzA0OwogICAgaWYgKCFfMjk4KQogICAgewogICAgICAgIF8zMDQgPSBsUG9zLnkgPiAxLjA7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzMwNCA9IF8yOTg7CiAgICB9CiAgICBpZiAoXzMwNCkKICAgIHsKICAgICAgICByZXR1cm4gMS4wOwogICAgfQogICAgcmV0dXJuIFBDRihsUG9zLnh5LCBsUG9zLnogLSBzaGFkb3dzQmlhc18xLCBzbVNpemUpOwp9CgpoaWdocCB2ZWMzIGxhbWJlcnREaWZmdXNlQlJERihoaWdocCB2ZWMzIGFsYmVkbywgaGlnaHAgZmxvYXQgbmwpCnsKICAgIHJldHVybiBhbGJlZG8gKiBtYXgoMC4wLCBubCk7Cn0KCmhpZ2hwIGZsb2F0IGRfZ2d4KGhpZ2hwIGZsb2F0IG5oLCBoaWdocCBmbG9hdCBhKQp7CiAgICBoaWdocCBmbG9hdCBhMiA9IGEgKiBhOwogICAgaGlnaHAgZmxvYXQgZGVub20gPSBwb3coKChuaCAqIG5oKSAqIChhMiAtIDEuMCkpICsgMS4wLCAyLjApOwogICAgcmV0dXJuIChhMiAqIDAuMzE4MzA5ODczMzQyNTE0MDM4MDg1OTM3NSkgLyBkZW5vbTsKfQoKaGlnaHAgZmxvYXQgdl9zbWl0aHNjaGxpY2soaGlnaHAgZmxvYXQgbmwsIGhpZ2hwIGZsb2F0IG52LCBoaWdocCBmbG9hdCBhKQp7CiAgICByZXR1cm4gMS4wIC8gKCgobmwgKiAoMS4wIC0gYSkpICsgYSkgKiAoKG52ICogKDEuMCAtIGEpKSArIGEpKTsKfQoKaGlnaHAgdmVjMyBmX3NjaGxpY2soaGlnaHAgdmVjMyBmMCwgaGlnaHAgZmxvYXQgdmgpCnsKICAgIHJldHVybiBmMCArICgodmVjMygxLjApIC0gZjApICogZXhwMigoKC01LjU1NDcyOTkzODUwNzA4MDA3ODEyNSAqIHZoKSAtIDYuOTgzMTYwMDE4OTIwODk4NDM3NSkgKiB2aCkpOwp9CgpoaWdocCB2ZWMzIHNwZWN1bGFyQlJERihoaWdocCB2ZWMzIGYwLCBoaWdocCBmbG9hdCByb3VnaG5lc3MsIGhpZ2hwIGZsb2F0IG5sLCBoaWdocCBmbG9hdCBuaCwgaGlnaHAgZmxvYXQgbnYsIGhpZ2hwIGZsb2F0IHZoKQp7CiAgICBoaWdocCBmbG9hdCBhID0gcm91Z2huZXNzICogcm91Z2huZXNzOwogICAgcmV0dXJuIChmX3NjaGxpY2soZjAsIHZoKSAqIChkX2dneChuaCwgYSkgKiBjbGFtcCh2X3NtaXRoc2NobGljayhubCwgbnYsIGEpLCAwLjAsIDEuMCkpKSAvIHZlYzMoNC4wKTsKfQoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjNCBnMCA9IHRleHR1cmUyRChnYnVmZmVyMCwgdGV4Q29vcmQpOwogICAgaGlnaHAgdmVjNCBnMSA9IHRleHR1cmUyRChnYnVmZmVyMSwgdGV4Q29vcmQpOwogICAgaGlnaHAgZmxvYXQgZGVwdGggPSAodGV4dHVyZTJEKGdidWZmZXJELCB0ZXhDb29yZCkueCAqIDIuMCkgLSAxLjA7CiAgICBoaWdocCB2ZWMzIG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGcwLngpKSAtIGFicyhnMC55KTsKICAgIGhpZ2hwIGZsb2F0IHZpc2liaWxpdHk7CiAgICBoaWdocCBmbG9hdCBkb3ROTDsKICAgIGhpZ2hwIGZsb2F0IGRvdE5WOwogICAgaGlnaHAgdmVjMyB2OwogICAgaGlnaHAgdmVjMiBtZXRyb3VnaDsKICAgIGhpZ2hwIHZlYzMgZjA7CiAgICBoaWdocCB2ZWMyIF8zOTA7CiAgICBoaWdocCB2ZWMzIGFsYmVkbzsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8zOTAgPSBnMC54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMzkwID0gb2N0YWhlZHJvbldyYXAoZzAueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzM5MC54LCBfMzkwLnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgaGlnaHAgdmVjMyBwID0gZ2V0UG9zKGV5ZSwgZXllTG9vaywgdmlld1JheSwgZGVwdGgsIGNhbWVyYVByb2opOwogICAgbWV0cm91Z2ggPSB1bnBhY2tGbG9hdChnMC56KTsKICAgIHYgPSBub3JtYWxpemUoZXllIC0gcCk7CiAgICBkb3ROViA9IGRvdChuLCB2KTsKICAgIGFsYmVkbyA9IHN1cmZhY2VBbGJlZG8oZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIGYwID0gc3VyZmFjZUYwKGcxLnh5eiwgbWV0cm91Z2gueCk7CiAgICBkb3ROTCA9IGRvdChuLCBsKTsKICAgIHZpc2liaWxpdHkgPSAxLjA7CiAgICBpZiAobGlnaHRTaGFkb3cgPT0gMSkKICAgIHsKICAgICAgICBoaWdocCB2ZWM0IGxQb3MgPSBMV1ZQICogdmVjNChwLCAxLjApOwogICAgICAgIGlmIChsUG9zLncgPiAwLjApCiAgICAgICAgewogICAgICAgICAgICB2aXNpYmlsaXR5ID0gc2hhZG93VGVzdChsUG9zLnh5eiAvIHZlYzMobFBvcy53KSwgc2hhZG93c0JpYXMsIHZlYzIoMTAyNC4wKSk7CiAgICAgICAgfQogICAgfQogICAgaGlnaHAgdmVjMyBoID0gbm9ybWFsaXplKHYgKyBsKTsKICAgIGhpZ2hwIGZsb2F0IGRvdE5IID0gZG90KG4sIGgpOwogICAgaGlnaHAgZmxvYXQgZG90VkggPSBkb3QodiwgaCk7CiAgICBoaWdocCB2ZWMzIF81MTUgPSBsYW1iZXJ0RGlmZnVzZUJSREYoYWxiZWRvLCBkb3ROTCkgKyBzcGVjdWxhckJSREYoZjAsIG1ldHJvdWdoLnksIGRvdE5MLCBkb3ROSCwgZG90TlYsIGRvdFZIKTsKICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChfNTE1LngsIF81MTUueSwgXzUxNS56LCBnbF9GcmFnRGF0YVswXS53KTsKICAgIGhpZ2hwIHZlYzMgXzUyMiA9IGdsX0ZyYWdEYXRhWzBdLnh5eiAqIGxpZ2h0Q29sb3I7CiAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQoXzUyMi54LCBfNTIyLnksIF81MjIueiwgZ2xfRnJhZ0RhdGFbMF0udyk7CiAgICBoaWdocCB2ZWMzIF81MjggPSBnbF9GcmFnRGF0YVswXS54eXogKiB2aXNpYmlsaXR5OwogICAgZ2xfRnJhZ0RhdGFbMF0gPSB2ZWM0KF81MjgueCwgXzUyOC55LCBfNTI4LnosIGdsX0ZyYWdEYXRhWzBdLncpOwp9Cgo",Bt.deferred_light_quad_fragData1="s7395:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHNoYWRvd01hcDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBnYnVmZmVyMDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBnYnVmZmVyMTsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBnYnVmZmVyRDsKdW5pZm9ybSB2ZWMzIGV5ZTsKdW5pZm9ybSB2ZWMzIGV5ZUxvb2s7CnVuaWZvcm0gdmVjMiBjYW1lcmFQcm9qOwp1bmlmb3JtIHZlYzMgbDsKdW5pZm9ybSBpbnQgbGlnaHRTaGFkb3c7CnVuaWZvcm0gbWF0NCBMV1ZQOwp1bmlmb3JtIGZsb2F0IHNoYWRvd3NCaWFzOwp1bmlmb3JtIHZlYzMgbGlnaHRDb2xvcjsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXJDdWJlIHNoYWRvd01hcEN1YmU7Cgp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CnZhcnlpbmcgdmVjMyB2aWV3UmF5OwoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogLTEuMCwgKHYueSA%PSAwLjApID8gMS4wIDogLTEuMCk7Cn0KCnZlYzMgZ2V0UG9zKHZlYzMgZXllXzEsIHZlYzMgZXllTG9va18xLCB2ZWMzIHZpZXdSYXlfMSwgZmxvYXQgZGVwdGgsIHZlYzIgY2FtZXJhUHJval8xKQp7CiAgICB2ZWMzIHZyYXkgPSBub3JtYWxpemUodmlld1JheV8xKTsKICAgIGZsb2F0IGxpbmVhckRlcHRoID0gY2FtZXJhUHJval8xLnkgLyAoKChkZXB0aCAqIDAuNSkgKyAwLjUpIC0gY2FtZXJhUHJval8xLngpOwogICAgZmxvYXQgdmlld1pEaXN0ID0gZG90KGV5ZUxvb2tfMSwgdnJheSk7CiAgICB2ZWMzIHdwb3NpdGlvbiA9IGV5ZV8xICsgKHZyYXkgKiAobGluZWFyRGVwdGggLyB2aWV3WkRpc3QpKTsKICAgIHJldHVybiB3cG9zaXRpb247Cn0KCnZlYzIgdW5wYWNrRmxvYXQoZmxvYXQgZikKewogICAgcmV0dXJuIHZlYzIoZmxvb3IoZikgLyAxMDAuMCwgZnJhY3QoZikpOwp9Cgp2ZWMzIHN1cmZhY2VBbGJlZG8odmVjMyBiYXNlQ29sb3IsIGZsb2F0IG1ldGFsbmVzcykKewogICAgcmV0dXJuIG1peChiYXNlQ29sb3IsIHZlYzMoMC4wKSwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKdmVjMyBzdXJmYWNlRjAodmVjMyBiYXNlQ29sb3IsIGZsb2F0IG1ldGFsbmVzcykKewogICAgcmV0dXJuIG1peCh2ZWMzKDAuMDM5OTk5OTk5MTA1OTMwMzI4MzY5MTQwNjI1KSwgYmFzZUNvbG9yLCB2ZWMzKG1ldGFsbmVzcykpOwp9CgpmbG9hdCBzaGFkb3dDb21wYXJlKHZlYzIgdXYsIGZsb2F0IGNvbXBhcmUpCnsKICAgIGZsb2F0IGRlcHRoID0gdGV4dHVyZTJEKHNoYWRvd01hcCwgdXYpLng7CiAgICByZXR1cm4gc3RlcChjb21wYXJlLCBkZXB0aCk7Cn0KCmZsb2F0IHNoYWRvd0xlcnAodmVjMiB1diwgZmxvYXQgY29tcGFyZSwgdmVjMiBzbVNpemUpCnsKICAgIHZlYzIgdGV4ZWxTaXplID0gdmVjMigxLjApIC8gc21TaXplOwogICAgdmVjMiBmID0gZnJhY3QoKHV2ICogc21TaXplKSArIHZlYzIoMC41KSk7CiAgICB2ZWMyIGNlbnRyb2lkVVYgPSBmbG9vcigodXYgKiBzbVNpemUpICsgdmVjMigwLjUpKSAvIHNtU2l6ZTsKICAgIGZsb2F0IGxiID0gc2hhZG93Q29tcGFyZShjZW50cm9pZFVWLCBjb21wYXJlKTsKICAgIGZsb2F0IGx0ID0gc2hhZG93Q29tcGFyZShjZW50cm9pZFVWICsgKHRleGVsU2l6ZSAqIHZlYzIoMC4wLCAxLjApKSwgY29tcGFyZSk7CiAgICBmbG9hdCByYiA9IHNoYWRvd0NvbXBhcmUoY2VudHJvaWRVViArICh0ZXhlbFNpemUgKiB2ZWMyKDEuMCwgMC4wKSksIGNvbXBhcmUpOwogICAgZmxvYXQgcnQgPSBzaGFkb3dDb21wYXJlKGNlbnRyb2lkVVYgKyB0ZXhlbFNpemUsIGNvbXBhcmUpOwogICAgZmxvYXQgYSA9IG1peChsYiwgbHQsIGYueSk7CiAgICBmbG9hdCBiID0gbWl4KHJiLCBydCwgZi55KTsKICAgIGZsb2F0IGMgPSBtaXgoYSwgYiwgZi54KTsKICAgIHJldHVybiBjOwp9CgpmbG9hdCBQQ0YodmVjMiB1diwgZmxvYXQgY29tcGFyZSwgdmVjMiBzbVNpemUpCnsKICAgIGZsb2F0IHJlc3VsdCA9IHNoYWRvd0xlcnAodXYgKyAodmVjMigtMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diArICh2ZWMyKC0xLjAsIDAuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYgKyAodmVjMigtMS4wLCAxLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoMC4wLCAtMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoMC4wLCAxLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoMS4wLCAtMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diArICh2ZWMyKDEuMCwgMC4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diArICh2ZWMyKDEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmV0dXJuIHJlc3VsdCAvIDkuMDsKfQoKZmxvYXQgc2hhZG93VGVzdCh2ZWMzIGxQb3MsIGZsb2F0IHNoYWRvd3NCaWFzXzEsIHZlYzIgc21TaXplKQp7CiAgICBib29sIF8yODYgPSBsUG9zLnggPCAwLjA7CiAgICBib29sIF8yOTI7CiAgICBpZiAoIV8yODYpCiAgICB7CiAgICAgICAgXzI5MiA9IGxQb3MueSA8IDAuMDsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMjkyID0gXzI4NjsKICAgIH0KICAgIGJvb2wgXzI5ODsKICAgIGlmICghXzI5MikKICAgIHsKICAgICAgICBfMjk4ID0gbFBvcy54ID4gMS4wOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8yOTggPSBfMjkyOwogICAgfQogICAgYm9vbCBfMzA0OwogICAgaWYgKCFfMjk4KQogICAgewogICAgICAgIF8zMDQgPSBsUG9zLnkgPiAxLjA7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzMwNCA9IF8yOTg7CiAgICB9CiAgICBpZiAoXzMwNCkKICAgIHsKICAgICAgICByZXR1cm4gMS4wOwogICAgfQogICAgcmV0dXJuIFBDRihsUG9zLnh5LCBsUG9zLnogLSBzaGFkb3dzQmlhc18xLCBzbVNpemUpOwp9Cgp2ZWMzIGxhbWJlcnREaWZmdXNlQlJERih2ZWMzIGFsYmVkbywgZmxvYXQgbmwpCnsKICAgIHJldHVybiBhbGJlZG8gKiBtYXgoMC4wLCBubCk7Cn0KCmZsb2F0IGRfZ2d4KGZsb2F0IG5oLCBmbG9hdCBhKQp7CiAgICBmbG9hdCBhMiA9IGEgKiBhOwogICAgZmxvYXQgZGVub20gPSBwb3coKChuaCAqIG5oKSAqIChhMiAtIDEuMCkpICsgMS4wLCAyLjApOwogICAgcmV0dXJuIChhMiAqIDAuMzE4MzA5ODczMzQyNTE0MDM4MDg1OTM3NSkgLyBkZW5vbTsKfQoKZmxvYXQgdl9zbWl0aHNjaGxpY2soZmxvYXQgbmwsIGZsb2F0IG52LCBmbG9hdCBhKQp7CiAgICByZXR1cm4gMS4wIC8gKCgobmwgKiAoMS4wIC0gYSkpICsgYSkgKiAoKG52ICogKDEuMCAtIGEpKSArIGEpKTsKfQoKdmVjMyBmX3NjaGxpY2sodmVjMyBmMCwgZmxvYXQgdmgpCnsKICAgIHJldHVybiBmMCArICgodmVjMygxLjApIC0gZjApICogZXhwMigoKC01LjU1NDcyOTkzODUwNzA4MDA3ODEyNSAqIHZoKSAtIDYuOTgzMTYwMDE4OTIwODk4NDM3NSkgKiB2aCkpOwp9Cgp2ZWMzIHNwZWN1bGFyQlJERih2ZWMzIGYwLCBmbG9hdCByb3VnaG5lc3MsIGZsb2F0IG5sLCBmbG9hdCBuaCwgZmxvYXQgbnYsIGZsb2F0IHZoKQp7CiAgICBmbG9hdCBhID0gcm91Z2huZXNzICogcm91Z2huZXNzOwogICAgcmV0dXJuIChmX3NjaGxpY2soZjAsIHZoKSAqIChkX2dneChuaCwgYSkgKiBjbGFtcCh2X3NtaXRoc2NobGljayhubCwgbnYsIGEpLCAwLjAsIDEuMCkpKSAvIHZlYzMoNC4wKTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjNCBnMCA9IHRleHR1cmUyRChnYnVmZmVyMCwgdGV4Q29vcmQpOwogICAgdmVjNCBnMSA9IHRleHR1cmUyRChnYnVmZmVyMSwgdGV4Q29vcmQpOwogICAgZmxvYXQgZGVwdGggPSAodGV4dHVyZTJEKGdidWZmZXJELCB0ZXhDb29yZCkueCAqIDIuMCkgLSAxLjA7CiAgICB2ZWMzIG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGcwLngpKSAtIGFicyhnMC55KTsKICAgIGZsb2F0IHZpc2liaWxpdHk7CiAgICBmbG9hdCBkb3ROTDsKICAgIGZsb2F0IGRvdE5WOwogICAgdmVjMyB2OwogICAgdmVjMiBtZXRyb3VnaDsKICAgIHZlYzMgZjA7CiAgICB2ZWMyIF8zOTA7CiAgICB2ZWMzIGFsYmVkbzsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8zOTAgPSBnMC54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMzkwID0gb2N0YWhlZHJvbldyYXAoZzAueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzM5MC54LCBfMzkwLnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgdmVjMyBwID0gZ2V0UG9zKGV5ZSwgZXllTG9vaywgdmlld1JheSwgZGVwdGgsIGNhbWVyYVByb2opOwogICAgbWV0cm91Z2ggPSB1bnBhY2tGbG9hdChnMC56KTsKICAgIHYgPSBub3JtYWxpemUoZXllIC0gcCk7CiAgICBkb3ROViA9IGRvdChuLCB2KTsKICAgIGFsYmVkbyA9IHN1cmZhY2VBbGJlZG8oZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIGYwID0gc3VyZmFjZUYwKGcxLnh5eiwgbWV0cm91Z2gueCk7CiAgICBkb3ROTCA9IGRvdChuLCBsKTsKICAgIHZpc2liaWxpdHkgPSAxLjA7CiAgICBpZiAobGlnaHRTaGFkb3cgPT0gMSkKICAgIHsKICAgICAgICB2ZWM0IGxQb3MgPSBMV1ZQICogdmVjNChwLCAxLjApOwogICAgICAgIGlmIChsUG9zLncgPiAwLjApCiAgICAgICAgewogICAgICAgICAgICB2aXNpYmlsaXR5ID0gc2hhZG93VGVzdChsUG9zLnh5eiAvIHZlYzMobFBvcy53KSwgc2hhZG93c0JpYXMsIHZlYzIoMTAyNC4wKSk7CiAgICAgICAgfQogICAgfQogICAgdmVjMyBoID0gbm9ybWFsaXplKHYgKyBsKTsKICAgIGZsb2F0IGRvdE5IID0gZG90KG4sIGgpOwogICAgZmxvYXQgZG90VkggPSBkb3QodiwgaCk7CiAgICB2ZWMzIF81MTUgPSBsYW1iZXJ0RGlmZnVzZUJSREYoYWxiZWRvLCBkb3ROTCkgKyBzcGVjdWxhckJSREYoZjAsIG1ldHJvdWdoLnksIGRvdE5MLCBkb3ROSCwgZG90TlYsIGRvdFZIKTsKICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChfNTE1LngsIF81MTUueSwgXzUxNS56LCBnbF9GcmFnRGF0YVswXS53KTsKICAgIHZlYzMgXzUyMiA9IGdsX0ZyYWdEYXRhWzBdLnh5eiAqIGxpZ2h0Q29sb3I7CiAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQoXzUyMi54LCBfNTIyLnksIF81MjIueiwgZ2xfRnJhZ0RhdGFbMF0udyk7CiAgICB2ZWMzIF81MjggPSBnbF9GcmFnRGF0YVswXS54eXogKiB2aXNpYmlsaXR5OwogICAgZ2xfRnJhZ0RhdGFbMF0gPSB2ZWM0KF81MjgueCwgXzUyOC55LCBfNTI4LnosIGdsX0ZyYWdEYXRhWzBdLncpOwp9Cgo",Bt.deferred_light_quad_fragData2="s7348:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHNoYWRvd01hcDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBnYnVmZmVyMDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBnYnVmZmVyMTsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBnYnVmZmVyRDsKdW5pZm9ybSB2ZWMzIGV5ZTsKdW5pZm9ybSB2ZWMzIGV5ZUxvb2s7CnVuaWZvcm0gdmVjMiBjYW1lcmFQcm9qOwp1bmlmb3JtIHZlYzMgbDsKdW5pZm9ybSBpbnQgbGlnaHRTaGFkb3c7CnVuaWZvcm0gbWF0NCBMV1ZQOwp1bmlmb3JtIGZsb2F0IHNoYWRvd3NCaWFzOwp1bmlmb3JtIHZlYzMgbGlnaHRDb2xvcjsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXJDdWJlIHNoYWRvd01hcEN1YmU7CgppbiB2ZWMyIHRleENvb3JkOwppbiB2ZWMzIHZpZXdSYXk7Cm91dCB2ZWM0IGZyYWdDb2xvcjsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6IC0xLjAsICh2LnkgPj0gMC4wKSA:IDEuMCA6IC0xLjApOwp9Cgp2ZWMzIGdldFBvcyh2ZWMzIGV5ZV8xLCB2ZWMzIGV5ZUxvb2tfMSwgdmVjMyB2aWV3UmF5XzEsIGZsb2F0IGRlcHRoLCB2ZWMyIGNhbWVyYVByb2pfMSkKewogICAgdmVjMyB2cmF5ID0gbm9ybWFsaXplKHZpZXdSYXlfMSk7CiAgICBmbG9hdCBsaW5lYXJEZXB0aCA9IGNhbWVyYVByb2pfMS55IC8gKCgoZGVwdGggKiAwLjUpICsgMC41KSAtIGNhbWVyYVByb2pfMS54KTsKICAgIGZsb2F0IHZpZXdaRGlzdCA9IGRvdChleWVMb29rXzEsIHZyYXkpOwogICAgdmVjMyB3cG9zaXRpb24gPSBleWVfMSArICh2cmF5ICogKGxpbmVhckRlcHRoIC8gdmlld1pEaXN0KSk7CiAgICByZXR1cm4gd3Bvc2l0aW9uOwp9Cgp2ZWMyIHVucGFja0Zsb2F0KGZsb2F0IGYpCnsKICAgIHJldHVybiB2ZWMyKGZsb29yKGYpIC8gMTAwLjAsIGZyYWN0KGYpKTsKfQoKdmVjMyBzdXJmYWNlQWxiZWRvKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgoYmFzZUNvbG9yLCB2ZWMzKDAuMCksIHZlYzMobWV0YWxuZXNzKSk7Cn0KCnZlYzMgc3VyZmFjZUYwKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgodmVjMygwLjAzOTk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSksIGJhc2VDb2xvciwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKZmxvYXQgc2hhZG93Q29tcGFyZSh2ZWMyIHV2LCBmbG9hdCBjb21wYXJlKQp7CiAgICBmbG9hdCBkZXB0aCA9IHRleHR1cmUoc2hhZG93TWFwLCB1dikueDsKICAgIHJldHVybiBzdGVwKGNvbXBhcmUsIGRlcHRoKTsKfQoKZmxvYXQgc2hhZG93TGVycCh2ZWMyIHV2LCBmbG9hdCBjb21wYXJlLCB2ZWMyIHNtU2l6ZSkKewogICAgdmVjMiB0ZXhlbFNpemUgPSB2ZWMyKDEuMCkgLyBzbVNpemU7CiAgICB2ZWMyIGYgPSBmcmFjdCgodXYgKiBzbVNpemUpICsgdmVjMigwLjUpKTsKICAgIHZlYzIgY2VudHJvaWRVViA9IGZsb29yKCh1diAqIHNtU2l6ZSkgKyB2ZWMyKDAuNSkpIC8gc21TaXplOwogICAgZmxvYXQgbGIgPSBzaGFkb3dDb21wYXJlKGNlbnRyb2lkVVYsIGNvbXBhcmUpOwogICAgZmxvYXQgbHQgPSBzaGFkb3dDb21wYXJlKGNlbnRyb2lkVVYgKyAodGV4ZWxTaXplICogdmVjMigwLjAsIDEuMCkpLCBjb21wYXJlKTsKICAgIGZsb2F0IHJiID0gc2hhZG93Q29tcGFyZShjZW50cm9pZFVWICsgKHRleGVsU2l6ZSAqIHZlYzIoMS4wLCAwLjApKSwgY29tcGFyZSk7CiAgICBmbG9hdCBydCA9IHNoYWRvd0NvbXBhcmUoY2VudHJvaWRVViArIHRleGVsU2l6ZSwgY29tcGFyZSk7CiAgICBmbG9hdCBhID0gbWl4KGxiLCBsdCwgZi55KTsKICAgIGZsb2F0IGIgPSBtaXgocmIsIHJ0LCBmLnkpOwogICAgZmxvYXQgYyA9IG1peChhLCBiLCBmLngpOwogICAgcmV0dXJuIGM7Cn0KCmZsb2F0IFBDRih2ZWMyIHV2LCBmbG9hdCBjb21wYXJlLCB2ZWMyIHNtU2l6ZSkKewogICAgZmxvYXQgcmVzdWx0ID0gc2hhZG93TGVycCh1diArICh2ZWMyKC0xLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoLTEuMCwgMC4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycCh1diArICh2ZWMyKC0xLjAsIDEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYgKyAodmVjMigwLjAsIC0xLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2LCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYgKyAodmVjMigwLjAsIDEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAodXYgKyAodmVjMigxLjAsIC0xLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoMS4wLCAwLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHV2ICsgKHZlYzIoMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXR1cm4gcmVzdWx0IC8gOS4wOwp9CgpmbG9hdCBzaGFkb3dUZXN0KHZlYzMgbFBvcywgZmxvYXQgc2hhZG93c0JpYXNfMSwgdmVjMiBzbVNpemUpCnsKICAgIGJvb2wgXzI4NiA9IGxQb3MueCA8IDAuMDsKICAgIGJvb2wgXzI5MjsKICAgIGlmICghXzI4NikKICAgIHsKICAgICAgICBfMjkyID0gbFBvcy55IDwgMC4wOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8yOTIgPSBfMjg2OwogICAgfQogICAgYm9vbCBfMjk4OwogICAgaWYgKCFfMjkyKQogICAgewogICAgICAgIF8yOTggPSBsUG9zLnggPiAxLjA7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzI5OCA9IF8yOTI7CiAgICB9CiAgICBib29sIF8zMDQ7CiAgICBpZiAoIV8yOTgpCiAgICB7CiAgICAgICAgXzMwNCA9IGxQb3MueSA%IDEuMDsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMzA0ID0gXzI5ODsKICAgIH0KICAgIGlmIChfMzA0KQogICAgewogICAgICAgIHJldHVybiAxLjA7CiAgICB9CiAgICByZXR1cm4gUENGKGxQb3MueHksIGxQb3MueiAtIHNoYWRvd3NCaWFzXzEsIHNtU2l6ZSk7Cn0KCnZlYzMgbGFtYmVydERpZmZ1c2VCUkRGKHZlYzMgYWxiZWRvLCBmbG9hdCBubCkKewogICAgcmV0dXJuIGFsYmVkbyAqIG1heCgwLjAsIG5sKTsKfQoKZmxvYXQgZF9nZ3goZmxvYXQgbmgsIGZsb2F0IGEpCnsKICAgIGZsb2F0IGEyID0gYSAqIGE7CiAgICBmbG9hdCBkZW5vbSA9IHBvdygoKG5oICogbmgpICogKGEyIC0gMS4wKSkgKyAxLjAsIDIuMCk7CiAgICByZXR1cm4gKGEyICogMC4zMTgzMDk4NzMzNDI1MTQwMzgwODU5Mzc1KSAvIGRlbm9tOwp9CgpmbG9hdCB2X3NtaXRoc2NobGljayhmbG9hdCBubCwgZmxvYXQgbnYsIGZsb2F0IGEpCnsKICAgIHJldHVybiAxLjAgLyAoKChubCAqICgxLjAgLSBhKSkgKyBhKSAqICgobnYgKiAoMS4wIC0gYSkpICsgYSkpOwp9Cgp2ZWMzIGZfc2NobGljayh2ZWMzIGYwLCBmbG9hdCB2aCkKewogICAgcmV0dXJuIGYwICsgKCh2ZWMzKDEuMCkgLSBmMCkgKiBleHAyKCgoLTUuNTU0NzI5OTM4NTA3MDgwMDc4MTI1ICogdmgpIC0gNi45ODMxNjAwMTg5MjA4OTg0Mzc1KSAqIHZoKSk7Cn0KCnZlYzMgc3BlY3VsYXJCUkRGKHZlYzMgZjAsIGZsb2F0IHJvdWdobmVzcywgZmxvYXQgbmwsIGZsb2F0IG5oLCBmbG9hdCBudiwgZmxvYXQgdmgpCnsKICAgIGZsb2F0IGEgPSByb3VnaG5lc3MgKiByb3VnaG5lc3M7CiAgICByZXR1cm4gKGZfc2NobGljayhmMCwgdmgpICogKGRfZ2d4KG5oLCBhKSAqIGNsYW1wKHZfc21pdGhzY2hsaWNrKG5sLCBudiwgYSksIDAuMCwgMS4wKSkpIC8gdmVjMyg0LjApOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWM0IGcwID0gdGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmQpOwogICAgdmVjNCBnMSA9IHRleHR1cmUoZ2J1ZmZlcjEsIHRleENvb3JkKTsKICAgIGZsb2F0IGRlcHRoID0gKHRleHR1cmUoZ2J1ZmZlckQsIHRleENvb3JkKS54ICogMi4wKSAtIDEuMDsKICAgIHZlYzMgbjsKICAgIG4ueiA9ICgxLjAgLSBhYnMoZzAueCkpIC0gYWJzKGcwLnkpOwogICAgZmxvYXQgdmlzaWJpbGl0eTsKICAgIGZsb2F0IGRvdE5MOwogICAgZmxvYXQgZG90TlY7CiAgICB2ZWMzIHY7CiAgICB2ZWMyIG1ldHJvdWdoOwogICAgdmVjMyBmMDsKICAgIHZlYzIgXzM5MDsKICAgIHZlYzMgYWxiZWRvOwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzM5MCA9IGcwLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8zOTAgPSBvY3RhaGVkcm9uV3JhcChnMC54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMzkwLngsIF8zOTAueSwgbi56KTsKICAgIG4gPSBub3JtYWxpemUobik7CiAgICB2ZWMzIHAgPSBnZXRQb3MoZXllLCBleWVMb29rLCB2aWV3UmF5LCBkZXB0aCwgY2FtZXJhUHJvaik7CiAgICBtZXRyb3VnaCA9IHVucGFja0Zsb2F0KGcwLnopOwogICAgdiA9IG5vcm1hbGl6ZShleWUgLSBwKTsKICAgIGRvdE5WID0gZG90KG4sIHYpOwogICAgYWxiZWRvID0gc3VyZmFjZUFsYmVkbyhnMS54eXosIG1ldHJvdWdoLngpOwogICAgZjAgPSBzdXJmYWNlRjAoZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIGRvdE5MID0gZG90KG4sIGwpOwogICAgdmlzaWJpbGl0eSA9IDEuMDsKICAgIGlmIChsaWdodFNoYWRvdyA9PSAxKQogICAgewogICAgICAgIHZlYzQgbFBvcyA9IExXVlAgKiB2ZWM0KHAsIDEuMCk7CiAgICAgICAgaWYgKGxQb3MudyA%IDAuMCkKICAgICAgICB7CiAgICAgICAgICAgIHZpc2liaWxpdHkgPSBzaGFkb3dUZXN0KGxQb3MueHl6IC8gdmVjMyhsUG9zLncpLCBzaGFkb3dzQmlhcywgdmVjMigxMDI0LjApKTsKICAgICAgICB9CiAgICB9CiAgICB2ZWMzIGggPSBub3JtYWxpemUodiArIGwpOwogICAgZmxvYXQgZG90TkggPSBkb3QobiwgaCk7CiAgICBmbG9hdCBkb3RWSCA9IGRvdCh2LCBoKTsKICAgIHZlYzMgXzUxNSA9IGxhbWJlcnREaWZmdXNlQlJERihhbGJlZG8sIGRvdE5MKSArIHNwZWN1bGFyQlJERihmMCwgbWV0cm91Z2gueSwgZG90TkwsIGRvdE5ILCBkb3ROViwgZG90VkgpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfNTE1LngsIF81MTUueSwgXzUxNS56LCBmcmFnQ29sb3Iudyk7CiAgICB2ZWMzIF81MjIgPSBmcmFnQ29sb3IueHl6ICogbGlnaHRDb2xvcjsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzUyMi54LCBfNTIyLnksIF81MjIueiwgZnJhZ0NvbG9yLncpOwogICAgdmVjMyBfNTI4ID0gZnJhZ0NvbG9yLnh5eiAqIHZpc2liaWxpdHk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF81MjgueCwgXzUyOC55LCBfNTI4LnosIGZyYWdDb2xvci53KTsKfQoK",Bt.deferred_light_quad_vertData0="s520:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgaW52VlA7CnVuaWZvcm0gdmVjMyBleWU7Cgp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSB2ZWMyIHBvczsKdmFyeWluZyB2ZWMzIHZpZXdSYXk7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwogICAgdmVjNCB2ID0gdmVjNChwb3MueCwgcG9zLnksIDEuMCwgMS4wKTsKICAgIHYgPSB2ZWM0KGludlZQICogdik7CiAgICB2ZWMzIF82MiA9IHYueHl6IC8gdmVjMyh2LncpOwogICAgdiA9IHZlYzQoXzYyLngsIF82Mi55LCBfNjIueiwgdi53KTsKICAgIHZpZXdSYXkgPSB2Lnh5eiAtIGV5ZTsKfQoK",Bt.deferred_light_quad_vertData1="s595:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBpbnZWUDsKdW5pZm9ybSBtZWRpdW1wIHZlYzMgZXllOwoKdmFyeWluZyBtZWRpdW1wIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzIgcG9zOwp2YXJ5aW5nIG1lZGl1bXAgdmVjMyB2aWV3UmF5OwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKICAgIG1lZGl1bXAgdmVjNCB2ID0gdmVjNChwb3MueCwgcG9zLnksIDEuMCwgMS4wKTsKICAgIHYgPSB2ZWM0KGludlZQICogdik7CiAgICBtZWRpdW1wIHZlYzMgXzYyID0gdi54eXogLyB2ZWMzKHYudyk7CiAgICB2ID0gdmVjNChfNjIueCwgXzYyLnksIF82Mi56LCB2LncpOwogICAgdmlld1JheSA9IHYueHl6IC0gZXllOwp9Cgo",Bt.deferred_light_quad_vertData2="s579:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBpbnZWUDsKdW5pZm9ybSBtZWRpdW1wIHZlYzMgZXllOwoKb3V0IG1lZGl1bXAgdmVjMiB0ZXhDb29yZDsKaW4gbWVkaXVtcCB2ZWMyIHBvczsKb3V0IG1lZGl1bXAgdmVjMyB2aWV3UmF5OwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKICAgIG1lZGl1bXAgdmVjNCB2ID0gdmVjNChwb3MueCwgcG9zLnksIDEuMCwgMS4wKTsKICAgIHYgPSB2ZWM0KGludlZQICogdik7CiAgICBtZWRpdW1wIHZlYzMgXzYyID0gdi54eXogLyB2ZWMzKHYudyk7CiAgICB2ID0gdmVjNChfNjIueCwgXzYyLnksIF82Mi56LCB2LncpOwogICAgdmlld1JheSA9IHYueHl6IC0gZXllOwp9Cgo",Bt.ssao_pass_fragData0="s9422:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCB2ZWMyIGFzcGVjdFJhdGlvOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBnYnVmZmVyRDsKdW5pZm9ybSBoaWdocCB2ZWMzIGV5ZTsKdW5pZm9ybSBoaWdocCBtYXQ0IGludlZQOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBnYnVmZmVyMDsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgc25vaXNlOwp1bmlmb3JtIGhpZ2hwIHZlYzIgc2NyZWVuU2l6ZTsKCnZhcnlpbmcgaGlnaHAgdmVjMiB0ZXhDb29yZDsKCmhpZ2hwIHZlYzIgb2N0YWhlZHJvbldyYXAoaGlnaHAgdmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6IC0xLjAsICh2LnkgPj0gMC4wKSA:IDEuMCA6IC0xLjApOwp9CgpoaWdocCB2ZWMzIGdldFBvczJOb0V5ZShoaWdocCB2ZWMzIGV5ZV8xLCBoaWdocCBtYXQ0IGludlZQXzEsIGhpZ2hwIGZsb2F0IGRlcHRoLCBoaWdocCB2ZWMyIGNvb3JkKQp7CiAgICBoaWdocCB2ZWM0IHBvcyA9IHZlYzQoKGNvb3JkICogMi4wKSAtIHZlYzIoMS4wKSwgZGVwdGgsIDEuMCk7CiAgICBwb3MgPSBpbnZWUF8xICogcG9zOwogICAgaGlnaHAgdmVjMyBfNzQgPSBwb3MueHl6IC8gdmVjMyhwb3Mudyk7CiAgICBwb3MgPSB2ZWM0KF83NC54LCBfNzQueSwgXzc0LnosIHBvcy53KTsKICAgIHJldHVybiBwb3MueHl6IC0gZXllXzE7Cn0KCmhpZ2hwIGZsb2F0IGRvQU8oaW5vdXQgaGlnaHAgdmVjMiBrZXJuZWxWZWMsIGhpZ2hwIHZlYzIgcmFuZG9tVmVjLCBoaWdocCBtYXQyIHJvdE1hdCwgaGlnaHAgdmVjMyBjdXJyZW50UG9zLCBoaWdocCB2ZWMzIG4sIGhpZ2hwIGZsb2F0IGN1cnJlbnREaXN0YW5jZSkKewogICAga2VybmVsVmVjICo9IGFzcGVjdFJhdGlvOwogICAgaGlnaHAgZmxvYXQgcmFkaXVzID0gMC4xMTk5OTk5OTczMTc3OTA5ODUxMDc0MjE4NzUgKiByYW5kb21WZWMueTsKICAgIGtlcm5lbFZlYyA9ICgocm90TWF0ICoga2VybmVsVmVjKSAvIHZlYzIoY3VycmVudERpc3RhbmNlKSkgKiByYWRpdXM7CiAgICBoaWdocCB2ZWMyIGNvb3JkID0gdGV4Q29vcmQgKyBrZXJuZWxWZWM7CiAgICBoaWdocCBmbG9hdCBkZXB0aCA9ICh0ZXh0dXJlMkQoZ2J1ZmZlckQsIGNvb3JkKS54ICogMi4wKSAtIDEuMDsKICAgIGhpZ2hwIHZlYzMgcG9zID0gZ2V0UG9zMk5vRXllKGV5ZSwgaW52VlAsIGRlcHRoLCBjb29yZCkgLSBjdXJyZW50UG9zOwogICAgaGlnaHAgZmxvYXQgYW5nbGUgPSBkb3QocG9zLCBuKTsKICAgIGFuZ2xlICo9IHN0ZXAoMC4xMDAwMDAwMDE0OTAxMTYxMTkzODQ3NjU2MjUsIGFuZ2xlIC8gbGVuZ3RoKHBvcykpOwogICAgYW5nbGUgLT0gKGN1cnJlbnREaXN0YW5jZSAqIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KTsKICAgIGFuZ2xlID0gbWF4KDAuMCwgYW5nbGUpOwogICAgYW5nbGUgLz0gKChkb3QocG9zLCBwb3MpIC8gbWluKGN1cnJlbnREaXN0YW5jZSAqIDAuMjUsIDEuMCkpICsgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpOwogICAgcmV0dXJuIGFuZ2xlOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCBmbG9hdCBkZXB0aCA9ICh0ZXh0dXJlMkQoZ2J1ZmZlckQsIHRleENvb3JkKS54ICogMi4wKSAtIDEuMDsKICAgIGlmIChkZXB0aCA9PSAxLjApCiAgICB7CiAgICAgICAgZ2xfRnJhZ0RhdGFbMF0ueCA9IDEuMDsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBoaWdocCB2ZWMyIGVuYyA9IHRleHR1cmUyRChnYnVmZmVyMCwgdGV4Q29vcmQpLnh5OwogICAgaGlnaHAgdmVjMyBuOwogICAgbi56ID0gKDEuMCAtIGFicyhlbmMueCkpIC0gYWJzKGVuYy55KTsKICAgIGhpZ2hwIHZlYzIgXzE5NTsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8xOTUgPSBlbmM7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzE5NSA9IG9jdGFoZWRyb25XcmFwKGVuYyk7CiAgICB9CiAgICBuID0gdmVjMyhfMTk1LngsIF8xOTUueSwgbi56KTsKICAgIG4gPSBub3JtYWxpemUobik7CiAgICBoaWdocCB2ZWMzIGN1cnJlbnRQb3MgPSBnZXRQb3MyTm9FeWUoZXllLCBpbnZWUCwgZGVwdGgsIHRleENvb3JkKTsKICAgIGhpZ2hwIGZsb2F0IGN1cnJlbnREaXN0YW5jZSA9IGxlbmd0aChjdXJyZW50UG9zKTsKICAgIGhpZ2hwIHZlYzIgcmFuZG9tVmVjID0gdGV4dHVyZTJEKHNub2lzZSwgKHRleENvb3JkICogc2NyZWVuU2l6ZSkgLyB2ZWMyKDguMCkpLnh5OwogICAgcmFuZG9tVmVjID0gKHJhbmRvbVZlYyAqIDIuMCkgLSB2ZWMyKDEuMCk7CiAgICBoaWdocCBtYXQyIHJvdE1hdCA9IG1hdDIodmVjMih2ZWMyKGNvcyhyYW5kb21WZWMueCAqIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NSksIC1zaW4ocmFuZG9tVmVjLnggKiAzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzUpKSksIHZlYzIodmVjMihzaW4ocmFuZG9tVmVjLnggKiAzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzUpLCBjb3MocmFuZG9tVmVjLnggKiAzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzUpKSkpOwogICAgaGlnaHAgdmVjMiBwYXJhbSA9IHZlYzIoMS4wLCAwLjApOwogICAgaGlnaHAgdmVjMiBwYXJhbV8xID0gcmFuZG9tVmVjOwogICAgaGlnaHAgbWF0MiBwYXJhbV8yID0gcm90TWF0OwogICAgaGlnaHAgdmVjMyBwYXJhbV8zID0gY3VycmVudFBvczsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fNCA9IG47CiAgICBoaWdocCBmbG9hdCBwYXJhbV81ID0gY3VycmVudERpc3RhbmNlOwogICAgaGlnaHAgZmxvYXQgXzI3NSA9IGRvQU8ocGFyYW0sIHBhcmFtXzEsIHBhcmFtXzIsIHBhcmFtXzMsIHBhcmFtXzQsIHBhcmFtXzUpOwogICAgZ2xfRnJhZ0RhdGFbMF0ueCA9IF8yNzU7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzYgPSB2ZWMyKDAuODY2MDI1Mzg4MjQwODE0MjA4OTg0Mzc1LCAwLjQ5OTk5OTkxMDU5MzAzMjgzNjkxNDA2MjUpOwogICAgaGlnaHAgdmVjMiBwYXJhbV83ID0gcmFuZG9tVmVjOwogICAgaGlnaHAgbWF0MiBwYXJhbV84ID0gcm90TWF0OwogICAgaGlnaHAgdmVjMyBwYXJhbV85ID0gY3VycmVudFBvczsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fMTAgPSBuOwogICAgaGlnaHAgZmxvYXQgcGFyYW1fMTEgPSBjdXJyZW50RGlzdGFuY2U7CiAgICBoaWdocCBmbG9hdCBfMjkxID0gZG9BTyhwYXJhbV82LCBwYXJhbV83LCBwYXJhbV84LCBwYXJhbV85LCBwYXJhbV8xMCwgcGFyYW1fMTEpOwogICAgZ2xfRnJhZ0RhdGFbMF0ueCArPSBfMjkxOwogICAgaGlnaHAgdmVjMiBwYXJhbV8xMiA9IHZlYzIoMC41LCAwLjg2NjAyNTM4ODI0MDgxNDIwODk4NDM3NSk7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzEzID0gcmFuZG9tVmVjOwogICAgaGlnaHAgbWF0MiBwYXJhbV8xNCA9IHJvdE1hdDsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fMTUgPSBjdXJyZW50UG9zOwogICAgaGlnaHAgdmVjMyBwYXJhbV8xNiA9IG47CiAgICBoaWdocCBmbG9hdCBwYXJhbV8xNyA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGhpZ2hwIGZsb2F0IF8zMDkgPSBkb0FPKHBhcmFtXzEyLCBwYXJhbV8xMywgcGFyYW1fMTQsIHBhcmFtXzE1LCBwYXJhbV8xNiwgcGFyYW1fMTcpOwogICAgZ2xfRnJhZ0RhdGFbMF0ueCArPSBfMzA5OwogICAgaGlnaHAgdmVjMiBwYXJhbV8xOCA9IHZlYzIoMC4wLCAxLjApOwogICAgaGlnaHAgdmVjMiBwYXJhbV8xOSA9IHJhbmRvbVZlYzsKICAgIGhpZ2hwIG1hdDIgcGFyYW1fMjAgPSByb3RNYXQ7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzIxID0gY3VycmVudFBvczsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fMjIgPSBuOwogICAgaGlnaHAgZmxvYXQgcGFyYW1fMjMgPSBjdXJyZW50RGlzdGFuY2U7CiAgICBoaWdocCBmbG9hdCBfMzI2ID0gZG9BTyhwYXJhbV8xOCwgcGFyYW1fMTksIHBhcmFtXzIwLCBwYXJhbV8yMSwgcGFyYW1fMjIsIHBhcmFtXzIzKTsKICAgIGdsX0ZyYWdEYXRhWzBdLnggKz0gXzMyNjsKICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjQgPSB2ZWMyKC0wLjQ5OTk5OTkxMDU5MzAzMjgzNjkxNDA2MjUsIDAuODY2MDI1Mzg4MjQwODE0MjA4OTg0Mzc1KTsKICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjUgPSByYW5kb21WZWM7CiAgICBoaWdocCBtYXQyIHBhcmFtXzI2ID0gcm90TWF0OwogICAgaGlnaHAgdmVjMyBwYXJhbV8yNyA9IGN1cnJlbnRQb3M7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzI4ID0gbjsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzI5ID0gY3VycmVudERpc3RhbmNlOwogICAgaGlnaHAgZmxvYXQgXzM0NCA9IGRvQU8ocGFyYW1fMjQsIHBhcmFtXzI1LCBwYXJhbV8yNiwgcGFyYW1fMjcsIHBhcmFtXzI4LCBwYXJhbV8yOSk7CiAgICBnbF9GcmFnRGF0YVswXS54ICs9IF8zNDQ7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzMwID0gdmVjMigtMC44NjYwMjUzODgyNDA4MTQyMDg5ODQzNzUsIDAuNSk7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzMxID0gcmFuZG9tVmVjOwogICAgaGlnaHAgbWF0MiBwYXJhbV8zMiA9IHJvdE1hdDsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fMzMgPSBjdXJyZW50UG9zOwogICAgaGlnaHAgdmVjMyBwYXJhbV8zNCA9IG47CiAgICBoaWdocCBmbG9hdCBwYXJhbV8zNSA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGhpZ2hwIGZsb2F0IF8zNjIgPSBkb0FPKHBhcmFtXzMwLCBwYXJhbV8zMSwgcGFyYW1fMzIsIHBhcmFtXzMzLCBwYXJhbV8zNCwgcGFyYW1fMzUpOwogICAgZ2xfRnJhZ0RhdGFbMF0ueCArPSBfMzYyOwogICAgaGlnaHAgdmVjMiBwYXJhbV8zNiA9IHZlYzIoLTEuMCwgMC4wKTsKICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzcgPSByYW5kb21WZWM7CiAgICBoaWdocCBtYXQyIHBhcmFtXzM4ID0gcm90TWF0OwogICAgaGlnaHAgdmVjMyBwYXJhbV8zOSA9IGN1cnJlbnRQb3M7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzQwID0gbjsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzQxID0gY3VycmVudERpc3RhbmNlOwogICAgaGlnaHAgZmxvYXQgXzM3OSA9IGRvQU8ocGFyYW1fMzYsIHBhcmFtXzM3LCBwYXJhbV8zOCwgcGFyYW1fMzksIHBhcmFtXzQwLCBwYXJhbV80MSk7CiAgICBnbF9GcmFnRGF0YVswXS54ICs9IF8zNzk7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzQyID0gdmVjMigtMC44NjYwMjUzODgyNDA4MTQyMDg5ODQzNzUsIC0wLjQ5OTk5OTkxMDU5MzAzMjgzNjkxNDA2MjUpOwogICAgaGlnaHAgdmVjMiBwYXJhbV80MyA9IHJhbmRvbVZlYzsKICAgIGhpZ2hwIG1hdDIgcGFyYW1fNDQgPSByb3RNYXQ7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzQ1ID0gY3VycmVudFBvczsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fNDYgPSBuOwogICAgaGlnaHAgZmxvYXQgcGFyYW1fNDcgPSBjdXJyZW50RGlzdGFuY2U7CiAgICBoaWdocCBmbG9hdCBfMzk2ID0gZG9BTyhwYXJhbV80MiwgcGFyYW1fNDMsIHBhcmFtXzQ0LCBwYXJhbV80NSwgcGFyYW1fNDYsIHBhcmFtXzQ3KTsKICAgIGdsX0ZyYWdEYXRhWzBdLnggKz0gXzM5NjsKICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDggPSB2ZWMyKC0wLjUsIC0wLjg2NjAyNTM4ODI0MDgxNDIwODk4NDM3NSk7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzQ5ID0gcmFuZG9tVmVjOwogICAgaGlnaHAgbWF0MiBwYXJhbV81MCA9IHJvdE1hdDsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fNTEgPSBjdXJyZW50UG9zOwogICAgaGlnaHAgdmVjMyBwYXJhbV81MiA9IG47CiAgICBoaWdocCBmbG9hdCBwYXJhbV81MyA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGhpZ2hwIGZsb2F0IF80MTQgPSBkb0FPKHBhcmFtXzQ4LCBwYXJhbV80OSwgcGFyYW1fNTAsIHBhcmFtXzUxLCBwYXJhbV81MiwgcGFyYW1fNTMpOwogICAgZ2xfRnJhZ0RhdGFbMF0ueCArPSBfNDE0OwogICAgaGlnaHAgdmVjMiBwYXJhbV81NCA9IHZlYzIoMC4wLCAtMS4wKTsKICAgIGhpZ2hwIHZlYzIgcGFyYW1fNTUgPSByYW5kb21WZWM7CiAgICBoaWdocCBtYXQyIHBhcmFtXzU2ID0gcm90TWF0OwogICAgaGlnaHAgdmVjMyBwYXJhbV81NyA9IGN1cnJlbnRQb3M7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzU4ID0gbjsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzU5ID0gY3VycmVudERpc3RhbmNlOwogICAgaGlnaHAgZmxvYXQgXzQzMSA9IGRvQU8ocGFyYW1fNTQsIHBhcmFtXzU1LCBwYXJhbV81NiwgcGFyYW1fNTcsIHBhcmFtXzU4LCBwYXJhbV81OSk7CiAgICBnbF9GcmFnRGF0YVswXS54ICs9IF80MzE7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzYwID0gdmVjMigwLjQ5OTk5OTkxMDU5MzAzMjgzNjkxNDA2MjUsIC0wLjg2NjAyNTM4ODI0MDgxNDIwODk4NDM3NSk7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzYxID0gcmFuZG9tVmVjOwogICAgaGlnaHAgbWF0MiBwYXJhbV82MiA9IHJvdE1hdDsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fNjMgPSBjdXJyZW50UG9zOwogICAgaGlnaHAgdmVjMyBwYXJhbV82NCA9IG47CiAgICBoaWdocCBmbG9hdCBwYXJhbV82NSA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGhpZ2hwIGZsb2F0IF80NDggPSBkb0FPKHBhcmFtXzYwLCBwYXJhbV82MSwgcGFyYW1fNjIsIHBhcmFtXzYzLCBwYXJhbV82NCwgcGFyYW1fNjUpOwogICAgZ2xfRnJhZ0RhdGFbMF0ueCArPSBfNDQ4OwogICAgaGlnaHAgdmVjMiBwYXJhbV82NiA9IHZlYzIoMC44NjYwMjUzODgyNDA4MTQyMDg5ODQzNzUsIC0wLjUpOwogICAgaGlnaHAgdmVjMiBwYXJhbV82NyA9IHJhbmRvbVZlYzsKICAgIGhpZ2hwIG1hdDIgcGFyYW1fNjggPSByb3RNYXQ7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzY5ID0gY3VycmVudFBvczsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fNzAgPSBuOwogICAgaGlnaHAgZmxvYXQgcGFyYW1fNzEgPSBjdXJyZW50RGlzdGFuY2U7CiAgICBoaWdocCBmbG9hdCBfNDY1ID0gZG9BTyhwYXJhbV82NiwgcGFyYW1fNjcsIHBhcmFtXzY4LCBwYXJhbV82OSwgcGFyYW1fNzAsIHBhcmFtXzcxKTsKICAgIGdsX0ZyYWdEYXRhWzBdLnggKz0gXzQ2NTsKICAgIGdsX0ZyYWdEYXRhWzBdLnggKj0gMC4wMDgzMzMzMzM3Njc5NTA1MzQ4MjA1NTY2NDA2MjU7CiAgICBnbF9GcmFnRGF0YVswXS54ID0gbWF4KDAuMCwgMS4wIC0gZ2xfRnJhZ0RhdGFbMF0ueCk7Cn0KCg",Bt.ssao_pass_fragData1="s8488:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIHZlYzIgYXNwZWN0UmF0aW87CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlckQ7CnVuaWZvcm0gdmVjMyBleWU7CnVuaWZvcm0gbWF0NCBpbnZWUDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBnYnVmZmVyMDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBzbm9pc2U7CnVuaWZvcm0gdmVjMiBzY3JlZW5TaXplOwoKdmFyeWluZyB2ZWMyIHRleENvb3JkOwoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogLTEuMCwgKHYueSA%PSAwLjApID8gMS4wIDogLTEuMCk7Cn0KCnZlYzMgZ2V0UG9zMk5vRXllKHZlYzMgZXllXzEsIG1hdDQgaW52VlBfMSwgZmxvYXQgZGVwdGgsIHZlYzIgY29vcmQpCnsKICAgIHZlYzQgcG9zID0gdmVjNCgoY29vcmQgKiAyLjApIC0gdmVjMigxLjApLCBkZXB0aCwgMS4wKTsKICAgIHBvcyA9IGludlZQXzEgKiBwb3M7CiAgICB2ZWMzIF83NCA9IHBvcy54eXogLyB2ZWMzKHBvcy53KTsKICAgIHBvcyA9IHZlYzQoXzc0LngsIF83NC55LCBfNzQueiwgcG9zLncpOwogICAgcmV0dXJuIHBvcy54eXogLSBleWVfMTsKfQoKZmxvYXQgZG9BTyhpbm91dCB2ZWMyIGtlcm5lbFZlYywgdmVjMiByYW5kb21WZWMsIG1hdDIgcm90TWF0LCB2ZWMzIGN1cnJlbnRQb3MsIHZlYzMgbiwgZmxvYXQgY3VycmVudERpc3RhbmNlKQp7CiAgICBrZXJuZWxWZWMgKj0gYXNwZWN0UmF0aW87CiAgICBmbG9hdCByYWRpdXMgPSAwLjExOTk5OTk5NzMxNzc5MDk4NTEwNzQyMTg3NSAqIHJhbmRvbVZlYy55OwogICAga2VybmVsVmVjID0gKChyb3RNYXQgKiBrZXJuZWxWZWMpIC8gdmVjMihjdXJyZW50RGlzdGFuY2UpKSAqIHJhZGl1czsKICAgIHZlYzIgY29vcmQgPSB0ZXhDb29yZCArIGtlcm5lbFZlYzsKICAgIGZsb2F0IGRlcHRoID0gKHRleHR1cmUyRChnYnVmZmVyRCwgY29vcmQpLnggKiAyLjApIC0gMS4wOwogICAgdmVjMyBwb3MgPSBnZXRQb3MyTm9FeWUoZXllLCBpbnZWUCwgZGVwdGgsIGNvb3JkKSAtIGN1cnJlbnRQb3M7CiAgICBmbG9hdCBhbmdsZSA9IGRvdChwb3MsIG4pOwogICAgYW5nbGUgKj0gc3RlcCgwLjEwMDAwMDAwMTQ5MDExNjExOTM4NDc2NTYyNSwgYW5nbGUgLyBsZW5ndGgocG9zKSk7CiAgICBhbmdsZSAtPSAoY3VycmVudERpc3RhbmNlICogMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpOwogICAgYW5nbGUgPSBtYXgoMC4wLCBhbmdsZSk7CiAgICBhbmdsZSAvPSAoKGRvdChwb3MsIHBvcykgLyBtaW4oY3VycmVudERpc3RhbmNlICogMC4yNSwgMS4wKSkgKyAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSk7CiAgICByZXR1cm4gYW5nbGU7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGZsb2F0IGRlcHRoID0gKHRleHR1cmUyRChnYnVmZmVyRCwgdGV4Q29vcmQpLnggKiAyLjApIC0gMS4wOwogICAgaWYgKGRlcHRoID09IDEuMCkKICAgIHsKICAgICAgICBnbF9GcmFnRGF0YVswXS54ID0gMS4wOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIHZlYzIgZW5jID0gdGV4dHVyZTJEKGdidWZmZXIwLCB0ZXhDb29yZCkueHk7CiAgICB2ZWMzIG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGVuYy54KSkgLSBhYnMoZW5jLnkpOwogICAgdmVjMiBfMTk1OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzE5NSA9IGVuYzsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTk1ID0gb2N0YWhlZHJvbldyYXAoZW5jKTsKICAgIH0KICAgIG4gPSB2ZWMzKF8xOTUueCwgXzE5NS55LCBuLnopOwogICAgbiA9IG5vcm1hbGl6ZShuKTsKICAgIHZlYzMgY3VycmVudFBvcyA9IGdldFBvczJOb0V5ZShleWUsIGludlZQLCBkZXB0aCwgdGV4Q29vcmQpOwogICAgZmxvYXQgY3VycmVudERpc3RhbmNlID0gbGVuZ3RoKGN1cnJlbnRQb3MpOwogICAgdmVjMiByYW5kb21WZWMgPSB0ZXh0dXJlMkQoc25vaXNlLCAodGV4Q29vcmQgKiBzY3JlZW5TaXplKSAvIHZlYzIoOC4wKSkueHk7CiAgICByYW5kb21WZWMgPSAocmFuZG9tVmVjICogMi4wKSAtIHZlYzIoMS4wKTsKICAgIG1hdDIgcm90TWF0ID0gbWF0Mih2ZWMyKHZlYzIoY29zKHJhbmRvbVZlYy54ICogMy4xNDE1OTI3NDEwMTI1NzMyNDIxODc1KSwgLXNpbihyYW5kb21WZWMueCAqIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NSkpKSwgdmVjMih2ZWMyKHNpbihyYW5kb21WZWMueCAqIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NSksIGNvcyhyYW5kb21WZWMueCAqIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NSkpKSk7CiAgICB2ZWMyIHBhcmFtID0gdmVjMigxLjAsIDAuMCk7CiAgICB2ZWMyIHBhcmFtXzEgPSByYW5kb21WZWM7CiAgICBtYXQyIHBhcmFtXzIgPSByb3RNYXQ7CiAgICB2ZWMzIHBhcmFtXzMgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV80ID0gbjsKICAgIGZsb2F0IHBhcmFtXzUgPSBjdXJyZW50RGlzdGFuY2U7CiAgICBmbG9hdCBfMjc1ID0gZG9BTyhwYXJhbSwgcGFyYW1fMSwgcGFyYW1fMiwgcGFyYW1fMywgcGFyYW1fNCwgcGFyYW1fNSk7CiAgICBnbF9GcmFnRGF0YVswXS54ID0gXzI3NTsKICAgIHZlYzIgcGFyYW1fNiA9IHZlYzIoMC44NjYwMjUzODgyNDA4MTQyMDg5ODQzNzUsIDAuNDk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSk7CiAgICB2ZWMyIHBhcmFtXzcgPSByYW5kb21WZWM7CiAgICBtYXQyIHBhcmFtXzggPSByb3RNYXQ7CiAgICB2ZWMzIHBhcmFtXzkgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV8xMCA9IG47CiAgICBmbG9hdCBwYXJhbV8xMSA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF8yOTEgPSBkb0FPKHBhcmFtXzYsIHBhcmFtXzcsIHBhcmFtXzgsIHBhcmFtXzksIHBhcmFtXzEwLCBwYXJhbV8xMSk7CiAgICBnbF9GcmFnRGF0YVswXS54ICs9IF8yOTE7CiAgICB2ZWMyIHBhcmFtXzEyID0gdmVjMigwLjUsIDAuODY2MDI1Mzg4MjQwODE0MjA4OTg0Mzc1KTsKICAgIHZlYzIgcGFyYW1fMTMgPSByYW5kb21WZWM7CiAgICBtYXQyIHBhcmFtXzE0ID0gcm90TWF0OwogICAgdmVjMyBwYXJhbV8xNSA9IGN1cnJlbnRQb3M7CiAgICB2ZWMzIHBhcmFtXzE2ID0gbjsKICAgIGZsb2F0IHBhcmFtXzE3ID0gY3VycmVudERpc3RhbmNlOwogICAgZmxvYXQgXzMwOSA9IGRvQU8ocGFyYW1fMTIsIHBhcmFtXzEzLCBwYXJhbV8xNCwgcGFyYW1fMTUsIHBhcmFtXzE2LCBwYXJhbV8xNyk7CiAgICBnbF9GcmFnRGF0YVswXS54ICs9IF8zMDk7CiAgICB2ZWMyIHBhcmFtXzE4ID0gdmVjMigwLjAsIDEuMCk7CiAgICB2ZWMyIHBhcmFtXzE5ID0gcmFuZG9tVmVjOwogICAgbWF0MiBwYXJhbV8yMCA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fMjEgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV8yMiA9IG47CiAgICBmbG9hdCBwYXJhbV8yMyA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF8zMjYgPSBkb0FPKHBhcmFtXzE4LCBwYXJhbV8xOSwgcGFyYW1fMjAsIHBhcmFtXzIxLCBwYXJhbV8yMiwgcGFyYW1fMjMpOwogICAgZ2xfRnJhZ0RhdGFbMF0ueCArPSBfMzI2OwogICAgdmVjMiBwYXJhbV8yNCA9IHZlYzIoLTAuNDk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSwgMC44NjYwMjUzODgyNDA4MTQyMDg5ODQzNzUpOwogICAgdmVjMiBwYXJhbV8yNSA9IHJhbmRvbVZlYzsKICAgIG1hdDIgcGFyYW1fMjYgPSByb3RNYXQ7CiAgICB2ZWMzIHBhcmFtXzI3ID0gY3VycmVudFBvczsKICAgIHZlYzMgcGFyYW1fMjggPSBuOwogICAgZmxvYXQgcGFyYW1fMjkgPSBjdXJyZW50RGlzdGFuY2U7CiAgICBmbG9hdCBfMzQ0ID0gZG9BTyhwYXJhbV8yNCwgcGFyYW1fMjUsIHBhcmFtXzI2LCBwYXJhbV8yNywgcGFyYW1fMjgsIHBhcmFtXzI5KTsKICAgIGdsX0ZyYWdEYXRhWzBdLnggKz0gXzM0NDsKICAgIHZlYzIgcGFyYW1fMzAgPSB2ZWMyKC0wLjg2NjAyNTM4ODI0MDgxNDIwODk4NDM3NSwgMC41KTsKICAgIHZlYzIgcGFyYW1fMzEgPSByYW5kb21WZWM7CiAgICBtYXQyIHBhcmFtXzMyID0gcm90TWF0OwogICAgdmVjMyBwYXJhbV8zMyA9IGN1cnJlbnRQb3M7CiAgICB2ZWMzIHBhcmFtXzM0ID0gbjsKICAgIGZsb2F0IHBhcmFtXzM1ID0gY3VycmVudERpc3RhbmNlOwogICAgZmxvYXQgXzM2MiA9IGRvQU8ocGFyYW1fMzAsIHBhcmFtXzMxLCBwYXJhbV8zMiwgcGFyYW1fMzMsIHBhcmFtXzM0LCBwYXJhbV8zNSk7CiAgICBnbF9GcmFnRGF0YVswXS54ICs9IF8zNjI7CiAgICB2ZWMyIHBhcmFtXzM2ID0gdmVjMigtMS4wLCAwLjApOwogICAgdmVjMiBwYXJhbV8zNyA9IHJhbmRvbVZlYzsKICAgIG1hdDIgcGFyYW1fMzggPSByb3RNYXQ7CiAgICB2ZWMzIHBhcmFtXzM5ID0gY3VycmVudFBvczsKICAgIHZlYzMgcGFyYW1fNDAgPSBuOwogICAgZmxvYXQgcGFyYW1fNDEgPSBjdXJyZW50RGlzdGFuY2U7CiAgICBmbG9hdCBfMzc5ID0gZG9BTyhwYXJhbV8zNiwgcGFyYW1fMzcsIHBhcmFtXzM4LCBwYXJhbV8zOSwgcGFyYW1fNDAsIHBhcmFtXzQxKTsKICAgIGdsX0ZyYWdEYXRhWzBdLnggKz0gXzM3OTsKICAgIHZlYzIgcGFyYW1fNDIgPSB2ZWMyKC0wLjg2NjAyNTM4ODI0MDgxNDIwODk4NDM3NSwgLTAuNDk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSk7CiAgICB2ZWMyIHBhcmFtXzQzID0gcmFuZG9tVmVjOwogICAgbWF0MiBwYXJhbV80NCA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fNDUgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV80NiA9IG47CiAgICBmbG9hdCBwYXJhbV80NyA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF8zOTYgPSBkb0FPKHBhcmFtXzQyLCBwYXJhbV80MywgcGFyYW1fNDQsIHBhcmFtXzQ1LCBwYXJhbV80NiwgcGFyYW1fNDcpOwogICAgZ2xfRnJhZ0RhdGFbMF0ueCArPSBfMzk2OwogICAgdmVjMiBwYXJhbV80OCA9IHZlYzIoLTAuNSwgLTAuODY2MDI1Mzg4MjQwODE0MjA4OTg0Mzc1KTsKICAgIHZlYzIgcGFyYW1fNDkgPSByYW5kb21WZWM7CiAgICBtYXQyIHBhcmFtXzUwID0gcm90TWF0OwogICAgdmVjMyBwYXJhbV81MSA9IGN1cnJlbnRQb3M7CiAgICB2ZWMzIHBhcmFtXzUyID0gbjsKICAgIGZsb2F0IHBhcmFtXzUzID0gY3VycmVudERpc3RhbmNlOwogICAgZmxvYXQgXzQxNCA9IGRvQU8ocGFyYW1fNDgsIHBhcmFtXzQ5LCBwYXJhbV81MCwgcGFyYW1fNTEsIHBhcmFtXzUyLCBwYXJhbV81Myk7CiAgICBnbF9GcmFnRGF0YVswXS54ICs9IF80MTQ7CiAgICB2ZWMyIHBhcmFtXzU0ID0gdmVjMigwLjAsIC0xLjApOwogICAgdmVjMiBwYXJhbV81NSA9IHJhbmRvbVZlYzsKICAgIG1hdDIgcGFyYW1fNTYgPSByb3RNYXQ7CiAgICB2ZWMzIHBhcmFtXzU3ID0gY3VycmVudFBvczsKICAgIHZlYzMgcGFyYW1fNTggPSBuOwogICAgZmxvYXQgcGFyYW1fNTkgPSBjdXJyZW50RGlzdGFuY2U7CiAgICBmbG9hdCBfNDMxID0gZG9BTyhwYXJhbV81NCwgcGFyYW1fNTUsIHBhcmFtXzU2LCBwYXJhbV81NywgcGFyYW1fNTgsIHBhcmFtXzU5KTsKICAgIGdsX0ZyYWdEYXRhWzBdLnggKz0gXzQzMTsKICAgIHZlYzIgcGFyYW1fNjAgPSB2ZWMyKDAuNDk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSwgLTAuODY2MDI1Mzg4MjQwODE0MjA4OTg0Mzc1KTsKICAgIHZlYzIgcGFyYW1fNjEgPSByYW5kb21WZWM7CiAgICBtYXQyIHBhcmFtXzYyID0gcm90TWF0OwogICAgdmVjMyBwYXJhbV82MyA9IGN1cnJlbnRQb3M7CiAgICB2ZWMzIHBhcmFtXzY0ID0gbjsKICAgIGZsb2F0IHBhcmFtXzY1ID0gY3VycmVudERpc3RhbmNlOwogICAgZmxvYXQgXzQ0OCA9IGRvQU8ocGFyYW1fNjAsIHBhcmFtXzYxLCBwYXJhbV82MiwgcGFyYW1fNjMsIHBhcmFtXzY0LCBwYXJhbV82NSk7CiAgICBnbF9GcmFnRGF0YVswXS54ICs9IF80NDg7CiAgICB2ZWMyIHBhcmFtXzY2ID0gdmVjMigwLjg2NjAyNTM4ODI0MDgxNDIwODk4NDM3NSwgLTAuNSk7CiAgICB2ZWMyIHBhcmFtXzY3ID0gcmFuZG9tVmVjOwogICAgbWF0MiBwYXJhbV82OCA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fNjkgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV83MCA9IG47CiAgICBmbG9hdCBwYXJhbV83MSA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF80NjUgPSBkb0FPKHBhcmFtXzY2LCBwYXJhbV82NywgcGFyYW1fNjgsIHBhcmFtXzY5LCBwYXJhbV83MCwgcGFyYW1fNzEpOwogICAgZ2xfRnJhZ0RhdGFbMF0ueCArPSBfNDY1OwogICAgZ2xfRnJhZ0RhdGFbMF0ueCAqPSAwLjAwODMzMzMzMzc2Nzk1MDUzNDgyMDU1NjY0MDYyNTsKICAgIGdsX0ZyYWdEYXRhWzBdLnggPSBtYXgoMC4wLCAxLjAgLSBnbF9GcmFnRGF0YVswXS54KTsKfQoK",Bt.ssao_pass_fragData2="s8395:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIHZlYzIgYXNwZWN0UmF0aW87CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlckQ7CnVuaWZvcm0gdmVjMyBleWU7CnVuaWZvcm0gbWF0NCBpbnZWUDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBnYnVmZmVyMDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBzbm9pc2U7CnVuaWZvcm0gdmVjMiBzY3JlZW5TaXplOwoKaW4gdmVjMiB0ZXhDb29yZDsKb3V0IHZlYzQgZnJhZ0NvbG9yOwoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogLTEuMCwgKHYueSA%PSAwLjApID8gMS4wIDogLTEuMCk7Cn0KCnZlYzMgZ2V0UG9zMk5vRXllKHZlYzMgZXllXzEsIG1hdDQgaW52VlBfMSwgZmxvYXQgZGVwdGgsIHZlYzIgY29vcmQpCnsKICAgIHZlYzQgcG9zID0gdmVjNCgoY29vcmQgKiAyLjApIC0gdmVjMigxLjApLCBkZXB0aCwgMS4wKTsKICAgIHBvcyA9IGludlZQXzEgKiBwb3M7CiAgICB2ZWMzIF83NCA9IHBvcy54eXogLyB2ZWMzKHBvcy53KTsKICAgIHBvcyA9IHZlYzQoXzc0LngsIF83NC55LCBfNzQueiwgcG9zLncpOwogICAgcmV0dXJuIHBvcy54eXogLSBleWVfMTsKfQoKZmxvYXQgZG9BTyhpbm91dCB2ZWMyIGtlcm5lbFZlYywgdmVjMiByYW5kb21WZWMsIG1hdDIgcm90TWF0LCB2ZWMzIGN1cnJlbnRQb3MsIHZlYzMgbiwgZmxvYXQgY3VycmVudERpc3RhbmNlKQp7CiAgICBrZXJuZWxWZWMgKj0gYXNwZWN0UmF0aW87CiAgICBmbG9hdCByYWRpdXMgPSAwLjExOTk5OTk5NzMxNzc5MDk4NTEwNzQyMTg3NSAqIHJhbmRvbVZlYy55OwogICAga2VybmVsVmVjID0gKChyb3RNYXQgKiBrZXJuZWxWZWMpIC8gdmVjMihjdXJyZW50RGlzdGFuY2UpKSAqIHJhZGl1czsKICAgIHZlYzIgY29vcmQgPSB0ZXhDb29yZCArIGtlcm5lbFZlYzsKICAgIGZsb2F0IGRlcHRoID0gKHRleHR1cmUoZ2J1ZmZlckQsIGNvb3JkKS54ICogMi4wKSAtIDEuMDsKICAgIHZlYzMgcG9zID0gZ2V0UG9zMk5vRXllKGV5ZSwgaW52VlAsIGRlcHRoLCBjb29yZCkgLSBjdXJyZW50UG9zOwogICAgZmxvYXQgYW5nbGUgPSBkb3QocG9zLCBuKTsKICAgIGFuZ2xlICo9IHN0ZXAoMC4xMDAwMDAwMDE0OTAxMTYxMTkzODQ3NjU2MjUsIGFuZ2xlIC8gbGVuZ3RoKHBvcykpOwogICAgYW5nbGUgLT0gKGN1cnJlbnREaXN0YW5jZSAqIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KTsKICAgIGFuZ2xlID0gbWF4KDAuMCwgYW5nbGUpOwogICAgYW5nbGUgLz0gKChkb3QocG9zLCBwb3MpIC8gbWluKGN1cnJlbnREaXN0YW5jZSAqIDAuMjUsIDEuMCkpICsgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpOwogICAgcmV0dXJuIGFuZ2xlOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBmbG9hdCBkZXB0aCA9ICh0ZXh0dXJlKGdidWZmZXJELCB0ZXhDb29yZCkueCAqIDIuMCkgLSAxLjA7CiAgICBpZiAoZGVwdGggPT0gMS4wKQogICAgewogICAgICAgIGZyYWdDb2xvci54ID0gMS4wOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIHZlYzIgZW5jID0gdGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmQpLnh5OwogICAgdmVjMyBuOwogICAgbi56ID0gKDEuMCAtIGFicyhlbmMueCkpIC0gYWJzKGVuYy55KTsKICAgIHZlYzIgXzE5NTsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8xOTUgPSBlbmM7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzE5NSA9IG9jdGFoZWRyb25XcmFwKGVuYyk7CiAgICB9CiAgICBuID0gdmVjMyhfMTk1LngsIF8xOTUueSwgbi56KTsKICAgIG4gPSBub3JtYWxpemUobik7CiAgICB2ZWMzIGN1cnJlbnRQb3MgPSBnZXRQb3MyTm9FeWUoZXllLCBpbnZWUCwgZGVwdGgsIHRleENvb3JkKTsKICAgIGZsb2F0IGN1cnJlbnREaXN0YW5jZSA9IGxlbmd0aChjdXJyZW50UG9zKTsKICAgIHZlYzIgcmFuZG9tVmVjID0gdGV4dHVyZShzbm9pc2UsICh0ZXhDb29yZCAqIHNjcmVlblNpemUpIC8gdmVjMig4LjApKS54eTsKICAgIHJhbmRvbVZlYyA9IChyYW5kb21WZWMgKiAyLjApIC0gdmVjMigxLjApOwogICAgbWF0MiByb3RNYXQgPSBtYXQyKHZlYzIodmVjMihjb3MocmFuZG9tVmVjLnggKiAzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzUpLCAtc2luKHJhbmRvbVZlYy54ICogMy4xNDE1OTI3NDEwMTI1NzMyNDIxODc1KSkpLCB2ZWMyKHZlYzIoc2luKHJhbmRvbVZlYy54ICogMy4xNDE1OTI3NDEwMTI1NzMyNDIxODc1KSwgY29zKHJhbmRvbVZlYy54ICogMy4xNDE1OTI3NDEwMTI1NzMyNDIxODc1KSkpKTsKICAgIHZlYzIgcGFyYW0gPSB2ZWMyKDEuMCwgMC4wKTsKICAgIHZlYzIgcGFyYW1fMSA9IHJhbmRvbVZlYzsKICAgIG1hdDIgcGFyYW1fMiA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fMyA9IGN1cnJlbnRQb3M7CiAgICB2ZWMzIHBhcmFtXzQgPSBuOwogICAgZmxvYXQgcGFyYW1fNSA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF8yNzUgPSBkb0FPKHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yLCBwYXJhbV8zLCBwYXJhbV80LCBwYXJhbV81KTsKICAgIGZyYWdDb2xvci54ID0gXzI3NTsKICAgIHZlYzIgcGFyYW1fNiA9IHZlYzIoMC44NjYwMjUzODgyNDA4MTQyMDg5ODQzNzUsIDAuNDk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSk7CiAgICB2ZWMyIHBhcmFtXzcgPSByYW5kb21WZWM7CiAgICBtYXQyIHBhcmFtXzggPSByb3RNYXQ7CiAgICB2ZWMzIHBhcmFtXzkgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV8xMCA9IG47CiAgICBmbG9hdCBwYXJhbV8xMSA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF8yOTEgPSBkb0FPKHBhcmFtXzYsIHBhcmFtXzcsIHBhcmFtXzgsIHBhcmFtXzksIHBhcmFtXzEwLCBwYXJhbV8xMSk7CiAgICBmcmFnQ29sb3IueCArPSBfMjkxOwogICAgdmVjMiBwYXJhbV8xMiA9IHZlYzIoMC41LCAwLjg2NjAyNTM4ODI0MDgxNDIwODk4NDM3NSk7CiAgICB2ZWMyIHBhcmFtXzEzID0gcmFuZG9tVmVjOwogICAgbWF0MiBwYXJhbV8xNCA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fMTUgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV8xNiA9IG47CiAgICBmbG9hdCBwYXJhbV8xNyA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF8zMDkgPSBkb0FPKHBhcmFtXzEyLCBwYXJhbV8xMywgcGFyYW1fMTQsIHBhcmFtXzE1LCBwYXJhbV8xNiwgcGFyYW1fMTcpOwogICAgZnJhZ0NvbG9yLnggKz0gXzMwOTsKICAgIHZlYzIgcGFyYW1fMTggPSB2ZWMyKDAuMCwgMS4wKTsKICAgIHZlYzIgcGFyYW1fMTkgPSByYW5kb21WZWM7CiAgICBtYXQyIHBhcmFtXzIwID0gcm90TWF0OwogICAgdmVjMyBwYXJhbV8yMSA9IGN1cnJlbnRQb3M7CiAgICB2ZWMzIHBhcmFtXzIyID0gbjsKICAgIGZsb2F0IHBhcmFtXzIzID0gY3VycmVudERpc3RhbmNlOwogICAgZmxvYXQgXzMyNiA9IGRvQU8ocGFyYW1fMTgsIHBhcmFtXzE5LCBwYXJhbV8yMCwgcGFyYW1fMjEsIHBhcmFtXzIyLCBwYXJhbV8yMyk7CiAgICBmcmFnQ29sb3IueCArPSBfMzI2OwogICAgdmVjMiBwYXJhbV8yNCA9IHZlYzIoLTAuNDk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSwgMC44NjYwMjUzODgyNDA4MTQyMDg5ODQzNzUpOwogICAgdmVjMiBwYXJhbV8yNSA9IHJhbmRvbVZlYzsKICAgIG1hdDIgcGFyYW1fMjYgPSByb3RNYXQ7CiAgICB2ZWMzIHBhcmFtXzI3ID0gY3VycmVudFBvczsKICAgIHZlYzMgcGFyYW1fMjggPSBuOwogICAgZmxvYXQgcGFyYW1fMjkgPSBjdXJyZW50RGlzdGFuY2U7CiAgICBmbG9hdCBfMzQ0ID0gZG9BTyhwYXJhbV8yNCwgcGFyYW1fMjUsIHBhcmFtXzI2LCBwYXJhbV8yNywgcGFyYW1fMjgsIHBhcmFtXzI5KTsKICAgIGZyYWdDb2xvci54ICs9IF8zNDQ7CiAgICB2ZWMyIHBhcmFtXzMwID0gdmVjMigtMC44NjYwMjUzODgyNDA4MTQyMDg5ODQzNzUsIDAuNSk7CiAgICB2ZWMyIHBhcmFtXzMxID0gcmFuZG9tVmVjOwogICAgbWF0MiBwYXJhbV8zMiA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fMzMgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV8zNCA9IG47CiAgICBmbG9hdCBwYXJhbV8zNSA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF8zNjIgPSBkb0FPKHBhcmFtXzMwLCBwYXJhbV8zMSwgcGFyYW1fMzIsIHBhcmFtXzMzLCBwYXJhbV8zNCwgcGFyYW1fMzUpOwogICAgZnJhZ0NvbG9yLnggKz0gXzM2MjsKICAgIHZlYzIgcGFyYW1fMzYgPSB2ZWMyKC0xLjAsIDAuMCk7CiAgICB2ZWMyIHBhcmFtXzM3ID0gcmFuZG9tVmVjOwogICAgbWF0MiBwYXJhbV8zOCA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fMzkgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV80MCA9IG47CiAgICBmbG9hdCBwYXJhbV80MSA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF8zNzkgPSBkb0FPKHBhcmFtXzM2LCBwYXJhbV8zNywgcGFyYW1fMzgsIHBhcmFtXzM5LCBwYXJhbV80MCwgcGFyYW1fNDEpOwogICAgZnJhZ0NvbG9yLnggKz0gXzM3OTsKICAgIHZlYzIgcGFyYW1fNDIgPSB2ZWMyKC0wLjg2NjAyNTM4ODI0MDgxNDIwODk4NDM3NSwgLTAuNDk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSk7CiAgICB2ZWMyIHBhcmFtXzQzID0gcmFuZG9tVmVjOwogICAgbWF0MiBwYXJhbV80NCA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fNDUgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV80NiA9IG47CiAgICBmbG9hdCBwYXJhbV80NyA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF8zOTYgPSBkb0FPKHBhcmFtXzQyLCBwYXJhbV80MywgcGFyYW1fNDQsIHBhcmFtXzQ1LCBwYXJhbV80NiwgcGFyYW1fNDcpOwogICAgZnJhZ0NvbG9yLnggKz0gXzM5NjsKICAgIHZlYzIgcGFyYW1fNDggPSB2ZWMyKC0wLjUsIC0wLjg2NjAyNTM4ODI0MDgxNDIwODk4NDM3NSk7CiAgICB2ZWMyIHBhcmFtXzQ5ID0gcmFuZG9tVmVjOwogICAgbWF0MiBwYXJhbV81MCA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fNTEgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV81MiA9IG47CiAgICBmbG9hdCBwYXJhbV81MyA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF80MTQgPSBkb0FPKHBhcmFtXzQ4LCBwYXJhbV80OSwgcGFyYW1fNTAsIHBhcmFtXzUxLCBwYXJhbV81MiwgcGFyYW1fNTMpOwogICAgZnJhZ0NvbG9yLnggKz0gXzQxNDsKICAgIHZlYzIgcGFyYW1fNTQgPSB2ZWMyKDAuMCwgLTEuMCk7CiAgICB2ZWMyIHBhcmFtXzU1ID0gcmFuZG9tVmVjOwogICAgbWF0MiBwYXJhbV81NiA9IHJvdE1hdDsKICAgIHZlYzMgcGFyYW1fNTcgPSBjdXJyZW50UG9zOwogICAgdmVjMyBwYXJhbV81OCA9IG47CiAgICBmbG9hdCBwYXJhbV81OSA9IGN1cnJlbnREaXN0YW5jZTsKICAgIGZsb2F0IF80MzEgPSBkb0FPKHBhcmFtXzU0LCBwYXJhbV81NSwgcGFyYW1fNTYsIHBhcmFtXzU3LCBwYXJhbV81OCwgcGFyYW1fNTkpOwogICAgZnJhZ0NvbG9yLnggKz0gXzQzMTsKICAgIHZlYzIgcGFyYW1fNjAgPSB2ZWMyKDAuNDk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSwgLTAuODY2MDI1Mzg4MjQwODE0MjA4OTg0Mzc1KTsKICAgIHZlYzIgcGFyYW1fNjEgPSByYW5kb21WZWM7CiAgICBtYXQyIHBhcmFtXzYyID0gcm90TWF0OwogICAgdmVjMyBwYXJhbV82MyA9IGN1cnJlbnRQb3M7CiAgICB2ZWMzIHBhcmFtXzY0ID0gbjsKICAgIGZsb2F0IHBhcmFtXzY1ID0gY3VycmVudERpc3RhbmNlOwogICAgZmxvYXQgXzQ0OCA9IGRvQU8ocGFyYW1fNjAsIHBhcmFtXzYxLCBwYXJhbV82MiwgcGFyYW1fNjMsIHBhcmFtXzY0LCBwYXJhbV82NSk7CiAgICBmcmFnQ29sb3IueCArPSBfNDQ4OwogICAgdmVjMiBwYXJhbV82NiA9IHZlYzIoMC44NjYwMjUzODgyNDA4MTQyMDg5ODQzNzUsIC0wLjUpOwogICAgdmVjMiBwYXJhbV82NyA9IHJhbmRvbVZlYzsKICAgIG1hdDIgcGFyYW1fNjggPSByb3RNYXQ7CiAgICB2ZWMzIHBhcmFtXzY5ID0gY3VycmVudFBvczsKICAgIHZlYzMgcGFyYW1fNzAgPSBuOwogICAgZmxvYXQgcGFyYW1fNzEgPSBjdXJyZW50RGlzdGFuY2U7CiAgICBmbG9hdCBfNDY1ID0gZG9BTyhwYXJhbV82NiwgcGFyYW1fNjcsIHBhcmFtXzY4LCBwYXJhbV82OSwgcGFyYW1fNzAsIHBhcmFtXzcxKTsKICAgIGZyYWdDb2xvci54ICs9IF80NjU7CiAgICBmcmFnQ29sb3IueCAqPSAwLjAwODMzMzMzMzc2Nzk1MDUzNDgyMDU1NjY0MDYyNTsKICAgIGZyYWdDb2xvci54ID0gbWF4KDAuMCwgMS4wIC0gZnJhZ0NvbG9yLngpOwp9Cgo",Bt.ssao_pass_vertData0="s214:I3ZlcnNpb24gMTAwCgp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSB2ZWMyIHBvczsKCnZvaWQgbWFpbigpCnsKICAgIHRleENvb3JkID0gKHBvcyAqIHZlYzIoMC41KSkgKyB2ZWMyKDAuNSk7CiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zLCAwLjAsIDEuMCk7Cn0KCg",Bt.ssao_pass_vertData1="s235:I3ZlcnNpb24gMTAwCgp2YXJ5aW5nIG1lZGl1bXAgdmVjMiB0ZXhDb29yZDsKYXR0cmlidXRlIG1lZGl1bXAgdmVjMiBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwp9Cgo",Bt.ssao_pass_vertData2="s224:I3ZlcnNpb24gMzAwIGVzCgpvdXQgbWVkaXVtcCB2ZWMyIHRleENvb3JkOwppbiBtZWRpdW1wIHZlYzIgcG9zOwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKfQoK",Bt.world_fragData0="s1899:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCB2ZWMzIEg7CnVuaWZvcm0gaGlnaHAgdmVjMyBBOwp1bmlmb3JtIGhpZ2hwIHZlYzMgQjsKdW5pZm9ybSBoaWdocCB2ZWMzIEM7CnVuaWZvcm0gaGlnaHAgdmVjMyBEOwp1bmlmb3JtIGhpZ2hwIHZlYzMgRTsKdW5pZm9ybSBoaWdocCB2ZWMzIEY7CnVuaWZvcm0gaGlnaHAgdmVjMyBHOwp1bmlmb3JtIGhpZ2hwIHZlYzMgSTsKdW5pZm9ybSBoaWdocCB2ZWMzIHN1bkRpcmVjdGlvbjsKdW5pZm9ybSBoaWdocCB2ZWMzIFo7CnVuaWZvcm0gaGlnaHAgZmxvYXQgZW52bWFwU3RyZW5ndGg7Cgp2YXJ5aW5nIGhpZ2hwIHZlYzMgbm9ybWFsOwoKaGlnaHAgdmVjMyBob3Nla1dpbGtpZShoaWdocCBmbG9hdCBjb3NfdGhldGEsIGhpZ2hwIGZsb2F0IGdhbW1hLCBoaWdocCBmbG9hdCBjb3NfZ2FtbWEpCnsKICAgIGhpZ2hwIHZlYzMgY2hpID0gdmVjMygxLjAgKyAoY29zX2dhbW1hICogY29zX2dhbW1hKSkgLyBwb3coKHZlYzMoMS4wKSArIChIICogSCkpIC0gKEggKiAoMi4wICogY29zX2dhbW1hKSksIHZlYzMoMS41KSk7CiAgICByZXR1cm4gKHZlYzMoMS4wKSArIChBICogZXhwKEIgLyB2ZWMzKGNvc190aGV0YSArIDAuMDA5OTk5OTk5Nzc2NDgyNTgyMDkyMjg1MTU2MjUpKSkpICogKCgoKEMgKyAoRCAqIGV4cChFICogZ2FtbWEpKSkgKyAoRiAqIChjb3NfZ2FtbWEgKiBjb3NfZ2FtbWEpKSkgKyAoRyAqIGNoaSkpICsgKEkgKiBzcXJ0KGNvc190aGV0YSkpKTsKfQoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjMyBuID0gbm9ybWFsaXplKG5vcm1hbCk7CiAgICBoaWdocCB2ZWMzIHN1bkRpciA9IHZlYzMoc3VuRGlyZWN0aW9uLngsIC1zdW5EaXJlY3Rpb24ueSwgc3VuRGlyZWN0aW9uLnopOwogICAgaGlnaHAgZmxvYXQgcGhpID0gYWNvcyhuLnopOwogICAgaGlnaHAgZmxvYXQgdGhldGEgPSBhdGFuKC1uLnksIG4ueCkgKyAzLjE0MTU5Mjc0MTAxMjU3MzI0MjE4NzU7CiAgICBoaWdocCBmbG9hdCBjb3NfdGhldGEgPSBjbGFtcChuLnosIDAuMCwgMS4wKTsKICAgIGhpZ2hwIGZsb2F0IGNvc19nYW1tYSA9IGRvdChuLCBzdW5EaXIpOwogICAgaGlnaHAgZmxvYXQgZ2FtbWFfdmFsID0gYWNvcyhjb3NfZ2FtbWEpOwogICAgaGlnaHAgZmxvYXQgcGFyYW0gPSBjb3NfdGhldGE7CiAgICBoaWdocCBmbG9hdCBwYXJhbV8xID0gZ2FtbWFfdmFsOwogICAgaGlnaHAgZmxvYXQgcGFyYW1fMiA9IGNvc19nYW1tYTsKICAgIGhpZ2hwIHZlYzMgXzE0NSA9IChaICogaG9zZWtXaWxraWUocGFyYW0sIHBhcmFtXzEsIHBhcmFtXzIpKSAqIGVudm1hcFN0cmVuZ3RoOwogICAgZ2xfRnJhZ0RhdGFbMF0gPSB2ZWM0KF8xNDUueCwgXzE0NS55LCBfMTQ1LnosIGdsX0ZyYWdEYXRhWzBdLncpOwp9Cgo",Bt.world_fragData1="s1670:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIHZlYzMgSDsKdW5pZm9ybSB2ZWMzIEE7CnVuaWZvcm0gdmVjMyBCOwp1bmlmb3JtIHZlYzMgQzsKdW5pZm9ybSB2ZWMzIEQ7CnVuaWZvcm0gdmVjMyBFOwp1bmlmb3JtIHZlYzMgRjsKdW5pZm9ybSB2ZWMzIEc7CnVuaWZvcm0gdmVjMyBJOwp1bmlmb3JtIHZlYzMgc3VuRGlyZWN0aW9uOwp1bmlmb3JtIHZlYzMgWjsKdW5pZm9ybSBmbG9hdCBlbnZtYXBTdHJlbmd0aDsKCnZhcnlpbmcgdmVjMyBub3JtYWw7Cgp2ZWMzIGhvc2VrV2lsa2llKGZsb2F0IGNvc190aGV0YSwgZmxvYXQgZ2FtbWEsIGZsb2F0IGNvc19nYW1tYSkKewogICAgdmVjMyBjaGkgPSB2ZWMzKDEuMCArIChjb3NfZ2FtbWEgKiBjb3NfZ2FtbWEpKSAvIHBvdygodmVjMygxLjApICsgKEggKiBIKSkgLSAoSCAqICgyLjAgKiBjb3NfZ2FtbWEpKSwgdmVjMygxLjUpKTsKICAgIHJldHVybiAodmVjMygxLjApICsgKEEgKiBleHAoQiAvIHZlYzMoY29zX3RoZXRhICsgMC4wMDk5OTk5OTk3NzY0ODI1ODIwOTIyODUxNTYyNSkpKSkgKiAoKCgoQyArIChEICogZXhwKEUgKiBnYW1tYSkpKSArIChGICogKGNvc19nYW1tYSAqIGNvc19nYW1tYSkpKSArIChHICogY2hpKSkgKyAoSSAqIHNxcnQoY29zX3RoZXRhKSkpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUobm9ybWFsKTsKICAgIHZlYzMgc3VuRGlyID0gdmVjMyhzdW5EaXJlY3Rpb24ueCwgLXN1bkRpcmVjdGlvbi55LCBzdW5EaXJlY3Rpb24ueik7CiAgICBmbG9hdCBwaGkgPSBhY29zKG4ueik7CiAgICBmbG9hdCB0aGV0YSA9IGF0YW4oLW4ueSwgbi54KSArIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NTsKICAgIGZsb2F0IGNvc190aGV0YSA9IGNsYW1wKG4ueiwgMC4wLCAxLjApOwogICAgZmxvYXQgY29zX2dhbW1hID0gZG90KG4sIHN1bkRpcik7CiAgICBmbG9hdCBnYW1tYV92YWwgPSBhY29zKGNvc19nYW1tYSk7CiAgICBmbG9hdCBwYXJhbSA9IGNvc190aGV0YTsKICAgIGZsb2F0IHBhcmFtXzEgPSBnYW1tYV92YWw7CiAgICBmbG9hdCBwYXJhbV8yID0gY29zX2dhbW1hOwogICAgdmVjMyBfMTQ1ID0gKFogKiBob3Nla1dpbGtpZShwYXJhbSwgcGFyYW1fMSwgcGFyYW1fMikpICogZW52bWFwU3RyZW5ndGg7CiAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQoXzE0NS54LCBfMTQ1LnksIF8xNDUueiwgZ2xfRnJhZ0RhdGFbMF0udyk7Cn0KCg",Bt.world_fragData2="s1680:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIHZlYzMgSDsKdW5pZm9ybSB2ZWMzIEE7CnVuaWZvcm0gdmVjMyBCOwp1bmlmb3JtIHZlYzMgQzsKdW5pZm9ybSB2ZWMzIEQ7CnVuaWZvcm0gdmVjMyBFOwp1bmlmb3JtIHZlYzMgRjsKdW5pZm9ybSB2ZWMzIEc7CnVuaWZvcm0gdmVjMyBJOwp1bmlmb3JtIHZlYzMgc3VuRGlyZWN0aW9uOwp1bmlmb3JtIHZlYzMgWjsKdW5pZm9ybSBmbG9hdCBlbnZtYXBTdHJlbmd0aDsKCmluIHZlYzMgbm9ybWFsOwpvdXQgdmVjNCBmcmFnQ29sb3I7Cgp2ZWMzIGhvc2VrV2lsa2llKGZsb2F0IGNvc190aGV0YSwgZmxvYXQgZ2FtbWEsIGZsb2F0IGNvc19nYW1tYSkKewogICAgdmVjMyBjaGkgPSB2ZWMzKDEuMCArIChjb3NfZ2FtbWEgKiBjb3NfZ2FtbWEpKSAvIHBvdygodmVjMygxLjApICsgKEggKiBIKSkgLSAoSCAqICgyLjAgKiBjb3NfZ2FtbWEpKSwgdmVjMygxLjUpKTsKICAgIHJldHVybiAodmVjMygxLjApICsgKEEgKiBleHAoQiAvIHZlYzMoY29zX3RoZXRhICsgMC4wMDk5OTk5OTk3NzY0ODI1ODIwOTIyODUxNTYyNSkpKSkgKiAoKCgoQyArIChEICogZXhwKEUgKiBnYW1tYSkpKSArIChGICogKGNvc19nYW1tYSAqIGNvc19nYW1tYSkpKSArIChHICogY2hpKSkgKyAoSSAqIHNxcnQoY29zX3RoZXRhKSkpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUobm9ybWFsKTsKICAgIHZlYzMgc3VuRGlyID0gdmVjMyhzdW5EaXJlY3Rpb24ueCwgLXN1bkRpcmVjdGlvbi55LCBzdW5EaXJlY3Rpb24ueik7CiAgICBmbG9hdCBwaGkgPSBhY29zKG4ueik7CiAgICBmbG9hdCB0aGV0YSA9IGF0YW4oLW4ueSwgbi54KSArIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NTsKICAgIGZsb2F0IGNvc190aGV0YSA9IGNsYW1wKG4ueiwgMC4wLCAxLjApOwogICAgZmxvYXQgY29zX2dhbW1hID0gZG90KG4sIHN1bkRpcik7CiAgICBmbG9hdCBnYW1tYV92YWwgPSBhY29zKGNvc19nYW1tYSk7CiAgICBmbG9hdCBwYXJhbSA9IGNvc190aGV0YTsKICAgIGZsb2F0IHBhcmFtXzEgPSBnYW1tYV92YWw7CiAgICBmbG9hdCBwYXJhbV8yID0gY29zX2dhbW1hOwogICAgdmVjMyBfMTQ1ID0gKFogKiBob3Nla1dpbGtpZShwYXJhbSwgcGFyYW1fMSwgcGFyYW1fMikpICogZW52bWFwU3RyZW5ndGg7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8xNDUueCwgXzE0NS55LCBfMTQ1LnosIGZyYWdDb2xvci53KTsKfQoK",Bt.world_vertData0="s278:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgU01WUDsKCnZhcnlpbmcgdmVjMyBub3JtYWw7CmF0dHJpYnV0ZSB2ZWMzIG5vcjsKYXR0cmlidXRlIHZlYzMgcG9zOwoKdm9pZCBtYWluKCkKewogICAgbm9ybWFsID0gbm9yOwogICAgdmVjNCBwb3NpdGlvbiA9IFNNVlAgKiB2ZWM0KHBvcywgMS4wKTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbik7Cn0KCg",Bt.world_vertData1="s331:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBTTVZQOwoKdmFyeWluZyBtZWRpdW1wIHZlYzMgbm9ybWFsOwphdHRyaWJ1dGUgbWVkaXVtcCB2ZWMzIG5vcjsKYXR0cmlidXRlIG1lZGl1bXAgdmVjMyBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICBub3JtYWwgPSBub3I7CiAgICBtZWRpdW1wIHZlYzQgcG9zaXRpb24gPSBTTVZQICogdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24pOwp9Cgo",Bt.world_vertData2="s311:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBTTVZQOwoKb3V0IG1lZGl1bXAgdmVjMyBub3JtYWw7CmluIG1lZGl1bXAgdmVjMyBub3I7CmluIG1lZGl1bXAgdmVjMyBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICBub3JtYWwgPSBub3I7CiAgICBtZWRpdW1wIHZlYzQgcG9zaXRpb24gPSBTTVZQICogdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24pOwp9Cgo",Bt.painter_colored_fragData0="s198:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdmFyeWluZyBoaWdocCB2ZWM0IGZyYWdtZW50Q29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBnbF9GcmFnRGF0YVswXSA9IGZyYWdtZW50Q29sb3I7Cn0KCg",Bt.painter_colored_fragData1="s192:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp2YXJ5aW5nIHZlYzQgZnJhZ21lbnRDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIGdsX0ZyYWdEYXRhWzBdID0gZnJhZ21lbnRDb2xvcjsKfQoK",Bt.painter_colored_fragData2="s210:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7CgpvdXQgdmVjNCBGcmFnQ29sb3I7CmluIHZlYzQgZnJhZ21lbnRDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIEZyYWdDb2xvciA9IGZyYWdtZW50Q29sb3I7Cn0KCg",Bt.painter_colored_vertData0="s331:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmF0dHJpYnV0ZSB2ZWMzIHZlcnRleFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzQgZnJhZ21lbnRDb2xvcjsKYXR0cmlidXRlIHZlYzQgdmVydGV4Q29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2ZWM0KHZlcnRleFBvc2l0aW9uLCAxLjApOwogICAgZnJhZ21lbnRDb2xvciA9IHZlcnRleENvbG9yOwp9Cgo",Bt.painter_colored_vertData1="s374:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwcm9qZWN0aW9uTWF0cml4OwoKYXR0cmlidXRlIG1lZGl1bXAgdmVjMyB2ZXJ0ZXhQb3NpdGlvbjsKdmFyeWluZyBtZWRpdW1wIHZlYzQgZnJhZ21lbnRDb2xvcjsKYXR0cmlidXRlIG1lZGl1bXAgdmVjNCB2ZXJ0ZXhDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZlYzQodmVydGV4UG9zaXRpb24sIDEuMCk7CiAgICBmcmFnbWVudENvbG9yID0gdmVydGV4Q29sb3I7Cn0KCg",Bt.painter_colored_vertData2="s354:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwcm9qZWN0aW9uTWF0cml4OwoKaW4gbWVkaXVtcCB2ZWMzIHZlcnRleFBvc2l0aW9uOwpvdXQgbWVkaXVtcCB2ZWM0IGZyYWdtZW50Q29sb3I7CmluIG1lZGl1bXAgdmVjNCB2ZXJ0ZXhDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZlYzQodmVydGV4UG9zaXRpb24sIDEuMCk7CiAgICBmcmFnbWVudENvbG9yID0gdmVydGV4Q29sb3I7Cn0KCg",Bt.painter_image_fragData0="s471:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4OwoKdmFyeWluZyBoaWdocCB2ZWMyIHRleENvb3JkOwp2YXJ5aW5nIGhpZ2hwIHZlYzQgY29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWM0IHRleGNvbG9yID0gdGV4dHVyZTJEKHRleCwgdGV4Q29vcmQpICogY29sb3I7CiAgICBoaWdocCB2ZWMzIF8zMiA9IHRleGNvbG9yLnh5eiAqIGNvbG9yLnc7CiAgICB0ZXhjb2xvciA9IHZlYzQoXzMyLngsIF8zMi55LCBfMzIueiwgdGV4Y29sb3Iudyk7CiAgICBnbF9GcmFnRGF0YVswXSA9IHRleGNvbG9yOwp9Cgo",Bt.painter_image_fragData1="s444:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKCnZhcnlpbmcgdmVjMiB0ZXhDb29yZDsKdmFyeWluZyB2ZWM0IGNvbG9yOwoKdm9pZCBtYWluKCkKewogICAgdmVjNCB0ZXhjb2xvciA9IHRleHR1cmUyRCh0ZXgsIHRleENvb3JkKSAqIGNvbG9yOwogICAgdmVjMyBfMzIgPSB0ZXhjb2xvci54eXogKiBjb2xvci53OwogICAgdGV4Y29sb3IgPSB2ZWM0KF8zMi54LCBfMzIueSwgXzMyLnosIHRleGNvbG9yLncpOwogICAgZ2xfRnJhZ0RhdGFbMF0gPSB0ZXhjb2xvcjsKfQoK",Bt.painter_image_fragData2="s452:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKCmluIHZlYzIgdGV4Q29vcmQ7CmluIHZlYzQgY29sb3I7Cm91dCB2ZWM0IEZyYWdDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgdGV4Y29sb3IgPSB0ZXh0dXJlKHRleCwgdGV4Q29vcmQpICogY29sb3I7CiAgICB2ZWMzIF8zMiA9IHRleGNvbG9yLnh5eiAqIGNvbG9yLnc7CiAgICB0ZXhjb2xvciA9IHZlYzQoXzMyLngsIF8zMi55LCBfMzIueiwgdGV4Y29sb3Iudyk7CiAgICBGcmFnQ29sb3IgPSB0ZXhjb2xvcjsKfQoK",Bt.painter_image_vertData0="s415:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmF0dHJpYnV0ZSB2ZWMzIHZlcnRleFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSB2ZWMyIHRleFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzQgY29sb3I7CmF0dHJpYnV0ZSB2ZWM0IHZlcnRleENvbG9yOwoKdm9pZCBtYWluKCkKewogICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmVjNCh2ZXJ0ZXhQb3NpdGlvbiwgMS4wKTsKICAgIHRleENvb3JkID0gdGV4UG9zaXRpb247CiAgICBjb2xvciA9IHZlcnRleENvbG9yOwp9Cgo",Bt.painter_image_vertData1="s479:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwcm9qZWN0aW9uTWF0cml4OwoKYXR0cmlidXRlIG1lZGl1bXAgdmVjMyB2ZXJ0ZXhQb3NpdGlvbjsKdmFyeWluZyBtZWRpdW1wIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzIgdGV4UG9zaXRpb247CnZhcnlpbmcgbWVkaXVtcCB2ZWM0IGNvbG9yOwphdHRyaWJ1dGUgbWVkaXVtcCB2ZWM0IHZlcnRleENvbG9yOwoKdm9pZCBtYWluKCkKewogICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmVjNCh2ZXJ0ZXhQb3NpdGlvbiwgMS4wKTsKICAgIHRleENvb3JkID0gdGV4UG9zaXRpb247CiAgICBjb2xvciA9IHZlcnRleENvbG9yOwp9Cgo",Bt.painter_image_vertData2="s444:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwcm9qZWN0aW9uTWF0cml4OwoKaW4gbWVkaXVtcCB2ZWMzIHZlcnRleFBvc2l0aW9uOwpvdXQgbWVkaXVtcCB2ZWMyIHRleENvb3JkOwppbiBtZWRpdW1wIHZlYzIgdGV4UG9zaXRpb247Cm91dCBtZWRpdW1wIHZlYzQgY29sb3I7CmluIG1lZGl1bXAgdmVjNCB2ZXJ0ZXhDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZlYzQodmVydGV4UG9zaXRpb24sIDEuMCk7CiAgICB0ZXhDb29yZCA9IHRleFBvc2l0aW9uOwogICAgY29sb3IgPSB2ZXJ0ZXhDb2xvcjsKfQoK",Bt.painter_text_fragData0="s351:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4OwoKdmFyeWluZyBoaWdocCB2ZWM0IGZyYWdtZW50Q29sb3I7CnZhcnlpbmcgaGlnaHAgdmVjMiB0ZXhDb29yZDsKCnZvaWQgbWFpbigpCnsKICAgIGdsX0ZyYWdEYXRhWzBdID0gdmVjNChmcmFnbWVudENvbG9yLnh5eiwgdGV4dHVyZTJEKHRleCwgdGV4Q29vcmQpLnggKiBmcmFnbWVudENvbG9yLncpOwp9Cgo",Bt.painter_text_fragData1="s340:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKCnZhcnlpbmcgdmVjNCBmcmFnbWVudENvbG9yOwp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7Cgp2b2lkIG1haW4oKQp7CiAgICBnbF9GcmFnRGF0YVswXSA9IHZlYzQoZnJhZ21lbnRDb2xvci54eXosIHRleHR1cmUyRCh0ZXgsIHRleENvb3JkKS54ICogZnJhZ21lbnRDb2xvci53KTsKfQoK",Bt.painter_text_fragData2="s348:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKCm91dCB2ZWM0IEZyYWdDb2xvcjsKaW4gdmVjNCBmcmFnbWVudENvbG9yOwppbiB2ZWMyIHRleENvb3JkOwoKdm9pZCBtYWluKCkKewogICAgRnJhZ0NvbG9yID0gdmVjNChmcmFnbWVudENvbG9yLnh5eiwgdGV4dHVyZSh0ZXgsIHRleENvb3JkKS54ICogZnJhZ21lbnRDb2xvci53KTsKfQoK",Bt.painter_text_vertData0="s436:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmF0dHJpYnV0ZSB2ZWMzIHZlcnRleFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSB2ZWMyIHRleFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzQgZnJhZ21lbnRDb2xvcjsKYXR0cmlidXRlIHZlYzQgdmVydGV4Q29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2ZWM0KHZlcnRleFBvc2l0aW9uLCAxLjApOwogICAgdGV4Q29vcmQgPSB0ZXhQb3NpdGlvbjsKICAgIGZyYWdtZW50Q29sb3IgPSB2ZXJ0ZXhDb2xvcjsKfQoK",Bt.painter_text_vertData1="s500:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwcm9qZWN0aW9uTWF0cml4OwoKYXR0cmlidXRlIG1lZGl1bXAgdmVjMyB2ZXJ0ZXhQb3NpdGlvbjsKdmFyeWluZyBtZWRpdW1wIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzIgdGV4UG9zaXRpb247CnZhcnlpbmcgbWVkaXVtcCB2ZWM0IGZyYWdtZW50Q29sb3I7CmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzQgdmVydGV4Q29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2ZWM0KHZlcnRleFBvc2l0aW9uLCAxLjApOwogICAgdGV4Q29vcmQgPSB0ZXhQb3NpdGlvbjsKICAgIGZyYWdtZW50Q29sb3IgPSB2ZXJ0ZXhDb2xvcjsKfQoK",Bt.painter_text_vertData2="s466:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwcm9qZWN0aW9uTWF0cml4OwoKaW4gbWVkaXVtcCB2ZWMzIHZlcnRleFBvc2l0aW9uOwpvdXQgbWVkaXVtcCB2ZWMyIHRleENvb3JkOwppbiBtZWRpdW1wIHZlYzIgdGV4UG9zaXRpb247Cm91dCBtZWRpdW1wIHZlYzQgZnJhZ21lbnRDb2xvcjsKaW4gbWVkaXVtcCB2ZWM0IHZlcnRleENvbG9yOwoKdm9pZCBtYWluKCkKewogICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmVjNCh2ZXJ0ZXhQb3NpdGlvbiwgMS4wKTsKICAgIHRleENvb3JkID0gdGV4UG9zaXRpb247CiAgICBmcmFnbWVudENvbG9yID0gdmVydGV4Q29sb3I7Cn0KCg",Bt.painter_video_fragData0="s471:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4OwoKdmFyeWluZyBoaWdocCB2ZWMyIHRleENvb3JkOwp2YXJ5aW5nIGhpZ2hwIHZlYzQgY29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWM0IHRleGNvbG9yID0gdGV4dHVyZTJEKHRleCwgdGV4Q29vcmQpICogY29sb3I7CiAgICBoaWdocCB2ZWMzIF8zMiA9IHRleGNvbG9yLnh5eiAqIGNvbG9yLnc7CiAgICB0ZXhjb2xvciA9IHZlYzQoXzMyLngsIF8zMi55LCBfMzIueiwgdGV4Y29sb3Iudyk7CiAgICBnbF9GcmFnRGF0YVswXSA9IHRleGNvbG9yOwp9Cgo",Bt.painter_video_fragData1="s444:I3ZlcnNpb24gMTAwCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKCnZhcnlpbmcgdmVjMiB0ZXhDb29yZDsKdmFyeWluZyB2ZWM0IGNvbG9yOwoKdm9pZCBtYWluKCkKewogICAgdmVjNCB0ZXhjb2xvciA9IHRleHR1cmUyRCh0ZXgsIHRleENvb3JkKSAqIGNvbG9yOwogICAgdmVjMyBfMzIgPSB0ZXhjb2xvci54eXogKiBjb2xvci53OwogICAgdGV4Y29sb3IgPSB2ZWM0KF8zMi54LCBfMzIueSwgXzMyLnosIHRleGNvbG9yLncpOwogICAgZ2xfRnJhZ0RhdGFbMF0gPSB0ZXhjb2xvcjsKfQoK",Bt.painter_video_fragData2="s452:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKCmluIHZlYzIgdGV4Q29vcmQ7CmluIHZlYzQgY29sb3I7Cm91dCB2ZWM0IEZyYWdDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgdGV4Y29sb3IgPSB0ZXh0dXJlKHRleCwgdGV4Q29vcmQpICogY29sb3I7CiAgICB2ZWMzIF8zMiA9IHRleGNvbG9yLnh5eiAqIGNvbG9yLnc7CiAgICB0ZXhjb2xvciA9IHZlYzQoXzMyLngsIF8zMi55LCBfMzIueiwgdGV4Y29sb3Iudyk7CiAgICBGcmFnQ29sb3IgPSB0ZXhjb2xvcjsKfQoK",Bt.painter_video_vertData0="s415:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmF0dHJpYnV0ZSB2ZWMzIHZlcnRleFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSB2ZWMyIHRleFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzQgY29sb3I7CmF0dHJpYnV0ZSB2ZWM0IHZlcnRleENvbG9yOwoKdm9pZCBtYWluKCkKewogICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmVjNCh2ZXJ0ZXhQb3NpdGlvbiwgMS4wKTsKICAgIHRleENvb3JkID0gdGV4UG9zaXRpb247CiAgICBjb2xvciA9IHZlcnRleENvbG9yOwp9Cgo",Bt.painter_video_vertData1="s479:I3ZlcnNpb24gMTAwCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwcm9qZWN0aW9uTWF0cml4OwoKYXR0cmlidXRlIG1lZGl1bXAgdmVjMyB2ZXJ0ZXhQb3NpdGlvbjsKdmFyeWluZyBtZWRpdW1wIHZlYzIgdGV4Q29vcmQ7CmF0dHJpYnV0ZSBtZWRpdW1wIHZlYzIgdGV4UG9zaXRpb247CnZhcnlpbmcgbWVkaXVtcCB2ZWM0IGNvbG9yOwphdHRyaWJ1dGUgbWVkaXVtcCB2ZWM0IHZlcnRleENvbG9yOwoKdm9pZCBtYWluKCkKewogICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmVjNCh2ZXJ0ZXhQb3NpdGlvbiwgMS4wKTsKICAgIHRleENvb3JkID0gdGV4UG9zaXRpb247CiAgICBjb2xvciA9IHZlcnRleENvbG9yOwp9Cgo",Bt.painter_video_vertData2="s444:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwcm9qZWN0aW9uTWF0cml4OwoKaW4gbWVkaXVtcCB2ZWMzIHZlcnRleFBvc2l0aW9uOwpvdXQgbWVkaXVtcCB2ZWMyIHRleENvb3JkOwppbiBtZWRpdW1wIHZlYzIgdGV4UG9zaXRpb247Cm91dCBtZWRpdW1wIHZlYzQgY29sb3I7CmluIG1lZGl1bXAgdmVjNCB2ZXJ0ZXhDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZlYzQodmVydGV4UG9zaXRpb24sIDEuMCk7CiAgICB0ZXhDb29yZCA9IHRleFBvc2l0aW9uOwogICAgY29sb3IgPSB2ZXJ0ZXhDb2xvcjsKfQoK",_t.renderListeners=[],_t.foregroundListeners=[],_t.backgroundListeners=[],yt.mobile=!1,yt.mobileAudioPlaying=!1,yt.chrome=!1,yt.firefox=!1,yt.insideInputEvent=!1,yt.leftMouseCtrlDown=!1,yt.minimumScroll=999,yt.lastFirstTouchX=0,yt.lastFirstTouchY=0,yt.iosSoundEnabled=!1,Xt.INVALID_BITS=-1,xt.INVERSE_DB_TABLE=[1.0649863e-7,1.1341951e-7,1.2079015e-7,1.2863978e-7,1.3699951e-7,1.4590251e-7,1.5538408e-7,1.6548181e-7,1.7623575e-7,1.8768855e-7,1.9988561e-7,2.128753e-7,2.2670913e-7,2.4144197e-7,2.5713223e-7,2.7384213e-7,2.9163793e-7,3.1059021e-7,3.3077411e-7,3.5226968e-7,3.7516214e-7,3.9954229e-7,4.255068e-7,4.5315863e-7,4.8260743e-7,5.1396998e-7,5.4737065e-7,5.8294187e-7,6.2082472e-7,6.6116941e-7,7.0413592e-7,7.4989464e-7,7.9862701e-7,8.505263e-7,9.0579828e-7,9.6466216e-7,10273513e-13,10941144e-13,11652161e-13,12409384e-13,13215816e-13,14074654e-13,14989305e-13,15963394e-13,17000785e-13,18105592e-13,19282195e-13,20535261e-13,21869758e-13,23290978e-13,24804557e-13,26416497e-13,2813319e-12,29961443e-13,31908506e-13,33982101e-13,36190449e-13,38542308e-13,41047004e-13,4371447e-12,46555282e-13,49580707e-13,5280274e-12,5623416e-12,59888572e-13,63780469e-13,67925283e-13,72339451e-13,77040476e-13,82047e-10,87378876e-13,93057248e-13,99104632e-13,10554501e-12,11240392e-12,11970856e-12,12748789e-12,13577278e-12,14459606e-12,15399272e-12,16400004e-12,17465768e-12,18600792e-12,19809576e-12,21096914e-12,22467911e-12,23928002e-12,25482978e-12,27139006e-12,28902651e-12,30780908e-12,32781225e-12,34911534e-12,37180282e-12,39596466e-12,42169667e-12,4491009e-11,47828601e-12,50936773e-12,54246931e-12,57772202e-12,61526565e-12,65524908e-12,69783085e-12,74317983e-12,79147585e-12,8429104e-11,89768747e-12,95602426e-12,.00010181521,.00010843174,.00011547824,.00012298267,.00013097477,.00013948625,.00014855085,.00015820453,.00016848555,.00017943469,.00019109536,.00020351382,.00021673929,.00023082423,.00024582449,.00026179955,.00027881276,.00029693158,.00031622787,.00033677814,.00035866388,.00038197188,.00040679456,.00043323036,.00046138411,.00049136745,.00052329927,.00055730621,.00059352311,.00063209358,.00067317058,716917e-9,.0007635063,.00081312324,.00086596457,.00092223983,.00098217216,.0010459992,.0011139742,.0011863665,.0012634633,.0013455702,.0014330129,.0015261382,.0016253153,.0017309374,.0018434235,.0019632195,.0020908006,.0022266726,.0023713743,.0025254795,.0026895994,.0028643847,.0030505286,.0032487691,.0034598925,.0036847358,.0039241906,.0041792066,.004450795,.0047400328,.0050480668,.0053761186,.0057254891,.0060975636,.0064938176,.0069158225,.0073652516,.0078438871,.0083536271,.0088964928,.009474637,.010090352,.01074608,.011444421,.012188144,.012980198,.013823725,.014722068,.015678791,.016697687,.017782797,.018938423,.020169149,.021479854,.022875735,.02436233,.025945531,.027631618,.029427276,.031339626,.033376252,.035545228,.037855157,.040315199,.042935108,.045725273,.048696758,.051861348,.055231591,.05882085,.062643361,.066714279,.071049749,.075666962,.080584227,.085821044,.091398179,.097337747,.1036633,.11039993,.11757434,.12521498,.13335215,.14201813,.15124727,.16107617,.1715438,.18269168,.19456402,.20720788,.22067342,.23501402,.25028656,.26655159,.28387361,.30232132,.32196786,.34289114,.36517414,.38890521,.41417847,.44109412,.4697589,.50028648,.53279791,.56742212,.6042964,.64356699,.68538959,.72993007,.77736504,.8278826,.88168307,.9389798,1],va.GL_RGBA16F=34842,va.GL_RGBA32F=34836,va.GL_R16F=33325,va.GL_R32F=33326,va.GL_DEPTH_COMPONENT24=33190,va.GL_DEPTH24_STENCIL8=35056,va.GL_DEPTH32F_STENCIL8=36013,ya.bufferSize=1500,Ga.bufferSize=100,Ga.triangleBufferSize=100,Wa.bufferSize=100,Ea.__meta__={fields:{sendAxisEvent:{input:null},sendButtonEvent:{input:null}}},Ea.instances=[],Ua.__meta__={fields:{sendDownEvent:{input:null},sendUpEvent:{input:null},sendPressEvent:{input:null}}},Pa.__meta__={fields:{sendLeaveEvent:{input:null},sendDownEvent:{input:null},sendUpEvent:{input:null},sendMoveEvent:{input:null},sendWheelEvent:{input:null}}},ei.bufferSize=2e3,ti.exposurePattern=new r("EXPOSURE=\\s*([0-9]*[.][0-9]*)","i"),ti.formatPattern=new r("FORMAT=32-bit_rle_rgbe","i"),ti.widthHeightPattern=new r("-Y ([0-9]+) \\+X ([0-9]+)","i"),ai.todo=[],hi.loading=[],fi.nextId=0,d.main()}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);