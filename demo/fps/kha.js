(function($hx_exports,$global){"use strict";$hx_exports["kha"]=$hx_exports["kha"]||{};$hx_exports["kha"]["input"]=$hx_exports["kha"]["input"]||{};$hx_exports["kha"]["_Color"]=$hx_exports["kha"]["_Color"]||{};var $hxClasses={},$estr=function(){return js_Boot.__string_rec(this,"")};function $extend(from,fields){function Inherit(){}Inherit.prototype=from;var proto=new Inherit;for(var name in fields)proto[name]=fields[name];if(fields.toString!==Object.prototype.toString)proto.toString=fields.toString;return proto}var EReg=function(r,opt){this.r=new RegExp(r,opt.split("u").join(""))};$hxClasses["EReg"]=EReg;EReg.__name__=true;EReg.prototype={r:null,match:function(s){if(this.r.global){this.r.lastIndex=0}this.r.m=this.r.exec(s);this.r.s=s;return this.r.m!=null},matched:function(n){if(this.r.m!=null&&n>=0&&n<this.r.m.length){return this.r.m[n]}else{throw new js__$Boot_HaxeError("EReg::matched")}},__class__:EReg};var HxOverrides=function(){};$hxClasses["HxOverrides"]=HxOverrides;HxOverrides.__name__=true;HxOverrides.strDate=function(s){var _g=s.length;switch(_g){case 8:var k=s.split(":");var d=new Date;d["setTime"](0);d["setUTCHours"](k[0]);d["setUTCMinutes"](k[1]);d["setUTCSeconds"](k[2]);return d;case 10:var k1=s.split("-");return new Date(k1[0],k1[1]-1,k1[2],0,0,0);case 19:var k2=s.split(" ");var y=k2[0].split("-");var t=k2[1].split(":");return new Date(y[0],y[1]-1,y[2],t[0],t[1],t[2]);default:throw new js__$Boot_HaxeError("Invalid date format : "+s)}};HxOverrides.cca=function(s,index){var x=s.charCodeAt(index);if(x!=x){return undefined}return x};HxOverrides.substr=function(s,pos,len){if(len==null){len=s.length}else if(len<0){if(pos==0){len=s.length+len}else{return""}}return s.substr(pos,len)};HxOverrides.remove=function(a,obj){var i=a.indexOf(obj);if(i==-1){return false}a.splice(i,1);return true};HxOverrides.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var List=function(){this.length=0};$hxClasses["List"]=List;List.__name__=true;List.prototype={h:null,q:null,length:null,add:function(item){var x=new _$List_ListNode(item,null);if(this.h==null){this.h=x}else{this.q.next=x}this.q=x;this.length++},push:function(item){var x=new _$List_ListNode(item,this.h);this.h=x;if(this.q==null){this.q=x}this.length++},first:function(){if(this.h==null){return null}else{return this.h.item}},iterator:function(){return new _$List_ListIterator(this.h)},__class__:List};var _$List_ListNode=function(item,next){this.item=item;this.next=next};$hxClasses["_List.ListNode"]=_$List_ListNode;_$List_ListNode.__name__=true;_$List_ListNode.prototype={item:null,next:null,__class__:_$List_ListNode};var _$List_ListIterator=function(head){this.head=head};$hxClasses["_List.ListIterator"]=_$List_ListIterator;_$List_ListIterator.__name__=true;_$List_ListIterator.prototype={head:null,hasNext:function(){return this.head!=null},next:function(){var val=this.head.item;this.head=this.head.next;return val},__class__:_$List_ListIterator};var Main=function(){};$hxClasses["Main"]=Main;Main.__name__=true;Main.loadLibAmmo=function(name){kha_Assets.loadBlobFromPath(name,function(b){var print=function(s){haxe_Log.trace(s,{fileName:"Main.hx",lineNumber:17,className:"Main",methodName:"loadLibAmmo"})};var loaded=function(){Main.state--;Main.start()};(1,eval)(b.toString());Ammo({print:print}).then(loaded)},null,{fileName:"Main.hx",lineNumber:16,className:"Main",methodName:"loadLibAmmo"})};Main.main=function(){iron_object_BoneAnimation.skinMaxBones=67;iron_object_LampObject.cascadeCount=4;iron_object_LampObject.cascadeSplitFactor=.800000011920929;Main.state=1;Main.state++;Main.loadLibAmmo("ammo.js");Main.state--;Main.start()};Main.start=function(){if(Main.state>0){return}if(armory_data_Config.raw==null){armory_data_Config.raw={}}var config=armory_data_Config.raw;if(config.window_mode==null){config.window_mode=0}if(config.window_resizable==null){config.window_resizable=false}if(config.window_minimizable==null){config.window_minimizable=true}if(config.window_maximizable==null){config.window_maximizable=false}if(config.window_w==null){config.window_w=1280}if(config.window_h==null){config.window_h=720}if(config.window_msaa==null){config.window_msaa=1}if(config.window_vsync==null){config.window_vsync=true}armory_object_Uniforms.register();var windowMode=config.window_mode==0?kha_WindowMode.Window:config.window_mode==1?kha_WindowMode.BorderlessWindow:kha_WindowMode.Fullscreen;if(windowMode==kha_WindowMode.Fullscreen){windowMode=kha_WindowMode.BorderlessWindow;config.window_w=kha_DisplayImpl.width(0);config.window_h=kha_DisplayImpl.height(0)}else{config.window_w=Math.min(config.window_w,kha_DisplayImpl.width(0))|0;config.window_h=Math.min(config.window_h,kha_DisplayImpl.height(0))|0}kha_System.init({title:"first_person",width:config.window_w,height:config.window_h,samplesPerPixel:config.window_msaa,vSync:config.window_vsync,windowMode:windowMode,resizable:config.window_resizable,maximizable:config.window_maximizable,minimizable:config.window_minimizable},function(){iron_App.init(function(){var drawLoading=null;drawLoading=function(g){if(iron_Scene.active!=null&&iron_Scene.active.ready){iron_App.removeRender2D(drawLoading)}else{armory_trait_internal_LoadingScreen.render(g,iron_data_Data.assetsLoaded,56)}};var drawLoading1=drawLoading;iron_App.notifyOnRender2D(drawLoading1);iron_Scene.setActive("Scene",function(object){iron_RenderPath.setActive(armory_renderpath_RenderPathCreator.get())})})})};Math.__name__=true;var Reflect=function(){};$hxClasses["Reflect"]=Reflect;Reflect.__name__=true;Reflect.field=function(o,field){try{return o[field]}catch(e){return null}};Reflect.getProperty=function(o,field){var tmp;if(o==null){return null}else{var tmp1;if(o.__properties__){tmp=o.__properties__["get_"+field];tmp1=tmp}else{tmp1=false}if(tmp1){return o[tmp]()}else{return o[field]}}};Reflect.setProperty=function(o,field,value){var tmp;var tmp1;if(o.__properties__){tmp=o.__properties__["set_"+field];tmp1=tmp}else{tmp1=false}if(tmp1){o[tmp](value)}else{o[field]=value}};Reflect.fields=function(o){var a=[];if(o!=null){var hasOwnProperty=Object.prototype.hasOwnProperty;for(var f in o){if(f!="__id__"&&f!="hx__closures__"&&hasOwnProperty.call(o,f)){a.push(f)}}}return a};Reflect.isFunction=function(f){if(typeof f=="function"){return!(f.__name__||f.__ename__)}else{return false}};var Std=function(){};$hxClasses["Std"]=Std;Std.__name__=true;Std.string=function(s){return js_Boot.__string_rec(s,"")};Std.parseInt=function(x){var v=parseInt(x,10);if(v==0&&(HxOverrides.cca(x,1)==120||HxOverrides.cca(x,1)==88)){v=parseInt(x)}if(isNaN(v)){return null}return v};Std.random=function(x){if(x<=0){return 0}else{return Math.floor(Math.random()*x)}};var StringTools=function(){};$hxClasses["StringTools"]=StringTools;StringTools.__name__=true;StringTools.endsWith=function(s,end){var elen=end.length;var slen=s.length;if(slen>=elen){return HxOverrides.substr(s,slen-elen,elen)==end}else{return false}};StringTools.replace=function(s,sub,by){return s.split(sub).join(by)};var Type=function(){};$hxClasses["Type"]=Type;Type.__name__=true;Type.resolveClass=function(name){var cl=$hxClasses[name];if(cl==null||!cl.__name__){return null}return cl};Type.resolveEnum=function(name){var e=$hxClasses[name];if(e==null||!e.__ename__){return null}return e};Type.createInstance=function(cl,args){var _g=args.length;switch(_g){case 0:return new cl;case 1:return new cl(args[0]);case 2:return new cl(args[0],args[1]);case 3:return new cl(args[0],args[1],args[2]);case 4:return new cl(args[0],args[1],args[2],args[3]);case 5:return new cl(args[0],args[1],args[2],args[3],args[4]);case 6:return new cl(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);case 8:return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);case 9:return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);case 10:return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9]);case 11:return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10]);case 12:return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11]);case 13:return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12]);case 14:return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12],args[13]);default:throw new js__$Boot_HaxeError("Too many arguments")}};Type.createEmptyInstance=function(cl){function empty(){}empty.prototype=cl.prototype;return new empty};Type.createEnum=function(e,constr,params){var f=Reflect.field(e,constr);if(f==null){throw new js__$Boot_HaxeError("No such constructor "+constr)}if(Reflect.isFunction(f)){if(params==null){throw new js__$Boot_HaxeError("Constructor "+constr+" need parameters")}return f.apply(e,params)}if(params!=null&&params.length!=0){throw new js__$Boot_HaxeError("Constructor "+constr+" does not need parameters")}return f};Type.getInstanceFields=function(c){var a=[];for(var i in c.prototype)a.push(i);HxOverrides.remove(a,"__class__");HxOverrides.remove(a,"__properties__");return a};var _$UInt_UInt_$Impl_$={};$hxClasses["_UInt.UInt_Impl_"]=_$UInt_UInt_$Impl_$;_$UInt_UInt_$Impl_$.__name__=true;_$UInt_UInt_$Impl_$.gt=function(a,b){var aNeg=a<0;var bNeg=b<0;if(aNeg!=bNeg){return aNeg}else{return a>b}};_$UInt_UInt_$Impl_$.gte=function(a,b){var aNeg=a<0;var bNeg=b<0;if(aNeg!=bNeg){return aNeg}else{return a>=b}};_$UInt_UInt_$Impl_$.toFloat=function(this1){var $int=this1;if($int<0){return 4294967296+$int}else{return $int+0}};var iron_Trait=function(){this._render2D=null;this._render=null;this._lateUpdate=null;this._update=null;this._remove=null;this._init=null;this._add=null};$hxClasses["iron.Trait"]=iron_Trait;iron_Trait.__name__=true;iron_Trait.prototype={object:null,_add:null,_init:null,_remove:null,_update:null,_lateUpdate:null,_render:null,_render2D:null,remove:function(){this.object.removeTrait(this)},notifyOnAdd:function(f){if(this._add==null){this._add=[]}this._add.push(f)},notifyOnInit:function(f){if(this._init==null){this._init=[]}this._init.push(f);iron_App.notifyOnInit(f)},notifyOnRemove:function(f){if(this._remove==null){this._remove=[]}this._remove.push(f)},notifyOnUpdate:function(f){if(this._update==null){this._update=[]}this._update.push(f);iron_App.notifyOnUpdate(f)},notifyOnLateUpdate:function(f){if(this._lateUpdate==null){this._lateUpdate=[]}this._lateUpdate.push(f);iron_App.notifyOnLateUpdate(f)},notifyOnRender2D:function(f){if(this._render2D==null){this._render2D=[]}this._render2D.push(f);iron_App.notifyOnRender2D(f)},__class__:iron_Trait};var armory_trait_internal_CameraController=function(){this.jump=false;this.moveRight=false;this.moveLeft=false;this.moveBackward=false;this.moveForward=false;var _gthis=this;iron_Trait.call(this);iron_Scene.active.notifyOnInit(function(){_gthis.transform=_gthis.object.transform;_gthis.body=_gthis.object.getTrait(armory_trait_physics_bullet_RigidBody);_gthis.camera=js_Boot.__cast(_gthis.object.getChildOfType(iron_object_CameraObject),iron_object_CameraObject)});this.notifyOnUpdate(function(){var keyboard=iron_system_Input.getKeyboard();_gthis.moveForward=keyboard.down("w");_gthis.moveRight=keyboard.down("d");_gthis.moveBackward=keyboard.down("s");_gthis.moveLeft=keyboard.down("a");_gthis.jump=keyboard.started("space")})};$hxClasses["armory.trait.internal.CameraController"]=armory_trait_internal_CameraController;armory_trait_internal_CameraController.__name__=true;armory_trait_internal_CameraController.__super__=iron_Trait;armory_trait_internal_CameraController.prototype=$extend(iron_Trait.prototype,{transform:null,body:null,camera:null,moveForward:null,moveBackward:null,moveLeft:null,moveRight:null,jump:null,__class__:armory_trait_internal_CameraController});var arm_FirstPersonController=function(){this.state="idle";this.dir=new iron_math_Vec4;this.speed=1;this.firingTime=0;this.nextIdle=false;this.mat=iron_math_Mat4.identity();this.q=new iron_math_Quat;this.anim=null;this.nextFrameRot=0;this.angle=0;this.zVec=iron_math_Vec4.zAxis();this.xVec=iron_math_Vec4.xAxis();this.soundStep1=null;this.soundStep0=null;this.stepTime=0;var _gthis=this;armory_trait_internal_CameraController.call(this);this.notifyOnInit(function(){armory_trait_physics_bullet_PhysicsWorld.active.notifyOnPreUpdate($bind(_gthis,_gthis.preUpdate));_gthis.notifyOnUpdate($bind(_gthis,_gthis.update));_gthis.notifyOnRemove(function(){armory_trait_physics_bullet_PhysicsWorld.active.removePreUpdate($bind(_gthis,_gthis.preUpdate))});iron_data_Data.getSound("step0.wav",function(sound){_gthis.soundStep0=sound});iron_data_Data.getSound("step1.wav",function(sound1){_gthis.soundStep1=sound1})})};$hxClasses["arm.FirstPersonController"]=arm_FirstPersonController;arm_FirstPersonController.__name__=true;arm_FirstPersonController.__super__=armory_trait_internal_CameraController;arm_FirstPersonController.prototype=$extend(armory_trait_internal_CameraController.prototype,{stepTime:null,soundStep0:null,soundStep1:null,findAnimation:function(o){if(o.animation!=null){return o.animation}var _g=0;var _g1=o.children;while(_g<_g1.length){var c=_g1[_g];++_g;var co=this.findAnimation(c);if(co!=null){return co}}return null},xVec:null,zVec:null,angle:null,nextFrameRot:null,anim:null,q:null,mat:null,preUpdate:function(){if(iron_system_Input.occupied||!this.body.ready){return}var mouse=iron_system_Input.getMouse();var kb=iron_system_Input.getKeyboard();if(mouse.started()&&!mouse.locked){mouse.lock()}else if(kb.started("esc")&&mouse.locked){mouse.unlock()}if(this.nextFrameRot!=0){var origin=this.object.getChild("CameraOrigin");origin.transform.rotate(this.xVec,this.nextFrameRot);origin.transform.buildMatrix()}this.nextFrameRot=0;if(mouse.moved){var d=mouse.movementY/250;if(this.angle+d>1.5){return}if(this.angle+d<-.37){return}this.angle+=d;this.nextFrameRot=-mouse.movementY/250}if(this.anim==null){this.anim=this.findAnimation(this.object.getChild("Armature"));this.anim.notifyOnUpdate($bind(this,this.updateBones))}if(mouse.moved){this.transform.rotate(this.zVec,-mouse.movementX/250)}this.body.syncTransform()},updateBones:function(){var bone1=this.anim.getBone("mixamorig:LeftForeArm");var bone2=this.anim.getBone("mixamorig:RightForeArm");var m1=this.anim.getBoneMat(bone1);var m2=this.anim.getBoneMat(bone2);var m1b=this.anim.getBoneMatBlend(bone1);var m2b=this.anim.getBoneMatBlend(bone2);var a1=this.anim.getAbsMat(bone1.parent);var a2=this.anim.getAbsMat(bone2.parent);var tx=m1.self._30;var ty=m1.self._31;var tz=m1.self._32;m1.self._30=0;m1.self._31=0;m1.self._32=0;this.mat.getInverse(a1);var _this=this.mat;this.q.fromAxisAngle(new iron_math_Vec4(_this.self._00,_this.self._01,_this.self._02),this.angle);m1.applyQuat(this.q);m1.self._30=tx;m1.self._31=ty;m1.self._32=tz;var tx1=m2.self._30;var ty1=m2.self._31;var tz1=m2.self._32;m2.self._30=0;m2.self._31=0;m2.self._32=0;this.mat.getInverse(a2);var _this1=this.mat;var v=new iron_math_Vec4(_this1.self._00,_this1.self._01,_this1.self._02);v.mult(-1);this.q.fromAxisAngle(v,-1.6);m2.applyQuat(this.q);m2.self._30=tx1;m2.self._31=ty1;m2.self._32=tz1;if(m1b!=null&&m2b!=null){var tx2=m1b.self._30;var ty2=m1b.self._31;var tz2=m1b.self._32;m1b.self._30=0;m1b.self._31=0;m1b.self._32=0;this.mat.getInverse(a1);var _this2=this.mat;this.q.fromAxisAngle(new iron_math_Vec4(_this2.self._00,_this2.self._01,_this2.self._02),this.angle);m1b.applyQuat(this.q);m1b.self._30=tx2;m1b.self._31=ty2;m1b.self._32=tz2;var tx3=m2b.self._30;var ty3=m2b.self._31;var tz3=m2b.self._32;m2b.self._30=0;m2b.self._31=0;m2b.self._32=0;this.mat.getInverse(a2);var _this3=this.mat;var v1=new iron_math_Vec4(_this3.self._00,_this3.self._01,_this3.self._02);v1.mult(-1);this.q.fromAxisAngle(v1,-1.6);m2b.applyQuat(this.q);m2b.self._30=tx3;m2b.self._31=ty3;m2b.self._32=tz3}},nextIdle:null,firingTime:null,speed:null,dir:null,state:null,update:function(){if(!this.body.ready){return}if(this.jump){this.body.applyImpulse(new iron_math_Vec4(0,0,16));this.jump=false}this.dir.set(0,0,0);if(this.moveForward){var _this=this.transform.world;this.dir.add(new iron_math_Vec4(_this.self._10,_this.self._11,_this.self._12))}if(this.moveBackward){var _this1=this.transform.world;this.dir.add(new iron_math_Vec4(_this1.self._10,_this1.self._11,_this1.self._12).mult(-1))}if(this.moveLeft){var _this2=this.transform.world;this.dir.add(new iron_math_Vec4(_this2.self._00,_this2.self._01,_this2.self._02).mult(-1))}if(this.moveRight){var _this3=this.transform.world;this.dir.add(new iron_math_Vec4(_this3.self._00,_this3.self._01,_this3.self._02))}var btvec=this.body.getLinearVelocity();this.body.setLinearVelocity(0,0,btvec.z-1);if(this.moveForward||this.moveBackward||this.moveLeft||this.moveRight){if(this.state!="run"){this.state="run";this.anim.play(this.state,null,.2)}var kb=iron_system_Input.getKeyboard();if(kb.down("shift")){this.speed=1.6}else{this.speed=1}this.dir.mult(this.speed*5);this.body.activate();this.body.setLinearVelocity(this.dir.x,this.dir.y,btvec.z-1);this.stepTime+=.016666666666666666*iron_system_Time.scale;if(this.stepTime>.3/this.speed){this.stepTime=0;iron_system_Audio.play(Std.random(2)==0?this.soundStep0:this.soundStep1)}}else if(this.state!="fire"||this.state!="idle"){var mouse=iron_system_Input.getMouse();if(mouse.down("left")){this.firingTime=0;if(this.state!="fire"){this.state="fire";this.anim.play(this.state,null,.2,2)}}else{if(this.state!="idle"&&this.state=="run"){this.state="idle";this.anim.play(this.state,null,.2,2)}if(this.state!="idle"&&this.state=="fire"&&this.firingTime>.1){this.state="idle";this.anim.play(this.state,null,.2,2)}}}if(this.state=="fire"){this.firingTime+=.016666666666666666*iron_system_Time.scale}else{this.firingTime=0}this.body.setAngularFactor(0,0,0);this.camera.buildMatrix()},__class__:arm_FirstPersonController});var arm_GunController=function(projectileRef,firePointRef){this.soundFire1=null;this.soundFire0=null;this.lastFire=0;this.fireStrength=25;this.fireFreq=.2;var _gthis=this;iron_Trait.call(this);this.projectileRef=projectileRef;this.notifyOnInit(function(){_gthis.firePoint=_gthis.object.getChild(firePointRef).transform;iron_data_Data.getSound("fire0.wav",function(sound){_gthis.soundFire0=sound});iron_data_Data.getSound("fire1.wav",function(sound1){_gthis.soundFire1=sound1})});this.notifyOnUpdate(function(){var mouse=iron_system_Input.getMouse();_gthis.lastFire+=.016666666666666666*iron_system_Time.scale;if(mouse.down("left")&&_gthis.lastFire>_gthis.fireFreq||mouse.started("left")){_gthis.shoot();iron_system_Audio.play(Std.random(3)==0?_gthis.soundFire1:_gthis.soundFire0);_gthis.lastFire=0}})};$hxClasses["arm.GunController"]=arm_GunController;arm_GunController.__name__=true;arm_GunController.__super__=iron_Trait;arm_GunController.prototype=$extend(iron_Trait.prototype,{fireFreq:null,projectileRef:null,firePoint:null,fireStrength:null,lastFire:null,soundFire0:null,soundFire1:null,shoot:function(){var _gthis=this;iron_Scene.active.spawnObject(this.projectileRef,null,function(o){o.transform.loc.x=_gthis.firePoint.world.self._30;o.transform.loc.y=_gthis.firePoint.world.self._31;o.transform.loc.z=_gthis.firePoint.world.self._32;o.transform.buildMatrix();var rb=o.getTrait(armory_trait_physics_bullet_RigidBody);rb.syncTransform();var _this=_gthis.object.transform.world;var look=new iron_math_Vec4(_this.self._10,_this.self._11,_this.self._12).normalize();rb.setLinearVelocity(look.x*_gthis.fireStrength,look.y*_gthis.fireStrength,look.z*_gthis.fireStrength);kha_Scheduler.addTimeTask(function(){o.remove()},10)})},__class__:arm_GunController});var armory_data_Config=function(){};$hxClasses["armory.data.Config"]=armory_data_Config;armory_data_Config.__name__=true;var armory_object_Uniforms=function(){};$hxClasses["armory.object.Uniforms"]=armory_object_Uniforms;armory_object_Uniforms.__name__=true;armory_object_Uniforms.register=function(){iron_object_Uniforms.externalTextureLinks=[armory_object_Uniforms.textureLink];iron_object_Uniforms.externalVec3Links=[armory_object_Uniforms.vec3Link];iron_object_Uniforms.externalFloatLinks=[armory_object_Uniforms.floatLink]};armory_object_Uniforms.textureLink=function(object,mat,link){if(link=="_smaaSearch"){var _this=iron_Scene.active.embedded;if(__map_reserved["smaa_search.png"]!=null){return _this.getReserved("smaa_search.png")}else{return _this.h["smaa_search.png"]}}else if(link=="_smaaArea"){var _this1=iron_Scene.active.embedded;if(__map_reserved["smaa_area.png"]!=null){return _this1.getReserved("smaa_area.png")}else{return _this1.h["smaa_area.png"]}}else if(link=="_lensTexture"){var _this2=iron_Scene.active.embedded;if(__map_reserved["lenstexture.jpg"]!=null){return _this2.getReserved("lenstexture.jpg")}else{return _this2.h["lenstexture.jpg"]}}else if(link=="_lutTexture"){var _this3=iron_Scene.active.embedded;if(__map_reserved["luttexture.jpg"]!=null){return _this3.getReserved("luttexture.jpg")}else{return _this3.h["luttexture.jpg"]}}else if(link=="_cloudsTexture"){var _this4=iron_Scene.active.embedded;if(__map_reserved["cloudstexture.png"]!=null){return _this4.getReserved("cloudstexture.png")}else{return _this4.h["cloudstexture.png"]}}return null};armory_object_Uniforms.vec3Link=function(object,mat,link){var v=null;if(link=="_hosekA"){if(armory_renderpath_HosekWilkie.data==null){armory_renderpath_HosekWilkie.init(iron_Scene.active.world)}if(armory_renderpath_HosekWilkie.data!=null){v=iron_object_Uniforms.helpVec;v.x=armory_renderpath_HosekWilkie.data.A.x;v.y=armory_renderpath_HosekWilkie.data.A.y;v.z=armory_renderpath_HosekWilkie.data.A.z}}else if(link=="_hosekB"){if(armory_renderpath_HosekWilkie.data==null){armory_renderpath_HosekWilkie.init(iron_Scene.active.world)}if(armory_renderpath_HosekWilkie.data!=null){v=iron_object_Uniforms.helpVec;v.x=armory_renderpath_HosekWilkie.data.B.x;v.y=armory_renderpath_HosekWilkie.data.B.y;v.z=armory_renderpath_HosekWilkie.data.B.z}}else if(link=="_hosekC"){if(armory_renderpath_HosekWilkie.data==null){armory_renderpath_HosekWilkie.init(iron_Scene.active.world)}if(armory_renderpath_HosekWilkie.data!=null){v=iron_object_Uniforms.helpVec;v.x=armory_renderpath_HosekWilkie.data.C.x;v.y=armory_renderpath_HosekWilkie.data.C.y;v.z=armory_renderpath_HosekWilkie.data.C.z}}else if(link=="_hosekD"){if(armory_renderpath_HosekWilkie.data==null){armory_renderpath_HosekWilkie.init(iron_Scene.active.world)}if(armory_renderpath_HosekWilkie.data!=null){v=iron_object_Uniforms.helpVec;v.x=armory_renderpath_HosekWilkie.data.D.x;v.y=armory_renderpath_HosekWilkie.data.D.y;v.z=armory_renderpath_HosekWilkie.data.D.z}}else if(link=="_hosekE"){if(armory_renderpath_HosekWilkie.data==null){armory_renderpath_HosekWilkie.init(iron_Scene.active.world)}if(armory_renderpath_HosekWilkie.data!=null){v=iron_object_Uniforms.helpVec;v.x=armory_renderpath_HosekWilkie.data.E.x;v.y=armory_renderpath_HosekWilkie.data.E.y;v.z=armory_renderpath_HosekWilkie.data.E.z}}else if(link=="_hosekF"){if(armory_renderpath_HosekWilkie.data==null){armory_renderpath_HosekWilkie.init(iron_Scene.active.world)}if(armory_renderpath_HosekWilkie.data!=null){v=iron_object_Uniforms.helpVec;v.x=armory_renderpath_HosekWilkie.data.F.x;v.y=armory_renderpath_HosekWilkie.data.F.y;v.z=armory_renderpath_HosekWilkie.data.F.z}}else if(link=="_hosekG"){if(armory_renderpath_HosekWilkie.data==null){armory_renderpath_HosekWilkie.init(iron_Scene.active.world)}if(armory_renderpath_HosekWilkie.data!=null){v=iron_object_Uniforms.helpVec;v.x=armory_renderpath_HosekWilkie.data.G.x;v.y=armory_renderpath_HosekWilkie.data.G.y;v.z=armory_renderpath_HosekWilkie.data.G.z}}else if(link=="_hosekH"){if(armory_renderpath_HosekWilkie.data==null){armory_renderpath_HosekWilkie.init(iron_Scene.active.world)}if(armory_renderpath_HosekWilkie.data!=null){v=iron_object_Uniforms.helpVec;v.x=armory_renderpath_HosekWilkie.data.H.x;v.y=armory_renderpath_HosekWilkie.data.H.y;v.z=armory_renderpath_HosekWilkie.data.H.z}}else if(link=="_hosekI"){if(armory_renderpath_HosekWilkie.data==null){armory_renderpath_HosekWilkie.init(iron_Scene.active.world)}if(armory_renderpath_HosekWilkie.data!=null){v=iron_object_Uniforms.helpVec;v.x=armory_renderpath_HosekWilkie.data.I.x;v.y=armory_renderpath_HosekWilkie.data.I.y;v.z=armory_renderpath_HosekWilkie.data.I.z}}else if(link=="_hosekZ"){if(armory_renderpath_HosekWilkie.data==null){armory_renderpath_HosekWilkie.init(iron_Scene.active.world)}if(armory_renderpath_HosekWilkie.data!=null){v=iron_object_Uniforms.helpVec;v.x=armory_renderpath_HosekWilkie.data.Z.x;v.y=armory_renderpath_HosekWilkie.data.Z.y;v.z=armory_renderpath_HosekWilkie.data.Z.z}}else{var tmp=link=="_cameraPositionSnap"}return v};armory_object_Uniforms.floatLink=function(object,mat,link){return null};var armory_renderpath_HosekWilkieRadianceData=function(sunTheta,turbidity,albedo,normalizedSunY){this.Z=new kha_math_FastVector3;this.I=new kha_math_FastVector3;this.H=new kha_math_FastVector3;this.G=new kha_math_FastVector3;this.F=new kha_math_FastVector3;this.E=new kha_math_FastVector3;this.D=new kha_math_FastVector3;this.C=new kha_math_FastVector3;this.B=new kha_math_FastVector3;this.A=new kha_math_FastVector3;var _g=0;while(_g<3){var i=_g++;this.setVector(this.A,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],0,9,turbidity,albedo,sunTheta));this.setVector(this.B,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],1,9,turbidity,albedo,sunTheta));this.setVector(this.C,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],2,9,turbidity,albedo,sunTheta));this.setVector(this.D,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],3,9,turbidity,albedo,sunTheta));this.setVector(this.E,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],4,9,turbidity,albedo,sunTheta));this.setVector(this.F,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],5,9,turbidity,albedo,sunTheta));this.setVector(this.G,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],6,9,turbidity,albedo,sunTheta));this.setVector(this.H,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],8,9,turbidity,albedo,sunTheta));this.setVector(this.I,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGB[i],7,9,turbidity,albedo,sunTheta));this.setVector(this.Z,i,this.evaluate(armory_renderpath_HosekWilkieData.datasetsRGBRad[i],0,1,turbidity,albedo,sunTheta))}if(normalizedSunY!=0){var S=this.hosek_wilkie(Math.cos(sunTheta),0,1,this.A,this.B,this.C,this.D,this.E,this.F,this.G,this.H,this.I);S.x*=this.Z.x;S.y*=this.Z.y;S.z*=this.Z.z;var v_z;var v_y;var v_x=.2126;v_y=.7152;v_z=.0722;var dotS=S.x*v_x+S.y*v_y+S.z*v_z;this.Z.x/=dotS;this.Z.y/=dotS;this.Z.z/=dotS;var _this=this.Z;this.Z=new kha_math_FastVector3(_this.x*normalizedSunY,_this.y*normalizedSunY,_this.z*normalizedSunY)}};$hxClasses["armory.renderpath.HosekWilkieRadianceData"]=armory_renderpath_HosekWilkieRadianceData;armory_renderpath_HosekWilkieRadianceData.__name__=true;armory_renderpath_HosekWilkieRadianceData.prototype={A:null,B:null,C:null,D:null,E:null,F:null,G:null,H:null,I:null,Z:null,evaluateSpline:function(spline,index,stride,value){return Math.pow(1-value,5)*spline[index+0*stride]+5*Math.pow(1-value,4)*Math.pow(value,1)*spline[index+stride]+10*Math.pow(1-value,3)*Math.pow(value,2)*spline[index+2*stride]+10*Math.pow(1-value,2)*Math.pow(value,3)*spline[index+3*stride]+5*Math.pow(1-value,1)*Math.pow(value,4)*spline[index+4*stride]+Math.pow(value,5)*spline[index+5*stride]},clamp:function(n,lower,upper){if(n<=lower){return lower}else if(n>=upper){return upper}else{return n}},clampF:function(n,lower,upper){if(n<=lower){return lower}else if(n>=upper){return upper}else{return n}},evaluate:function(dataset,index,stride,turbidity,albedo,sunTheta){var elevationK=Math.pow(Math.max(0,1-sunTheta/(Math.PI/2)),.3333333333333333);var turbidity0=this.clamp(turbidity|0,1,10);var turbidity1=Math.min(turbidity0+1,10)|0;var turbidityK=this.clampF(turbidity-turbidity0,0,1);var datasetA0Index=index;var datasetA1Index=index+stride*6*10;var a0t0=this.evaluateSpline(dataset,datasetA0Index+stride*6*(turbidity0-1),stride,elevationK);var a1t0=this.evaluateSpline(dataset,datasetA1Index+stride*6*(turbidity0-1),stride,elevationK);var a0t1=this.evaluateSpline(dataset,datasetA0Index+stride*6*(turbidity1-1),stride,elevationK);var a1t1=this.evaluateSpline(dataset,datasetA1Index+stride*6*(turbidity1-1),stride,elevationK);return a0t0*(1-albedo)*(1-turbidityK)+a1t0*albedo*(1-turbidityK)+a0t1*(1-albedo)*turbidityK+a1t1*albedo*turbidityK},hosek_wilkie:function(cos_theta,gamma,cos_gamma,A,B,C,D,E,F,G,H,I){var val=1+cos_gamma*cos_gamma;var chix=val/Math.pow(1+H.x*H.x-2*cos_gamma*H.x,1.5);var chiy=val/Math.pow(1+H.y*H.y-2*cos_gamma*H.y,1.5);var chiz=val/Math.pow(1+H.z*H.z-2*cos_gamma*H.z,1.5);var chi_z;var chi_y;var chi_x=chix;chi_y=chiy;chi_z=chiz;var vx=(1+A.x*Math.exp(B.x/(cos_theta+.01)))*(C.x+D.x*Math.exp(E.x*gamma)+F.x*(cos_gamma*cos_gamma)+G.x*chi_x+I.x*Math.sqrt(Math.max(0,cos_theta)));var vy=(1+A.y*Math.exp(B.y/(cos_theta+.01)))*(C.y+D.y*Math.exp(E.y*gamma)+F.y*(cos_gamma*cos_gamma)+G.y*chi_y+I.y*Math.sqrt(Math.max(0,cos_theta)));var vz=(1+A.z*Math.exp(B.z/(cos_theta+.01)))*(C.z+D.z*Math.exp(E.z*gamma)+F.z*(cos_gamma*cos_gamma)+G.z*chi_z+I.z*Math.sqrt(Math.max(0,cos_theta)));return new kha_math_FastVector3(vx,vy,vz)},setVector:function(v,index,f){if(index==0){v.x=f}else if(index==1){v.y=f}else{v.z=f}},__class__:armory_renderpath_HosekWilkieRadianceData};var armory_renderpath_HosekWilkie=function(){};$hxClasses["armory.renderpath.HosekWilkie"]=armory_renderpath_HosekWilkie;armory_renderpath_HosekWilkie.__name__=true;armory_renderpath_HosekWilkie.recompute=function(sunPositionX,turbidity,albedo,normalizedSunY){armory_renderpath_HosekWilkie.data=new armory_renderpath_HosekWilkieRadianceData(sunPositionX,turbidity,albedo,normalizedSunY)};armory_renderpath_HosekWilkie.init=function(world){if(world==null||world.raw.sun_direction==null){return}var dir=world.raw.sun_direction;armory_renderpath_HosekWilkie.sunDirection=new kha_math_FastVector3(dir[0],-dir[1],dir[2]);var sunPositionX=Math.acos(armory_renderpath_HosekWilkie.sunDirection.z);var turbidity=world.raw.turbidity;var albedo=world.raw.ground_albedo;armory_renderpath_HosekWilkie.recompute(sunPositionX,turbidity,albedo,1.15)};var armory_renderpath_HosekWilkieData=function(){};$hxClasses["armory.renderpath.HosekWilkieData"]=armory_renderpath_HosekWilkieData;armory_renderpath_HosekWilkieData.__name__=true;var armory_renderpath_Inc=function(){};$hxClasses["armory.renderpath.Inc"]=armory_renderpath_Inc;armory_renderpath_Inc.__name__=true;armory_renderpath_Inc.init=function(_path){armory_renderpath_Inc.path=_path};armory_renderpath_Inc.bindShadowMap=function(){var target=armory_renderpath_Inc.shadowMapName();if(target=="shadowMapCube"){armory_renderpath_Inc.path.bindTarget("arm_empty","shadowMap");armory_renderpath_Inc.path.bindTarget("shadowMapCube","shadowMapCube")}else{if(!armory_renderpath_Inc.path.lampIsSun()){armory_renderpath_Inc.path.bindTarget("arm_empty_cube","shadowMapCube")}armory_renderpath_Inc.path.bindTarget("shadowMap","shadowMap")}};armory_renderpath_Inc.shadowMapName=function(){var _this=armory_renderpath_Inc.path;if((iron_Scene.active.lamps.length>0?iron_Scene.active.lamps[armory_renderpath_Inc.path.currentLampIndex]:null).data.raw.shadowmap_cube){return"shadowMapCube"}else{return"shadowMap"}};armory_renderpath_Inc.getShadowMap=function(){var target=armory_renderpath_Inc.shadowMapName();var _this=armory_renderpath_Inc.path.renderTargets;var rt=__map_reserved[target]!=null?_this.getReserved(target):_this.h[target];if(rt==null){var _this1=armory_renderpath_Inc.path;if((iron_Scene.active.lamps.length>0?iron_Scene.active.lamps[armory_renderpath_Inc.path.currentLampIndex]:null).data.raw.shadowmap_cube){var _this2=armory_renderpath_Inc.path;var size=(iron_Scene.active.lamps.length>0?iron_Scene.active.lamps[armory_renderpath_Inc.path.currentLampIndex]:null).data.raw.shadowmap_size|0;var t=new iron_RenderTargetRaw;t.name=target;t.width=size;t.height=size;t.format="DEPTH16";t.is_cubemap=true;rt=armory_renderpath_Inc.path.createRenderTarget(t)}else{var _this3=armory_renderpath_Inc.path;var sizew=(iron_Scene.active.lamps.length>0?iron_Scene.active.lamps[armory_renderpath_Inc.path.currentLampIndex]:null).data.raw.shadowmap_size;var sizeh=sizew;sizew=sizeh*iron_object_LampObject.cascadeCount;var t1=new iron_RenderTargetRaw;t1.name=target;t1.width=sizew;t1.height=sizeh;t1.format="DEPTH16";rt=armory_renderpath_Inc.path.createRenderTarget(t1)}}return target};armory_renderpath_Inc.initEmpty=function(){var tempty=new iron_RenderTargetRaw;tempty.name="arm_empty";tempty.width=1;tempty.height=1;tempty.format="DEPTH16";armory_renderpath_Inc.path.createRenderTarget(tempty);var temptyCube=new iron_RenderTargetRaw;temptyCube.name="arm_empty_cube";temptyCube.width=1;temptyCube.height=1;temptyCube.format="DEPTH16";temptyCube.is_cubemap=true;armory_renderpath_Inc.path.createRenderTarget(temptyCube)};armory_renderpath_Inc.drawShadowMap=function(l){var faces=l.data.raw.shadowmap_cube?6:1;var _g1=0;var _g=faces;while(_g1<_g){var j=_g1++;if(faces>1){armory_renderpath_Inc.path.currentFace=j}armory_renderpath_Inc.path.setTarget(armory_renderpath_Inc.getShadowMap());armory_renderpath_Inc.path.clearTarget(null,1);armory_renderpath_Inc.path.drawMeshes("shadowmap")}armory_renderpath_Inc.path.currentFace=-1};var armory_renderpath_RenderPathCreator=function(){};$hxClasses["armory.renderpath.RenderPathCreator"]=armory_renderpath_RenderPathCreator;armory_renderpath_RenderPathCreator.__name__=true;armory_renderpath_RenderPathCreator.get=function(){armory_renderpath_RenderPathCreator.path=new iron_RenderPath;armory_renderpath_Inc.init(armory_renderpath_RenderPathCreator.path);armory_renderpath_RenderPathDeferred.init(armory_renderpath_RenderPathCreator.path);armory_renderpath_RenderPathCreator.path.commands=armory_renderpath_RenderPathDeferred.commands;return armory_renderpath_RenderPathCreator.path};var armory_renderpath_RenderPathDeferred=function(){};$hxClasses["armory.renderpath.RenderPathDeferred"]=armory_renderpath_RenderPathDeferred;armory_renderpath_RenderPathDeferred.__name__=true;armory_renderpath_RenderPathDeferred.init=function(_path){armory_renderpath_RenderPathDeferred.path=_path;armory_renderpath_Inc.initEmpty();armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/world_pass/world_pass");armory_renderpath_RenderPathDeferred.path.createDepthBuffer("main","DEPTH24");var t=new iron_RenderTargetRaw;t.name="tex";t.width=0;t.height=0;t.displayp=null;t.format="RGBA64";var ss=1;if(ss!=1){t.scale=ss}t.depth_buffer="main";armory_renderpath_RenderPathDeferred.path.createRenderTarget(t);var t1=new iron_RenderTargetRaw;t1.name="buf";t1.width=0;t1.height=0;t1.displayp=null;t1.format="RGBA64";var ss1=1;if(ss1!=1){t1.scale=ss1}armory_renderpath_RenderPathDeferred.path.createRenderTarget(t1);armory_renderpath_RenderPathDeferred.path.createDepthBuffer("main","DEPTH24");var t2=new iron_RenderTargetRaw;t2.name="gbuffer0";t2.width=0;t2.height=0;t2.displayp=null;t2.format="RGBA64";var ss2=1;if(ss2!=1){t2.scale=ss2}t2.depth_buffer="main";armory_renderpath_RenderPathDeferred.path.createRenderTarget(t2);var t3=new iron_RenderTargetRaw;t3.name="gbuffer1";t3.width=0;t3.height=0;t3.displayp=null;t3.format="RGBA64";var ss3=1;if(ss3!=1){t3.scale=ss3}armory_renderpath_RenderPathDeferred.path.createRenderTarget(t3);var t4=new iron_RenderTargetRaw;t4.name="gbuffer2";t4.width=0;t4.height=0;t4.displayp=null;t4.format="RGBA64";var ss4=1;if(ss4!=1){t4.scale=ss4}armory_renderpath_RenderPathDeferred.path.createRenderTarget(t4);var t5=new iron_RenderTargetRaw;t5.name="taa";t5.width=0;t5.height=0;t5.displayp=null;t5.format="RGBA32";var ss5=1;if(ss5!=1){t5.scale=ss5}armory_renderpath_RenderPathDeferred.path.createRenderTarget(t5);armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/deferred_indirect/deferred_indirect");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/deferred_light/deferred_light");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/deferred_light_quad/deferred_light_quad");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/ssgi_pass/ssgi_pass");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/ssgi_blur_pass/ssgi_blur_pass_x");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/ssgi_blur_pass/ssgi_blur_pass_y");var t6=new iron_RenderTargetRaw;t6.name="bufa";t6.width=0;t6.height=0;t6.displayp=null;t6.format="RGBA32";var ss6=1;if(ss6!=1){t6.scale=ss6}armory_renderpath_RenderPathDeferred.path.createRenderTarget(t6);var t7=new iron_RenderTargetRaw;t7.name="bufb";t7.width=0;t7.height=0;t7.displayp=null;t7.format="RGBA32";var ss7=1;if(ss7!=1){t7.scale=ss7}armory_renderpath_RenderPathDeferred.path.createRenderTarget(t7);armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/compositor_pass/compositor_pass");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/copy_pass/copy_pass");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/smaa_edge_detect/smaa_edge_detect");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/smaa_blend_weight/smaa_blend_weight");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/smaa_neighborhood_blend/smaa_neighborhood_blend");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/taa_pass/taa_pass");var t8=new iron_RenderTargetRaw;t8.name="bloomtex";t8.width=0;t8.height=0;t8.scale=.25;t8.format="RGBA64";armory_renderpath_RenderPathDeferred.path.createRenderTarget(t8);var t9=new iron_RenderTargetRaw;t9.name="bloomtex2";t9.width=0;t9.height=0;t9.scale=.25;t9.format="RGBA64";armory_renderpath_RenderPathDeferred.path.createRenderTarget(t9);armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/bloom_pass/bloom_pass");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/blur_gaus_pass/blur_gaus_pass_x");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/blur_gaus_pass/blur_gaus_pass_y");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/blur_gaus_pass/blur_gaus_pass_y_blend");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/ssr_pass/ssr_pass");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/blur_adaptive_pass/blur_adaptive_pass_x");armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/blur_adaptive_pass/blur_adaptive_pass_y3_blend");var t10=new iron_RenderTargetRaw;t10.name="ssra";t10.width=0;t10.height=0;t10.scale=.5;t10.format="RGBA64";armory_renderpath_RenderPathDeferred.path.createRenderTarget(t10);var t11=new iron_RenderTargetRaw;t11.name="ssrb";t11.width=0;t11.height=0;t11.scale=.5;t11.format="RGBA64";armory_renderpath_RenderPathDeferred.path.createRenderTarget(t11);armory_renderpath_RenderPathDeferred.path.loadShader("shader_datas/motion_blur_veloc_pass/motion_blur_veloc_pass")};armory_renderpath_RenderPathDeferred.commands=function(){armory_renderpath_RenderPathDeferred.path.setTarget("gbuffer2");armory_renderpath_RenderPathDeferred.path.clearTarget(-16777216);armory_renderpath_RenderPathDeferred.path.setTarget("gbuffer0",["gbuffer1","gbuffer2"]);armory_renderpath_RenderPathDeferred.path.clearTarget(null,1);armory_renderpath_RenderPathDeferred.path.drawMeshes("mesh");armory_renderpath_RenderPathDeferred.path.bindTarget("_main","gbufferD");armory_renderpath_RenderPathDeferred.path.drawDecals("decal");armory_renderpath_RenderPathDeferred.path.setTarget("bufa");armory_renderpath_RenderPathDeferred.path.bindTarget("_main","gbufferD");armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer0","gbuffer0");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/ssgi_pass/ssgi_pass");armory_renderpath_RenderPathDeferred.path.setTarget("bufb");armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer0","gbuffer0");armory_renderpath_RenderPathDeferred.path.bindTarget("bufa","tex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/ssgi_blur_pass/ssgi_blur_pass_x");armory_renderpath_RenderPathDeferred.path.setTarget("bufa");armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer0","gbuffer0");armory_renderpath_RenderPathDeferred.path.bindTarget("bufb","tex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/ssgi_blur_pass/ssgi_blur_pass_y");armory_renderpath_RenderPathDeferred.path.setTarget("tex");armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer0","gbuffer0");armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer1","gbuffer1");armory_renderpath_RenderPathDeferred.path.bindTarget("bufa","ssaotex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/deferred_indirect/deferred_indirect");var lamps=iron_Scene.active.lamps;var _g1=0;var _g=lamps.length;while(_g1<_g){var i=_g1++;var l=lamps[i];if(!l.visible){continue}armory_renderpath_RenderPathDeferred.path.currentLampIndex=i;if(armory_renderpath_RenderPathDeferred.path.lampCastShadow()){armory_renderpath_Inc.drawShadowMap(l)}armory_renderpath_RenderPathDeferred.path.setTarget("tex");armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer0","gbuffer0");armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer1","gbuffer1");if(armory_renderpath_RenderPathDeferred.path.lampCastShadow()){armory_renderpath_Inc.bindShadowMap()}if(armory_renderpath_RenderPathDeferred.path.lampIsSun()){armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/deferred_light_quad/deferred_light_quad")}else{armory_renderpath_RenderPathDeferred.path.drawLampVolume("shader_datas/deferred_light/deferred_light")}}armory_renderpath_RenderPathDeferred.path.currentLampIndex=0;armory_renderpath_RenderPathDeferred.path.drawSkydome("shader_datas/world_pass/world_pass");armory_renderpath_RenderPathDeferred.path.setTarget("bloomtex");armory_renderpath_RenderPathDeferred.path.bindTarget("tex","tex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/bloom_pass/bloom_pass");armory_renderpath_RenderPathDeferred.path.setTarget("bloomtex2");armory_renderpath_RenderPathDeferred.path.bindTarget("bloomtex","tex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/blur_gaus_pass/blur_gaus_pass_x");armory_renderpath_RenderPathDeferred.path.setTarget("bloomtex");armory_renderpath_RenderPathDeferred.path.bindTarget("bloomtex2","tex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/blur_gaus_pass/blur_gaus_pass_y");armory_renderpath_RenderPathDeferred.path.setTarget("bloomtex2");armory_renderpath_RenderPathDeferred.path.bindTarget("bloomtex","tex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/blur_gaus_pass/blur_gaus_pass_x");armory_renderpath_RenderPathDeferred.path.setTarget("bloomtex");armory_renderpath_RenderPathDeferred.path.bindTarget("bloomtex2","tex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/blur_gaus_pass/blur_gaus_pass_y");armory_renderpath_RenderPathDeferred.path.setTarget("bloomtex2");armory_renderpath_RenderPathDeferred.path.bindTarget("bloomtex","tex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/blur_gaus_pass/blur_gaus_pass_x");armory_renderpath_RenderPathDeferred.path.setTarget("bloomtex");armory_renderpath_RenderPathDeferred.path.bindTarget("bloomtex2","tex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/blur_gaus_pass/blur_gaus_pass_y");armory_renderpath_RenderPathDeferred.path.setTarget("bloomtex2");armory_renderpath_RenderPathDeferred.path.bindTarget("bloomtex","tex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/blur_gaus_pass/blur_gaus_pass_x");armory_renderpath_RenderPathDeferred.path.setTarget("tex");armory_renderpath_RenderPathDeferred.path.bindTarget("bloomtex2","tex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/blur_gaus_pass/blur_gaus_pass_y_blend");var targeta="ssra";var targetb="ssrb";armory_renderpath_RenderPathDeferred.path.setTarget(targeta);armory_renderpath_RenderPathDeferred.path.bindTarget("tex","tex");armory_renderpath_RenderPathDeferred.path.bindTarget("_main","gbufferD");armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer0","gbuffer0");armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer1","gbuffer1");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/ssr_pass/ssr_pass");armory_renderpath_RenderPathDeferred.path.setTarget(targetb);armory_renderpath_RenderPathDeferred.path.bindTarget(targeta,"tex");armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer0","gbuffer0");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/blur_adaptive_pass/blur_adaptive_pass_x");armory_renderpath_RenderPathDeferred.path.setTarget("tex");armory_renderpath_RenderPathDeferred.path.bindTarget(targetb,"tex");armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer0","gbuffer0");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/blur_adaptive_pass/blur_adaptive_pass_y3_blend");armory_renderpath_RenderPathDeferred.path.setTarget("buf");armory_renderpath_RenderPathDeferred.path.bindTarget("tex","tex");armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer0","gbuffer0");armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer2","sveloc");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/motion_blur_veloc_pass/motion_blur_veloc_pass");armory_renderpath_RenderPathDeferred.path.setTarget("tex");armory_renderpath_RenderPathDeferred.path.bindTarget("buf","tex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/copy_pass/copy_pass");var framebuffer="";armory_renderpath_RenderPathDeferred.path.setTarget("buf");armory_renderpath_RenderPathCreator.finalTarget=armory_renderpath_RenderPathDeferred.path.currentTarget;armory_renderpath_RenderPathDeferred.path.bindTarget("tex","tex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/compositor_pass/compositor_pass");armory_renderpath_RenderPathDeferred.path.setTarget("bufa");armory_renderpath_RenderPathDeferred.path.clearTarget(0);armory_renderpath_RenderPathDeferred.path.bindTarget("buf","colorTex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/smaa_edge_detect/smaa_edge_detect");armory_renderpath_RenderPathDeferred.path.setTarget("bufb");armory_renderpath_RenderPathDeferred.path.clearTarget(0);armory_renderpath_RenderPathDeferred.path.bindTarget("bufa","edgesTex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/smaa_blend_weight/smaa_blend_weight");armory_renderpath_RenderPathDeferred.path.setTarget("bufa");armory_renderpath_RenderPathDeferred.path.bindTarget("buf","colorTex");armory_renderpath_RenderPathDeferred.path.bindTarget("bufb","blendTex");armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer2","sveloc");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/smaa_neighborhood_blend/smaa_neighborhood_blend");armory_renderpath_RenderPathDeferred.path.setTarget(framebuffer);armory_renderpath_RenderPathDeferred.path.bindTarget("bufa","tex");armory_renderpath_RenderPathDeferred.path.bindTarget("taa","tex2");armory_renderpath_RenderPathDeferred.path.bindTarget("gbuffer2","sveloc");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/taa_pass/taa_pass");armory_renderpath_RenderPathDeferred.path.setTarget("taa");armory_renderpath_RenderPathDeferred.path.bindTarget("bufa","tex");armory_renderpath_RenderPathDeferred.path.drawShader("shader_datas/copy_pass/copy_pass")};var armory_system_Event=function(){};$hxClasses["armory.system.Event"]=armory_system_Event;armory_system_Event.__name__=true;armory_system_Event.get=function(name){var _this=armory_system_Event.events;if(__map_reserved[name]!=null){return _this.getReserved(name)}else{return _this.h[name]}};var armory_trait_SimpleRotateObject=function(){this.speed=.1;var _gthis=this;iron_Trait.call(this);this.notifyOnInit(function(){_gthis.rb=_gthis.object.getTrait(armory_trait_physics_bullet_RigidBody);_gthis.keyboard=iron_system_Input.getKeyboard()});this.notifyOnUpdate(function(){var rotate=iron_math_Vec4.zero();if(_gthis.keyboard.down("r")){rotate.x+=1}if(_gthis.keyboard.down("t")){rotate.x-=1}if(_gthis.keyboard.down("f")){rotate.y+=1}if(_gthis.keyboard.down("g")){rotate.y-=1}if(_gthis.keyboard.down("v")){rotate.z+=1}if(_gthis.keyboard.down("b")){rotate.z-=1}var v=iron_math_Vec4.zero();if(!(rotate.x==v.x&&rotate.y==v.y&&rotate.z==v.z)){_gthis.rotateObject(rotate)}})};$hxClasses["armory.trait.SimpleRotateObject"]=armory_trait_SimpleRotateObject;armory_trait_SimpleRotateObject.__name__=true;armory_trait_SimpleRotateObject.__super__=iron_Trait;armory_trait_SimpleRotateObject.prototype=$extend(iron_Trait.prototype,{speed:null,keyboard:null,rb:null,rotateObject:function(vec){if(this.rb!=null){this.rb.setAngularVelocity(0,0,0);this.rb.transform.rotate(vec,this.speed);this.rb.syncTransform()}else{this.object.transform.rotate(vec,this.speed)}},__class__:armory_trait_SimpleRotateObject});var armory_trait_internal_CanvasScript=function(canvasName){this.canvas=null;var _gthis=this;iron_Trait.call(this);iron_data_Data.getBlob(canvasName+".json",function(blob){kha_Assets.loadFont("droid_sans",function(f){_gthis.cui=new zui_Zui({font:f});var c=JSON.parse(blob.toString());if(c.assets==null||c.assets.length==0){_gthis.canvas=c}else{var loaded=0;var _g=0;var _g1=c.assets;while(_g<_g1.length){var asset=[_g1[_g]];++_g;var file=asset[0].name;iron_data_Data.getImage(file,function(asset1){return function(image){zui_Canvas.assetMap.h[asset1[0].id]=image;if((loaded+=1)>=c.assets.length){_gthis.canvas=c}}}(asset))}}},null,{fileName:"CanvasScript.hx",lineNumber:24,className:"armory.trait.internal.CanvasScript",methodName:"new"})});this.notifyOnRender2D(function(g){if(_gthis.canvas==null){return}var events=zui_Canvas.draw(_gthis.cui,_gthis.canvas,g);var _g2=0;while(_g2<events.length){var e=events[_g2];++_g2;var all=armory_system_Event.get(e);if(all!=null){var _g11=0;while(_g11<all.length){var entry=all[_g11];++_g11;entry.onEvent()}}}})};$hxClasses["armory.trait.internal.CanvasScript"]=armory_trait_internal_CanvasScript;armory_trait_internal_CanvasScript.__name__=true;armory_trait_internal_CanvasScript.__super__=iron_Trait;armory_trait_internal_CanvasScript.prototype=$extend(iron_Trait.prototype,{cui:null,canvas:null,ready:null,get_ready:function(){return this.canvas!=null},getElement:function(name){var _g=0;var _g1=this.canvas.elements;while(_g<_g1.length){var e=_g1[_g];++_g;if(e.name==name){return e}}return null},__class__:armory_trait_internal_CanvasScript,__properties__:{get_ready:"get_ready"}});var armory_trait_internal_LoadingScreen=function(){};$hxClasses["armory.trait.internal.LoadingScreen"]=armory_trait_internal_LoadingScreen;armory_trait_internal_LoadingScreen.__name__=true;armory_trait_internal_LoadingScreen.render=function(g,assetsLoaded,assetsTotal){g.set_color(-3200189);g.fillRect(0,kha_System.windowHeight()-6,kha_System.windowWidth()/assetsTotal*assetsLoaded,6)};var armory_trait_physics_bullet_KinematicCharacterController=function(){this.character=null;this.body=null;this.group=1};$hxClasses["armory.trait.physics.bullet.KinematicCharacterController"]=armory_trait_physics_bullet_KinematicCharacterController;armory_trait_physics_bullet_KinematicCharacterController.__name__=true;armory_trait_physics_bullet_KinematicCharacterController.__super__=iron_Trait;armory_trait_physics_bullet_KinematicCharacterController.prototype=$extend(iron_Trait.prototype,{group:null,body:null,character:null,__class__:armory_trait_physics_bullet_KinematicCharacterController});var armory_trait_physics_bullet_ContactPair=function(a,b){this.a=a;this.b=b};$hxClasses["armory.trait.physics.bullet.ContactPair"]=armory_trait_physics_bullet_ContactPair;armory_trait_physics_bullet_ContactPair.__name__=true;armory_trait_physics_bullet_ContactPair.prototype={a:null,b:null,posA:null,posB:null,nor:null,impulse:null,__class__:armory_trait_physics_bullet_ContactPair};var armory_trait_physics_bullet_PhysicsWorld=function(timeScale,timeStep){if(timeStep==null){timeStep=.016666666666666666}if(timeScale==null){timeScale=1}this.pairCache=false;this.hitPointWorld=new iron_math_Vec4;this.maxSteps=1;this.timeStep=.016666666666666666;this.timeScale=1;this.preUpdates=null;iron_Trait.call(this);this.timeScale=timeScale;this.timeStep=timeStep;this.maxSteps=timeStep<.016666666666666666?10:1;if(armory_trait_physics_bullet_PhysicsWorld.active==null){this.createPhysics()}else{var rb=armory_trait_physics_bullet_PhysicsWorld.active.rbMap.iterator();while(rb.hasNext()){var rb1=rb.next();this.removeRigidBody(rb1)}this.world=armory_trait_physics_bullet_PhysicsWorld.active.world;this.dispatcher=armory_trait_physics_bullet_PhysicsWorld.active.dispatcher}this.contacts=[];this.rbMap=new haxe_ds_IntMap;armory_trait_physics_bullet_PhysicsWorld.active=this;this.notifyOnLateUpdate($bind(this,this.lateUpdate));iron_Scene.active.notifyOnRemove($bind(this,this.reset))};$hxClasses["armory.trait.physics.bullet.PhysicsWorld"]=armory_trait_physics_bullet_PhysicsWorld;armory_trait_physics_bullet_PhysicsWorld.__name__=true;armory_trait_physics_bullet_PhysicsWorld.__super__=iron_Trait;armory_trait_physics_bullet_PhysicsWorld.prototype=$extend(iron_Trait.prototype,{world:null,dispatcher:null,contacts:null,preUpdates:null,rbMap:null,timeScale:null,timeStep:null,maxSteps:null,hitPointWorld:null,pairCache:null,reset:function(){var rb=armory_trait_physics_bullet_PhysicsWorld.active.rbMap.iterator();while(rb.hasNext()){var rb1=rb.next();this.removeRigidBody(rb1)}},createPhysics:function(){var broadphase=new Ammo.btDbvtBroadphase;var collisionConfiguration=new Ammo.btDefaultCollisionConfiguration;this.dispatcher=new Ammo.btCollisionDispatcher(collisionConfiguration);var solver=new Ammo.btSequentialImpulseConstraintSolver;var g=iron_Scene.active.raw.gravity;var gravity=g==null?new iron_math_Vec4(0,0,-9.81):new iron_math_Vec4(g[0],g[1],g[2]);this.world=new Ammo.btDiscreteDynamicsWorld(this.dispatcher,broadphase,solver,collisionConfiguration);this.setGravity(gravity)},setGravity:function(v){this.world.setGravity(new Ammo.btVector3(v.x,v.y,v.z))},addRigidBody:function(body){this.world.addRigidBody(body.body,body.group,body.group);this.rbMap.h[body.id]=body},removeRigidBody:function(body){if(this.world!=null){this.world.removeRigidBody(body.body)}this.rbMap.remove(body.id)},addKinematicCharacterController:function(controller){if(!this.pairCache){this.world.getPairCache().setInternalGhostPairCallback(new Ammo.btGhostPairCallback);this.pairCache=true}this.world.addAction(controller.character);this.world.addCollisionObject(controller.body,controller.group,controller.group)},removeKinematicCharacterController:function(controller){if(this.world!=null){this.world.removeCollisionObject(controller.body);this.world.removeAction(controller.character)}Ammo.destroy(controller.body)},getContacts:function(body){if(this.contacts.length==0){return null}var res=[];var _g1=0;var _g=this.contacts.length;while(_g1<_g){var i=_g1++;var c=this.contacts[i];if(c.a==body.body.userIndex){res.push(this.rbMap.h[c.b])}else if(c.b==body.body.userIndex){res.push(this.rbMap.h[c.a])}}return res},getContactPairs:function(body){if(this.contacts.length==0){return null}var res=[];var _g1=0;var _g=this.contacts.length;while(_g1<_g){var i=_g1++;var c=this.contacts[i];if(c.a==body.body.userIndex){res.push(c)}else if(c.b==body.body.userIndex){res.push(c)}}return res},lateUpdate:function(){if(this.preUpdates!=null){var _g=0;var _g1=this.preUpdates;while(_g<_g1.length){var f=_g1[_g];++_g;f()}}this.world.stepSimulation(this.timeStep,this.maxSteps,.016666666666666666*iron_system_Time.scale*this.timeScale);this.updateContacts()},updateContacts:function(){this.contacts=[];var numManifolds=this.dispatcher.getNumManifolds();var _g1=0;var _g=numManifolds;while(_g1<_g){var i=_g1++;var contactManifold=this.dispatcher.getManifoldByIndexInternal(i);var obA=contactManifold.getBody0();var obB=contactManifold.getBody1();var bodyA=Ammo.btRigidBody.prototype.upcast(obA);var bodyB=Ammo.btRigidBody.prototype.upcast(obB);var cp=new armory_trait_physics_bullet_ContactPair(bodyA.userIndex,bodyB.userIndex);var numContacts=contactManifold.getNumContacts();var _g3=0;var _g2=numContacts;while(_g3<_g2){var j=_g3++;var pt=contactManifold.getContactPoint(j);if(pt.getDistance()<0){var posA=pt.get_m_positionWorldOnA();var posB=pt.get_m_positionWorldOnB();var nor=pt.get_m_normalWorldOnB();cp.posA=new iron_math_Vec4(posA.x(),posA.y(),posA.z());cp.posB=new iron_math_Vec4(posB.x(),posB.y(),posB.z());cp.nor=new iron_math_Vec4(nor.x(),nor.y(),nor.z());cp.impulse=pt.getAppliedImpulse();this.contacts.push(cp);break}}}},pickClosest:function(inputX,inputY){var camera=iron_Scene.active.camera;var start=new iron_math_Vec4;var end=new iron_math_Vec4;iron_math_RayCaster.getDirection(start,end,inputX,inputY,camera);var _this=camera.transform.world;return this.rayCast(new iron_math_Vec4(_this.self._30,_this.self._31,_this.self._32,_this.self._33),end)},rayCast:function(from,to){var rayFrom=new Ammo.btVector3(from.x,from.y,from.z);var rayTo=new Ammo.btVector3(to.x,to.y,to.z);var rayCallback=new Ammo.ClosestRayResultCallback(rayFrom,rayTo);this.world.rayTest(rayFrom,rayTo,rayCallback);if(rayCallback.hasHit()){var co=rayCallback.get_m_collisionObject();var body=Ammo.btRigidBody.prototype.upcast(co);var hit=rayCallback.get_m_hitPointWorld();this.hitPointWorld.set(hit.x(),hit.y(),hit.z());return this.rbMap.h[body.userIndex]}return null},notifyOnPreUpdate:function(f){if(this.preUpdates==null){this.preUpdates=[]}this.preUpdates.push(f)},removePreUpdate:function(f){HxOverrides.remove(this.preUpdates,f)},__class__:armory_trait_physics_bullet_PhysicsWorld});var armory_trait_physics_bullet_RigidBody=function(mass,shape,friction,restitution,collisionMargin,linearDamping,angularDamping,animated,linearFactors,angularFactors,group,trigger,deactivationParams){if(trigger==null){trigger=false}if(group==null){group=1}if(animated==null){animated=false}if(angularDamping==null){angularDamping=.1}if(linearDamping==null){linearDamping=.04}if(collisionMargin==null){collisionMargin=0}if(restitution==null){restitution=0}if(friction==null){friction=.5}if(shape==null){shape=0}if(mass==null){mass=1}this.onReady=null;this.id=0;this.ready=false;this.body=null;this.trigger=false;this.group=1;this.transform=null;this.isConvex=false;iron_Trait.call(this);this.mass=mass;this.shape=shape;this.friction=friction;this.restitution=restitution;this.collisionMargin=collisionMargin;this.linearDamping=linearDamping;this.angularDamping=angularDamping;this.animated=animated;this.linearFactors=linearFactors;this.angularFactors=angularFactors;this.group=group;this.trigger=trigger;this.deactivationParams=deactivationParams;this.notifyOnAdd($bind(this,this.init))};$hxClasses["armory.trait.physics.bullet.RigidBody"]=armory_trait_physics_bullet_RigidBody;armory_trait_physics_bullet_RigidBody.__name__=true;armory_trait_physics_bullet_RigidBody.__super__=iron_Trait;armory_trait_physics_bullet_RigidBody.prototype=$extend(iron_Trait.prototype,{shape:null,_motionState:null,_shape:null,_shapeConvex:null,isConvex:null,physics:null,transform:null,mass:null,friction:null,restitution:null,collisionMargin:null,linearDamping:null,angularDamping:null,animated:null,linearFactors:null,angularFactors:null,deactivationParams:null,group:null,trigger:null,bodyScaleX:null,bodyScaleY:null,bodyScaleZ:null,currentScaleX:null,currentScaleY:null,currentScaleZ:null,body:null,ready:null,id:null,onReady:null,withMargin:function(f){return f-f*this.collisionMargin},notifyOnReady:function(f){this.onReady=f;if(this.ready){this.onReady()}},init:function(){if(this.ready){return}this.ready=true;if(!js_Boot.__instanceof(this.object,iron_object_MeshObject)){return}this.notifyOnLateUpdate($bind(this,this.lateUpdate));this.notifyOnRemove($bind(this,this.removeFromWorld));this.transform=this.object.transform;this.physics=armory_trait_physics_bullet_PhysicsWorld.active;this._shape=null;this._shapeConvex=null;this.isConvex=false;if(this.shape==0){var f=this.transform.dim.x/2;var f1=this.transform.dim.y/2;var f2=this.transform.dim.z/2;this._shape=new Ammo.btBoxShape(new Ammo.btVector3(f-f*this.collisionMargin,f1-f1*this.collisionMargin,f2-f2*this.collisionMargin))}else if(this.shape==1){var f3=this.transform.dim.x/2;this._shape=new Ammo.btSphereShape(f3-f3*this.collisionMargin)}else if(this.shape==2||this.shape==3&&this.mass>0){this._shapeConvex=new Ammo.btConvexHullShape;this.isConvex=true;this.addPointsToConvexHull(this._shapeConvex,this.transform.scale,this.collisionMargin)}else if(this.shape==4){var f4=this.transform.dim.x/2;var f5=this.transform.dim.z;this._shape=new Ammo.btConeShapeZ(f4-f4*this.collisionMargin,f5-f5*this.collisionMargin)}else if(this.shape==5){var f6=this.transform.dim.x/2;var f7=this.transform.dim.y/2;var f8=this.transform.dim.z/2;this._shape=new Ammo.btCylinderShapeZ(new Ammo.btVector3(f6-f6*this.collisionMargin,f7-f7*this.collisionMargin,f8-f8*this.collisionMargin))}else if(this.shape==6){var r=this.transform.dim.x/2;var f9=this.transform.dim.z-r*2;this._shape=new Ammo.btCapsuleShapeZ(r-r*this.collisionMargin,f9-f9*this.collisionMargin)}else if(this.shape==3||this.shape==7){var meshInterface=new Ammo.btTriangleMesh(true,true);this.fillTriangleMesh(meshInterface,this.transform.scale);this._shape=new Ammo.btBvhTriangleMeshShape(meshInterface,true,true)}var _transform=new Ammo.btTransform;_transform.setIdentity();_transform.setOrigin(new Ammo.btVector3(this.transform.world.self._30,this.transform.world.self._31,this.transform.world.self._32));var rot=this.transform.world.getQuat();_transform.setRotation(new Ammo.btQuaternion(rot.x,rot.y,rot.z,rot.w));var _centerOfMassOffset=new Ammo.btTransform;_centerOfMassOffset.setIdentity();this._motionState=new Ammo.btDefaultMotionState(_transform,_centerOfMassOffset);var _inertia=new Ammo.btVector3(0,0,0);if(!this.isConvex){if(this.mass>0){this._shape.calculateLocalInertia(this.mass,_inertia)}var _bodyCI=new Ammo.btRigidBodyConstructionInfo(this.mass,this._motionState,this._shape,_inertia);this.body=new Ammo.btRigidBody(_bodyCI)}else{if(this.mass>0){this._shapeConvex.calculateLocalInertia(this.mass,_inertia)}var _bodyCI1=new Ammo.btRigidBodyConstructionInfo(this.mass,this._motionState,this._shapeConvex,_inertia);this.body=new Ammo.btRigidBody(_bodyCI1)}this.body.setFriction(this.friction);this.body.setRollingFriction(this.friction);this.body.setRestitution(this.restitution);if(this.deactivationParams!=null){this.setDeactivationParams(this.deactivationParams[0],this.deactivationParams[1],this.deactivationParams[2])}else{this.setActivationState(4)}if(this.linearDamping!=.04||this.angularDamping!=.1){this.body.setDamping(this.linearDamping,this.angularDamping)}if(this.linearFactors!=null){this.setLinearFactor(this.linearFactors[0],this.linearFactors[1],this.linearFactors[2])}if(this.angularFactors!=null){this.setAngularFactor(this.angularFactors[0],this.angularFactors[1],this.angularFactors[2])}if(this.trigger){this.body.setCollisionFlags(this.body.getCollisionFlags()|4)}this.bodyScaleX=this.currentScaleX=this.transform.scale.x;this.bodyScaleY=this.currentScaleY=this.transform.scale.y;this.bodyScaleZ=this.currentScaleZ=this.transform.scale.z;this.id=armory_trait_physics_bullet_RigidBody.nextId;armory_trait_physics_bullet_RigidBody.nextId++;this.body.userIndex=this.id;this.physics.addRigidBody(this);if(this.onReady!=null){this.onReady()}},lateUpdate:function(){if(!this.ready){return}if(this.object.animation!=null||this.animated){this.syncTransform()}else{var trans=this.body.getWorldTransform();var p=trans.getOrigin();var q=trans.getRotation();this.transform.loc.set(p.x(),p.y(),p.z());var _this=this.transform.rot;var x=q.x();var y=q.y();var z=q.z();var w=q.w();_this.x=x;_this.y=y;_this.z=z;_this.w=w;if(this.object.parent!=null){var ptransform=this.object.parent.transform;this.transform.loc.x-=ptransform.world.self._30;this.transform.loc.y-=ptransform.world.self._31;this.transform.loc.z-=ptransform.world.self._32}this.transform.buildMatrix()}},removeFromWorld:function(){if(this.physics!=null){this.physics.removeRigidBody(this)}},activate:function(){this.body.activate(false)},disableGravity:function(){this.body.setGravity(new Ammo.btVector3(0,0,0))},enableGravity:function(){this.body.setGravity(this.physics.world.getGravity())},setGravity:function(v){this.body.setGravity(new Ammo.btVector3(v.x,v.y,v.z))},setActivationState:function(newState){this.body.setActivationState(newState)},setDeactivationParams:function(linearThreshold,angularThreshold,time){this.body.setSleepingThresholds(linearThreshold,angularThreshold)},applyForce:function(force,loc){this.activate();if(loc==null){this.body.applyCentralForce(new Ammo.btVector3(force.x,force.y,force.z))}else{this.body.applyForce(new Ammo.btVector3(force.x,force.y,force.z),new Ammo.btVector3(loc.x,loc.y,loc.z))}},applyImpulse:function(impulse,loc){this.activate();if(loc==null){this.body.applyCentralImpulse(new Ammo.btVector3(impulse.x,impulse.y,impulse.z))}else{this.body.applyImpulse(new Ammo.btVector3(impulse.x,impulse.y,impulse.z),new Ammo.btVector3(loc.x,loc.y,loc.z))}},setLinearFactor:function(x,y,z){this.body.setLinearFactor(new Ammo.btVector3(x,y,z))},setAngularFactor:function(x,y,z){this.body.setAngularFactor(new Ammo.btVector3(x,y,z))},getLinearVelocity:function(){var v=this.body.getLinearVelocity();return new iron_math_Vec4(v.x(),v.y(),v.z())},setLinearVelocity:function(x,y,z){this.body.setLinearVelocity(new Ammo.btVector3(x,y,z))},getAngularVelocity:function(){var v=this.body.getAngularVelocity();return new iron_math_Vec4(v.x(),v.y(),v.z())},setAngularVelocity:function(x,y,z){this.body.setAngularVelocity(new Ammo.btVector3(x,y,z))},setFriction:function(f){this.body.setFriction(f);this.body.setRollingFriction(f);this.friction=f},syncTransform:function(){var t=this.transform;t.buildMatrix();var trans=new Ammo.btTransform;trans.setOrigin(new Ammo.btVector3(t.world.self._30,t.world.self._31,t.world.self._32));var rot=t.world.getQuat();trans.setRotation(new Ammo.btQuaternion(rot.x,rot.y,rot.z,rot.w));this.body.setCenterOfMassTransform(trans);if(this.currentScaleX!=t.scale.x||this.currentScaleY!=t.scale.y||this.currentScaleZ!=t.scale.z){this.setScale(t.scale)}this.activate()},setScale:function(v){this.currentScaleX=v.x;this.currentScaleY=v.y;this.currentScaleZ=v.z;if(this.isConvex){this._shapeConvex.setLocalScaling(new Ammo.btVector3(this.bodyScaleX*v.x,this.bodyScaleY*v.y,this.bodyScaleZ*v.z))}else{this._shape.setLocalScaling(new Ammo.btVector3(this.bodyScaleX*v.x,this.bodyScaleY*v.y,this.bodyScaleZ*v.z))}this.physics.world.updateSingleAabb(this.body)},addPointsToConvexHull:function(shape,scale,margin){var positions=js_Boot.__cast(this.object,iron_object_MeshObject).data.geom.positions;var sx=scale.x*(1-margin);var sy=scale.y*(1-margin);var sz=scale.z*(1-margin);var _g1=0;var _g=positions.length/3|0;while(_g1<_g){var i=_g1++;shape.addPoint(new Ammo.btVector3(positions[i*3]*sx,positions[i*3+1]*sy,positions[i*3+2]*sz),true)}},fillTriangleMesh:function(triangleMesh,scale){var positions=js_Boot.__cast(this.object,iron_object_MeshObject).data.geom.positions;var indices=js_Boot.__cast(this.object,iron_object_MeshObject).data.geom.indices;var _g=0;while(_g<indices.length){var ar=indices[_g];++_g;var _g2=0;var _g1=ar.length/3|0;while(_g2<_g1){var i=_g2++;triangleMesh.addTriangle(new Ammo.btVector3(positions[ar[i*3]*3]*scale.x,positions[ar[i*3]*3+1]*scale.y,positions[ar[i*3]*3+2]*scale.z),new Ammo.btVector3(positions[ar[i*3+1]*3]*scale.x,positions[ar[i*3+1]*3+1]*scale.y,positions[ar[i*3+1]*3+2]*scale.z),new Ammo.btVector3(positions[ar[i*3+2]*3]*scale.x,positions[ar[i*3+2]*3+1]*scale.y,positions[ar[i*3+2]*3+2]*scale.z))}}},__class__:armory_trait_physics_bullet_RigidBody});var haxe_IMap=function(){};$hxClasses["haxe.IMap"]=haxe_IMap;haxe_IMap.__name__=true;var haxe__$Int64__$_$_$Int64=function(high,low){this.high=high;this.low=low};$hxClasses["haxe._Int64.___Int64"]=haxe__$Int64__$_$_$Int64;haxe__$Int64__$_$_$Int64.__name__=true;haxe__$Int64__$_$_$Int64.prototype={high:null,low:null,__class__:haxe__$Int64__$_$_$Int64};var haxe_Log=function(){};$hxClasses["haxe.Log"]=haxe_Log;haxe_Log.__name__=true;haxe_Log.trace=function(v,infos){js_Boot.__trace(v,infos)};var haxe__$Unserializer_DefaultResolver=function(){};$hxClasses["haxe._Unserializer.DefaultResolver"]=haxe__$Unserializer_DefaultResolver;haxe__$Unserializer_DefaultResolver.__name__=true;haxe__$Unserializer_DefaultResolver.prototype={resolveClass:function(name){return Type.resolveClass(name)},resolveEnum:function(name){return Type.resolveEnum(name)},__class__:haxe__$Unserializer_DefaultResolver};var haxe_Unserializer=function(buf){this.buf=buf;this.length=buf.length;this.pos=0;this.scache=[];this.cache=[];var r=haxe_Unserializer.DEFAULT_RESOLVER;if(r==null){r=new haxe__$Unserializer_DefaultResolver;haxe_Unserializer.DEFAULT_RESOLVER=r}this.resolver=r};$hxClasses["haxe.Unserializer"]=haxe_Unserializer;haxe_Unserializer.__name__=true;haxe_Unserializer.initCodes=function(){var codes=[];var _g1=0;var _g=haxe_Unserializer.BASE64.length;while(_g1<_g){var i=_g1++;codes[haxe_Unserializer.BASE64.charCodeAt(i)]=i}return codes};haxe_Unserializer.run=function(v){return new haxe_Unserializer(v).unserialize()};haxe_Unserializer.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,readDigits:function(){var k=0;var s=false;var fpos=this.pos;while(true){var c=this.buf.charCodeAt(this.pos);if(c!=c){break}if(c==45){if(this.pos!=fpos){break}s=true;this.pos++;continue}if(c<48||c>57){break}k=k*10+(c-48);this.pos++}if(s){k*=-1}return k},readFloat:function(){var p1=this.pos;while(true){var c=this.buf.charCodeAt(this.pos);if(c!=c){break}if(c>=43&&c<58||c==101||c==69){this.pos++}else{break}}return parseFloat(HxOverrides.substr(this.buf,p1,this.pos-p1))},unserializeObject:function(o){while(true){if(this.pos>=this.length){throw new js__$Boot_HaxeError("Invalid object")}if(this.buf.charCodeAt(this.pos)==103){break}var k=this.unserialize();if(typeof k!="string"){throw new js__$Boot_HaxeError("Invalid object key")}var v=this.unserialize();o[k]=v}this.pos++},unserializeEnum:function(edecl,tag){if(this.buf.charCodeAt(this.pos++)!=58){throw new js__$Boot_HaxeError("Invalid enum format")}var nargs=this.readDigits();if(nargs==0){return Type.createEnum(edecl,tag)}var args=[];while(nargs-- >0)args.push(this.unserialize());return Type.createEnum(edecl,tag,args)},unserialize:function(){var _g=this.buf.charCodeAt(this.pos++);switch(_g){case 65:var name=this.unserialize();var cl=this.resolver.resolveClass(name);if(cl==null){throw new js__$Boot_HaxeError("Class not found "+name)}return cl;case 66:var name1=this.unserialize();var e=this.resolver.resolveEnum(name1);if(e==null){throw new js__$Boot_HaxeError("Enum not found "+name1)}return e;case 67:var name2=this.unserialize();var cl1=this.resolver.resolveClass(name2);if(cl1==null){throw new js__$Boot_HaxeError("Class not found "+name2)}var o=Type.createEmptyInstance(cl1);this.cache.push(o);o.hxUnserialize(this);if(this.buf.charCodeAt(this.pos++)!=103){throw new js__$Boot_HaxeError("Invalid custom data")}return o;case 77:var h=new haxe_ds_ObjectMap;this.cache.push(h);var buf=this.buf;while(this.buf.charCodeAt(this.pos)!=104){var s=this.unserialize();h.set(s,this.unserialize())}this.pos++;return h;case 82:var n=this.readDigits();if(n<0||n>=this.scache.length){throw new js__$Boot_HaxeError("Invalid string reference")}return this.scache[n];case 97:var buf1=this.buf;var a=[];this.cache.push(a);while(true){var c=this.buf.charCodeAt(this.pos);if(c==104){this.pos++;break}if(c==117){this.pos++;var n1=this.readDigits();a[a.length+n1-1]=null}else{a.push(this.unserialize())}}return a;case 98:var h1=new haxe_ds_StringMap;this.cache.push(h1);var buf2=this.buf;while(this.buf.charCodeAt(this.pos)!=104){var s1=this.unserialize();var value=this.unserialize();if(__map_reserved[s1]!=null){h1.setReserved(s1,value)}else{h1.h[s1]=value}}this.pos++;return h1;case 99:var name3=this.unserialize();var cl2=this.resolver.resolveClass(name3);if(cl2==null){throw new js__$Boot_HaxeError("Class not found "+name3)}var o1=Type.createEmptyInstance(cl2);this.cache.push(o1);this.unserializeObject(o1);return o1;case 100:return this.readFloat();case 102:return false;case 105:return this.readDigits();case 106:var name4=this.unserialize();var edecl=this.resolver.resolveEnum(name4);if(edecl==null){throw new js__$Boot_HaxeError("Enum not found "+name4)}this.pos++;var index=this.readDigits();var tag=edecl.__constructs__.slice()[index];if(tag==null){throw new js__$Boot_HaxeError("Unknown enum index "+name4+"@"+index)}var e1=this.unserializeEnum(edecl,tag);this.cache.push(e1);return e1;case 107:return NaN;case 108:var l=new List;this.cache.push(l);var buf3=this.buf;while(this.buf.charCodeAt(this.pos)!=104)l.add(this.unserialize());this.pos++;return l;case 109:return-Infinity;case 110:return null;case 111:var o2={};this.cache.push(o2);this.unserializeObject(o2);return o2;case 112:return Infinity;case 113:var h2=new haxe_ds_IntMap;this.cache.push(h2);var buf4=this.buf;var c1=this.buf.charCodeAt(this.pos++);while(c1==58){var i=this.readDigits();var value1=this.unserialize();h2.h[i]=value1;c1=this.buf.charCodeAt(this.pos++)}if(c1!=104){throw new js__$Boot_HaxeError("Invalid IntMap format")}return h2;case 114:var n2=this.readDigits();if(n2<0||n2>=this.cache.length){throw new js__$Boot_HaxeError("Invalid reference")}return this.cache[n2];case 115:var len=this.readDigits();var buf5=this.buf;if(this.buf.charCodeAt(this.pos++)!=58||this.length-this.pos<len){throw new js__$Boot_HaxeError("Invalid bytes length")}var codes=haxe_Unserializer.CODES;if(codes==null){codes=haxe_Unserializer.initCodes();haxe_Unserializer.CODES=codes}var i1=this.pos;var rest=len&3;var size=(len>>2)*3+(rest>=2?rest-1:0);var max=i1+(len-rest);var bytes=new haxe_io_Bytes(new ArrayBuffer(size));var bpos=0;while(i1<max){var c11=codes[buf5.charCodeAt(i1++)];var c2=codes[buf5.charCodeAt(i1++)];bytes.b[bpos++]=(c11<<2|c2>>4)&255;var c3=codes[buf5.charCodeAt(i1++)];bytes.b[bpos++]=(c2<<4|c3>>2)&255;var c4=codes[buf5.charCodeAt(i1++)];bytes.b[bpos++]=(c3<<6|c4)&255}if(rest>=2){var c12=codes[buf5.charCodeAt(i1++)];var c21=codes[buf5.charCodeAt(i1++)];bytes.b[bpos++]=(c12<<2|c21>>4)&255;if(rest==3){var c31=codes[buf5.charCodeAt(i1++)];bytes.b[bpos++]=(c21<<4|c31>>2)&255}}this.pos+=len;this.cache.push(bytes);return bytes;case 116:return true;case 118:var d;if(this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&this.buf.charCodeAt(this.pos+4)==45){d=HxOverrides.strDate(HxOverrides.substr(this.buf,this.pos,19));this.pos+=19}else{var t=this.readFloat();d=new Date(t)}this.cache.push(d);return d;case 119:var name5=this.unserialize();var edecl1=this.resolver.resolveEnum(name5);if(edecl1==null){throw new js__$Boot_HaxeError("Enum not found "+name5)}var e2=this.unserializeEnum(edecl1,this.unserialize());this.cache.push(e2);return e2;case 120:throw js__$Boot_HaxeError.wrap(this.unserialize());break;case 121:var len1=this.readDigits();if(this.buf.charCodeAt(this.pos++)!=58||this.length-this.pos<len1){throw new js__$Boot_HaxeError("Invalid string length")}var s2=HxOverrides.substr(this.buf,this.pos,len1);this.pos+=len1;s2=decodeURIComponent(s2.split("+").join(" "));this.scache.push(s2);return s2;case 122:return 0;default:}this.pos--;throw new js__$Boot_HaxeError("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:haxe_Unserializer};var haxe_crypto_Adler32=function(){this.a1=1;this.a2=0};$hxClasses["haxe.crypto.Adler32"]=haxe_crypto_Adler32;haxe_crypto_Adler32.__name__=true;haxe_crypto_Adler32.read=function(i){var a=new haxe_crypto_Adler32;var a2a=i.readByte();var a2b=i.readByte();var a1a=i.readByte();var a1b=i.readByte();a.a1=a1a<<8|a1b;a.a2=a2a<<8|a2b;return a};haxe_crypto_Adler32.prototype={a1:null,a2:null,update:function(b,pos,len){var a1=this.a1;var a2=this.a2;var _g1=pos;var _g=pos+len;while(_g1<_g){var p=_g1++;var c=b.b[p];a1=(a1+c)%65521;a2=(a2+a1)%65521}this.a1=a1;this.a2=a2},equals:function(a){if(a.a1==this.a1){return a.a2==this.a2}else{return false}},__class__:haxe_crypto_Adler32};var haxe_io_Bytes=function(data){this.length=data.byteLength;this.b=new Uint8Array(data);this.b.bufferValue=data;data.hxBytes=this;data.bytes=this.b};$hxClasses["haxe.io.Bytes"]=haxe_io_Bytes;haxe_io_Bytes.__name__=true;haxe_io_Bytes.ofData=function(b){var hb=b.hxBytes;if(hb!=null){return hb}return new haxe_io_Bytes(b)};haxe_io_Bytes.prototype={length:null,b:null,data:null,blit:function(pos,src,srcpos,len){if(pos<0||srcpos<0||len<0||pos+len>this.length||srcpos+len>src.length){throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds)}if(srcpos==0&&len==src.b.byteLength){this.b.set(src.b,pos)}else{this.b.set(src.b.subarray(srcpos,srcpos+len),pos)}},sub:function(pos,len){if(pos<0||len<0||pos+len>this.length){throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds)}return new haxe_io_Bytes(this.b.buffer.slice(pos+this.b.byteOffset,pos+this.b.byteOffset+len))},getFloat:function(pos){if(this.data==null){this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)}return this.data.getFloat32(pos,true)},setInt32:function(pos,v){if(this.data==null){this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)}this.data.setInt32(pos,v,true)},getString:function(pos,len){if(pos<0||len<0||pos+len>this.length){throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds)}var s="";var b=this.b;var fcc=String.fromCharCode;var i=pos;var max=pos+len;while(i<max){var c=b[i++];if(c<128){if(c==0){break}s+=fcc(c)}else if(c<224){s+=fcc((c&63)<<6|b[i++]&127)}else if(c<240){var c2=b[i++];s+=fcc((c&31)<<12|(c2&127)<<6|b[i++]&127)}else{var c21=b[i++];var c3=b[i++];var u=(c&15)<<18|(c21&127)<<12|(c3&127)<<6|b[i++]&127;s+=fcc((u>>10)+55232);s+=fcc(u&1023|56320)}}return s},toString:function(){return this.getString(0,this.length)},__class__:haxe_io_Bytes};var haxe_ds_IntMap=function(){this.h={}};$hxClasses["haxe.ds.IntMap"]=haxe_ds_IntMap;haxe_ds_IntMap.__name__=true;haxe_ds_IntMap.__interfaces__=[haxe_IMap];haxe_ds_IntMap.prototype={h:null,remove:function(key){if(!this.h.hasOwnProperty(key)){return false}delete this.h[key];return true},keys:function(){var a=[];for(var key in this.h)if(this.h.hasOwnProperty(key)){a.push(key|0)}return HxOverrides.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var i=this.it.next();return this.ref[i]}}},__class__:haxe_ds_IntMap};var haxe_ds_ObjectMap=function(){this.h={__keys__:{}}};$hxClasses["haxe.ds.ObjectMap"]=haxe_ds_ObjectMap;haxe_ds_ObjectMap.__name__=true;haxe_ds_ObjectMap.__interfaces__=[haxe_IMap];haxe_ds_ObjectMap.prototype={h:null,set:function(key,value){var id=key.__id__||(key.__id__=++haxe_ds_ObjectMap.count);this.h[id]=value;this.h.__keys__[id]=key},keys:function(){var a=[];for(var key in this.h.__keys__){if(this.h.hasOwnProperty(key)){a.push(this.h.__keys__[key])}}return HxOverrides.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var i=this.it.next();return this.ref[i.__id__]}}},__class__:haxe_ds_ObjectMap};var haxe_ds__$StringMap_StringMapIterator=function(map,keys){this.map=map;this.keys=keys;this.index=0;this.count=keys.length};$hxClasses["haxe.ds._StringMap.StringMapIterator"]=haxe_ds__$StringMap_StringMapIterator;haxe_ds__$StringMap_StringMapIterator.__name__=true;haxe_ds__$StringMap_StringMapIterator.prototype={map:null,keys:null,index:null,count:null,hasNext:function(){return this.index<this.count},next:function(){var _this=this.map;var key=this.keys[this.index++];if(__map_reserved[key]!=null){return _this.getReserved(key)}else{return _this.h[key]}},__class__:haxe_ds__$StringMap_StringMapIterator};var haxe_ds_StringMap=function(){this.h={}};$hxClasses["haxe.ds.StringMap"]=haxe_ds_StringMap;haxe_ds_StringMap.__name__=true;haxe_ds_StringMap.__interfaces__=[haxe_IMap];haxe_ds_StringMap.prototype={h:null,rh:null,setReserved:function(key,value){if(this.rh==null){this.rh={}}this.rh["$"+key]=value},getReserved:function(key){if(this.rh==null){return null}else{return this.rh["$"+key]}},existsReserved:function(key){if(this.rh==null){return false}return this.rh.hasOwnProperty("$"+key)},remove:function(key){if(__map_reserved[key]!=null){key="$"+key;if(this.rh==null||!this.rh.hasOwnProperty(key)){return false}delete this.rh[key];return true}else{if(!this.h.hasOwnProperty(key)){return false}delete this.h[key];return true}},arrayKeys:function(){var out=[];for(var key in this.h){if(this.h.hasOwnProperty(key)){out.push(key)}}if(this.rh!=null){for(var key in this.rh){if(key.charCodeAt(0)==36){out.push(key.substr(1))}}}return out},__class__:haxe_ds_StringMap};var haxe_io_BytesBuffer=function(){this.b=[]};$hxClasses["haxe.io.BytesBuffer"]=haxe_io_BytesBuffer;haxe_io_BytesBuffer.__name__=true;haxe_io_BytesBuffer.prototype={b:null,getBytes:function(){var bytes=new haxe_io_Bytes(new Uint8Array(this.b).buffer);this.b=null;return bytes},__class__:haxe_io_BytesBuffer};var haxe_io_Input=function(){};$hxClasses["haxe.io.Input"]=haxe_io_Input;haxe_io_Input.__name__=true;haxe_io_Input.prototype={bigEndian:null,readByte:function(){throw new js__$Boot_HaxeError("Not implemented")},readBytes:function(s,pos,len){var k=len;var b=s.b;if(pos<0||len<0||pos+len>s.length){throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds)}try{while(k>0){b[pos]=this.readByte();++pos;--k}}catch(eof){if(eof instanceof js__$Boot_HaxeError)eof=eof.val;if(js_Boot.__instanceof(eof,haxe_io_Eof)){}else throw eof}return len-k},set_bigEndian:function(b){this.bigEndian=b;return b},readFullBytes:function(s,pos,len){while(len>0){var k=this.readBytes(s,pos,len);if(k==0){throw new js__$Boot_HaxeError(haxe_io_Error.Blocked)}pos+=k;len-=k}},read:function(nbytes){var s=new haxe_io_Bytes(new ArrayBuffer(nbytes));var p=0;while(nbytes>0){var k=this.readBytes(s,p,nbytes);if(k==0){throw new js__$Boot_HaxeError(haxe_io_Error.Blocked)}p+=k;nbytes-=k}return s},readFloat:function(){return haxe_io_FPHelper.i32ToFloat(this.readInt32())},readInt8:function(){var n=this.readByte();if(n>=128){return n-256}return n},readInt16:function(){var ch1=this.readByte();var ch2=this.readByte();var n=this.bigEndian?ch2|ch1<<8:ch1|ch2<<8;if((n&32768)!=0){return n-65536}return n},readUInt16:function(){var ch1=this.readByte();var ch2=this.readByte();if(this.bigEndian){return ch2|ch1<<8}else{return ch1|ch2<<8}},readInt32:function(){var ch1=this.readByte();var ch2=this.readByte();var ch3=this.readByte();var ch4=this.readByte();if(this.bigEndian){return ch4|ch3<<8|ch2<<16|ch1<<24}else{return ch1|ch2<<8|ch3<<16|ch4<<24}},readString:function(len){var b=new haxe_io_Bytes(new ArrayBuffer(len));this.readFullBytes(b,0,len);return b.toString()},__class__:haxe_io_Input,__properties__:{set_bigEndian:"set_bigEndian"}};var haxe_io_BytesInput=function(b,pos,len){if(pos==null){pos=0}if(len==null){len=b.length-pos}if(pos<0||len<0||pos+len>b.length){throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds)}this.b=b.b;this.pos=pos;this.len=len;this.totlen=len};$hxClasses["haxe.io.BytesInput"]=haxe_io_BytesInput;haxe_io_BytesInput.__name__=true;haxe_io_BytesInput.__super__=haxe_io_Input;haxe_io_BytesInput.prototype=$extend(haxe_io_Input.prototype,{b:null,pos:null,len:null,totlen:null,set_position:function(p){if(p<0){p=0}else if(p>this.totlen){p=this.totlen}this.len=this.totlen-p;return this.pos=p},readByte:function(){if(this.len==0){throw new js__$Boot_HaxeError(new haxe_io_Eof)}this.len--;return this.b[this.pos++]},readBytes:function(buf,pos,len){if(pos<0||len<0||pos+len>buf.length){throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds)}if(this.len==0&&len>0){throw new js__$Boot_HaxeError(new haxe_io_Eof)}if(this.len<len){len=this.len}var b1=this.b;var b2=buf.b;var _g1=0;var _g=len;while(_g1<_g){var i=_g1++;b2[pos+i]=b1[this.pos+i]}this.pos+=len;this.len-=len;return len},__class__:haxe_io_BytesInput,__properties__:$extend(haxe_io_Input.prototype.__properties__,{set_position:"set_position"})});var haxe_io_Output=function(){};$hxClasses["haxe.io.Output"]=haxe_io_Output;haxe_io_Output.__name__=true;haxe_io_Output.prototype={bigEndian:null,writeByte:function(c){throw new js__$Boot_HaxeError("Not implemented")},writeBytes:function(s,pos,len){if(pos<0||len<0||pos+len>s.length){throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds)}var b=s.b;var k=len;while(k>0){this.writeByte(b[pos]);++pos;--k}return len},write:function(s){var l=s.length;var p=0;while(l>0){var k=this.writeBytes(s,p,l);if(k==0){throw new js__$Boot_HaxeError(haxe_io_Error.Blocked)}p+=k;l-=k}},writeFloat:function(x){this.writeInt32(haxe_io_FPHelper.floatToI32(x))},writeInt32:function(x){if(this.bigEndian){this.writeByte(x>>>24);this.writeByte(x>>16&255);this.writeByte(x>>8&255);this.writeByte(x&255)}else{this.writeByte(x&255);this.writeByte(x>>8&255);this.writeByte(x>>16&255);this.writeByte(x>>>24)}},__class__:haxe_io_Output};var haxe_io_BytesOutput=function(){this.b=new haxe_io_BytesBuffer};$hxClasses["haxe.io.BytesOutput"]=haxe_io_BytesOutput;haxe_io_BytesOutput.__name__=true;haxe_io_BytesOutput.__super__=haxe_io_Output;haxe_io_BytesOutput.prototype=$extend(haxe_io_Output.prototype,{b:null,writeByte:function(c){this.b.b.push(c)},writeBytes:function(buf,pos,len){var _this=this.b;if(pos<0||len<0||pos+len>buf.length){throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds)}var b1=_this.b;var b2=buf.b;var _g1=pos;var _g=pos+len;while(_g1<_g){var i=_g1++;_this.b.push(b2[i])}return len},getBytes:function(){return this.b.getBytes()},__class__:haxe_io_BytesOutput});var haxe_io_Eof=function(){};$hxClasses["haxe.io.Eof"]=haxe_io_Eof;haxe_io_Eof.__name__=true;haxe_io_Eof.prototype={toString:function(){return"Eof"},__class__:haxe_io_Eof};var haxe_io_Error=$hxClasses["haxe.io.Error"]={__ename__:true,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};haxe_io_Error.Blocked=["Blocked",0];haxe_io_Error.Blocked.toString=$estr;haxe_io_Error.Blocked.__enum__=haxe_io_Error;haxe_io_Error.Overflow=["Overflow",1];haxe_io_Error.Overflow.toString=$estr;haxe_io_Error.Overflow.__enum__=haxe_io_Error;haxe_io_Error.OutsideBounds=["OutsideBounds",2];haxe_io_Error.OutsideBounds.toString=$estr;haxe_io_Error.OutsideBounds.__enum__=haxe_io_Error;haxe_io_Error.Custom=function(e){var $x=["Custom",3,e];$x.__enum__=haxe_io_Error;$x.toString=$estr;return $x};var haxe_io_FPHelper=function(){};$hxClasses["haxe.io.FPHelper"]=haxe_io_FPHelper;haxe_io_FPHelper.__name__=true;haxe_io_FPHelper.i32ToFloat=function(i){var sign=1-(i>>>31<<1);var exp=i>>>23&255;var sig=i&8388607;if(sig==0&&exp==0){return 0}return sign*(1+Math.pow(2,-23)*sig)*Math.pow(2,exp-127)};haxe_io_FPHelper.floatToI32=function(f){if(f==0){return 0}var af=f<0?-f:f;var exp=Math.floor(Math.log(af)/.6931471805599453);if(exp<-127){exp=-127}else if(exp>128){exp=128}var sig=Math.round((af/Math.pow(2,exp)-1)*8388608);if(sig==8388608&&exp<128){sig=0;++exp}return(f<0?-2147483648:0)|exp+127<<23|sig};haxe_io_FPHelper.i64ToDouble=function(low,high){var sign=1-(high>>>31<<1);var exp=(high>>20&2047)-1023;var sig=(high&1048575)*4294967296+(low>>>31)*2147483648+(low&2147483647);if(sig==0&&exp==-1023){return 0}return sign*(1+Math.pow(2,-52)*sig)*Math.pow(2,exp)};haxe_io_FPHelper.doubleToI64=function(v){var i64=haxe_io_FPHelper.i64tmp;if(v==0){i64.low=0;i64.high=0}else if(!isFinite(v)){if(v>0){i64.low=0;i64.high=2146435072}else{i64.low=0;i64.high=-1048576}}else{var av=v<0?-v:v;var exp=Math.floor(Math.log(av)/.6931471805599453);var sig=Math.round((av/Math.pow(2,exp)-1)*4503599627370496);var sig_l=sig|0;var sig_h=sig/4294967296|0;i64.low=sig_l;i64.high=(v<0?-2147483648:0)|exp+1023<<20|sig_h}return i64};var haxe_io__$UInt8Array_UInt8Array_$Impl_$={};$hxClasses["haxe.io._UInt8Array.UInt8Array_Impl_"]=haxe_io__$UInt8Array_UInt8Array_$Impl_$;haxe_io__$UInt8Array_UInt8Array_$Impl_$.__name__=true;haxe_io__$UInt8Array_UInt8Array_$Impl_$.fromBytes=function(bytes,bytePos,length){if(bytePos==null){bytePos=0}if(length==null){length=bytes.length-bytePos}return new Uint8Array(bytes.b.bufferValue,bytePos,length)};var haxe_zip_ExtraField=$hxClasses["haxe.zip.ExtraField"]={__ename__:true,__constructs__:["FUnknown","FInfoZipUnicodePath","FUtf8"]};haxe_zip_ExtraField.FUnknown=function(tag,bytes){var $x=["FUnknown",0,tag,bytes];$x.__enum__=haxe_zip_ExtraField;$x.toString=$estr;return $x};haxe_zip_ExtraField.FInfoZipUnicodePath=function(name,crc){var $x=["FInfoZipUnicodePath",1,name,crc];$x.__enum__=haxe_zip_ExtraField;$x.toString=$estr;return $x};haxe_zip_ExtraField.FUtf8=["FUtf8",2];haxe_zip_ExtraField.FUtf8.toString=$estr;haxe_zip_ExtraField.FUtf8.__enum__=haxe_zip_ExtraField;var haxe_zip_Huffman=$hxClasses["haxe.zip.Huffman"]={__ename__:true,__constructs__:["Found","NeedBit","NeedBits"]};haxe_zip_Huffman.Found=function(i){var $x=["Found",0,i];$x.__enum__=haxe_zip_Huffman;$x.toString=$estr;return $x};haxe_zip_Huffman.NeedBit=function(left,right){var $x=["NeedBit",1,left,right];$x.__enum__=haxe_zip_Huffman;$x.toString=$estr;return $x};haxe_zip_Huffman.NeedBits=function(n,table){var $x=["NeedBits",2,n,table];$x.__enum__=haxe_zip_Huffman;$x.toString=$estr;return $x};var haxe_zip_HuffTools=function(){};$hxClasses["haxe.zip.HuffTools"]=haxe_zip_HuffTools;haxe_zip_HuffTools.__name__=true;haxe_zip_HuffTools.prototype={treeDepth:function(t){switch(t[1]){case 0:return 0;case 1:var b=t[3];var a=t[2];var da=this.treeDepth(a);var db=this.treeDepth(b);return 1+(da<db?da:db);case 2:throw new js__$Boot_HaxeError("assert");break}},treeCompress:function(t){var d=this.treeDepth(t);if(d==0){return t}if(d==1){if(t[1]==1){var b=t[3];var a=t[2];return haxe_zip_Huffman.NeedBit(this.treeCompress(a),this.treeCompress(b))}else{throw new js__$Boot_HaxeError("assert")}}var size=1<<d;var table=[];var _g1=0;var _g=size;while(_g1<_g){var i=_g1++;table.push(haxe_zip_Huffman.Found(-1))}this.treeWalk(table,0,0,d,t);return haxe_zip_Huffman.NeedBits(d,table)},treeWalk:function(table,p,cd,d,t){if(t[1]==1){var b=t[3];var a=t[2];if(d>0){this.treeWalk(table,p,cd+1,d-1,a);this.treeWalk(table,p|1<<cd,cd+1,d-1,b)}else{table[p]=this.treeCompress(t)}}else{table[p]=this.treeCompress(t)}},treeMake:function(bits,maxbits,v,len){if(len>maxbits){throw new js__$Boot_HaxeError("Invalid huffman")}var idx=v<<5|len;if(bits.h.hasOwnProperty(idx)){return haxe_zip_Huffman.Found(bits.h[idx])}v<<=1;++len;return haxe_zip_Huffman.NeedBit(this.treeMake(bits,maxbits,v,len),this.treeMake(bits,maxbits,v|1,len))},make:function(lengths,pos,nlengths,maxbits){var counts=[];var tmp=[];if(maxbits>32){throw new js__$Boot_HaxeError("Invalid huffman")}var _g1=0;var _g=maxbits;while(_g1<_g){var i=_g1++;counts.push(0);tmp.push(0)}var _g11=0;var _g2=nlengths;while(_g11<_g2){var i1=_g11++;var p=lengths[i1+pos];if(p>=maxbits){throw new js__$Boot_HaxeError("Invalid huffman")}counts[p]++}var code=0;var _g12=1;var _g3=maxbits-1;while(_g12<_g3){var i2=_g12++;code=code+counts[i2]<<1;tmp[i2]=code}var bits=new haxe_ds_IntMap;var _g13=0;var _g4=nlengths;while(_g13<_g4){var i3=_g13++;var l=lengths[i3+pos];if(l!=0){var n=tmp[l-1];tmp[l-1]=n+1;bits.h[n<<5|l]=i3}}return this.treeCompress(haxe_zip_Huffman.NeedBit(this.treeMake(bits,maxbits,0,1),this.treeMake(bits,maxbits,1,1)))},__class__:haxe_zip_HuffTools};var haxe_zip__$InflateImpl_Window=function(hasCrc){this.buffer=new haxe_io_Bytes(new ArrayBuffer(65536));this.pos=0;if(hasCrc){this.crc=new haxe_crypto_Adler32}};$hxClasses["haxe.zip._InflateImpl.Window"]=haxe_zip__$InflateImpl_Window;haxe_zip__$InflateImpl_Window.__name__=true;haxe_zip__$InflateImpl_Window.prototype={buffer:null,pos:null,crc:null,slide:function(){if(this.crc!=null){this.crc.update(this.buffer,0,32768)}var b=new haxe_io_Bytes(new ArrayBuffer(65536));this.pos-=32768;b.blit(0,this.buffer,32768,this.pos);this.buffer=b},addBytes:function(b,p,len){if(this.pos+len>65536){this.slide()}this.buffer.blit(this.pos,b,p,len);this.pos+=len},addByte:function(c){if(this.pos==65536){this.slide()}this.buffer.b[this.pos]=c&255;this.pos++},getLastChar:function(){return this.buffer.b[this.pos-1]},available:function(){return this.pos},checksum:function(){if(this.crc!=null){this.crc.update(this.buffer,0,this.pos)}return this.crc},__class__:haxe_zip__$InflateImpl_Window};var haxe_zip__$InflateImpl_State=$hxClasses["haxe.zip._InflateImpl.State"]={__ename__:true,__constructs__:["Head","Block","CData","Flat","Crc","Dist","DistOne","Done"]};haxe_zip__$InflateImpl_State.Head=["Head",0];haxe_zip__$InflateImpl_State.Head.toString=$estr;haxe_zip__$InflateImpl_State.Head.__enum__=haxe_zip__$InflateImpl_State;haxe_zip__$InflateImpl_State.Block=["Block",1];haxe_zip__$InflateImpl_State.Block.toString=$estr;haxe_zip__$InflateImpl_State.Block.__enum__=haxe_zip__$InflateImpl_State;haxe_zip__$InflateImpl_State.CData=["CData",2];haxe_zip__$InflateImpl_State.CData.toString=$estr;haxe_zip__$InflateImpl_State.CData.__enum__=haxe_zip__$InflateImpl_State;haxe_zip__$InflateImpl_State.Flat=["Flat",3];haxe_zip__$InflateImpl_State.Flat.toString=$estr;haxe_zip__$InflateImpl_State.Flat.__enum__=haxe_zip__$InflateImpl_State;haxe_zip__$InflateImpl_State.Crc=["Crc",4];haxe_zip__$InflateImpl_State.Crc.toString=$estr;haxe_zip__$InflateImpl_State.Crc.__enum__=haxe_zip__$InflateImpl_State;haxe_zip__$InflateImpl_State.Dist=["Dist",5];haxe_zip__$InflateImpl_State.Dist.toString=$estr;haxe_zip__$InflateImpl_State.Dist.__enum__=haxe_zip__$InflateImpl_State;haxe_zip__$InflateImpl_State.DistOne=["DistOne",6];haxe_zip__$InflateImpl_State.DistOne.toString=$estr;haxe_zip__$InflateImpl_State.DistOne.__enum__=haxe_zip__$InflateImpl_State;haxe_zip__$InflateImpl_State.Done=["Done",7];haxe_zip__$InflateImpl_State.Done.toString=$estr;haxe_zip__$InflateImpl_State.Done.__enum__=haxe_zip__$InflateImpl_State;var haxe_zip_InflateImpl=function(i,header,crc){if(crc==null){crc=true}if(header==null){header=true}this["final"]=false;this.htools=new haxe_zip_HuffTools;this.huffman=this.buildFixedHuffman();this.huffdist=null;this.len=0;this.dist=0;this.state=header?haxe_zip__$InflateImpl_State.Head:haxe_zip__$InflateImpl_State.Block;this.input=i;this.bits=0;this.nbits=0;this.needed=0;this.output=null;this.outpos=0;this.lengths=[];var _g=0;while(_g<19){var i1=_g++;this.lengths.push(-1)}this.window=new haxe_zip__$InflateImpl_Window(crc)};$hxClasses["haxe.zip.InflateImpl"]=haxe_zip_InflateImpl;haxe_zip_InflateImpl.__name__=true;haxe_zip_InflateImpl.prototype={nbits:null,bits:null,state:null,final:null,huffman:null,huffdist:null,htools:null,len:null,dist:null,needed:null,output:null,outpos:null,input:null,lengths:null,window:null,buildFixedHuffman:function(){if(haxe_zip_InflateImpl.FIXED_HUFFMAN!=null){return haxe_zip_InflateImpl.FIXED_HUFFMAN}var a=[];var _g=0;while(_g<288){var n=_g++;a.push(n<=143?8:n<=255?9:n<=279?7:8)}haxe_zip_InflateImpl.FIXED_HUFFMAN=this.htools.make(a,0,288,10);return haxe_zip_InflateImpl.FIXED_HUFFMAN},readBytes:function(b,pos,len){this.needed=len;this.outpos=pos;this.output=b;if(len>0){while(this.inflateLoop()){}}return len-this.needed},getBits:function(n){while(this.nbits<n){this.bits|=this.input.readByte()<<this.nbits;this.nbits+=8}var b=this.bits&(1<<n)-1;this.nbits-=n;this.bits>>=n;return b},getBit:function(){if(this.nbits==0){this.nbits=8;this.bits=this.input.readByte()}var b=(this.bits&1)==1;this.nbits--;this.bits>>=1;return b},getRevBits:function(n){if(n==0){return 0}else if(this.getBit()){return 1<<n-1|this.getRevBits(n-1)}else{return this.getRevBits(n-1)}},resetBits:function(){this.bits=0;this.nbits=0},addBytes:function(b,p,len){this.window.addBytes(b,p,len);this.output.blit(this.outpos,b,p,len);this.needed-=len;this.outpos+=len},addByte:function(b){this.window.addByte(b);this.output.b[this.outpos]=b&255;this.needed--;this.outpos++},addDistOne:function(n){var c=this.window.getLastChar();var _g1=0;var _g=n;while(_g1<_g){var i=_g1++;this.addByte(c)}},addDist:function(d,len){this.addBytes(this.window.buffer,this.window.pos-d,len)},applyHuffman:function(h){switch(h[1]){case 0:var n=h[2];return n;case 1:var b=h[3];var a=h[2];return this.applyHuffman(this.getBit()?b:a);case 2:var tbl=h[3];var n1=h[2];return this.applyHuffman(tbl[this.getBits(n1)])}},inflateLengths:function(a,max){var i=0;var prev=0;while(i<max){var n=this.applyHuffman(this.huffman);switch(n){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:prev=n;a[i]=n;++i;break;case 16:var end=i+3+this.getBits(2);if(end>max){throw new js__$Boot_HaxeError("Invalid data")}while(i<end){a[i]=prev;++i}break;case 17:i+=3+this.getBits(3);if(i>max){throw new js__$Boot_HaxeError("Invalid data")}break;case 18:i+=11+this.getBits(7);if(i>max){throw new js__$Boot_HaxeError("Invalid data")}break;default:throw new js__$Boot_HaxeError("Invalid data")}}},inflateLoop:function(){var _g=this.state;switch(_g[1]){case 0:var cmf=this.input.readByte();var cm=cmf&15;var cinfo=cmf>>4;if(cm!=8){throw new js__$Boot_HaxeError("Invalid data")}var flg=this.input.readByte();var fdict=(flg&32)!=0;if(((cmf<<8)+flg)%31!=0){throw new js__$Boot_HaxeError("Invalid data")}if(fdict){throw new js__$Boot_HaxeError("Unsupported dictionary")}this.state=haxe_zip__$InflateImpl_State.Block;return true;case 1:this["final"]=this.getBit();var _g1=this.getBits(2);switch(_g1){case 0:this.len=this.input.readUInt16();var nlen=this.input.readUInt16();if(nlen!=65535-this.len){throw new js__$Boot_HaxeError("Invalid data")}this.state=haxe_zip__$InflateImpl_State.Flat;var r=this.inflateLoop();this.resetBits();return r;case 1:this.huffman=this.buildFixedHuffman();this.huffdist=null;this.state=haxe_zip__$InflateImpl_State.CData;return true;case 2:var hlit=this.getBits(5)+257;var hdist=this.getBits(5)+1;var hclen=this.getBits(4)+4;var _g11=0;var _g2=hclen;while(_g11<_g2){var i=_g11++;this.lengths[haxe_zip_InflateImpl.CODE_LENGTHS_POS[i]]=this.getBits(3)}var _g3=hclen;while(_g3<19){var i1=_g3++;this.lengths[haxe_zip_InflateImpl.CODE_LENGTHS_POS[i1]]=0}this.huffman=this.htools.make(this.lengths,0,19,8);var lengths=[];var _g12=0;var _g4=hlit+hdist;while(_g12<_g4){var i2=_g12++;lengths.push(0)}this.inflateLengths(lengths,hlit+hdist);this.huffdist=this.htools.make(lengths,hlit,hdist,16);this.huffman=this.htools.make(lengths,0,hlit,16);this.state=haxe_zip__$InflateImpl_State.CData;return true;default:throw new js__$Boot_HaxeError("Invalid data")}break;case 2:var n=this.applyHuffman(this.huffman);if(n<256){this.addByte(n);return this.needed>0}else if(n==256){this.state=this["final"]?haxe_zip__$InflateImpl_State.Crc:haxe_zip__$InflateImpl_State.Block;return true}else{n-=257;var extra_bits=haxe_zip_InflateImpl.LEN_EXTRA_BITS_TBL[n];if(extra_bits==-1){throw new js__$Boot_HaxeError("Invalid data")}this.len=haxe_zip_InflateImpl.LEN_BASE_VAL_TBL[n]+this.getBits(extra_bits);var dist_code=this.huffdist==null?this.getRevBits(5):this.applyHuffman(this.huffdist);extra_bits=haxe_zip_InflateImpl.DIST_EXTRA_BITS_TBL[dist_code];if(extra_bits==-1){throw new js__$Boot_HaxeError("Invalid data")}this.dist=haxe_zip_InflateImpl.DIST_BASE_VAL_TBL[dist_code]+this.getBits(extra_bits);if(this.dist>this.window.available()){throw new js__$Boot_HaxeError("Invalid data")}this.state=this.dist==1?haxe_zip__$InflateImpl_State.DistOne:haxe_zip__$InflateImpl_State.Dist;return true}break;case 3:var rlen=this.len<this.needed?this.len:this.needed;var bytes=this.input.read(rlen);this.len-=rlen;this.addBytes(bytes,0,rlen);if(this.len==0){this.state=this["final"]?haxe_zip__$InflateImpl_State.Crc:haxe_zip__$InflateImpl_State.Block}return this.needed>0;case 4:var calc=this.window.checksum();if(calc==null){this.state=haxe_zip__$InflateImpl_State.Done;return true}var crc=haxe_crypto_Adler32.read(this.input);if(!calc.equals(crc)){throw new js__$Boot_HaxeError("Invalid CRC")}this.state=haxe_zip__$InflateImpl_State.Done;return true;case 5:while(this.len>0&&this.needed>0){var rdist=this.len<this.dist?this.len:this.dist;var rlen1=this.needed<rdist?this.needed:rdist;this.addDist(this.dist,rlen1);this.len-=rlen1}if(this.len==0){this.state=haxe_zip__$InflateImpl_State.CData}return this.needed>0;case 6:var rlen2=this.len<this.needed?this.len:this.needed;this.addDistOne(rlen2);this.len-=rlen2;if(this.len==0){this.state=haxe_zip__$InflateImpl_State.CData}return this.needed>0;case 7:return false}},__class__:haxe_zip_InflateImpl};var haxe_zip_Reader=function(i){this.i=i};$hxClasses["haxe.zip.Reader"]=haxe_zip_Reader;haxe_zip_Reader.__name__=true;haxe_zip_Reader.readZip=function(i){var r=new haxe_zip_Reader(i);return r.read()};haxe_zip_Reader.unzip=function(f){if(!f.compressed){return f.data}var c=new haxe_zip_Uncompress(-15);var s=new haxe_io_Bytes(new ArrayBuffer(f.fileSize));var r=c.execute(f.data,0,s,0);c.close();if(!r.done||r.read!=f.data.length||r.write!=f.fileSize){throw new js__$Boot_HaxeError("Invalid compressed data for "+f.fileName)}f.compressed=false;f.dataSize=f.fileSize;f.data=s;return f.data};haxe_zip_Reader.prototype={i:null,readZipDate:function(){var t=this.i.readUInt16();var hour=t>>11&31;var min=t>>5&63;var sec=t&31;var d=this.i.readUInt16();var year=d>>9;var month=d>>5&15;var day=d&31;return new Date(year+1980,month-1,day,hour,min,sec<<1)},readExtraFields:function(length){var fields=new List;while(length>0){if(length<4){throw new js__$Boot_HaxeError("Invalid extra fields data")}var tag=this.i.readUInt16();var len=this.i.readUInt16();if(length<len){throw new js__$Boot_HaxeError("Invalid extra fields data")}if(tag==28789){var version=this.i.readByte();if(version!=1){var data=new haxe_io_BytesBuffer;data.b.push(version);var src=this.i.read(len-1);var b1=data.b;var b2=src.b;var _g1=0;var _g=src.length;while(_g1<_g){var i=_g1++;data.b.push(b2[i])}fields.add(haxe_zip_ExtraField.FUnknown(tag,data.getBytes()))}else{var crc=this.i.readInt32();var name=this.i.read(len-5).toString();fields.add(haxe_zip_ExtraField.FInfoZipUnicodePath(name,crc))}}else{fields.add(haxe_zip_ExtraField.FUnknown(tag,this.i.read(len)))}length-=4+len}return fields},readEntryHeader:function(){var i=this.i;var h=i.readInt32();if(h==33639248||h==101010256){return null}if(h!=67324752){throw new js__$Boot_HaxeError("Invalid Zip Data")}var version=i.readUInt16();var flags=i.readUInt16();var utf8=(flags&2048)!=0;if((flags&63473)!=0){throw new js__$Boot_HaxeError("Unsupported flags "+flags)}var compression=i.readUInt16();var compressed=compression!=0;if(compressed&&compression!=8){throw new js__$Boot_HaxeError("Unsupported compression "+compression)}var mtime=this.readZipDate();var crc32=i.readInt32();var csize=i.readInt32();var usize=i.readInt32();var fnamelen=i.readInt16();var elen=i.readInt16();var fname=i.readString(fnamelen);var fields=this.readExtraFields(elen);if(utf8){fields.push(haxe_zip_ExtraField.FUtf8)}var data=null;if((flags&8)!=0){crc32=null}return{fileName:fname,fileSize:usize,fileTime:mtime,compressed:compressed,dataSize:csize,data:data,crc32:crc32,extraFields:fields}},read:function(){var l=new List;var buf=null;var tmp=null;while(true){var e=this.readEntryHeader();if(e==null){break}if(e.crc32==null){if(e.compressed){var bufSize=65536;if(tmp==null){tmp=new haxe_io_Bytes(new ArrayBuffer(bufSize))}var out=new haxe_io_BytesBuffer;var z=new haxe_zip_InflateImpl(this.i,false,false);while(true){var n=z.readBytes(tmp,0,bufSize);if(n<0||n>tmp.length){throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds)}var b1=out.b;var b2=tmp.b;var _g1=0;var _g=n;while(_g1<_g){var i=_g1++;out.b.push(b2[i])}if(n<bufSize){break}}e.data=out.getBytes()}else{e.data=this.i.read(e.dataSize)}e.crc32=this.i.readInt32();if(e.crc32==134695760){e.crc32=this.i.readInt32()}e.dataSize=this.i.readInt32();e.fileSize=this.i.readInt32();e.dataSize=e.fileSize;e.compressed=false}else{e.data=this.i.read(e.dataSize)}l.add(e)}return l},__class__:haxe_zip_Reader};var haxe_zip_Uncompress=function(windowBits){throw new js__$Boot_HaxeError("Not implemented for this platform")};$hxClasses["haxe.zip.Uncompress"]=haxe_zip_Uncompress;haxe_zip_Uncompress.__name__=true;haxe_zip_Uncompress.prototype={execute:function(src,srcPos,dst,dstPos){return null},close:function(){},__class__:haxe_zip_Uncompress};var iron_App=function(_appReady){_appReady();kha_System.notifyOnRender(iron_App.render);kha_Scheduler.addTimeTask(iron_App.update,0,.016666666666666666*iron_system_Time.scale)};$hxClasses["iron.App"]=iron_App;iron_App.__name__=true;iron_App.init=function(_appReady){new iron_App(_appReady)};iron_App.update=function(){if(iron_Scene.active==null||!iron_Scene.active.ready){return}if(iron_App.pauseUpdates){return}iron_system_Tween.update();iron_system_Time.update();iron_Scene.active.updateFrame();if(iron_App.traitInits.length>0){var _g=0;var _g1=iron_App.traitInits;while(_g<_g1.length){var f=_g1[_g];++_g;if(iron_App.traitInits.length==0){break}f()}iron_App.traitInits.splice(0,iron_App.traitInits.length)}var i=0;var l=iron_App.traitUpdates.length;while(i<l){iron_App.traitUpdates[i]();if(l<=iron_App.traitUpdates.length){++i}else{l=iron_App.traitUpdates.length}}i=0;l=iron_App.traitLateUpdates.length;while(i<l){iron_App.traitLateUpdates[i]();if(l<=iron_App.traitLateUpdates.length){++i}else{l=iron_App.traitLateUpdates.length}}iron_system_Input.endFrame();if(iron_App.lastw==-1){iron_App.lastw=kha_System.windowWidth();iron_App.lasth=kha_System.windowHeight()}if(iron_App.lastw!=kha_System.windowWidth()||iron_App.lasth!=kha_System.windowHeight()){if(iron_Scene.active!=null&&iron_Scene.active.camera!=null){iron_Scene.active.camera.buildProjection()}}iron_App.lastw=kha_System.windowWidth();iron_App.lasth=kha_System.windowHeight()};iron_App.render=function(frame){if(iron_Scene.active==null||!iron_Scene.active.ready){iron_App.render2D(frame);return}if(iron_App.traitInits.length>0){var _g=0;var _g1=iron_App.traitInits;while(_g<_g1.length){var f=_g1[_g];++_g;if(iron_App.traitInits.length==0){break}f()}iron_App.traitInits.splice(0,iron_App.traitInits.length)}iron_Scene.active.renderFrame(frame.get_g4());var _g2=0;var _g11=iron_App.traitRenders;while(_g2<_g11.length){var f1=_g11[_g2];++_g2;if(iron_App.traitRenders.length==0){break}f1(frame.get_g4())}iron_App.render2D(frame)};iron_App.render2D=function(frame){if(iron_App.traitRenders2D.length>0){frame.get_g2().begin(false);var _g=0;var _g1=iron_App.traitRenders2D;while(_g<_g1.length){var f=_g1[_g];++_g;if(iron_App.traitRenders2D.length==0){break}f(frame.get_g2())}frame.get_g2().end()}};iron_App.notifyOnInit=function(f){iron_App.traitInits.push(f)};iron_App.removeInit=function(f){HxOverrides.remove(iron_App.traitInits,f)};iron_App.notifyOnUpdate=function(f){iron_App.traitUpdates.push(f)};iron_App.removeUpdate=function(f){HxOverrides.remove(iron_App.traitUpdates,f)};iron_App.notifyOnLateUpdate=function(f){iron_App.traitLateUpdates.push(f)};iron_App.removeLateUpdate=function(f){HxOverrides.remove(iron_App.traitLateUpdates,f)};iron_App.removeRender=function(f){HxOverrides.remove(iron_App.traitRenders,f)};iron_App.notifyOnRender2D=function(f){iron_App.traitRenders2D.push(f)};iron_App.removeRender2D=function(f){HxOverrides.remove(iron_App.traitRenders2D,f)};iron_App.prototype={__class__:iron_App};var kha_math_FastMatrix4=function(_00,_10,_20,_30,_01,_11,_21,_31,_02,_12,_22,_32,_03,_13,_23,_33){this._00=_00;this._10=_10;this._20=_20;this._30=_30;this._01=_01;this._11=_11;this._21=_21;this._31=_31;this._02=_02;this._12=_12;this._22=_22;this._32=_32;this._03=_03;this._13=_13;this._23=_23;this._33=_33};$hxClasses["kha.math.FastMatrix4"]=kha_math_FastMatrix4;kha_math_FastMatrix4.__name__=true;kha_math_FastMatrix4.orthogonalProjection=function(left,right,bottom,top,zn,zf){var tx=-(right+left)/(right-left);var ty=-(top+bottom)/(top-bottom);var tz=-(zf+zn)/(zf-zn);return new kha_math_FastMatrix4(2/(right-left),0,0,tx,0,2/(top-bottom),0,ty,0,0,-2/(zf-zn),tz,0,0,0,1)};kha_math_FastMatrix4.prototype={_00:null,_10:null,_20:null,_30:null,_01:null,_11:null,_21:null,_31:null,_02:null,_12:null,_22:null,_32:null,_03:null,_13:null,_23:null,_33:null,__class__:kha_math_FastMatrix4};var iron_math_Vec4=function(x,y,z,w){if(w==null){w=1}if(z==null){z=0}if(y==null){y=0}if(x==null){x=0}this.x=x;this.y=y;this.z=z;this.w=w};$hxClasses["iron.math.Vec4"]=iron_math_Vec4;iron_math_Vec4.__name__=true;iron_math_Vec4.lerp=function(v1,v2,t){var target=new iron_math_Vec4;target.x=v2.x+(v1.x-v2.x)*t;target.y=v2.y+(v1.y-v2.y)*t;target.z=v2.z+(v1.z-v2.z)*t;return target};iron_math_Vec4.distance=function(v1,v2){var vx=v1.x-v2.x;var vy=v1.y-v2.y;var vz=v1.z-v2.z;return Math.sqrt(vx*vx+vy*vy+vz*vz)};iron_math_Vec4.distancef=function(v1x,v1y,v1z,v2x,v2y,v2z){var vx=v1x-v2x;var vy=v1y-v2y;var vz=v1z-v2z;return Math.sqrt(vx*vx+vy*vy+vz*vz)};iron_math_Vec4.xAxis=function(){return new iron_math_Vec4(1,0,0)};iron_math_Vec4.yAxis=function(){return new iron_math_Vec4(0,1,0)};iron_math_Vec4.zAxis=function(){return new iron_math_Vec4(0,0,1)};iron_math_Vec4.one=function(){return new iron_math_Vec4(1,1,1)};iron_math_Vec4.zero=function(){return new iron_math_Vec4(0,0,0,0)};iron_math_Vec4.back=function(){return new iron_math_Vec4(0,-1,0)};iron_math_Vec4.forward=function(){return new iron_math_Vec4(0,1,0)};iron_math_Vec4.down=function(){return new iron_math_Vec4(0,0,-1)};iron_math_Vec4.up=function(){return new iron_math_Vec4(0,0,1)};iron_math_Vec4.left=function(){return new iron_math_Vec4(-1,0,0)};iron_math_Vec4.right=function(){return new iron_math_Vec4(1,0,0)};iron_math_Vec4.negativeInfinity=function(){return new iron_math_Vec4(-Infinity,-Infinity,-Infinity,-Infinity)};iron_math_Vec4.positiveInfinity=function(){return new iron_math_Vec4(Infinity,Infinity,Infinity,Infinity)};iron_math_Vec4.prototype={x:null,y:null,z:null,w:null,set:function(x,y,z,w){if(w==null){w=1}this.x=x;this.y=y;this.z=z;this.w=w;return this},add:function(v){this.x+=v.x;this.y+=v.y;this.z+=v.z;return this},addf:function(x,y,z){this.x+=x;this.y+=y;this.z+=z;return this},addvecs:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},normalize:function(){var n=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);if(n>0){var invN=1/n;this.x*=invN;this.y*=invN;this.z*=invN}return this},mult:function(f){this.x*=f;this.y*=f;this.z*=f;return this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z},setFrom:function(v){this.x=v.x;this.y=v.y;this.z=v.z;return this},applyproj:function(m){var x=this.x;var y=this.y;var z=this.z;var d=1/(m.self._03*x+m.self._13*y+m.self._23*z+m.self._33);this.x=(m.self._00*x+m.self._10*y+m.self._20*z+m.self._30)*d;this.y=(m.self._01*x+m.self._11*y+m.self._21*z+m.self._31)*d;this.z=(m.self._02*x+m.self._12*y+m.self._22*z+m.self._32)*d;return this},applymat:function(m){var x=this.x;var y=this.y;var z=this.z;this.x=m.self._00*x+m.self._10*y+m.self._20*z+m.self._30;this.y=m.self._01*x+m.self._11*y+m.self._21*z+m.self._31;this.z=m.self._02*x+m.self._12*y+m.self._22*z+m.self._32;return this},applymat4:function(m){var x=this.x;var y=this.y;var z=this.z;var w=this.w;this.x=m.self._00*x+m.self._10*y+m.self._20*z+m.self._30*w;this.y=m.self._01*x+m.self._11*y+m.self._21*z+m.self._31*w;this.z=m.self._02*x+m.self._12*y+m.self._22*z+m.self._32*w;this.w=m.self._03*x+m.self._13*y+m.self._23*z+m.self._33*w;return this},__class__:iron_math_Vec4};var iron_math_Mat4=function(_00,_10,_20,_30,_01,_11,_21,_31,_02,_12,_22,_32,_03,_13,_23,_33){this.self=new kha_math_FastMatrix4(_00,_10,_20,_30,_01,_11,_21,_31,_02,_12,_22,_32,_03,_13,_23,_33)};$hxClasses["iron.math.Mat4"]=iron_math_Mat4;iron_math_Mat4.__name__=true;iron_math_Mat4.identity=function(){return new iron_math_Mat4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)};iron_math_Mat4.fromFloat32Array=function(a,offset){if(offset==null){offset=0}return new iron_math_Mat4(a[offset],a[1+offset],a[2+offset],a[3+offset],a[4+offset],a[5+offset],a[6+offset],a[7+offset],a[8+offset],a[9+offset],a[10+offset],a[11+offset],a[12+offset],a[13+offset],a[14+offset],a[15+offset])};iron_math_Mat4.persp=function(fovY,aspect,zn,zf){var uh=1/Math.tan(fovY/2);var uw=uh/aspect;return new iron_math_Mat4(uw,0,0,0,0,uh,0,0,0,0,(zf+zn)/(zn-zf),2*zf*zn/(zn-zf),0,0,-1,0)};iron_math_Mat4.ortho=function(left,right,bottom,top,near,far){var rl=right-left;var tb=top-bottom;var fn=far-near;var tx=-(right+left)/rl;var ty=-(top+bottom)/tb;var tz=-(far+near)/fn;return new iron_math_Mat4(2/rl,0,0,tx,0,2/tb,0,ty,0,0,-2/fn,tz,0,0,0,1)};iron_math_Mat4.prototype={self:null,compose:function(location,quaternion,sc){this.fromQuaternion(quaternion);this.scale(sc);this.setLocation(location);return this},decompose:function(location,quaternion,scale){iron_math_Mat4.helpVec.w=0;var _this=iron_math_Mat4.helpVec.set(this.self._00,this.self._01,this.self._02);var sx=Math.sqrt(_this.x*_this.x+_this.y*_this.y+_this.z*_this.z);var _this1=iron_math_Mat4.helpVec.set(this.self._10,this.self._11,this.self._12);var sy=Math.sqrt(_this1.x*_this1.x+_this1.y*_this1.y+_this1.z*_this1.z);var _this2=iron_math_Mat4.helpVec.set(this.self._20,this.self._21,this.self._22);var sz=Math.sqrt(_this2.x*_this2.x+_this2.y*_this2.y+_this2.z*_this2.z);var _this3=this.self;var m3=_this3._12;var m4=_this3._22;var m5=_this3._32;var m6=_this3._13;var m7=_this3._23;var m8=_this3._33;var c00=_this3._11*(m4*m8-m5*m7)-_this3._21*(m3*m8-m5*m6)+_this3._31*(m3*m7-m4*m6);var m31=_this3._12;var m41=_this3._22;var m51=_this3._32;var m61=_this3._13;var m71=_this3._23;var m81=_this3._33;var c01=_this3._10*(m41*m81-m51*m71)-_this3._20*(m31*m81-m51*m61)+_this3._30*(m31*m71-m41*m61);var m32=_this3._11;var m42=_this3._21;var m52=_this3._31;var m62=_this3._13;var m72=_this3._23;var m82=_this3._33;var c02=_this3._10*(m42*m82-m52*m72)-_this3._20*(m32*m82-m52*m62)+_this3._30*(m32*m72-m42*m62);var m33=_this3._11;var m43=_this3._21;var m53=_this3._31;var m63=_this3._12;var m73=_this3._22;var m83=_this3._32;var c03=_this3._10*(m43*m83-m53*m73)-_this3._20*(m33*m83-m53*m63)+_this3._30*(m33*m73-m43*m63);var det=_this3._00*c00-_this3._01*c01+_this3._02*c02-_this3._03*c03;if(det<0){sx=-sx}location.x=this.self._30;location.y=this.self._31;location.z=this.self._32;iron_math_Mat4.helpMat.self._00=this.self._00;iron_math_Mat4.helpMat.self._10=this.self._10;iron_math_Mat4.helpMat.self._20=this.self._20;iron_math_Mat4.helpMat.self._30=this.self._30;iron_math_Mat4.helpMat.self._01=this.self._01;iron_math_Mat4.helpMat.self._11=this.self._11;iron_math_Mat4.helpMat.self._21=this.self._21;iron_math_Mat4.helpMat.self._31=this.self._31;iron_math_Mat4.helpMat.self._02=this.self._02;iron_math_Mat4.helpMat.self._12=this.self._12;iron_math_Mat4.helpMat.self._22=this.self._22;iron_math_Mat4.helpMat.self._32=this.self._32;iron_math_Mat4.helpMat.self._03=this.self._03;iron_math_Mat4.helpMat.self._13=this.self._13;iron_math_Mat4.helpMat.self._23=this.self._23;iron_math_Mat4.helpMat.self._33=this.self._33;var invSX=1/sx;var invSY=1/sy;var invSZ=1/sz;var _g=iron_math_Mat4.helpMat;_g.self._00*=invSX;var _g1=iron_math_Mat4.helpMat;_g1.self._01*=invSX;var _g2=iron_math_Mat4.helpMat;_g2.self._02*=invSX;iron_math_Mat4.helpMat.self._03=0;var _g3=iron_math_Mat4.helpMat;_g3.self._10*=invSY;var _g4=iron_math_Mat4.helpMat;_g4.self._11*=invSY;var _g5=iron_math_Mat4.helpMat;_g5.self._12*=invSY;iron_math_Mat4.helpMat.self._13=0;var _g6=iron_math_Mat4.helpMat;_g6.self._20*=invSZ;var _g7=iron_math_Mat4.helpMat;_g7.self._21*=invSZ;var _g8=iron_math_Mat4.helpMat;_g8.self._22*=invSZ;iron_math_Mat4.helpMat.self._23=0;iron_math_Mat4.helpMat.self._30=0;iron_math_Mat4.helpMat.self._31=0;iron_math_Mat4.helpMat.self._32=0;iron_math_Mat4.helpMat.self._33=0;quaternion.fromRotationMat(iron_math_Mat4.helpMat);scale.x=sx;scale.y=sy;scale.z=sz;return this},setLocation:function(v){this.self._30=v.x;this.self._31=v.y;this.self._32=v.z;return this},fromQuaternion:function(q){var x=q.x;var y=q.y;var z=q.z;var w=q.w;var x2=x+x;var y2=y+y;var z2=z+z;var xx=x*x2;var xy=x*y2;var xz=x*z2;var yy=y*y2;var yz=y*z2;var zz=z*z2;var wx=w*x2;var wy=w*y2;var wz=w*z2;this.self._00=1-(yy+zz);this.self._10=xy-wz;this.self._20=xz+wy;this.self._01=xy+wz;this.self._11=1-(xx+zz);this.self._21=yz-wx;this.self._02=xz-wy;this.self._12=yz+wx;this.self._22=1-(xx+yy);this.self._03=0;this.self._13=0;this.self._23=0;this.self._30=0;this.self._31=0;this.self._32=0;this.self._33=1;return this},setIdentity:function(){this.self._00=1;this.self._01=0;this.self._02=0;this.self._03=0;this.self._10=0;this.self._11=1;this.self._12=0;this.self._13=0;this.self._20=0;this.self._21=0;this.self._22=1;this.self._23=0;this.self._30=0;this.self._31=0;this.self._32=0;this.self._33=1;return this},initTranslate:function(x,y,z){if(z==null){z=0}if(y==null){y=0}if(x==null){x=0}this.self._00=1;this.self._01=0;this.self._02=0;this.self._03=0;this.self._10=0;this.self._11=1;this.self._12=0;this.self._13=0;this.self._20=0;this.self._21=0;this.self._22=1;this.self._23=0;this.self._30=x;this.self._31=y;this.self._32=z;this.self._33=1},scale:function(v){var _g=this;_g.self._00*=v.x;var _g1=this;_g1.self._01*=v.x;var _g2=this;_g2.self._02*=v.x;var _g3=this;_g3.self._03*=v.x;var _g4=this;_g4.self._10*=v.y;var _g5=this;_g5.self._11*=v.y;var _g6=this;_g6.self._12*=v.y;var _g7=this;_g7.self._13*=v.y;var _g8=this;_g8.self._20*=v.z;var _g9=this;_g9.self._21*=v.z;var _g10=this;_g10.self._22*=v.z;var _g11=this;_g11.self._23*=v.z},multmat3x4:function(a,b){var m11=a.self._00;var m12=a.self._01;var m13=a.self._02;var m21=a.self._10;var m22=a.self._11;var m23=a.self._12;var a31=a.self._20;var a32=a.self._21;var a33=a.self._22;var a41=a.self._30;var a42=a.self._31;var a43=a.self._32;var b11=b.self._00;var b12=b.self._01;var b13=b.self._02;var b21=b.self._10;var b22=b.self._11;var b23=b.self._12;var b31=b.self._20;var b32=b.self._21;var b33=b.self._22;var b41=b.self._30;var b42=b.self._31;var b43=b.self._32;this.self._00=m11*b11+m12*b21+m13*b31;this.self._01=m11*b12+m12*b22+m13*b32;this.self._02=m11*b13+m12*b23+m13*b33;this.self._03=0;this.self._10=m21*b11+m22*b21+m23*b31;this.self._11=m21*b12+m22*b22+m23*b32;this.self._12=m21*b13+m22*b23+m23*b33;this.self._13=0;this.self._20=a31*b11+a32*b21+a33*b31;this.self._21=a31*b12+a32*b22+a33*b32;this.self._22=a31*b13+a32*b23+a33*b33;this.self._23=0;this.self._30=a41*b11+a42*b21+a43*b31+b41;this.self._31=a41*b12+a42*b22+a43*b32+b42;this.self._32=a41*b13+a42*b23+a43*b33+b43;this.self._33=1},multmat2:function(m){var a00=this.self._00;var a01=this.self._01;var a02=this.self._02;var a03=this.self._03;var a10=this.self._10;var a11=this.self._11;var a12=this.self._12;var a13=this.self._13;var a20=this.self._20;var a21=this.self._21;var a22=this.self._22;var a23=this.self._23;var a30=this.self._30;var a31=this.self._31;var a32=this.self._32;var a33=this.self._33;var b00=m.self._00;var b01=m.self._01;var b02=m.self._02;var b03=m.self._03;var b10=m.self._10;var b11=m.self._11;var b12=m.self._12;var b13=m.self._13;var b20=m.self._20;var b21=m.self._21;var b22=m.self._22;var b23=m.self._23;var b30=m.self._30;var b31=m.self._31;var b32=m.self._32;var b33=m.self._33;this.self._00=a00*b00+a01*b10+a02*b20+a03*b30;this.self._01=a00*b01+a01*b11+a02*b21+a03*b31;this.self._02=a00*b02+a01*b12+a02*b22+a03*b32;this.self._03=a00*b03+a01*b13+a02*b23+a03*b33;this.self._10=a10*b00+a11*b10+a12*b20+a13*b30;this.self._11=a10*b01+a11*b11+a12*b21+a13*b31;this.self._12=a10*b02+a11*b12+a12*b22+a13*b32;this.self._13=a10*b03+a11*b13+a12*b23+a13*b33;this.self._20=a20*b00+a21*b10+a22*b20+a23*b30;this.self._21=a20*b01+a21*b11+a22*b21+a23*b31;this.self._22=a20*b02+a21*b12+a22*b22+a23*b32;this.self._23=a20*b03+a21*b13+a22*b23+a23*b33;this.self._30=a30*b00+a31*b10+a32*b20+a33*b30;this.self._31=a30*b01+a31*b11+a32*b21+a33*b31;this.self._32=a30*b02+a31*b12+a32*b22+a33*b32;this.self._33=a30*b03+a31*b13+a32*b23+a33*b33;return this},multmats:function(a,b){var a11=a.self._00;var a12=a.self._10;var a13=a.self._20;var a14=a.self._30;var a21=a.self._01;var a22=a.self._11;var a23=a.self._21;var a24=a.self._31;var a31=a.self._02;var a32=a.self._12;var a33=a.self._22;var a34=a.self._32;var a41=a.self._03;var a42=a.self._13;var a43=a.self._23;var a44=a.self._33;var b11=b.self._00;var b12=b.self._10;var b13=b.self._20;var b14=b.self._30;var b21=b.self._01;var b22=b.self._11;var b23=b.self._21;var b24=b.self._31;var b31=b.self._02;var b32=b.self._12;var b33=b.self._22;var b34=b.self._32;var b41=b.self._03;var b42=b.self._13;var b43=b.self._23;var b44=b.self._33;this.self._00=a11*b11+a12*b21+a13*b31+a14*b41;this.self._10=a11*b12+a12*b22+a13*b32+a14*b42;this.self._20=a11*b13+a12*b23+a13*b33+a14*b43;this.self._30=a11*b14+a12*b24+a13*b34+a14*b44;this.self._01=a21*b11+a22*b21+a23*b31+a24*b41;this.self._11=a21*b12+a22*b22+a23*b32+a24*b42;this.self._21=a21*b13+a22*b23+a23*b33+a24*b43;this.self._31=a21*b14+a22*b24+a23*b34+a24*b44;this.self._02=a31*b11+a32*b21+a33*b31+a34*b41;this.self._12=a31*b12+a32*b22+a33*b32+a34*b42;this.self._22=a31*b13+a32*b23+a33*b33+a34*b43;this.self._32=a31*b14+a32*b24+a33*b34+a34*b44;this.self._03=a41*b11+a42*b21+a43*b31+a44*b41;this.self._13=a41*b12+a42*b22+a43*b32+a44*b42;this.self._23=a41*b13+a42*b23+a43*b33+a44*b43;this.self._33=a41*b14+a42*b24+a43*b34+a44*b44;return this},getInverse:function(m){var n11=m.self._00;var n12=m.self._10;var n13=m.self._20;var n14=m.self._30;var n21=m.self._01;var n22=m.self._11;var n23=m.self._21;var n24=m.self._31;var n31=m.self._02;var n32=m.self._12;var n33=m.self._22;var n34=m.self._32;var n41=m.self._03;var n42=m.self._13;var n43=m.self._23;var n44=m.self._33;this.self._00=n23*n34*n42-n24*n33*n42+n24*n32*n43-n22*n34*n43-n23*n32*n44+n22*n33*n44;this.self._10=n14*n33*n42-n13*n34*n42-n14*n32*n43+n12*n34*n43+n13*n32*n44-n12*n33*n44;this.self._20=n13*n24*n42-n14*n23*n42+n14*n22*n43-n12*n24*n43-n13*n22*n44+n12*n23*n44;this.self._30=n14*n23*n32-n13*n24*n32-n14*n22*n33+n12*n24*n33+n13*n22*n34-n12*n23*n34;this.self._01=n24*n33*n41-n23*n34*n41-n24*n31*n43+n21*n34*n43+n23*n31*n44-n21*n33*n44;this.self._11=n13*n34*n41-n14*n33*n41+n14*n31*n43-n11*n34*n43-n13*n31*n44+n11*n33*n44;this.self._21=n14*n23*n41-n13*n24*n41-n14*n21*n43+n11*n24*n43+n13*n21*n44-n11*n23*n44;this.self._31=n13*n24*n31-n14*n23*n31+n14*n21*n33-n11*n24*n33-n13*n21*n34+n11*n23*n34;this.self._02=n22*n34*n41-n24*n32*n41+n24*n31*n42-n21*n34*n42-n22*n31*n44+n21*n32*n44;this.self._12=n14*n32*n41-n12*n34*n41-n14*n31*n42+n11*n34*n42+n12*n31*n44-n11*n32*n44;this.self._22=n12*n24*n41-n14*n22*n41+n14*n21*n42-n11*n24*n42-n12*n21*n44+n11*n22*n44;this.self._32=n14*n22*n31-n12*n24*n31-n14*n21*n32+n11*n24*n32+n12*n21*n34-n11*n22*n34;this.self._03=n23*n32*n41-n22*n33*n41-n23*n31*n42+n21*n33*n42+n22*n31*n43-n21*n32*n43;this.self._13=n12*n33*n41-n13*n32*n41+n13*n31*n42-n11*n33*n42-n12*n31*n43+n11*n32*n43;this.self._23=n13*n22*n41-n12*n23*n41-n13*n21*n42+n11*n23*n42+n12*n21*n43-n11*n22*n43;this.self._33=n12*n23*n31-n13*n22*n31+n13*n21*n32-n11*n23*n32-n12*n21*n33+n11*n22*n33;var det=n11*this.self._00+n21*this.self._10+n31*this.self._20+n41*this.self._30;if(det==0){return this.setIdentity()}this.mult(1/det);return this},transpose:function(){var tmp=this.self._01;this.self._01=this.self._10;this.self._10=tmp;tmp=this.self._02;this.self._02=this.self._20;this.self._20=tmp;tmp=this.self._03;this.self._03=this.self._30;this.self._30=tmp;tmp=this.self._12;this.self._12=this.self._21;this.self._21=tmp;tmp=this.self._13;this.self._13=this.self._31;this.self._31=tmp;tmp=this.self._23;this.self._23=this.self._32;this.self._32=tmp},transpose3x3:function(){var tmp=this.self._01;this.self._01=this.self._10;this.self._10=tmp;tmp=this.self._02;this.self._02=this.self._20;this.self._20=tmp;tmp=this.self._12;this.self._12=this.self._21;this.self._21=tmp},setF32:function(a,offset){if(offset==null){offset=0}this.self._00=a[offset];this.self._10=a[1+offset];this.self._20=a[2+offset];this.self._30=a[3+offset];this.self._01=a[4+offset];this.self._11=a[5+offset];this.self._21=a[6+offset];this.self._31=a[7+offset];this.self._02=a[8+offset];this.self._12=a[9+offset];this.self._22=a[10+offset];this.self._32=a[11+offset];this.self._03=a[12+offset];this.self._13=a[13+offset];this.self._23=a[14+offset];this.self._33=a[15+offset]},setFrom:function(m){this.self._00=m.self._00;this.self._01=m.self._01;this.self._02=m.self._02;this.self._03=m.self._03;this.self._10=m.self._10;this.self._11=m.self._11;this.self._12=m.self._12;this.self._13=m.self._13;this.self._20=m.self._20;this.self._21=m.self._21;this.self._22=m.self._22;this.self._23=m.self._23;this.self._30=m.self._30;this.self._31=m.self._31;this.self._32=m.self._32;this.self._33=m.self._33;return this},getScale:function(){return new iron_math_Vec4(Math.sqrt(this.self._00*this.self._00+this.self._10*this.self._10+this.self._20*this.self._20),Math.sqrt(this.self._01*this.self._01+this.self._11*this.self._11+this.self._21*this.self._21),Math.sqrt(this.self._02*this.self._02+this.self._12*this.self._12+this.self._22*this.self._22))},mult:function(s){var _g=this;_g.self._00*=s;var _g1=this;_g1.self._10*=s;var _g2=this;_g2.self._20*=s;var _g3=this;_g3.self._30*=s;var _g4=this;_g4.self._01*=s;var _g5=this;_g5.self._11*=s;var _g6=this;_g6.self._21*=s;var _g7=this;_g7.self._31*=s;var _g8=this;_g8.self._02*=s;var _g9=this;_g9.self._12*=s;var _g10=this;_g10.self._22*=s;var _g11=this;_g11.self._32*=s;var _g12=this;_g12.self._03*=s;var _g13=this;_g13.self._13*=s;var _g14=this;_g14.self._23*=s;var _g15=this;_g15.self._33*=s;return this},toRotation:function(){var v1=new iron_math_Vec4;var _this=v1.set(this.self._00,this.self._01,this.self._02);var scaleX=1/Math.sqrt(_this.x*_this.x+_this.y*_this.y+_this.z*_this.z);var _this1=v1.set(this.self._10,this.self._11,this.self._12);var scaleY=1/Math.sqrt(_this1.x*_this1.x+_this1.y*_this1.y+_this1.z*_this1.z);var _this2=v1.set(this.self._20,this.self._21,this.self._22);var scaleZ=1/Math.sqrt(_this2.x*_this2.x+_this2.y*_this2.y+_this2.z*_this2.z);this.self._00*=scaleX;this.self._01*=scaleX;this.self._02*=scaleX;this.self._03=0;this.self._10*=scaleY;this.self._11*=scaleY;this.self._12*=scaleY;this.self._13=0;this.self._20*=scaleZ;this.self._21*=scaleZ;this.self._22*=scaleZ;this.self._23=0;this.self._30=0;this.self._31=0;this.self._32=0;this.self._33=1;return this},getQuat:function(){iron_math_Mat4.helpMat.setFrom(this);iron_math_Mat4.helpMat.toRotation();var q=new iron_math_Quat;var m11=iron_math_Mat4.helpMat.self._00;var m12=iron_math_Mat4.helpMat.self._10;var m13=iron_math_Mat4.helpMat.self._20;var m21=iron_math_Mat4.helpMat.self._01;var m22=iron_math_Mat4.helpMat.self._11;var m23=iron_math_Mat4.helpMat.self._21;var m31=iron_math_Mat4.helpMat.self._02;var m32=iron_math_Mat4.helpMat.self._12;var m33=iron_math_Mat4.helpMat.self._22;var ftrace=m11+m22+m33;var s=0;if(ftrace>0){s=.5/Math.sqrt(ftrace+1);q.w=.25/s;q.x=(m32-m23)*s;q.y=(m13-m31)*s;q.z=(m21-m12)*s}else if(m11>m22&&m11>m33){s=2*Math.sqrt(1+m11-m22-m33);q.w=(m32-m23)/s;q.x=.25*s;q.y=(m12+m21)/s;q.z=(m13+m31)/s}else if(m22>m33){s=2*Math.sqrt(1+m22-m11-m33);q.w=(m13-m31)/s;q.x=(m12+m21)/s;q.y=.25*s;q.z=(m23+m32)/s}else{s=2*Math.sqrt(1+m33-m11-m22);q.w=(m21-m12)/s;q.x=(m13+m31)/s;q.y=(m23+m32)/s;q.z=.25*s}return q},setLookAt:function(eye,center,up){var f0=center.x-eye.x;var f1=center.y-eye.y;var f2=center.z-eye.z;var n=1/Math.sqrt(f0*f0+f1*f1+f2*f2);f0*=n;f1*=n;f2*=n;var s0=f1*up.z-f2*up.y;var s1=f2*up.x-f0*up.z;var s2=f0*up.y-f1*up.x;n=1/Math.sqrt(s0*s0+s1*s1+s2*s2);s0*=n;s1*=n;s2*=n;var u0=s1*f2-s2*f1;var u1=s2*f0-s0*f2;var u2=s0*f1-s1*f0;var d0=-eye.x*s0-eye.y*s1-eye.z*s2;var d1=-eye.x*u0-eye.y*u1-eye.z*u2;var d2=eye.x*f0+eye.y*f1+eye.z*f2;this.self._00=s0;this.self._10=s1;this.self._20=s2;this.self._30=d0;this.self._01=u0;this.self._11=u1;this.self._21=u2;this.self._31=d1;this.self._02=-f0;this.self._12=-f1;this.self._22=-f2;this.self._32=d2;this.self._03=0;this.self._13=0;this.self._23=0;this.self._33=1;return this},applyQuat:function(q){q.toMat(iron_math_Mat4.helpMat);this.multmat2(iron_math_Mat4.helpMat)},__class__:iron_math_Mat4};var iron_RenderPath=function(){this.depthBuffers=[];this.currentMaterial=null;this.depthToRenderTarget=new haxe_ds_StringMap;this.renderTargets=new haxe_ds_StringMap;this.commands=null;this.cachedShaderContexts=new haxe_ds_StringMap;this.loading=0;this.paused=false;this.lastFrameTime=0;this.viewportScaled=false;this.scissorSet=false;this.lastH=0;this.lastW=0;this.currentLampIndex=0;this.currentTarget=null;this.frameTime=0;this.frameScissorH=0;this.frameScissorW=0;this.frameScissorY=0;this.frameScissorX=0;this.frameScissor=false};$hxClasses["iron.RenderPath"]=iron_RenderPath;iron_RenderPath.__name__=true;iron_RenderPath.setActive=function(renderPath){iron_RenderPath.active=renderPath};iron_RenderPath.sortMeshes=function(meshes,camera){var camX=camera.transform.world.self._30;var camY=camera.transform.world.self._31;var camZ=camera.transform.world.self._32;var _g=0;while(_g<meshes.length){var mesh=meshes[_g];++_g;var vx=camX-mesh.transform.world.self._30;var vy=camY-mesh.transform.world.self._31;var vz=camZ-mesh.transform.world.self._32;mesh.cameraDistance=Math.sqrt(vx*vx+vy*vy+vz*vz)}meshes.sort(function(a,b){if(a.cameraDistance>=b.cameraDistance){return 1}else{return-1}})};iron_RenderPath.prototype={frameScissor:null,frameScissorX:null,frameScissorY:null,frameScissorW:null,frameScissorH:null,frameTime:null,currentTarget:null,currentCube:null,currentFace:null,currentLampIndex:null,currentW:null,currentH:null,currentD:null,lastW:null,lastH:null,bindParams:null,meshesSorted:null,scissorSet:null,viewportScaled:null,currentG:null,frameG:null,lastFrameTime:null,paused:null,get_ready:function(){return this.loading==0},loading:null,cachedShaderContexts:null,commands:null,renderTargets:null,depthToRenderTarget:null,lampCastShadow:function(){return(iron_Scene.active.lamps.length>0?iron_Scene.active.lamps[this.currentLampIndex]:null).data.raw.cast_shadow},lampIsSun:function(){return(iron_Scene.active.lamps.length>0?iron_Scene.active.lamps[this.currentLampIndex]:null).data.raw.type=="sun"},renderFrame:function(g){if(!this.get_ready()||this.paused||kha_System.windowWidth()==0||kha_System.windowHeight()==0){return}if(this.lastW>0&&(this.lastW!=kha_System.windowWidth()||this.lastH!=kha_System.windowHeight())){this.resize()}this.lastW=kha_System.windowWidth();this.lastH=kha_System.windowHeight();this.frameTime=kha_Scheduler.time()-this.lastFrameTime;this.lastFrameTime=kha_Scheduler.time();this.frameG=iron_Scene.active.camera==null||iron_Scene.active.camera.data.renderTarget==null?g:iron_Scene.active.camera.data.renderTarget.get_g4();this.currentG=this.frameG;this.currentW=kha_System.windowWidth();this.currentH=kha_System.windowHeight();this.currentD=1;this.currentCube=false;this.currentFace=-1;this.meshesSorted=false;this.currentLampIndex=0;var _g=0;var _g1=iron_Scene.active.lamps;while(_g<_g1.length){var l=_g1[_g];++_g;if(l.visible){l.buildMatrices(iron_Scene.active.camera)}}this.commands()},setTarget:function(target,additional,viewportScale){if(viewportScale==null){viewportScale=1}if(target==""){this.currentG=this.frameG;this.currentW=kha_System.windowWidth();this.currentH=kha_System.windowHeight();this.currentD=1;this.currentTarget=null;this.currentCube=false;this.currentFace=-1;if(this.frameScissor){this.setFrameScissor()}var g=this.currentG;g.begin(null)}else{var _this=this.renderTargets;var rt=__map_reserved[target]!=null?_this.getReserved(target):_this.h[target];this.currentTarget=rt;var additionalImages=null;if(additional!=null){additionalImages=[];var _g=0;while(_g<additional.length){var s=additional[_g];++_g;var _this1=this.renderTargets;var t=__map_reserved[s]!=null?_this1.getReserved(s):_this1.h[s];additionalImages.push(t.image)}}this.currentG=rt.isCubeMap?rt.cubeMap.get_g4():rt.image.get_g4();this.currentW=rt.isCubeMap?rt.cubeMap.get_width():rt.image.get_width();this.currentH=rt.isCubeMap?rt.cubeMap.get_height():rt.image.get_height();if(rt.is3D){this.currentD=rt.image.get_depth()}this.currentCube=rt.isCubeMap;var g1=this.currentG;var face=this.currentFace;if(face>=0){g1.beginFace(5-face)}else{g1.begin(additionalImages)}}if(viewportScale!=1){this.viewportScaled=true;var viewW=this.currentW*viewportScale|0;var viewH=this.currentH*viewportScale|0;this.currentG.viewport(0,viewH,viewW,viewH);this.currentG.scissor(0,viewH,viewW,viewH)}else if(this.viewportScaled){this.viewportScaled=false;this.setCurrentViewport(this.currentW,this.currentH);this.setCurrentScissor(this.currentW,this.currentH)}this.bindParams=null},setCurrentViewport:function(viewW,viewH){this.currentG.viewport(0,this.currentH-viewH,viewW,viewH)},setCurrentScissor:function(viewW,viewH){this.currentG.scissor(0,this.currentH-viewH,viewW,viewH);this.scissorSet=true},setFrameScissor:function(){this.frameG.scissor(this.frameScissorX,this.currentH-(this.frameScissorH-this.frameScissorY),this.frameScissorW,this.frameScissorH)},clearTarget:function(colorFlag,depthFlag){if(colorFlag==-1&&iron_Scene.active.world!=null){colorFlag=iron_Scene.active.world.raw.background_color}this.currentG.clear(colorFlag,depthFlag,null)},drawMeshes:function(context){var lamp=iron_Scene.active.lamps.length>0?iron_Scene.active.lamps[this.currentLampIndex]:null;if(lamp!=null&&!lamp.visible){if(this.currentLampIndex>0){return}}var isShadows=context=="shadowmap";if(isShadows){if(lamp==null||!lamp.data.raw.cast_shadow){return}}if(this.currentFace>=0&&lamp!=null){lamp.setCubeFace(5-this.currentFace,iron_Scene.active.camera)}var g=this.currentG;var drawn=false;if(isShadows&&lamp.data.raw.type=="sun"){var step=this.currentH;var _g1=0;var _g=iron_object_LampObject.cascadeCount;while(_g1<_g){var i=_g1++;lamp.setCascade(iron_Scene.active.camera,i);g.viewport(i*step,0,step,step);this.submitDraw(context)}drawn=true}if(!drawn){this.submitDraw(context)}g.end();if(this.scissorSet){g.disableScissor();this.scissorSet=false}this.bindParams=null},submitDraw:function(context){var lamp=iron_Scene.active.lamps.length>0?iron_Scene.active.lamps[this.currentLampIndex]:null;var g=this.currentG;if(!this.meshesSorted&&iron_Scene.active.camera!=null){iron_RenderPath.sortMeshes(iron_Scene.active.meshes,iron_Scene.active.camera);this.meshesSorted=true}var _g=0;var _g1=iron_Scene.active.meshes;while(_g<_g1.length){var m=_g1[_g];++_g;m.render(g,context,iron_Scene.active.camera,lamp,this.bindParams)}},currentMaterial:null,drawDecals:function(context){if(iron_data_ConstData.boxVB==null){iron_data_ConstData.createBoxData()}var g=this.currentG;var lamp=iron_Scene.active.lamps.length>0?iron_Scene.active.lamps[this.currentLampIndex]:null;var _g=0;var _g1=iron_Scene.active.decals;while(_g<_g1.length){var decal=_g1[_g];++_g;decal.render(g,context,iron_Scene.active.camera,lamp,this.bindParams)}g.end();if(this.scissorSet){g.disableScissor();this.scissorSet=false}this.bindParams=null},drawSkydome:function(handle){if(iron_data_ConstData.skydomeVB==null){iron_data_ConstData.createSkydomeData()}var _this=this.cachedShaderContexts;var cc=__map_reserved[handle]!=null?_this.getReserved(handle):_this.h[handle];if(cc.context==null){return}var g=this.currentG;g.setPipeline(cc.context.pipeState);var lamp=iron_Scene.active.lamps.length>0?iron_Scene.active.lamps[this.currentLampIndex]:null;iron_object_Uniforms.setConstants(g,cc.context,null,iron_Scene.active.camera,lamp,this.bindParams);g.setVertexBuffer(iron_data_ConstData.skydomeVB);g.setIndexBuffer(iron_data_ConstData.skydomeIB);g.drawIndexedVertices();g.end();if(this.scissorSet){g.disableScissor();this.scissorSet=false}this.bindParams=null},drawLampVolume:function(handle){var vb=null;var ib=null;var lamp=iron_Scene.active.lamps.length>0?iron_Scene.active.lamps[this.currentLampIndex]:null;var type=lamp.data.raw.type;if(type=="point"||type=="area"){if(iron_data_ConstData.sphereVB==null){iron_data_ConstData.createSphereData()}vb=iron_data_ConstData.sphereVB;ib=iron_data_ConstData.sphereIB}else if(type=="spot"){if(iron_data_ConstData.sphereVB==null){iron_data_ConstData.createSphereData()}vb=iron_data_ConstData.sphereVB;ib=iron_data_ConstData.sphereIB}var _this=this.cachedShaderContexts;var cc=__map_reserved[handle]!=null?_this.getReserved(handle):_this.h[handle];var g=this.currentG;g.setPipeline(cc.context.pipeState);iron_object_Uniforms.setConstants(g,cc.context,null,iron_Scene.active.camera,lamp,this.bindParams);g.setVertexBuffer(vb);g.setIndexBuffer(ib);g.drawIndexedVertices();g.end();if(this.scissorSet){g.disableScissor();this.scissorSet=false}this.bindParams=null},bindTarget:function(target,uniform){if(this.bindParams!=null){this.bindParams.push(target);this.bindParams.push(uniform)}else{this.bindParams=[target,uniform]}},drawShader:function(handle){var _this=this.cachedShaderContexts;var cc=__map_reserved[handle]!=null?_this.getReserved(handle):_this.h[handle];if(iron_data_ConstData.screenAlignedVB==null){iron_data_ConstData.createScreenAlignedData()}var g=this.currentG;g.setPipeline(cc.context.pipeState);var lamp=iron_Scene.active.lamps.length>0?iron_Scene.active.lamps[this.currentLampIndex]:null;iron_object_Uniforms.setConstants(g,cc.context,null,iron_Scene.active.camera,lamp,this.bindParams);g.setVertexBuffer(iron_data_ConstData.screenAlignedVB);g.setIndexBuffer(iron_data_ConstData.screenAlignedIB);g.drawIndexedVertices();g.end();if(this.scissorSet){g.disableScissor();this.scissorSet=false}this.bindParams=null},loadShader:function(handle){var _gthis=this;this.loading++;var _this=this.cachedShaderContexts;var cc=__map_reserved[handle]!=null?_this.getReserved(handle):_this.h[handle];if(cc!=null){this.loading--;return}cc=new iron_CachedShaderContext;var _this1=this.cachedShaderContexts;if(__map_reserved[handle]!=null){_this1.setReserved(handle,cc)}else{_this1.h[handle]=cc}var shaderPath=handle.split("/");iron_data_Data.getShader(shaderPath[0],shaderPath[1],null,function(res){cc.context=res.getContext(shaderPath[2]);_gthis.loading--})},resize:function(){var _this=this.renderTargets;var rt=new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys());while(rt.hasNext()){var rt1=rt.next();if(rt1.raw.width==0){rt1.image.unload();rt1.image=this.createImage(rt1.raw,rt1.depthStencil);if(rt1.depthStencilFrom!=""){var key=rt1.depthStencilFrom;var _this1=this.depthToRenderTarget;rt1.image.setDepthStencilFrom((__map_reserved[key]!=null?_this1.getReserved(key):_this1.h[key]).image)}}}},createRenderTarget:function(t){var rt=this.createTarget(t);var key=t.name;var _this=this.renderTargets;if(__map_reserved[key]!=null){_this.setReserved(key,rt)}else{_this.h[key]=rt}return rt},depthBuffers:null,createDepthBuffer:function(name,format){this.depthBuffers.push({name:name,format:format})},createTarget:function(t){var rt=new iron_RenderTarget(t);if(t.depth_buffer!=null){rt.hasDepth=true;var key=t.depth_buffer;var _this=this.depthToRenderTarget;var depthTarget=__map_reserved[key]!=null?_this.getReserved(key):_this.h[key];if(depthTarget==null){var _g=0;var _g1=this.depthBuffers;while(_g<_g1.length){var db=_g1[_g];++_g;if(db.name==t.depth_buffer){var key1=db.name;var _this1=this.depthToRenderTarget;if(__map_reserved[key1]!=null){_this1.setReserved(key1,rt)}else{_this1.h[key1]=rt}var s=db.format;var tmp;if(s==null||s==""){tmp=1}else{switch(s){case"DEPTH16":tmp=5;break;case"DEPTH24":tmp=1;break;default:tmp=1}}rt.depthStencil=tmp;rt.image=this.createImage(t,rt.depthStencil);break}}}else{rt.depthStencil=0;rt.depthStencilFrom=t.depth_buffer;rt.image=this.createImage(t,rt.depthStencil);rt.image.setDepthStencilFrom(depthTarget.image)}}else{rt.hasDepth=false;if(t.depth!=null&&t.depth>1){rt.is3D=true}if(t.is_cubemap){rt.isCubeMap=true;rt.depthStencil=0;rt.cubeMap=this.createCubeMap(t,rt.depthStencil)}else{rt.depthStencil=0;rt.image=this.createImage(t,rt.depthStencil)}}return rt},createImage:function(t,depthStencil){var width=t.width==0?kha_System.windowWidth():t.width;var height=t.height==0?kha_System.windowHeight():t.height;var depth=t.depth!=null?t.depth:0;if(t.displayp!=null){if(width>height){width=width*(t.displayp/height)|0;height=t.displayp}else{height=height*(t.displayp/width)|0;width=t.displayp}}if(t.scale!=null){width=width*t.scale|0;height=height*t.scale|0;depth=depth*t.scale|0}if(t.depth!=null&&t.depth>1){var img;if(t.format!=null){switch(t.format){case"A16":img=kha_graphics4_TextureFormat.A16;break;case"A32":img=kha_graphics4_TextureFormat.A32;break;case"A8":img=kha_graphics4_TextureFormat.L8;break;case"DEPTH16":img=kha_graphics4_TextureFormat.DEPTH16;break;case"R16":img=kha_graphics4_TextureFormat.A16;break;case"R32":img=kha_graphics4_TextureFormat.A32;break;case"R8":img=kha_graphics4_TextureFormat.L8;break;case"RGBA128":img=kha_graphics4_TextureFormat.RGBA128;break;case"RGBA32":img=kha_graphics4_TextureFormat.RGBA32;break;case"RGBA64":img=kha_graphics4_TextureFormat.RGBA64;break;default:img=kha_graphics4_TextureFormat.RGBA32}}else{img=kha_graphics4_TextureFormat.RGBA32}var img1=kha_Image.create3D(width,height,depth,img);if(t.mipmaps){img1.generateMipmaps(1e3)}return img1}else if(t.is_image!=null&&t.is_image){var tmp;if(t.format!=null){switch(t.format){case"A16":tmp=kha_graphics4_TextureFormat.A16;break;case"A32":tmp=kha_graphics4_TextureFormat.A32;break;case"A8":tmp=kha_graphics4_TextureFormat.L8;break;case"DEPTH16":tmp=kha_graphics4_TextureFormat.DEPTH16;break;case"R16":tmp=kha_graphics4_TextureFormat.A16;break;case"R32":tmp=kha_graphics4_TextureFormat.A32;break;case"R8":tmp=kha_graphics4_TextureFormat.L8;break;case"RGBA128":tmp=kha_graphics4_TextureFormat.RGBA128;break;case"RGBA32":tmp=kha_graphics4_TextureFormat.RGBA32;break;case"RGBA64":tmp=kha_graphics4_TextureFormat.RGBA64;break;default:tmp=kha_graphics4_TextureFormat.RGBA32}}else{tmp=kha_graphics4_TextureFormat.RGBA32}return kha_Image.create(width,height,tmp)}else{var tmp1;if(t.format!=null){switch(t.format){case"A16":tmp1=kha_graphics4_TextureFormat.A16;break;case"A32":tmp1=kha_graphics4_TextureFormat.A32;break;case"A8":tmp1=kha_graphics4_TextureFormat.L8;break;case"DEPTH16":tmp1=kha_graphics4_TextureFormat.DEPTH16;break;case"R16":tmp1=kha_graphics4_TextureFormat.A16;break;case"R32":tmp1=kha_graphics4_TextureFormat.A32;break;case"R8":tmp1=kha_graphics4_TextureFormat.L8;break;case"RGBA128":tmp1=kha_graphics4_TextureFormat.RGBA128;break;case"RGBA32":tmp1=kha_graphics4_TextureFormat.RGBA32;break;case"RGBA64":tmp1=kha_graphics4_TextureFormat.RGBA64;break;default:tmp1=kha_graphics4_TextureFormat.RGBA32}}else{tmp1=kha_graphics4_TextureFormat.RGBA32}return kha_Image.createRenderTarget(width,height,tmp1,depthStencil)}},createCubeMap:function(t,depthStencil){var tmp;if(t.format!=null){switch(t.format){case"A16":tmp=kha_graphics4_TextureFormat.A16;break;case"A32":tmp=kha_graphics4_TextureFormat.A32;break;case"A8":tmp=kha_graphics4_TextureFormat.L8;break;case"DEPTH16":tmp=kha_graphics4_TextureFormat.DEPTH16;break;case"R16":tmp=kha_graphics4_TextureFormat.A16;break;case"R32":tmp=kha_graphics4_TextureFormat.A32;break;case"R8":tmp=kha_graphics4_TextureFormat.L8;break;case"RGBA128":tmp=kha_graphics4_TextureFormat.RGBA128;break;case"RGBA32":tmp=kha_graphics4_TextureFormat.RGBA32;break;case"RGBA64":tmp=kha_graphics4_TextureFormat.RGBA64;break;default:tmp=kha_graphics4_TextureFormat.RGBA32}}else{tmp=kha_graphics4_TextureFormat.RGBA32}return kha_graphics4_CubeMap.createRenderTarget(t.width,tmp,depthStencil)},__class__:iron_RenderPath,__properties__:{get_ready:"get_ready"}};var iron_RenderTargetRaw=function(){this.is_cubemap=null;this.is_image=null;this.depth=null;this.mipmaps=null;this.depth_buffer=null;this.displayp=null;this.scale=null;this.format=null};$hxClasses["iron.RenderTargetRaw"]=iron_RenderTargetRaw;iron_RenderTargetRaw.__name__=true;iron_RenderTargetRaw.prototype={name:null,width:null,height:null,format:null,scale:null,displayp:null,depth_buffer:null,mipmaps:null,depth:null,is_image:null,is_cubemap:null,__class__:iron_RenderTargetRaw};var iron_RenderTarget=function(raw){this.isCubeMap=false;this.is3D=false;this.hasDepth=false;this.cubeMap=null;this.image=null;this.depthStencilFrom="";this.raw=raw};$hxClasses["iron.RenderTarget"]=iron_RenderTarget;iron_RenderTarget.__name__=true;iron_RenderTarget.prototype={raw:null,depthStencil:null,depthStencilFrom:null,image:null,cubeMap:null,hasDepth:null,is3D:null,isCubeMap:null,__class__:iron_RenderTarget};var iron_CachedShaderContext=function(){};$hxClasses["iron.CachedShaderContext"]=iron_CachedShaderContext;iron_CachedShaderContext.__name__=true;iron_CachedShaderContext.prototype={context:null,__class__:iron_CachedShaderContext};var iron_Scene=function(){this.traitRemoves=[];this.traitInits=[];this.groups=null;this.meshBatch=null;this.uid=iron_Scene.uidCounter++;this.meshes=[];this.lamps=[];this.cameras=[];this.speakers=[];this.decals=[];this.empties=[];this.animations=[];this.armatures=[];this.embedded=new haxe_ds_StringMap;this.root=new iron_object_Object;this.root.name="Root";this.traitInits=[];this.traitRemoves=[];if(iron_Scene.global==null){iron_Scene.global=new iron_object_Object}};$hxClasses["iron.Scene"]=iron_Scene;iron_Scene.__name__=true;iron_Scene.create=function(format,done){iron_Scene.active=new iron_Scene;iron_Scene.active.ready=false;iron_Scene.active.raw=format;iron_data_Data.getWorld(format.name,format.world_ref,function(world){iron_Scene.active.world=world;iron_Scene.active.addScene(format.name,null,function(sceneObject){if(iron_Scene.active.cameras.length==0){haxe_Log.trace('No camera found for scene "'+format.name+'"',{fileName:"Scene.hx",lineNumber:76,className:"iron.Scene",methodName:"create"})}iron_Scene.active.camera=iron_Scene.active.getCamera(format.camera_ref);iron_Scene.active.ready=true;var _g=0;var _g1=iron_Scene.active.traitInits;while(_g<_g1.length){var f=_g1[_g];++_g;f()}iron_Scene.active.traitInits=[];done(sceneObject)})})};iron_Scene.setActive=function(sceneName,done){if(!iron_Scene.framePassed){return}iron_Scene.framePassed=false;if(iron_Scene.active!=null){iron_Scene.active.remove()}iron_data_Data.getSceneRaw(sceneName,function(format){iron_Scene.create(format,function(o){if(done!=null){done(o)}})})};iron_Scene.generateTransform=function(object,transform){transform.world=object.transform!=null?iron_math_Mat4.fromFloat32Array(object.transform.values):iron_math_Mat4.identity();transform.world.decompose(transform.loc,transform.rot,transform.scale);if(object.local_transform_only!=null){transform.localOnly=object.local_transform_only}if(transform.object.parent!=null){transform.update()}};iron_Scene.createTraits=function(traits,object){if(traits==null){return}var _g=0;while(_g<traits.length){var t=traits[_g];++_g;if(t.type=="Script"){var args=[];if(t.parameters!=null){var _g1=0;var _g2=t.parameters;while(_g1<_g2.length){var param=_g2[_g1];++_g1;args.push(iron_Scene.parseArg(param))}}var traitInst=iron_Scene.createTraitClassInstance(t.class_name,args);if(traitInst==null){haxe_Log.trace("Error: Trait '"+t.class_name+"' referenced in object '"+object.name+"' not found",{fileName:"Scene.hx",lineNumber:564,className:"iron.Scene",methodName:"createTraits"});continue}if(t.props!=null){var _g21=0;var _g11=t.props.length/2|0;while(_g21<_g11){var i=_g21++;var pname=t.props[i*2];var pval=t.props[i*2+1];if(pval!=""&&Reflect.field(traitInst,pname)!=null){Reflect.setProperty(traitInst,pname,iron_Scene.parseArg(pval))}}}object.addTrait(traitInst)}}};iron_Scene.parseArg=function(str){if(str=="true"){return true}else if(str=="false"){return false}else if(str=="null"){return null}else if(str.charAt(0)=="'"){return StringTools.replace(str,"'","")}else if(str.charAt(0)=='"'){return StringTools.replace(str,'"',"")}else if(str.charAt(0)=="["){str=StringTools.replace(str,"[","");str=StringTools.replace(str,"]","");str=StringTools.replace(str," ","");var ar=[];var s=str.split(",");var _g=0;while(_g<s.length){var childStr=s[_g];++_g;ar.push(iron_Scene.parseArg(childStr))}return ar}else{var f=parseFloat(str);var i=Std.parseInt(str);if(f==i){return i}else{return f}}};iron_Scene.createConstraints=function(constraints,object){if(constraints==null){return}object.constraints=[];var _g=0;while(_g<constraints.length){var c=constraints[_g];++_g;var constr=new iron_object_Constraint(c);object.constraints.push(constr)}};iron_Scene.createTraitClassInstance=function(traitName,args){var cname=Type.resolveClass(traitName);if(cname==null){return null}return Type.createInstance(cname,args)};iron_Scene.prototype={uid:null,raw:null,root:null,camera:null,world:null,meshBatch:null,meshes:null,lamps:null,cameras:null,speakers:null,decals:null,empties:null,animations:null,armatures:null,groups:null,embedded:null,ready:null,traitInits:null,traitRemoves:null,remove:function(){var _g=0;var _g1=this.traitRemoves;while(_g<_g1.length){var f=_g1[_g];++_g;f()}if(this.meshBatch!=null){this.meshBatch.remove()}var _g2=0;var _g11=this.meshes;while(_g2<_g11.length){var o=_g11[_g2];++_g2;o.remove()}var _g3=0;var _g12=this.lamps;while(_g3<_g12.length){var o1=_g12[_g3];++_g3;o1.remove()}var _g4=0;var _g13=this.cameras;while(_g4<_g13.length){var o2=_g13[_g4];++_g4;o2.remove()}var _g5=0;var _g14=this.speakers;while(_g5<_g14.length){var o3=_g14[_g5];++_g5;o3.remove()}var _g6=0;var _g15=this.decals;while(_g6<_g15.length){var o4=_g15[_g6];++_g6;o4.remove()}var _g7=0;var _g16=this.empties;while(_g7<_g16.length){var o5=_g16[_g7];++_g7;o5.remove()}this.groups=null;this.root.remove()},updateFrame:function(){if(!this.ready){return}var _g=0;var _g1=this.animations;while(_g<_g1.length){var anim=_g1[_g];++_g;anim.update(.016666666666666666*iron_system_Time.scale)}var _g2=0;var _g11=this.empties;while(_g2<_g11.length){var e=_g11[_g2];++_g2;if(e!=null&&e.parent!=null){e.transform.update()}}},renderFrame:function(g){if(!this.ready||iron_RenderPath.active==null){return}iron_Scene.framePassed=true;var activeCamera=this.camera;var _g=0;var _g1=this.cameras;while(_g<_g1.length){var cam=_g1[_g];++_g;if(cam.data.renderTarget!=null){this.camera=cam;this.camera.renderFrame(g)}}this.camera=activeCamera;if(this.camera!=null){this.camera.renderFrame(g)}else{iron_RenderPath.active.renderFrame(g)}},addObject:function(parent){var object=new iron_object_Object;if(parent!=null){parent.addChild(object)}else{this.root.addChild(object)}return object},getChild:function(name){return this.root.getChild(name)},getCamera:function(name){var _g=0;var _g1=this.cameras;while(_g<_g1.length){var c=_g1[_g];++_g;if(c.name==name){return c}}return null},addMeshObject:function(data,materials,parent){var object=new iron_object_MeshObject(data,materials);if(parent!=null){parent.addChild(object)}else{this.root.addChild(object)}return object},addLampObject:function(data,parent){var object=new iron_object_LampObject(data);if(parent!=null){parent.addChild(object)}else{this.root.addChild(object)}return object},addCameraObject:function(data,parent){var object=new iron_object_CameraObject(data);if(parent!=null){parent.addChild(object)}else{this.root.addChild(object)}return object},addSpeakerObject:function(data,parent){var object=new iron_object_SpeakerObject(data);if(parent!=null){parent.addChild(object)}else{this.root.addChild(object)}return object},addDecalObject:function(material,parent){var object=new iron_object_DecalObject(material);if(parent!=null){parent.addChild(object)}else{this.root.addChild(object)}return object},addScene:function(sceneName,parent,done){var _gthis=this;if(parent==null){parent=this.addObject();parent.name=sceneName}iron_data_Data.getSceneRaw(sceneName,function(format){iron_Scene.createTraits(format.traits,parent);_gthis.loadEmbeddedData(format.embedded_datas,function(){var objectsTraversed=0;var objectsCount=_gthis.getObjectsCount(format.objects);var traverseObjects=null;traverseObjects=function(parent1,objects,parentObject,done1){if(objects==null){return}var _g1=0;var _g=objects.length;while(_g1<_g){var i=_g1++;var o=[objects[i]];if(o[0].spawn!=null&&o[0].spawn==false){if((objectsTraversed+=1)==objectsCount){done1()}continue}var o1=o[0];var traverseObjects1=function(o2){return function(object){if(object!=null){traverseObjects(object,o2[0].children,o2[0],done1)}if((objectsTraversed+=1)==objectsCount){done1()}}}(o);_gthis.createObject(o1,format,parent1,parentObject,traverseObjects1)}};var traverseObjects2=traverseObjects;if(format.objects==null||format.objects.length==0){done(parent)}else{traverseObjects2(parent,format.objects,null,function(){done(parent)})}})})},getObjectsCount:function(objects,discardNoSpawn){if(discardNoSpawn==null){discardNoSpawn=true}if(objects==null){return 0}var result=objects.length;var _g=0;while(_g<objects.length){var o=objects[_g];++_g;if(discardNoSpawn&&o.spawn!=null&&o.spawn==false){continue}if(o.children!=null){result+=this.getObjectsCount(o.children)}}return result},spawnObject:function(name,parent,done,spawnChildren){if(spawnChildren==null){spawnChildren=true}var _gthis=this;var objectsTraversed=0;var obj=this.getObj(this.raw,name);var objectsCount=spawnChildren?this.getObjectsCount([obj],false):1;var spawnObjectTree=null;spawnObjectTree=function(obj1,parent1,done1){_gthis.createObject(obj1,_gthis.raw,parent1,null,function(object){if(spawnChildren&&obj1.children!=null){var _g=0;var _g1=obj1.children;while(_g<_g1.length){var child=_g1[_g];++_g;spawnObjectTree(child,object,done1)}}if((objectsTraversed+=1)==objectsCount&&done1!=null){done1(object)}})};var spawnObjectTree1=spawnObjectTree;spawnObjectTree1(obj,parent,done)},getObj:function(format,name){return this.traverseObjs(format.objects,name)},traverseObjs:function(children,name){var _g=0;while(_g<children.length){var o=children[_g];++_g;if(o.name==name){return o}if(o.children!=null){var res=this.traverseObjs(o.children,name);if(res!=null){return res}}}return null},createObject:function(o,format,parent,parentObject,done){var _gthis=this;var sceneName=format.name;if(o.type=="camera_object"){iron_data_Data.getCamera(sceneName,o.data_ref,function(b){var object=_gthis.addCameraObject(b,parent);_gthis.returnObject(object,o,done)})}else if(o.type=="lamp_object"){iron_data_Data.getLamp(sceneName,o.data_ref,function(b1){var object1=_gthis.addLampObject(b1,parent);_gthis.returnObject(object1,o,done)})}else if(o.type=="mesh_object"){if(o.material_refs==null||o.material_refs.length==0){var object2=this.addObject(parent);this.returnObject(object2,o,done)}else{var length=o.material_refs.length;var this1=new Array(length);var materials=this1;var materialsLoaded=0;var _g1=0;var _g=o.material_refs.length;while(_g1<_g){var i=[_g1++];var ref=o.material_refs[i[0]];var tmp=function(i1){return function(mat){materials[i1[0]]=mat;materialsLoaded+=1;if(materialsLoaded==o.material_refs.length){var ref1=o.data_ref.split("/");var object_file="";var data_ref="";if(ref1.length==2){object_file=ref1[0];data_ref=ref1[1]}else{object_file=sceneName;data_ref=o.data_ref}if(parentObject!=null&&parentObject.bone_actions!=null){var bactions=[];var _g2=0;var _g3=parentObject.bone_actions;while(_g2<_g3.length){var ref2=_g3[_g2];++_g2;iron_data_Data.getSceneRaw(ref2,function(){return function(action){bactions.push(action);if(bactions.length==parentObject.bone_actions.length){var armature=new iron_data_Armature(parentObject.name,bactions);_gthis.armatures.push(armature);_gthis.returnMeshObject(object_file,data_ref,sceneName,armature,materials,parent,o,done)}}}())}}else{_gthis.returnMeshObject(object_file,data_ref,sceneName,null,materials,parent,o,done)}}}}(i);iron_data_Data.getMaterial(sceneName,ref,tmp)}}}else if(o.type=="speaker_object"){var object3=this.addSpeakerObject(iron_data_Data.getSpeakerRawByName(format.speaker_datas,o.data_ref),parent);this.returnObject(object3,o,done)}else if(o.type=="decal_object"){if(o.material_refs!=null&&o.material_refs.length>0){iron_data_Data.getMaterial(sceneName,o.material_refs[0],function(material){var object4=_gthis.addDecalObject(material,parent);_gthis.returnObject(object4,o,done)})}else{var object5=this.addDecalObject(null,parent);this.returnObject(object5,o,done)}}else if(o.type=="object"){var object6=this.addObject(parent);this.returnObject(object6,o,function(ro){if(o.group_ref!=null){var spawned=0;var object_refs=_gthis.getGroupObjectRefs(o.group_ref);if(object_refs.length==0){done(ro)}else{var _g4=0;while(_g4<object_refs.length){var s=object_refs[_g4];++_g4;_gthis.spawnObject(s,ro,function(so){if((spawned+=1)==object_refs.length){done(ro)}})}}}else{done(ro)}})}else{done(null)}},getGroupObjectRefs:function(group_ref){var _g=0;var _g1=this.raw.groups;while(_g<_g1.length){var g=_g1[_g];++_g;if(g.name==group_ref){return g.object_refs}}return null},returnMeshObject:function(object_file,data_ref,sceneName,armature,materials,parent,o,done){var _gthis=this;iron_data_Data.getMesh(object_file,data_ref,function(mesh){if(mesh.isSkinned){var g=mesh.geom;if(armature!=null){g.addArmature(armature)}else{g.addAction(mesh.format.objects,"none")}}var object=_gthis.addMeshObject(mesh,materials,parent);if(o.particle_refs!=null){var _g=0;var _g1=o.particle_refs;while(_g<_g1.length){var ref=_g1[_g];++_g;js_Boot.__cast(object,iron_object_MeshObject).setupParticleSystem(sceneName,ref)}}if(o.tilesheet_ref!=null){js_Boot.__cast(object,iron_object_MeshObject).setupTilesheet(sceneName,o.tilesheet_ref,o.tilesheet_action_ref)}_gthis.returnObject(object,o,done)})},returnObject:function(object,o,done){var _gthis=this;if(object!=null&&o.object_actions!=null){var oactions=[];while(oactions.length<o.object_actions.length)oactions.push(null);var actionsLoaded=0;var _g1=0;var _g=o.object_actions.length;while(_g1<_g){var i=[_g1++];var ref=o.object_actions[i[0]];if(ref=="null"){actionsLoaded+=1;continue}iron_data_Data.getSceneRaw(ref,function(i1){return function(action){oactions[i1[0]]=action;actionsLoaded+=1;if(actionsLoaded==o.object_actions.length){_gthis.returnObjectLoaded(object,o,oactions,done)}}}(i))}}else{this.returnObjectLoaded(object,o,null,done)}},returnObjectLoaded:function(object,o,oactions,done){if(object!=null){object.raw=o;object.name=o.name;if(o.visible!=null){object.visible=o.visible}if(o.visible_mesh!=null){object.visibleMesh=o.visible_mesh}if(o.visible_shadow!=null){object.visibleShadow=o.visible_shadow}iron_Scene.createConstraints(o.constraints,object);iron_Scene.generateTransform(o,object.transform);object.setupAnimation(oactions);if(o.groups!=null){if(this.groups==null){this.groups=new haxe_ds_StringMap}var _g=0;var _g1=o.groups;while(_g<_g1.length){var gname=_g1[_g];++_g;var _this=this.groups;var g=__map_reserved[gname]!=null?_this.getReserved(gname):_this.h[gname];if(g==null){g=[];var _this1=this.groups;if(__map_reserved[gname]!=null){_this1.setReserved(gname,g)}else{_this1.h[gname]=g}}g.push(object)}}iron_Scene.createTraits(o.traits,object)}done(object)},loadEmbeddedData:function(datas,done){var _gthis=this;if(datas==null){done();return}var loaded=0;var _g=0;while(_g<datas.length){var file=[datas[_g]];++_g;iron_data_Data.getImage(file[0],function(file1){return function(image){var _this=_gthis.embedded;if(__map_reserved[file1[0]]!=null){_this.setReserved(file1[0],image)}else{_this.h[file1[0]]=image}loaded+=1;if(loaded==datas.length){done()}}}(file))}},notifyOnInit:function(f){if(this.ready){f()}else{this.traitInits.push(f)}},notifyOnRemove:function(f){this.traitRemoves.push(f)},__class__:iron_Scene};var iron_data_Armature=function(name,actions){this.matsReady=false;this.actions=[];this.name=name;var _g=0;while(_g<actions.length){var a=actions[_g];++_g;var _g1=0;var _g2=a.objects;while(_g1<_g2.length){var o=_g2[_g1];++_g1;iron_data_Armature.setParents(o)}var bones=[[]];iron_data_Armature.traverseBones(a.objects,function(bones1){return function(object){bones1[0].push(object)}}(bones));this.actions.push({name:a.name,bones:bones[0],mats:null})}};$hxClasses["iron.data.Armature"]=iron_data_Armature;iron_data_Armature.__name__=true;iron_data_Armature.setParents=function(object){if(object.children==null){return}var _g=0;var _g1=object.children;while(_g<_g1.length){var o=_g1[_g];++_g;o.parent=object;iron_data_Armature.setParents(o)}};iron_data_Armature.traverseBones=function(objects,callback){var _g1=0;var _g=objects.length;while(_g1<_g){var i=_g1++;iron_data_Armature.traverseBonesStep(objects[i],callback)}};iron_data_Armature.traverseBonesStep=function(object,callback){if(object.type=="bone_object"){callback(object)}if(object.children==null){return}var _g1=0;var _g=object.children.length;while(_g1<_g){var i=_g1++;iron_data_Armature.traverseBonesStep(object.children[i],callback)}};iron_data_Armature.prototype={name:null,actions:null,matsReady:null,initMats:function(){if(this.matsReady){return}this.matsReady=true;var _g=0;var _g1=this.actions;while(_g<_g1.length){var a=_g1[_g];++_g;if(a.mats!=null){continue}a.mats=[];var _g2=0;var _g3=a.bones;while(_g2<_g3.length){var b=_g3[_g2];++_g2;a.mats.push(iron_math_Mat4.fromFloat32Array(b.transform.values))}}},getAction:function(name){var _g=0;var _g1=this.actions;while(_g<_g1.length){var a=_g1[_g];++_g;if(a.name==name){return a}}return null},__class__:iron_data_Armature};var iron_data_Data=function(){};$hxClasses["iron.data.Data"]=iron_data_Data;iron_data_Data.__name__=true;iron_data_Data.getMesh=function(file,name,done){var handle=file+name;var _this=iron_data_Data.cachedMeshes;var cached=__map_reserved[handle]!=null?_this.getReserved(handle):_this.h[handle];if(cached!=null){done(cached);return}var _this1=iron_data_Data.loadingMeshes;var loading=__map_reserved[handle]!=null?_this1.getReserved(handle):_this1.h[handle];if(loading!=null){loading.push(done);return}var _this2=iron_data_Data.loadingMeshes;var key=file+name;var value=[done];if(__map_reserved[key]!=null){_this2.setReserved(key,value)}else{_this2.h[key]=value}iron_data_MeshData.parse(file,name,function(b){var _this3=iron_data_Data.cachedMeshes;var key1=file+name;if(__map_reserved[key1]!=null){_this3.setReserved(key1,b)}else{_this3.h[key1]=b}b.handle=handle;var _g=0;var _this4=iron_data_Data.loadingMeshes;var key2=file+name;var _g1=__map_reserved[key2]!=null?_this4.getReserved(key2):_this4.h[key2];while(_g<_g1.length){var f=_g1[_g];++_g;f(b)}iron_data_Data.loadingMeshes.remove(file+name)})};iron_data_Data.getLamp=function(file,name,done){var _this=iron_data_Data.cachedLamps;var key=file+name;var cached=__map_reserved[key]!=null?_this.getReserved(key):_this.h[key];if(cached!=null){done(cached);return}var _this1=iron_data_Data.loadingLamps;var key1=file+name;var loading=__map_reserved[key1]!=null?_this1.getReserved(key1):_this1.h[key1];if(loading!=null){loading.push(done);return}var _this2=iron_data_Data.loadingLamps;var key2=file+name;var value=[done];if(__map_reserved[key2]!=null){_this2.setReserved(key2,value)}else{_this2.h[key2]=value}iron_data_LampData.parse(file,name,function(b){var _this3=iron_data_Data.cachedLamps;var key3=file+name;if(__map_reserved[key3]!=null){_this3.setReserved(key3,b)}else{_this3.h[key3]=b}var _g=0;var _this4=iron_data_Data.loadingLamps;var key4=file+name;var _g1=__map_reserved[key4]!=null?_this4.getReserved(key4):_this4.h[key4];while(_g<_g1.length){var f=_g1[_g];++_g;f(b)}iron_data_Data.loadingLamps.remove(file+name)})};iron_data_Data.getCamera=function(file,name,done){var _this=iron_data_Data.cachedCameras;var key=file+name;var cached=__map_reserved[key]!=null?_this.getReserved(key):_this.h[key];if(cached!=null){done(cached);return}var _this1=iron_data_Data.loadingCameras;var key1=file+name;var loading=__map_reserved[key1]!=null?_this1.getReserved(key1):_this1.h[key1];if(loading!=null){loading.push(done);return}var _this2=iron_data_Data.loadingCameras;var key2=file+name;var value=[done];if(__map_reserved[key2]!=null){_this2.setReserved(key2,value)}else{_this2.h[key2]=value}iron_data_CameraData.parse(file,name,function(b){var _this3=iron_data_Data.cachedCameras;var key3=file+name;if(__map_reserved[key3]!=null){_this3.setReserved(key3,b)}else{_this3.h[key3]=b}var _g=0;var _this4=iron_data_Data.loadingCameras;var key4=file+name;var _g1=__map_reserved[key4]!=null?_this4.getReserved(key4):_this4.h[key4];while(_g<_g1.length){var f=_g1[_g];++_g;f(b)}iron_data_Data.loadingCameras.remove(file+name)})};iron_data_Data.getMaterial=function(file,name,done){var _this=iron_data_Data.cachedMaterials;var key=file+name;var cached=__map_reserved[key]!=null?_this.getReserved(key):_this.h[key];if(cached!=null){done(cached);return}var _this1=iron_data_Data.loadingMaterials;var key1=file+name;var loading=__map_reserved[key1]!=null?_this1.getReserved(key1):_this1.h[key1];if(loading!=null){loading.push(done);return}var _this2=iron_data_Data.loadingMaterials;var key2=file+name;var value=[done];if(__map_reserved[key2]!=null){_this2.setReserved(key2,value)}else{_this2.h[key2]=value}iron_data_MaterialData.parse(file,name,function(b){var _this3=iron_data_Data.cachedMaterials;var key3=file+name;if(__map_reserved[key3]!=null){_this3.setReserved(key3,b)}else{_this3.h[key3]=b}var _g=0;var _this4=iron_data_Data.loadingMaterials;var key4=file+name;var _g1=__map_reserved[key4]!=null?_this4.getReserved(key4):_this4.h[key4];while(_g<_g1.length){var f=_g1[_g];++_g;f(b)}iron_data_Data.loadingMaterials.remove(file+name)})};iron_data_Data.getParticle=function(file,name,done){var _this=iron_data_Data.cachedParticles;var key=file+name;var cached=__map_reserved[key]!=null?_this.getReserved(key):_this.h[key];if(cached!=null){done(cached);return}var _this1=iron_data_Data.loadingParticles;var key1=file+name;var loading=__map_reserved[key1]!=null?_this1.getReserved(key1):_this1.h[key1];if(loading!=null){loading.push(done);return}var _this2=iron_data_Data.loadingParticles;var key2=file+name;var value=[done];if(__map_reserved[key2]!=null){_this2.setReserved(key2,value)}else{_this2.h[key2]=value}iron_data_ParticleData.parse(file,name,function(b){var _this3=iron_data_Data.cachedParticles;var key3=file+name;if(__map_reserved[key3]!=null){_this3.setReserved(key3,b)}else{_this3.h[key3]=b}var _g=0;var _this4=iron_data_Data.loadingParticles;var key4=file+name;var _g1=__map_reserved[key4]!=null?_this4.getReserved(key4):_this4.h[key4];while(_g<_g1.length){var f=_g1[_g];++_g;f(b)}iron_data_Data.loadingParticles.remove(file+name)})};iron_data_Data.getWorld=function(file,name,done){if(name==null){done(null);return}var _this=iron_data_Data.cachedWorlds;var key=file+name;var cached=__map_reserved[key]!=null?_this.getReserved(key):_this.h[key];if(cached!=null){done(cached);return}var _this1=iron_data_Data.loadingWorlds;var key1=file+name;var loading=__map_reserved[key1]!=null?_this1.getReserved(key1):_this1.h[key1];if(loading!=null){loading.push(done);return}var _this2=iron_data_Data.loadingWorlds;var key2=file+name;var value=[done];if(__map_reserved[key2]!=null){_this2.setReserved(key2,value)}else{_this2.h[key2]=value}iron_data_WorldData.parse(file,name,function(b){var _this3=iron_data_Data.cachedWorlds;var key3=file+name;if(__map_reserved[key3]!=null){_this3.setReserved(key3,b)}else{_this3.h[key3]=b}var _g=0;var _this4=iron_data_Data.loadingWorlds;var key4=file+name;var _g1=__map_reserved[key4]!=null?_this4.getReserved(key4):_this4.h[key4];while(_g<_g1.length){var f=_g1[_g];++_g;f(b)}iron_data_Data.loadingWorlds.remove(file+name)})};iron_data_Data.getShader=function(file,name,overrideContext,done){var cacheName=name;if(overrideContext!=null){cacheName+="2"}var _this=iron_data_Data.cachedShaders;var cached=__map_reserved[cacheName]!=null?_this.getReserved(cacheName):_this.h[cacheName];if(cached!=null){done(cached);return}var _this1=iron_data_Data.loadingShaders;var loading=__map_reserved[cacheName]!=null?_this1.getReserved(cacheName):_this1.h[cacheName];if(loading!=null){loading.push(done);return}var _this2=iron_data_Data.loadingShaders;var value=[done];if(__map_reserved[cacheName]!=null){_this2.setReserved(cacheName,value)}else{_this2.h[cacheName]=value}iron_data_ShaderData.parse(file,name,overrideContext,function(b){var _this3=iron_data_Data.cachedShaders;if(__map_reserved[cacheName]!=null){_this3.setReserved(cacheName,b)}else{_this3.h[cacheName]=b}var _g=0;var _this4=iron_data_Data.loadingShaders;var _g1=__map_reserved[cacheName]!=null?_this4.getReserved(cacheName):_this4.h[cacheName];while(_g<_g1.length){var f=_g1[_g];++_g;f(b)}iron_data_Data.loadingShaders.remove(cacheName)})};iron_data_Data.getSceneRaw=function(file,done){var _this=iron_data_Data.cachedSceneRaws;var cached=__map_reserved[file]!=null?_this.getReserved(file):_this.h[file];if(cached!=null){done(cached);return}var _this1=iron_data_Data.loadingSceneRaws;var loading=__map_reserved[file]!=null?_this1.getReserved(file):_this1.h[file];if(loading!=null){loading.push(done);return}var _this2=iron_data_Data.loadingSceneRaws;var value=[done];if(__map_reserved[file]!=null){_this2.setReserved(file,value)}else{_this2.h[file]=value}var compressed=StringTools.endsWith(file,".zip");var isJson=StringTools.endsWith(file,".json");var ext=compressed||isJson||StringTools.endsWith(file,".arm")?"":".arm";iron_data_Data.getBlob(file+ext,function(b){if(compressed){var input=new haxe_io_BytesInput(b.toBytes());var entry=haxe_zip_Reader.readZip(input).first();if(entry==null){haxe_Log.trace("Failed to uncompress "+file,{fileName:"Data.hx",lineNumber:246,className:"iron.data.Data",methodName:"getSceneRaw"});return}if(entry.compressed){b=kha_internal_BytesBlob.fromBytes(haxe_zip_Reader.unzip(entry))}else{b=kha_internal_BytesBlob.fromBytes(entry.data)}}var parsed=null;if(isJson){var s=b.toString();if(s.charAt(0)=="{"){parsed=JSON.parse(s)}else{var i=new haxe_io_BytesInput(b.toBytes());i.set_bigEndian(true);parsed=iron_system_ArmPack.read(i)}}else{var i1=new haxe_io_BytesInput(b.toBytes());i1.set_bigEndian(true);parsed=iron_system_ArmPack.read(i1)}iron_data_Data.returnSceneRaw(file,parsed)})};iron_data_Data.returnSceneRaw=function(file,parsed){var _this=iron_data_Data.cachedSceneRaws;if(__map_reserved[file]!=null){_this.setReserved(file,parsed)}else{_this.h[file]=parsed}var _g=0;var _this1=iron_data_Data.loadingSceneRaws;var _g1=__map_reserved[file]!=null?_this1.getReserved(file):_this1.h[file];while(_g<_g1.length){var f=_g1[_g];++_g;f(parsed)}iron_data_Data.loadingSceneRaws.remove(file)};iron_data_Data.getMeshRawByName=function(datas,name){if(name==""){return datas[0]}var _g=0;while(_g<datas.length){var dat=datas[_g];++_g;if(dat.name==name){return dat}}return null};iron_data_Data.getLampRawByName=function(datas,name){if(name==""){return datas[0]}var _g=0;while(_g<datas.length){var dat=datas[_g];++_g;if(dat.name==name){return dat}}return null};iron_data_Data.getCameraRawByName=function(datas,name){if(name==""){return datas[0]}var _g=0;while(_g<datas.length){var dat=datas[_g];++_g;if(dat.name==name){return dat}}return null};iron_data_Data.getMaterialRawByName=function(datas,name){if(name==""){return datas[0]}var _g=0;while(_g<datas.length){var dat=datas[_g];++_g;if(dat.name==name){return dat}}return null};iron_data_Data.getParticleRawByName=function(datas,name){if(name==""){return datas[0]}var _g=0;while(_g<datas.length){var dat=datas[_g];++_g;if(dat.name==name){return dat}}return null};iron_data_Data.getWorldRawByName=function(datas,name){if(name==""){return datas[0]}var _g=0;while(_g<datas.length){var dat=datas[_g];++_g;if(dat.name==name){return dat}}return null};iron_data_Data.getShaderRawByName=function(datas,name){if(name==""){return datas[0]}var _g=0;while(_g<datas.length){var dat=datas[_g];++_g;if(dat.name==name){return dat}}return null};iron_data_Data.getSpeakerRawByName=function(datas,name){if(name==""){return datas[0]}var _g=0;while(_g<datas.length){var dat=datas[_g];++_g;if(dat.name==name){return dat}}return null};iron_data_Data.getBlob=function(file,done){var _this=iron_data_Data.cachedBlobs;var cached=__map_reserved[file]!=null?_this.getReserved(file):_this.h[file];if(cached!=null){done(cached);return}var _this1=iron_data_Data.loadingBlobs;var loading=__map_reserved[file]!=null?_this1.getReserved(file):_this1.h[file];if(loading!=null){loading.push(done);return}var _this2=iron_data_Data.loadingBlobs;var value=[done];if(__map_reserved[file]!=null){_this2.setReserved(file,value)}else{_this2.h[file]=value}kha_Assets.loadBlobFromPath(iron_data_Data.dataPath+file,function(b){var _this3=iron_data_Data.cachedBlobs;if(__map_reserved[file]!=null){_this3.setReserved(file,b)}else{_this3.h[file]=b}var _g=0;var _this4=iron_data_Data.loadingBlobs;var _g1=__map_reserved[file]!=null?_this4.getReserved(file):_this4.h[file];while(_g<_g1.length){var f=_g1[_g];++_g;f(b)}iron_data_Data.loadingBlobs.remove(file);iron_data_Data.assetsLoaded++},null,{fileName:"Data.hx",lineNumber:392,className:"iron.data.Data",methodName:"getBlob"})};iron_data_Data.getImage=function(file,done,readable,format){if(format==null){format="RGBA32"}if(readable==null){readable=false}var _this=iron_data_Data.cachedImages;var cached=__map_reserved[file]!=null?_this.getReserved(file):_this.h[file];if(cached!=null){done(cached);return}var _this1=iron_data_Data.loadingImages;var loading=__map_reserved[file]!=null?_this1.getReserved(file):_this1.h[file];if(loading!=null){loading.push(done);return}var _this2=iron_data_Data.loadingImages;var value=[done];if(__map_reserved[file]!=null){_this2.setReserved(file,value)}else{_this2.h[file]=value}kha_Assets.loadImageFromPath(iron_data_Data.dataPath+file,readable,function(b){var _this3=iron_data_Data.cachedImages;if(__map_reserved[file]!=null){_this3.setReserved(file,b)}else{_this3.h[file]=b}var _g=0;var _this4=iron_data_Data.loadingImages;var _g1=__map_reserved[file]!=null?_this4.getReserved(file):_this4.h[file];while(_g<_g1.length){var f=_g1[_g];++_g;f(b)}iron_data_Data.loadingImages.remove(file);iron_data_Data.assetsLoaded++},null,{fileName:"Data.hx",lineNumber:415,className:"iron.data.Data",methodName:"getImage"})};iron_data_Data.getSound=function(file,done){if(StringTools.endsWith(file,".wav")){file=file.substring(0,file.length-4)+".ogg"}var _this=iron_data_Data.cachedSounds;var cached=__map_reserved[file]!=null?_this.getReserved(file):_this.h[file];if(cached!=null){done(cached);return}var _this1=iron_data_Data.loadingSounds;var loading=__map_reserved[file]!=null?_this1.getReserved(file):_this1.h[file];if(loading!=null){loading.push(done);return}var _this2=iron_data_Data.loadingSounds;var value=[done];if(__map_reserved[file]!=null){_this2.setReserved(file,value)}else{_this2.h[file]=value}kha_Assets.loadSoundFromPath(iron_data_Data.dataPath+file,function(b){b.uncompress(function(){var _this3=iron_data_Data.cachedSounds;if(__map_reserved[file]!=null){_this3.setReserved(file,b)}else{_this3.h[file]=b}var _g=0;var _this4=iron_data_Data.loadingSounds;var _g1=__map_reserved[file]!=null?_this4.getReserved(file):_this4.h[file];while(_g<_g1.length){var f=_g1[_g];++_g;f(b)}iron_data_Data.loadingSounds.remove(file);iron_data_Data.assetsLoaded++})},null,{fileName:"Data.hx",lineNumber:442,className:"iron.data.Data",methodName:"getSound"})};iron_data_Data.prototype={__class__:iron_data_Data};var iron_data_CameraData=function(raw,done,file){if(file==null){file=""}this.renderTarget=null;iron_data_Data.call(this);this.raw=raw;this.name=raw.name;if(raw.render_to_texture){this.renderTarget=kha_Image.createRenderTarget(raw.texture_resolution_x,raw.texture_resolution_y,kha_graphics4_TextureFormat.RGBA32,0)}done(this)};$hxClasses["iron.data.CameraData"]=iron_data_CameraData;iron_data_CameraData.__name__=true;iron_data_CameraData.parse=function(name,id,done){iron_data_Data.getSceneRaw(name,function(format){var raw=iron_data_Data.getCameraRawByName(format.camera_datas,id);if(raw==null){haxe_Log.trace('Camera data "'+id+'" not found!',{fileName:"CameraData.hx",lineNumber:30,className:"iron.data.CameraData",methodName:"parse"});done(null)}new iron_data_CameraData(raw,done,name)})};iron_data_CameraData.__super__=iron_data_Data;iron_data_CameraData.prototype=$extend(iron_data_Data.prototype,{name:null,raw:null,renderTarget:null,__class__:iron_data_CameraData});var iron_data_ConstData=function(){};$hxClasses["iron.data.ConstData"]=iron_data_ConstData;iron_data_ConstData.__name__=true;iron_data_ConstData.createScreenAlignedData=function(){var data=[-1,-1,3,-1,-1,3];var indices=[0,1,2];var structure=new kha_graphics4_VertexStructure;structure.add("pos",kha_graphics4_VertexData.Float2);iron_data_ConstData.screenAlignedVB=new kha_graphics4_VertexBuffer(data.length/(structure.byteSize()/4|0)|0,structure,kha_graphics4_Usage.StaticUsage);var vertices=iron_data_ConstData.screenAlignedVB.lock();var _g1=0;var _g=vertices.length;while(_g1<_g){var i=_g1++;vertices[i]=data[i]}iron_data_ConstData.screenAlignedVB.unlock();iron_data_ConstData.screenAlignedIB=new kha_graphics4_IndexBuffer(indices.length,kha_graphics4_Usage.StaticUsage);var id=iron_data_ConstData.screenAlignedIB.lock();var _g11=0;var _g2=id.length;while(_g11<_g2){var i1=_g11++;id[i1]=indices[i1]}iron_data_ConstData.screenAlignedIB.unlock()};iron_data_ConstData.createBoxData=function(){var data=[-1,1,-1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,1,-1,1,1,1,1,-1,1,1,-1,-1,1];var indices=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];var structure=new kha_graphics4_VertexStructure;structure.add("pos",kha_graphics4_VertexData.Float3);iron_data_ConstData.boxVB=new kha_graphics4_VertexBuffer(data.length/(structure.byteSize()/4|0)|0,structure,kha_graphics4_Usage.StaticUsage);var vertices=iron_data_ConstData.boxVB.lock();var _g1=0;var _g=vertices.length;while(_g1<_g){var i=_g1++;vertices[i]=data[i]}iron_data_ConstData.boxVB.unlock();iron_data_ConstData.boxIB=new kha_graphics4_IndexBuffer(indices.length,kha_graphics4_Usage.StaticUsage);var id=iron_data_ConstData.boxIB.lock();var _g11=0;var _g2=id.length;while(_g11<_g2){var i1=_g11++;id[i1]=indices[i1]}iron_data_ConstData.boxIB.unlock()};iron_data_ConstData.createSkydomeData=function(){var structure=new kha_graphics4_VertexStructure;structure.add("pos",kha_graphics4_VertexData.Float3);structure.add("nor",kha_graphics4_VertexData.Float3);var structLength=structure.byteSize()/4|0;var pos=iron_data_ConstData.skydomePos;var nor=iron_data_ConstData.skydomeNor;iron_data_ConstData.skydomeVB=new kha_graphics4_VertexBuffer(pos.length/3|0,structure,kha_graphics4_Usage.StaticUsage);var vertices=iron_data_ConstData.skydomeVB.lock();var _g1=0;var _g=vertices.length/structLength|0;while(_g1<_g){var i=_g1++;vertices[i*structLength]=pos[i*3];vertices[i*structLength+1]=pos[i*3+1];vertices[i*structLength+2]=pos[i*3+2];vertices[i*structLength+3]=-nor[i*3];vertices[i*structLength+4]=-nor[i*3+1];vertices[i*structLength+5]=-nor[i*3+2]}iron_data_ConstData.skydomeVB.unlock();var indices=iron_data_ConstData.skydomeIndices;iron_data_ConstData.skydomeIB=new kha_graphics4_IndexBuffer(indices.length,kha_graphics4_Usage.StaticUsage);var id=iron_data_ConstData.skydomeIB.lock();var _g11=0;var _g2=id.length;while(_g11<_g2){var i1=_g11++;id[i1]=indices[i1]}iron_data_ConstData.skydomeIB.unlock()};iron_data_ConstData.createSphereData=function(){var structure=new kha_graphics4_VertexStructure;structure.add("pos",kha_graphics4_VertexData.Float3);var data=iron_data_ConstData.spherePos;iron_data_ConstData.sphereVB=new kha_graphics4_VertexBuffer(data.length/(structure.byteSize()/4|0)|0,structure,kha_graphics4_Usage.StaticUsage);var vertices=iron_data_ConstData.sphereVB.lock();var _g1=0;var _g=vertices.length;while(_g1<_g){var i=_g1++;vertices[i]=data[i]}iron_data_ConstData.sphereVB.unlock();var indices=iron_data_ConstData.sphereIndices;iron_data_ConstData.sphereIB=new kha_graphics4_IndexBuffer(indices.length,kha_graphics4_Usage.StaticUsage);var id=iron_data_ConstData.sphereIB.lock();var _g11=0;var _g2=id.length;while(_g11<_g2){var i1=_g11++;id[i1]=indices[i1]}iron_data_ConstData.sphereIB.unlock()};var iron_data_Geometry=function(indices,materialIndices,positions,normals,uvs,uvs1,cols,tangents,bones,weights,usage,instanceOffsets){this.mats=null;this.actions=null;this.skeletonBoneLens=null;this.skeletonBoneRefs=null;this.skeletonTransformsI=null;this.skinBoneWeights=null;this.skinBoneIndices=null;this.skinBoneCounts=null;this.instanceCount=0;this.instanced=false;this.instancedVB=null;this.numTris=0;this.ready=false;this.count=-1;this.start=0;this.vertexBufferMap=new haxe_ds_StringMap;if(usage==null){usage=kha_graphics4_Usage.StaticUsage}this.indices=indices;this.materialIndices=materialIndices;this.usage=usage;this.positions=positions;this.normals=normals;this.uvs=uvs;this.uvs1=uvs1;this.cols=cols;this.tangents=tangents;this.bones=bones;this.weights=weights;this.instanceOffsets=instanceOffsets;this.struct=iron_data_Geometry.getVertexStructure(positions!=null,normals!=null,uvs!=null,uvs1!=null,cols!=null,tangents!=null,bones!=null,weights!=null);this.structLength=this.struct.byteSize()/4|0;this.structStr="";var _g=0;var _g1=this.struct.elements;while(_g<_g1.length){var e=_g1[_g];++_g;this.structStr+=e.name}};$hxClasses["iron.data.Geometry"]=iron_data_Geometry;iron_data_Geometry.__name__=true;iron_data_Geometry.getVertexStructure=function(pos,nor,tex,tex1,col,tang,bone,weight){if(weight==null){weight=false}if(bone==null){bone=false}if(tang==null){tang=false}if(col==null){col=false}if(tex1==null){tex1=false}if(tex==null){tex=false}if(nor==null){nor=false}if(pos==null){pos=false}var structure=new kha_graphics4_VertexStructure;if(pos){structure.add("pos",kha_graphics4_VertexData.Float3)}if(nor){structure.add("nor",kha_graphics4_VertexData.Float3)}if(tex){structure.add("tex",kha_graphics4_VertexData.Float2)}if(tex1){structure.add("tex1",kha_graphics4_VertexData.Float2)}if(col){structure.add("col",kha_graphics4_VertexData.Float3)}if(tang){structure.add("tang",kha_graphics4_VertexData.Float3)}if(bone){structure.add("bone",kha_graphics4_VertexData.Float4)}if(weight){structure.add("weight",kha_graphics4_VertexData.Float4)}return structure};iron_data_Geometry.buildVertices=function(vertices,pa,na,uva,uva1,ca,tanga,bonea,weighta,offset,fakeUVs){if(fakeUVs==null){fakeUVs=false}if(offset==null){offset=0}var numVertices=pa.length/3|0;var di=-1+offset;var _g1=0;var _g=numVertices;while(_g1<_g){var i=_g1++;vertices[++di]=pa[i*3];vertices[++di]=pa[i*3+1];vertices[++di]=pa[i*3+2];if(na!=null){vertices[++di]=na[i*3];vertices[++di]=na[i*3+1];vertices[++di]=na[i*3+2]}if(uva!=null){vertices[++di]=uva[i*2];vertices[++di]=uva[i*2+1]}else if(fakeUVs){vertices[++di]=0;vertices[++di]=0}if(uva1!=null){vertices[++di]=uva1[i*2];vertices[++di]=uva1[i*2+1]}if(ca!=null){vertices[++di]=ca[i*3];vertices[++di]=ca[i*3+1];vertices[++di]=ca[i*3+2]}if(tanga!=null){vertices[++di]=tanga[i*3];vertices[++di]=tanga[i*3+1];vertices[++di]=tanga[i*3+2]}if(bonea!=null){vertices[++di]=bonea[i*4];vertices[++di]=bonea[i*4+1];vertices[++di]=bonea[i*4+2];vertices[++di]=bonea[i*4+3]}if(weighta!=null){vertices[++di]=weighta[i*4];vertices[++di]=weighta[i*4+1];vertices[++di]=weighta[i*4+2];vertices[++di]=weighta[i*4+3]}}};iron_data_Geometry.prototype={vertexBuffer:null,vertexBufferMap:null,indexBuffers:null,start:null,count:null,ready:null,vertices:null,indices:null,numTris:null,materialIndices:null,struct:null,structLength:null,structStr:null,usage:null,instancedVB:null,instanced:null,instanceCount:null,positions:null,normals:null,uvs:null,uvs1:null,cols:null,tangents:null,bones:null,weights:null,instanceOffsets:null,offsetVecs:null,skinBoneCounts:null,skinBoneIndices:null,skinBoneWeights:null,skeletonTransformsI:null,skeletonBoneRefs:null,skeletonBoneLens:null,actions:null,mats:null,applyScale:function(sx,sy,sz){var vertices=this.vertexBuffer.lock();var _g1=0;var _g=vertices.length/this.structLength|0;while(_g1<_g){var i=_g1++;var _g2=i*this.structLength;var _g3=vertices;_g3[_g2]*=sx;var _g21=i*this.structLength+1;var _g31=vertices;_g31[_g21]*=sy;var _g22=i*this.structLength+2;var _g32=vertices;_g32[_g22]*=sz}this.vertexBuffer.unlock()},setupInstanced:function(offsets,usage){this.offsetVecs=[];var _g1=0;var _g=offsets.length/3|0;while(_g1<_g){var i=_g1++;this.offsetVecs.push(new iron_math_Vec4(offsets[i*3],offsets[i*3+1],offsets[i*3+2]))}this.instanced=true;this.instanceCount=offsets.length/3|0;var structure=new kha_graphics4_VertexStructure;structure.instanced=true;structure.add("off",kha_graphics4_VertexData.Float3);this.instancedVB=new kha_graphics4_VertexBuffer(this.instanceCount,structure,usage,1);var vertices=this.instancedVB.lock();var _g11=0;var _g2=vertices.length;while(_g11<_g2){var i1=_g11++;vertices[i1]=offsets[i1]}this.instancedVB.unlock()},hasAttrib:function(s,vs){var _g=0;while(_g<vs.length){var e=vs[_g];++_g;if(e.name==s){return true}}return false},get:function(vs){var s="";var _g=0;while(_g<vs.length){var e=vs[_g];++_g;s+=e.name}var _this=this.vertexBufferMap;var vb=__map_reserved[s]!=null?_this.getReserved(s):_this.h[s];if(vb==null){var apos=this.hasAttrib("pos",vs);var anor=this.hasAttrib("nor",vs);var atex=this.hasAttrib("tex",vs);var atex1=this.hasAttrib("tex1",vs);var acol=this.hasAttrib("col",vs);var atang=this.hasAttrib("tang",vs);var abone=this.hasAttrib("bone",vs);var aweight=this.hasAttrib("weight",vs);var struct=iron_data_Geometry.getVertexStructure(apos,anor,atex,atex1,acol,atang,abone,aweight);vb=new kha_graphics4_VertexBuffer(this.positions.length/3|0,struct,this.usage);this.vertices=vb.lock();iron_data_Geometry.buildVertices(this.vertices,apos?this.positions:null,anor?this.normals:null,atex?this.uvs:null,atex1?this.uvs1:null,acol?this.cols:null,atang?this.tangents:null,abone?this.bones:null,aweight?this.weights:null,0,atex&&this.uvs==null);vb.unlock();var _this1=this.vertexBufferMap;if(__map_reserved[s]!=null){_this1.setReserved(s,vb)}else{_this1.h[s]=vb}}return vb},build:function(){if(this.ready){return}this.vertexBuffer=new kha_graphics4_VertexBuffer(this.positions.length/3|0,this.struct,this.usage);this.vertices=this.vertexBuffer.lock();iron_data_Geometry.buildVertices(this.vertices,this.positions,this.normals,this.uvs,this.uvs1,this.cols,this.tangents,this.bones,this.weights);this.vertexBuffer.unlock();var key=this.structStr;var value=this.vertexBuffer;var _this=this.vertexBufferMap;if(__map_reserved[key]!=null){_this.setReserved(key,value)}else{_this.h[key]=value}this.indexBuffers=[];var _g=0;var _g1=this.indices;while(_g<_g1.length){var id=_g1[_g];++_g;if(id.length==0){continue}var indexBuffer=new kha_graphics4_IndexBuffer(id.length,this.usage);this.numTris+=id.length/3|0;indexBuffer._data=id;indexBuffer.unlock();this.indexBuffers.push(indexBuffer)}if(this.instanceOffsets!=null){this.setupInstanced(this.instanceOffsets,this.usage)}this.ready=true},addArmature:function(armature){var _g=0;var _g1=armature.actions;while(_g<_g1.length){var a=_g1[_g];++_g;this.addAction(a.bones,a.name)}},addAction:function(bones,name){if(bones==null){return}if(this.actions==null){this.actions=new haxe_ds_StringMap;this.mats=new haxe_ds_StringMap}var _this=this.actions;if((__map_reserved[name]!=null?_this.getReserved(name):_this.h[name])!=null){return}var actionBones=[];var _g=0;var _g1=this.skeletonBoneRefs;while(_g<_g1.length){var s=_g1[_g];++_g;var _g2=0;while(_g2<bones.length){var b=bones[_g2];++_g2;if(b.name==s){actionBones.push(b)}}}var _this1=this.actions;if(__map_reserved[name]!=null){_this1.setReserved(name,actionBones)}else{_this1.h[name]=actionBones}var actionMats=[];var _g3=0;while(_g3<actionBones.length){var b1=actionBones[_g3];++_g3;actionMats.push(iron_math_Mat4.fromFloat32Array(b1.transform.values))}var _this2=this.mats;if(__map_reserved[name]!=null){_this2.setReserved(name,actionMats)}else{_this2.h[name]=actionMats}},initSkeletonTransforms:function(transformsI){this.skeletonTransformsI=[];var _g=0;while(_g<transformsI.length){var t=transformsI[_g];++_g;var mi=iron_math_Mat4.fromFloat32Array(t);this.skeletonTransformsI.push(mi)}},__class__:iron_data_Geometry};var iron_data_LampData=function(raw,done){this.colorTexture=null;var _gthis=this;iron_data_Data.call(this);this.raw=raw;this.name=raw.name;if(raw.color_texture!=null){iron_data_Data.getImage(raw.color_texture,function(image){_gthis.colorTexture=image;done(_gthis)})}else{done(this)}};$hxClasses["iron.data.LampData"]=iron_data_LampData;iron_data_LampData.__name__=true;iron_data_LampData.parse=function(name,id,done){iron_data_Data.getSceneRaw(name,function(format){var raw=iron_data_Data.getLampRawByName(format.lamp_datas,id);if(raw==null){haxe_Log.trace('Lamp data "'+id+'" not found!',{fileName:"LampData.hx",lineNumber:42,className:"iron.data.LampData",methodName:"parse"});done(null)}new iron_data_LampData(raw,done)})};iron_data_LampData.__super__=iron_data_Data;iron_data_LampData.prototype=$extend(iron_data_Data.prototype,{name:null,raw:null,colorTexture:null,__class__:iron_data_LampData});var iron_data_MaterialData=function(raw,done,file){if(file==null){file=""}this.contexts=null;var _gthis=this;iron_data_Data.call(this);this.uid=++iron_data_MaterialData.uidCounter;this.raw=raw;this.name=raw.name;var ref=raw.shader.split("/");var object_file="";var data_ref="";if(ref.length==2){object_file=ref[0];data_ref=ref[1]}else{object_file=file;data_ref=raw.shader}iron_data_Data.getShader(object_file,data_ref,raw.override_context,function(b){_gthis.shader=b;_gthis.contexts=[];while(_gthis.contexts.length<raw.contexts.length)_gthis.contexts.push(null);var contextsLoaded=0;var _g1=0;var _g=raw.contexts.length;while(_g1<_g){var i=[_g1++];var c=raw.contexts[i[0]];new iron_data_MaterialContext(c,function(i1){return function(self){_gthis.contexts[i1[0]]=self;contextsLoaded+=1;if(contextsLoaded==raw.contexts.length){done(_gthis)}}}(i))}})};$hxClasses["iron.data.MaterialData"]=iron_data_MaterialData;iron_data_MaterialData.__name__=true;iron_data_MaterialData.parse=function(file,name,done){iron_data_Data.getSceneRaw(file,function(format){var raw=iron_data_Data.getMaterialRawByName(format.material_datas,name);if(raw==null){haxe_Log.trace('Material data "'+name+'" not found!',{fileName:"MaterialData.hx",lineNumber:61,className:"iron.data.MaterialData",methodName:"parse"});done(null)}new iron_data_MaterialData(raw,done,file)})};iron_data_MaterialData.__super__=iron_data_Data;iron_data_MaterialData.prototype=$extend(iron_data_Data.prototype,{uid:null,name:null,raw:null,shader:null,contexts:null,getContext:function(name){var _g=0;var _g1=this.contexts;while(_g<_g1.length){var c=_g1[_g];++_g;if(HxOverrides.substr(c.raw.name,0,name.length)==name){return c}}return null},__class__:iron_data_MaterialData});var iron_data_MaterialContext=function(raw,done){this.id=0;this.textures=null;var _gthis=this;this.raw=raw;this.id=iron_data_MaterialContext.num++;if(raw.bind_textures!=null&&raw.bind_textures.length>0){var length=raw.bind_textures.length;var this1=new Array(length);this.textures=this1;var texturesLoaded=0;var _g1=0;var _g=raw.bind_textures.length;while(_g1<_g){var i=[_g1++];var tex=[raw.bind_textures[i[0]]];if(tex[0].file==""){texturesLoaded+=1;if(texturesLoaded==raw.bind_textures.length){done(this)}continue}iron_data_Data.getImage(tex[0].file,function(tex1,i1){return function(image){_gthis.textures[i1[0]]=image;texturesLoaded+=1;if(tex1[0].mipmaps!=null){var mipmaps=[];while(mipmaps.length<tex1[0].mipmaps.length)mipmaps.push(null);var mipmapsLoaded=0;var _g3=0;var _g2=tex1[0].mipmaps.length;while(_g3<_g2){var j=[_g3++];var name=tex1[0].mipmaps[j[0]];iron_data_Data.getImage(name,function(j1,tex2){return function(mipimg){mipmaps[j1[0]]=mipimg;mipmapsLoaded+=1;if(mipmapsLoaded==tex2[0].mipmaps.length){image.setMipmaps(mipmaps);tex2[0].mipmaps=null;tex2[0].generate_mipmaps=false;if(texturesLoaded==raw.bind_textures.length){done(_gthis)}}}}(j,tex1))}}else if(tex1[0].generate_mipmaps==true&&image!=null){image.generateMipmaps(1e3);tex1[0].mipmaps=null;tex1[0].generate_mipmaps=false;if(texturesLoaded==raw.bind_textures.length){done(_gthis)}}else if(texturesLoaded==raw.bind_textures.length){done(_gthis)}}}(tex,i),false,tex[0].format!=null?tex[0].format:"RGBA32")}}else{done(this)}};$hxClasses["iron.data.MaterialContext"]=iron_data_MaterialContext;iron_data_MaterialContext.__name__=true;iron_data_MaterialContext.prototype={raw:null,textures:null,id:null,setTextureParameters:function(g,textureIndex,context,unitIndex){if(!context.paramsSet[unitIndex]){context.setTextureParameters(g,unitIndex,this.raw.bind_textures[textureIndex]);context.paramsSet[unitIndex]=true}},__class__:iron_data_MaterialContext};var iron_data_MeshBatch=function(){this.buckets=new haxe_ds_ObjectMap};$hxClasses["iron.data.MeshBatch"]=iron_data_MeshBatch;iron_data_MeshBatch.__name__=true;iron_data_MeshBatch.prototype={buckets:null,remove:function(){var b=this.buckets.iterator();while(b.hasNext()){var b1=b.next();this.remove()}},__class__:iron_data_MeshBatch};var iron_data_Bucket=function(){};$hxClasses["iron.data.Bucket"]=iron_data_Bucket;iron_data_Bucket.__name__=true;var iron_data_MeshData=function(raw,done){this.refcount=0;iron_data_Data.call(this);this.raw=raw;this.name=raw.name;var indices=[];var materialIndices=[];var _g=0;var _g1=raw.index_arrays;while(_g<_g1.length){var ind=_g1[_g];++_g;indices.push(ind.values);materialIndices.push(ind.material)}var pa=this.getVertexArrayValues("pos");var na=this.getVertexArrayValues("nor");var uva=this.getVertexArrayValues("tex");var uva1=this.getVertexArrayValues("tex1");var ca=this.getVertexArrayValues("col");var tanga=this.getVertexArrayValues("tang");this.isSkinned=raw.skin!=null;var parsedUsage=kha_graphics4_Usage.StaticUsage;if(raw.dynamic_usage!=null&&raw.dynamic_usage==true){parsedUsage=kha_graphics4_Usage.DynamicUsage}var usage=parsedUsage;var bonea=null;var weighta=null;if(this.isSkinned){var l=(pa.length/3|0)*4;var this1=new Float32Array(l);bonea=this1;var this2=new Float32Array(l);weighta=this2;var index=0;var ai=0;var _g11=0;var _g2=pa.length/3|0;while(_g11<_g2){var i=_g11++;var boneCount=raw.skin.bone_count_array[i];var _g3=index;var _g21=index+boneCount;while(_g3<_g21){var j=_g3++;bonea[ai]=raw.skin.bone_index_array[j];weighta[ai]=raw.skin.bone_weight_array[j];++ai}var _g22=boneCount;while(_g22<4){var j1=_g22++;bonea[ai]=0;weighta[ai]=0;++ai}index+=boneCount}}this.geom=new iron_data_Geometry(indices,materialIndices,pa,na,uva,uva1,ca,tanga,bonea,weighta,usage,raw.instance_offsets);done(this)};$hxClasses["iron.data.MeshData"]=iron_data_MeshData;iron_data_MeshData.__name__=true;iron_data_MeshData.parse=function(name,id,done){iron_data_Data.getSceneRaw(name,function(format){var raw=iron_data_Data.getMeshRawByName(format.mesh_datas,id);if(raw==null){haxe_Log.trace('Mesh data "'+id+'" not found!',{fileName:"MeshData.hx",lineNumber:108,className:"iron.data.MeshData",methodName:"parse"});done(null)}new iron_data_MeshData(raw,function(dat){dat.format=format;if(raw.skin!=null){dat.geom.skinBoneCounts=raw.skin.bone_count_array;dat.geom.skinBoneIndices=raw.skin.bone_index_array;dat.geom.skinBoneWeights=raw.skin.bone_weight_array;dat.geom.skeletonBoneRefs=raw.skin.bone_ref_array;dat.geom.skeletonBoneLens=raw.skin.bone_len_array;dat.geom.initSkeletonTransforms(raw.skin.transformsI)}done(dat)})})};iron_data_MeshData.__super__=iron_data_Data;iron_data_MeshData.prototype=$extend(iron_data_Data.prototype,{name:null,raw:null,format:null,geom:null,refcount:null,handle:null,isSkinned:null,getVertexArrayValues:function(attrib){var _g=0;var _g1=this.raw.vertex_arrays;while(_g<_g1.length){var va=_g1[_g];++_g;if(va.attrib==attrib){return va.values}}return null},__class__:iron_data_MeshData});var iron_data_ParticleData=function(raw,done){iron_data_Data.call(this);this.raw=raw;this.name=raw.name;done(this)};$hxClasses["iron.data.ParticleData"]=iron_data_ParticleData;iron_data_ParticleData.__name__=true;iron_data_ParticleData.parse=function(name,id,done){iron_data_Data.getSceneRaw(name,function(format){var raw=iron_data_Data.getParticleRawByName(format.particle_datas,id);if(raw==null){haxe_Log.trace('Particle data "'+id+'" not found!',{fileName:"ParticleData.hx",lineNumber:23,className:"iron.data.ParticleData",methodName:"parse"});done(null)}new iron_data_ParticleData(raw,done)})};iron_data_ParticleData.__super__=iron_data_Data;iron_data_ParticleData.prototype=$extend(iron_data_Data.prototype,{name:null,raw:null,__class__:iron_data_ParticleData});var iron_data_ShaderData=function(raw,overrideContext,done){this.contexts=[];var _gthis=this;iron_data_Data.call(this);this.raw=raw;this.name=raw.name;var _g=0;var _g1=raw.contexts;while(_g<_g1.length){var c=_g1[_g];++_g;this.contexts.push(null)}var contextsLoaded=0;var _g11=0;var _g2=raw.contexts.length;while(_g11<_g2){var i=[_g11++];var c1=raw.contexts[i[0]];new iron_data_ShaderContext(c1,overrideContext,function(i1){return function(con){_gthis.contexts[i1[0]]=con;contextsLoaded+=1;if(contextsLoaded==raw.contexts.length){done(_gthis)}}}(i))}};$hxClasses["iron.data.ShaderData"]=iron_data_ShaderData;iron_data_ShaderData.__name__=true;iron_data_ShaderData.parse=function(file,name,overrideContext,done){iron_data_Data.getSceneRaw(file,function(format){var raw=iron_data_Data.getShaderRawByName(format.shader_datas,name);if(raw==null){haxe_Log.trace('Shader data "'+name+'" not found!',{fileName:"ShaderData.hx",lineNumber:49,className:"iron.data.ShaderData",methodName:"parse"});done(null)}new iron_data_ShaderData(raw,overrideContext,done)})};iron_data_ShaderData.__super__=iron_data_Data;iron_data_ShaderData.prototype=$extend(iron_data_Data.prototype,{name:null,raw:null,contexts:null,getContext:function(name){var _g=0;var _g1=this.contexts;while(_g<_g1.length){var c=_g1[_g];++_g;if(c.raw.name==name){return c}}return null},__class__:iron_data_ShaderData});var iron_data_ShaderContext=function(raw,overrideContext,done){this.instancing=false;this.raw=raw;this.overrideContext=overrideContext;if(raw.name=="rect"){this.structure=iron_data_ShaderContext.getStructureRect();this.instancing=false}else{this.parseVertexStructure()}this.compile(done)};$hxClasses["iron.data.ShaderContext"]=iron_data_ShaderContext;iron_data_ShaderContext.__name__=true;iron_data_ShaderContext.getStructureRect=function(){if(iron_data_ShaderContext.structureRect==null){iron_data_ShaderContext.structureRect=new kha_graphics4_VertexStructure;iron_data_ShaderContext.structureRect.add("pos",kha_graphics4_VertexData.Float2)}return iron_data_ShaderContext.structureRect};iron_data_ShaderContext.prototype={raw:null,pipeState:null,constants:null,textureUnits:null,paramsSet:null,structure:null,instancing:null,overrideContext:null,compile:function(done){if(this.pipeState!=null){this.pipeState["delete"]()}this.pipeState=new kha_graphics4_PipelineState;this.constants=[];this.textureUnits=[];this.paramsSet=[];if(this.instancing){var instStruct=new kha_graphics4_VertexStructure;instStruct.add("off",kha_graphics4_VertexData.Float3);instStruct.instanced=true;this.pipeState.inputLayout=[this.structure,instStruct]}else{this.pipeState.inputLayout=[this.structure]}this.pipeState.depthWrite=this.raw.depth_write;this.pipeState.depthMode=this.getCompareMode(this.raw.compare_mode);if(this.raw.stencil_mode!=null){if(this.raw.stencil_mode=="always"){this.pipeState.stencilMode=kha_graphics4_CompareMode.Always}else if(this.raw.stencil_mode=="equal"){this.pipeState.stencilMode=kha_graphics4_CompareMode.Equal}else if(this.raw.stencil_mode=="not_equal"){this.pipeState.stencilMode=kha_graphics4_CompareMode.NotEqual}}if(this.raw.stencil_pass!=null){if(this.raw.stencil_pass=="replace"){this.pipeState.stencilBothPass=kha_graphics4_StencilAction.Replace}else if(this.raw.stencil_pass=="keep"){this.pipeState.stencilBothPass=kha_graphics4_StencilAction.Keep}}if(this.raw.stencil_fail!=null&&this.raw.stencil_fail=="keep"){this.pipeState.stencilDepthFail=kha_graphics4_StencilAction.Keep;this.pipeState.stencilFail=kha_graphics4_StencilAction.Keep}if(this.raw.stencil_reference_value!=null){this.pipeState.stencilReferenceValue=this.raw.stencil_reference_value}this.pipeState.cullMode=this.getCullMode(this.raw.cull_mode);if(this.raw.blend_source!=null){this.pipeState.blendSource=this.getBlendingFactor(this.raw.blend_source)}if(this.raw.blend_destination!=null){this.pipeState.blendDestination=this.getBlendingFactor(this.raw.blend_destination)}if(this.raw.blend_operation!=null){this.pipeState.blendOperation=this.getBlendingOperation(this.raw.blend_operation)}if(this.raw.alpha_blend_source!=null){this.pipeState.alphaBlendSource=this.getBlendingFactor(this.raw.alpha_blend_source)}if(this.raw.alpha_blend_destination!=null){this.pipeState.alphaBlendDestination=this.getBlendingFactor(this.raw.alpha_blend_destination)}if(this.raw.alpha_blend_operation!=null){this.pipeState.alphaBlendOperation=this.getBlendingOperation(this.raw.alpha_blend_operation)}if(this.raw.color_write_red!=null){this.pipeState.colorWriteMaskRed=this.raw.color_write_red}if(this.raw.color_write_green!=null){this.pipeState.colorWriteMaskGreen=this.raw.color_write_green}if(this.raw.color_write_blue!=null){this.pipeState.colorWriteMaskBlue=this.raw.color_write_blue}if(this.raw.color_write_alpha!=null){this.pipeState.colorWriteMaskAlpha=this.raw.color_write_alpha}if(this.raw.conservative_raster!=null){this.pipeState.conservativeRasterization=this.raw.conservative_raster}if(this.raw.shader_from_source){this.pipeState.fragmentShader=kha_graphics4_FragmentShader.fromSource(this.raw.fragment_shader);this.pipeState.vertexShader=kha_graphics4_VertexShader.fromSource(this.raw.vertex_shader);this.finishCompile(done)}else{var tmp=StringTools.replace(this.raw.fragment_shader,".","_");this.pipeState.fragmentShader=Reflect.field(kha_Shaders,tmp);var tmp1=StringTools.replace(this.raw.vertex_shader,".","_");this.pipeState.vertexShader=Reflect.field(kha_Shaders,tmp1);if(this.raw.geometry_shader!=null){var tmp2=StringTools.replace(this.raw.geometry_shader,".","_");this.pipeState.geometryShader=Reflect.field(kha_Shaders,tmp2)}if(this.raw.tesscontrol_shader!=null){var tmp3=StringTools.replace(this.raw.tesscontrol_shader,".","_");this.pipeState.tessellationControlShader=Reflect.field(kha_Shaders,tmp3)}if(this.raw.tesseval_shader!=null){var tmp4=StringTools.replace(this.raw.tesseval_shader,".","_");this.pipeState.tessellationEvaluationShader=Reflect.field(kha_Shaders,tmp4)}this.finishCompile(done)}},finishCompile:function(done){if(this.overrideContext!=null){if(this.overrideContext.cull_mode!=null){this.pipeState.cullMode=this.getCullMode(this.overrideContext.cull_mode)}}this.pipeState.compile();if(this.raw.constants!=null){var _g=0;var _g1=this.raw.constants;while(_g<_g1.length){var c=_g1[_g];++_g;this.addConstant(c)}}if(this.raw.texture_units!=null){var _g2=0;var _g11=this.raw.texture_units;while(_g2<_g11.length){var tu=_g11[_g2];++_g2;this.addTexture(tu)}}done(this)},sizeToVD:function(size){if(size==1){return kha_graphics4_VertexData.Float1}else if(size==2){return kha_graphics4_VertexData.Float2}else if(size==3){return kha_graphics4_VertexData.Float3}else if(size==4){return kha_graphics4_VertexData.Float4}return null},parseVertexStructure:function(){this.structure=new kha_graphics4_VertexStructure;var _g=0;var _g1=this.raw.vertex_structure;while(_g<_g1.length){var vs=_g1[_g];++_g;if(vs.name=="off"){this.instancing=true;continue}this.structure.add(vs.name,this.sizeToVD(vs.size))}},getCompareMode:function(s){switch(s){case"always":return kha_graphics4_CompareMode.Always;case"equal":return kha_graphics4_CompareMode.Equal;case"greater":return kha_graphics4_CompareMode.Greater;case"greater_equal":return kha_graphics4_CompareMode.GreaterEqual;case"less":return kha_graphics4_CompareMode.Less;case"less_equal":return kha_graphics4_CompareMode.LessEqual;case"never":return kha_graphics4_CompareMode.Never;case"not_equal":return kha_graphics4_CompareMode.NotEqual;default:return kha_graphics4_CompareMode.Less}},getCullMode:function(s){switch(s){case"clockwise":return kha_graphics4_CullMode.Clockwise;case"none":return kha_graphics4_CullMode.None;default:return kha_graphics4_CullMode.CounterClockwise}},getBlendingOperation:function(s){switch(s){case"add":return kha_graphics4_BlendingOperation.Add;case"max":return kha_graphics4_BlendingOperation.Max;case"min":return kha_graphics4_BlendingOperation.Min;case"reverse_subtract":return kha_graphics4_BlendingOperation.ReverseSubtract;case"subtract":return kha_graphics4_BlendingOperation.Subtract;default:return kha_graphics4_BlendingOperation.Add}},getBlendingFactor:function(s){switch(s){case"blend_one":return kha_graphics4_BlendingFactor.BlendOne;case"blend_zero":return kha_graphics4_BlendingFactor.BlendZero;case"destination_alpha":return kha_graphics4_BlendingFactor.DestinationAlpha;case"destination_color":return kha_graphics4_BlendingFactor.DestinationColor;case"inverse_destination_alpha":return kha_graphics4_BlendingFactor.InverseDestinationAlpha;case"inverse_destination_color":return kha_graphics4_BlendingFactor.InverseDestinationColor;case"inverse_source_alpha":return kha_graphics4_BlendingFactor.InverseSourceAlpha;case"inverse_source_color":return kha_graphics4_BlendingFactor.InverseSourceColor;case"source_alpha":return kha_graphics4_BlendingFactor.SourceAlpha;case"source_color":return kha_graphics4_BlendingFactor.SourceColor;default:return kha_graphics4_BlendingFactor.Undefined}},getTextureAddresing:function(s){switch(s){case"mirror":return kha_graphics4_TextureAddressing.Mirror;case"repeat":return kha_graphics4_TextureAddressing.Repeat;default:return kha_graphics4_TextureAddressing.Clamp}},getTextureFilter:function(s){switch(s){case"linear":return kha_graphics4_TextureFilter.LinearFilter;case"point":return kha_graphics4_TextureFilter.PointFilter;default:return kha_graphics4_TextureFilter.AnisotropicFilter}},getMipmapFilter:function(s){switch(s){case"no":return kha_graphics4_MipMapFilter.NoMipFilter;case"point":return kha_graphics4_MipMapFilter.PointMipFilter;default:return kha_graphics4_MipMapFilter.LinearMipFilter}},addConstant:function(c){this.constants.push(this.pipeState.getConstantLocation(c.name))},addTexture:function(tu){var unit=this.pipeState.getTextureUnit(tu.name);this.textureUnits.push(unit);this.paramsSet.push(false)},setTextureParameters:function(g,unitIndex,tex){var unit=this.textureUnits[unitIndex];g.setTextureParameters(unit,tex.u_addressing==null?kha_graphics4_TextureAddressing.Repeat:this.getTextureAddresing(tex.u_addressing),tex.v_addressing==null?kha_graphics4_TextureAddressing.Repeat:this.getTextureAddresing(tex.v_addressing),tex.min_filter==null?kha_graphics4_TextureFilter.LinearFilter:this.getTextureFilter(tex.min_filter),tex.mag_filter==null?kha_graphics4_TextureFilter.LinearFilter:this.getTextureFilter(tex.mag_filter),tex.mipmap_filter==null?kha_graphics4_MipMapFilter.NoMipFilter:this.getMipmapFilter(tex.mipmap_filter))},__class__:iron_data_ShaderContext};var iron_data_WorldData=function(raw,done){this.vec=new iron_math_Vec4;this.shirr=null;var _gthis=this;iron_data_Data.call(this);this.raw=raw;this.name=raw.name;if(raw.probes!=null&&raw.probes.length>0){this.probes=[];var _g=0;var _g1=raw.probes;while(_g<_g1.length){var p=_g1[_g];++_g;new iron_data_Probe(p,function(self){_gthis.probes.push(self);if(_gthis.probes.length==raw.probes.length){_gthis.loadEnvmap(done)}})}}else{this.loadEnvmap(done)}};$hxClasses["iron.data.WorldData"]=iron_data_WorldData;iron_data_WorldData.__name__=true;iron_data_WorldData.parse=function(name,id,done){iron_data_Data.getSceneRaw(name,function(format){var raw=iron_data_Data.getWorldRawByName(format.world_datas,id);if(raw==null){haxe_Log.trace('World data "'+id+'" not found!',{fileName:"WorldData.hx",lineNumber:51,className:"iron.data.WorldData",methodName:"parse"});done(null)}new iron_data_WorldData(raw,done)})};iron_data_WorldData.getEmptyIrradiance=function(){if(iron_data_WorldData.emptyIrr==null){var this1=new Float32Array(28);iron_data_WorldData.emptyIrr=this1;var _g1=0;var _g=iron_data_WorldData.emptyIrr.length;while(_g1<_g){var i=_g1++;iron_data_WorldData.emptyIrr[i]=0}}return iron_data_WorldData.emptyIrr};iron_data_WorldData.__super__=iron_data_Data;iron_data_WorldData.prototype=$extend(iron_data_Data.prototype,{name:null,raw:null,envmap:null,probes:null,loadEnvmap:function(done){var _gthis=this;if(this.raw.envmap!=null){iron_data_Data.getImage(this.raw.envmap,function(image){_gthis.envmap=image;done(_gthis)})}else{done(this)}},getGlobalProbe:function(){return this.probes[0]},shirr:null,getSHIrradiance:function(){if(this.shirr==null){var this1=new Float32Array(28);this.shirr=this1;var p=this.probes[0];var _g1=0;var _g=p.irradiance.length;while(_g1<_g){var j=_g1++;this.shirr[j]=p.irradiance[j]}}return this.shirr},vec:null,getProbeID:function(t){this.vec.x=t.world.self._30;this.vec.y=t.world.self._31;this.vec.z=t.world.self._32;var dim=t.dim;var _g1=1;var _g=this.probes.length;while(_g1<_g){var i=_g1++;var p=this.probes[i];if(this.vec.x+dim.x/2<p.volumeMin.x||this.vec.x-dim.x/2>p.volumeMax.x||this.vec.y+dim.y/2<p.volumeMin.y||this.vec.y-dim.y/2>p.volumeMax.y||this.vec.z+dim.z/2<p.volumeMin.z||this.vec.z-dim.z/2>p.volumeMax.z){continue}return i}return 0},getProbeVolumeCenter:function(t){return this.probes[this.getProbeID(t)].volumeCenter},getProbeVolumeSize:function(t){return this.probes[this.getProbeID(t)].volume},getProbeStrength:function(t){return this.probes[this.getProbeID(t)].raw.strength},getProbeBlending:function(t){return this.probes[this.getProbeID(t)].raw.blending},__class__:iron_data_WorldData});var iron_data_Probe=function(raw,done){var _gthis=this;this.raw=raw;this.setIrradiance(function(irr){_gthis.irradiance=irr;if(raw.radiance!=null){iron_data_Data.getImage(raw.radiance,function(rad){_gthis.radiance=rad;var radianceMipmaps=[];while(radianceMipmaps.length<raw.radiance_mipmaps)radianceMipmaps.push(null);var ext=raw.radiance.substring(raw.radiance.length-4);var base=raw.radiance.substring(0,raw.radiance.length-4);var mipsLoaded=0;var _g1=0;var _g=raw.radiance_mipmaps;while(_g1<_g){var i=[_g1++];iron_data_Data.getImage(base+"_"+i[0]+ext,function(i1){return function(mipimg){radianceMipmaps[i1[0]]=mipimg;mipsLoaded+=1;if(mipsLoaded==raw.radiance_mipmaps){_gthis.radiance.setMipmaps(radianceMipmaps);_gthis.mipsSet(done)}}}(i),true)}})}else{_gthis.mipsSet(done)}})};$hxClasses["iron.data.Probe"]=iron_data_Probe;iron_data_Probe.__name__=true;iron_data_Probe.prototype={raw:null,radiance:null,irradiance:null,volume:null,volumeCenter:null,volumeMin:null,volumeMax:null,mipsSet:function(done){this.volume=new iron_math_Vec4(this.raw.volume[0],this.raw.volume[1],this.raw.volume[2]);this.volumeCenter=new iron_math_Vec4(this.raw.volume_center[0],this.raw.volume_center[1],this.raw.volume_center[2]);this.volumeMin=new iron_math_Vec4(this.volumeCenter.x-this.volume.x,this.volumeCenter.y-this.volume.y,this.volumeCenter.z-this.volume.z);this.volumeMax=new iron_math_Vec4(this.volumeCenter.x+this.volume.x,this.volumeCenter.y+this.volume.y,this.volumeCenter.z+this.volume.z);done(this)},setIrradiance:function(done){if(this.raw.irradiance==""){var ar=[.775966,1.16761,1.498638,.133694,.215281,.056659,-.022268,-.019376,-.010651,279e-6,185e-6,0,0,-393e-6,-775e-6,.010973,.027268,.043918,.085267,.07367,.038877,0,0,0,.135177,.115614,.060794];var this1=new Float32Array(ar.length);var far=this1;var _g1=0;var _g=far.length;while(_g1<_g){var i=_g1++;far[i]=ar[i]}done(far)}else{var ext=StringTools.endsWith(this.raw.irradiance,".json")?"":".arm";iron_data_Data.getBlob(this.raw.irradiance+ext,function(b){var irradianceParsed;if(ext==""){irradianceParsed=JSON.parse(b.toString())}else{var i1=new haxe_io_BytesInput(b.toBytes());i1.set_bigEndian(true);irradianceParsed=iron_system_ArmPack.read(i1)}var this2=new Float32Array(28);var irr=this2;var _g2=0;while(_g2<27){var i2=_g2++;irr[i2]=irradianceParsed.irradiance[i2]}irr[27]=0;done(irr)})}},__class__:iron_data_Probe};var iron_math_Mat3=function(_00,_10,_20,_01,_11,_21,_02,_12,_22){this.self=new kha_math_FastMatrix3(_00,_10,_20,_01,_11,_21,_02,_12,_22)};$hxClasses["iron.math.Mat3"]=iron_math_Mat3;iron_math_Mat3.__name__=true;iron_math_Mat3.identity=function(){return new iron_math_Mat3(1,0,0,0,1,0,0,0,1)};iron_math_Mat3.prototype={self:null,setFrom4:function(m){this.self._00=m.self._00;this.self._01=m.self._01;this.self._02=m.self._02;this.self._10=m.self._10;this.self._11=m.self._11;this.self._12=m.self._12;this.self._20=m.self._20;this.self._21=m.self._21;this.self._22=m.self._22},__class__:iron_math_Mat3};var iron_math_Quat=function(x,y,z,w){if(w==null){w=1}if(z==null){z=0}if(y==null){y=0}if(x==null){x=0}this.x=x;this.y=y;this.z=z;this.w=w};$hxClasses["iron.math.Quat"]=iron_math_Quat;iron_math_Quat.__name__=true;iron_math_Quat.identity=function(){return new iron_math_Quat(0,0,0,1)};iron_math_Quat.lerp=function(q1,q2,ratio){var c=new iron_math_Quat;var ca=new iron_math_Quat;ca.setFrom(q1);var dot=q1.dot(q2);if(dot<0){ca.w=-ca.w;ca.x=-ca.x;ca.y=-ca.y;ca.z=-ca.z}c.x=ca.x+(q2.x-ca.x)*ratio;c.y=ca.y+(q2.y-ca.y)*ratio;c.z=ca.z+(q2.z-ca.z)*ratio;c.w=ca.w+(q2.w-ca.w)*ratio;c.normalize();return c};iron_math_Quat.slerp=function(q1,q2,v){var c=new iron_math_Quat;var cosHalfTheta=q1.dot(q2);if(Math.abs(cosHalfTheta)>=1){c.x=q1.x;c.y=q1.y;c.z=q1.z;c.w=q1.w;return c}var halfTheta=Math.acos(cosHalfTheta);var invSinHalfTheta=1/Math.sqrt(1-cosHalfTheta*cosHalfTheta);if(Math.abs(invSinHalfTheta)>1e3){return iron_math_Quat.lerp(q1,q2,.5)}var a=Math.sin((1-v)*halfTheta)*invSinHalfTheta;var b=Math.sin(v*halfTheta)*invSinHalfTheta*(cosHalfTheta<0?-1:1);c.x=q1.x*a+q2.x*b;c.y=q1.y*a+q2.y*b;c.z=q1.z*a+q2.z*b;c.w=q1.w*a+q2.w*b;return c};iron_math_Quat.prototype={x:null,y:null,z:null,w:null,fromAxisAngle:function(axis,angle){var s=Math.sin(angle*.5);this.x=axis.x*s;this.y=axis.y*s;this.z=axis.z*s;this.w=Math.cos(angle*.5);this.normalize()},fromRotationMat:function(m){var m11=m.self._00;var m12=m.self._10;var m13=m.self._20;var m21=m.self._01;var m22=m.self._11;var m23=m.self._21;var m31=m.self._02;var m32=m.self._12;var m33=m.self._22;var tr=m11+m22+m33;var s=0;if(tr>0){s=.5/Math.sqrt(tr+1);this.w=.25/s;this.x=(m32-m23)*s;this.y=(m13-m31)*s;this.z=(m21-m12)*s}else if(m11>m22&&m11>m33){s=2*Math.sqrt(1+m11-m22-m33);this.w=(m32-m23)/s;this.x=.25*s;this.y=(m12+m21)/s;this.z=(m13+m31)/s}else if(m22>m33){s=2*Math.sqrt(1+m22-m11-m33);this.w=(m13-m31)/s;this.x=(m12+m21)/s;this.y=.25*s;this.z=(m23+m32)/s}else{s=2*Math.sqrt(1+m33-m11-m22);this.w=(m21-m12)/s;this.x=(m13+m31)/s;this.y=(m23+m32)/s;this.z=.25*s}return this},multquats:function(q1,q2){var x2=q1.x*q2.w+q1.w*q2.x+q1.y*q2.z-q1.z*q2.y;var y2=q1.w*q2.y-q1.x*q2.z+q1.y*q2.w+q1.z*q2.x;var z2=q1.w*q2.z+q1.x*q2.y-q1.y*q2.x+q1.z*q2.w;var w2=q1.w*q2.w-q1.x*q2.x-q1.y*q2.y-q1.z*q2.z;this.x=x2;this.y=y2;this.z=z2;this.w=w2},normalize:function(){var l=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);if(l==0){this.x=0;this.y=0;this.z=0;this.w=0}else{l=1/l;this.x*=l;this.y*=l;this.z*=l;this.w*=l}},setFrom:function(q){this.x=q.x;this.y=q.y;this.z=q.z;this.w=q.w},fromEuler:function(x,y,z){var c1=Math.cos(x/2);var c2=Math.cos(y/2);var c3=Math.cos(z/2);var s1=Math.sin(x/2);var s2=Math.sin(y/2);var s3=Math.sin(z/2);this.x=s1*c2*c3+c1*s2*s3;this.y=c1*s2*c3+s1*c2*s3;this.z=c1*c2*s3-s1*s2*c3;this.w=c1*c2*c3-s1*s2*s3;return this},toMat:function(m){var x2=this.x+this.x;var y2=this.y+this.y;var z2=this.z+this.z;var xx=this.x*x2;var xy=this.x*y2;var xz=this.x*z2;var yy=this.y*y2;var yz=this.y*z2;var zz=this.z*z2;var wx=this.w*x2;var wy=this.w*y2;var wz=this.w*z2;m.self._00=1-(yy+zz);m.self._10=xy-wz;m.self._20=xz+wy;m.self._01=xy+wz;m.self._11=1-(xx+zz);m.self._21=yz-wx;m.self._02=xz-wy;m.self._12=yz+wx;m.self._22=1-(xx+yy);m.self._03=0;m.self._13=0;m.self._23=0;m.self._30=0;m.self._31=0;m.self._32=0;m.self._33=1;return m},dot:function(q){return this.x*q.x+this.y*q.y+this.z*q.z+this.w*q.w},__class__:iron_math_Quat};var iron_math_RayCaster=function(){};$hxClasses["iron.math.RayCaster"]=iron_math_RayCaster;iron_math_RayCaster.__name__=true;iron_math_RayCaster.getDirection=function(start,end,inputX,inputY,camera){start.x=inputX/kha_System.windowWidth()*2-1;start.y=-(inputY/kha_System.windowHeight()*2-1);start.z=-1;end.x=start.x;end.y=start.y;end.z=1;iron_math_RayCaster.PInv.getInverse(camera.P);iron_math_RayCaster.VInv.getInverse(camera.V);iron_math_RayCaster.VPInv.multmats(iron_math_RayCaster.VInv,iron_math_RayCaster.PInv);start.applyproj(iron_math_RayCaster.VPInv);end.applyproj(iron_math_RayCaster.VPInv)};var iron_object_Animation=function(){this.markerEvents=null;this.lastFrameIndex=-1;this.blendAction="";this.blendCurrent=0;this.blendTime=0;this.paused=false;this.onComplete=null;this.frameIndex=0;this.loop=true;this.speed=1;this.time=0;this.action="";iron_Scene.active.animations.push(this);this.frameTime=iron_Scene.active.raw.frame_time;this.play()};$hxClasses["iron.object.Animation"]=iron_object_Animation;iron_object_Animation.__name__=true;iron_object_Animation.prototype={isSkinned:null,isSampled:null,action:null,armature:null,time:null,speed:null,loop:null,frameIndex:null,onComplete:null,paused:null,frameTime:null,blendTime:null,blendCurrent:null,blendAction:null,play:function(action,onComplete,blendTime,speed,loop){if(loop==null){loop=true}if(speed==null){speed=1}if(blendTime==null){blendTime=0}if(action==null){action=""}if(blendTime>0){this.blendTime=blendTime;this.blendCurrent=0;this.blendAction=this.action}else{this.frameIndex=-1}this.action=action;this.onComplete=onComplete;this.speed=speed;this.loop=loop;this.paused=false},remove:function(){HxOverrides.remove(iron_Scene.active.animations,this)},update:function(delta){if(this.paused){return}this.time+=delta*this.speed;if(this.blendTime>0){this.blendCurrent+=delta;if(this.blendCurrent>=this.blendTime){this.blendTime=0}}},rewind:function(track){this.frameIndex=this.speed>0?0:track.frames.length-1;this.time=track.frames[this.frameIndex]*this.frameTime},updateTrack:function(anim){if(anim==null){return}var track=anim.tracks[0];if(this.frameIndex==-1){this.rewind(track)}var sign=this.speed>0?1:-1;while(true){var frameValues=track.frames;if(!(this.speed>0?this.frameIndex+1<frameValues.length&&this.time>frameValues[this.frameIndex+1]*this.frameTime:this.frameIndex-1>-1&&this.time<frameValues[this.frameIndex-1]*this.frameTime)){break}this.frameIndex+=sign}if(this.markerEvents!=null&&anim.marker_names!=null&&this.frameIndex!=this.lastFrameIndex){var _g1=0;var _g=anim.marker_frames.length;while(_g1<_g){var i=_g1++;if(this.frameIndex==anim.marker_frames[i]){var key=anim.marker_names[i];var _this=this.markerEvents;var ar=__map_reserved[key]!=null?_this.getReserved(key):_this.h[key];var _g2=0;while(_g2<ar.length){var f=ar[_g2];++_g2;f()}}}this.lastFrameIndex=this.frameIndex}if(this.speed>0?this.frameIndex>=track.frames.length-1:this.frameIndex<=0){if(this.loop||this.blendTime>0){this.rewind(track)}else{this.frameIndex-=sign;this.paused=true}if(this.onComplete!=null&&this.blendTime==0){this.onComplete()}}},updateAnimSampled:function(anim,targetMatrix){if(anim==null){return}var track=anim.tracks[0];var sign=this.speed>0?1:-1;var t=this.time;var ti=this.frameIndex;var t1=track.frames[ti]*this.frameTime;var t2=track.frames[ti+sign]*this.frameTime;var s=(t-t1)/(t2-t1);iron_object_Animation.m1.setF32(track.values,ti*16);iron_object_Animation.m2.setF32(track.values,(ti+sign)*16);iron_object_Animation.m1.decompose(iron_object_Animation.vpos,iron_object_Animation.q1,iron_object_Animation.vscl);iron_object_Animation.m2.decompose(iron_object_Animation.vpos2,iron_object_Animation.q2,iron_object_Animation.vscl2);var fp=iron_math_Vec4.lerp(iron_object_Animation.vpos,iron_object_Animation.vpos2,1-s);var fs=iron_math_Vec4.lerp(iron_object_Animation.vscl,iron_object_Animation.vscl2,1-s);var fq=iron_math_Quat.lerp(iron_object_Animation.q1,iron_object_Animation.q2,s);var m=targetMatrix;fq.toMat(m);m.scale(fs);m.self._30=fp.x;m.self._31=fp.y;m.self._32=fp.z},lastFrameIndex:null,markerEvents:null,__class__:iron_object_Animation};var iron_object_BoneAnimation=function(armatureName){if(armatureName==null){armatureName=""}this.onUpdate=null;this.m2=iron_math_Mat4.identity();this.m1=iron_math_Mat4.identity();this.m=iron_math_Mat4.identity();this.constraintMats=null;this.constraintTargetsI=null;this.constraintTargets=null;this.boneChildren=null;this.applyParent=null;this.absMats=null;this.skeletonMatsBlend=null;this.skeletonBonesBlend=null;this.skeletonMats=null;this.skeletonBones=null;iron_object_Animation.call(this);this.isSampled=false;var _g=0;var _g1=iron_Scene.active.armatures;while(_g<_g1.length){var a=_g1[_g];++_g;if(a.name==armatureName){this.armature=a;break}}};$hxClasses["iron.object.BoneAnimation"]=iron_object_BoneAnimation;iron_object_BoneAnimation.__name__=true;iron_object_BoneAnimation.__super__=iron_object_Animation;iron_object_BoneAnimation.prototype=$extend(iron_object_Animation.prototype,{object:null,data:null,skinBuffer:null,skeletonBones:null,skeletonMats:null,skeletonBonesBlend:null,skeletonMatsBlend:null,absMats:null,applyParent:null,boneChildren:null,constraintTargets:null,constraintTargetsI:null,constraintMats:null,m:null,m1:null,m2:null,setSkin:function(mo){var _gthis=this;this.object=mo;this.data=mo!=null?mo.data:null;this.isSkinned=this.data!=null&&this.data.isSkinned;if(this.isSkinned){var boneSize=8;var this1=new Float32Array(iron_object_BoneAnimation.skinMaxBones*boneSize);this.skinBuffer=this1;var _g1=0;var _g=this.skinBuffer.length;while(_g1<_g){var i=_g1++;this.skinBuffer[i]=0}var _this=this.object.transform.rot;_this.x=0;_this.y=0;_this.z=0;_this.w=1;this.object.transform.buildMatrix();var refs=mo.parent.raw.bone_actions;if(refs!=null&&refs.length>0){iron_data_Data.getSceneRaw(refs[0],function(action){_gthis.play(action.name)})}}},addBoneChild:function(bone,o){if(this.boneChildren==null){this.boneChildren=new haxe_ds_StringMap}var _this=this.boneChildren;var ar=__map_reserved[bone]!=null?_this.getReserved(bone):_this.h[bone];if(ar==null){ar=[];var _this1=this.boneChildren;if(__map_reserved[bone]!=null){_this1.setReserved(bone,ar)}else{_this1.h[bone]=ar}}ar.push(o)},updateBoneChildren:function(bone,bm){var key=bone.name;var _this=this.boneChildren;var ar=__map_reserved[key]!=null?_this.getReserved(key):_this.h[key];if(ar==null){return}var _g=0;while(_g<ar.length){var o=ar[_g];++_g;var t=o.transform;if(t.boneParent==null){t.boneParent=iron_math_Mat4.identity()}if(o.raw.parent_bone_tail!=null){var v=this.isSkinned?o.raw.parent_bone_tail:o.raw.parent_bone_tail_y;t.boneParent.initTranslate(v[0],v[1],v[2]);t.boneParent.multmat2(bm)}else{t.boneParent.setFrom(bm)}t.buildMatrix()}},setAction:function(action){if(this.isSkinned){var _this=this.data.geom.actions;this.skeletonBones=__map_reserved[action]!=null?_this.getReserved(action):_this.h[action];var _this1=this.data.geom.mats;this.skeletonMats=__map_reserved[action]!=null?_this1.getReserved(action):_this1.h[action];this.skeletonBonesBlend=null;this.skeletonMatsBlend=null}else{this.armature.initMats();var a=this.armature.getAction(action);this.skeletonBones=a.bones;this.skeletonMats=a.mats}},setActionBlend:function(action){if(this.isSkinned){this.skeletonBonesBlend=this.skeletonBones;this.skeletonMatsBlend=this.skeletonMats;var _this=this.data.geom.actions;this.skeletonBones=__map_reserved[action]!=null?_this.getReserved(action):_this.h[action];var _this1=this.data.geom.mats;this.skeletonMats=__map_reserved[action]!=null?_this1.getReserved(action):_this1.h[action]}else{this.armature.initMats();var a=this.armature.getAction(action);this.skeletonBones=a.bones;this.skeletonMats=a.mats}},play:function(action,onComplete,blendTime,speed,loop){if(loop==null){loop=true}if(speed==null){speed=1}if(blendTime==null){blendTime=.2}if(action==null){action=""}iron_object_Animation.prototype.play.call(this,action,onComplete,blendTime,speed,loop);if(action!=""){if(blendTime>0){this.setActionBlend(action)}else{this.setAction(action)}}},update:function(delta){if(!this.isSkinned&&this.skeletonBones==null){this.setAction(this.armature.actions[0].name)}if(this.object!=null&&(!this.object.visible||this.object.culled)){return}if(this.skeletonBones==null||this.skeletonBones.length==0){return}iron_object_Animation.prototype.update.call(this,delta);if(this.paused){return}this.updateAnim()},updateAnim:function(){var lastBones=this.skeletonBones;var _g=0;var _g1=this.skeletonBones;while(_g<_g1.length){var b=_g1[_g];++_g;if(b.anim!=null){this.updateTrack(b.anim);break}}if(lastBones!=this.skeletonBones){return}var _g11=0;var _g2=this.skeletonBones.length;while(_g11<_g2){var i=_g11++;this.updateAnimSampled(this.skeletonBones[i].anim,this.skeletonMats[i])}if(this.blendTime>0&&this.skeletonBonesBlend!=null){var _g3=0;var _g12=this.skeletonBonesBlend;while(_g3<_g12.length){var b1=_g12[_g3];++_g3;if(b1.anim!=null){this.updateTrack(b1.anim);break}}var _g13=0;var _g4=this.skeletonBonesBlend.length;while(_g13<_g4){var i1=_g13++;this.updateAnimSampled(this.skeletonBonesBlend[i1].anim,this.skeletonMatsBlend[i1])}}this.updateConstraints();if(this.onUpdate!=null){this.onUpdate()}if(this.isSkinned){this.updateSkinGpu()}else{this.updateBonesOnly()}},updateConstraints:function(){if(this.data==null){return}var cs=this.data.raw.skin.constraints;if(cs==null){return}if(this.constraintTargets==null){this.constraintTargets=[];this.constraintTargetsI=[];var _g=0;while(_g<cs.length){var c=cs[_g];++_g;var o=iron_Scene.active.getChild(c.target);this.constraintTargets.push(o);var m=null;if(o!=null){m=iron_math_Mat4.fromFloat32Array(o.raw.transform.values);m.getInverse(m)}this.constraintTargetsI.push(m)}this.constraintMats=new haxe_ds_ObjectMap}var _g1=0;var _g2=cs.length;while(_g1<_g2){var i=_g1++;var c1=cs[i];var bone=this.getBone(c1.bone);if(bone==null){continue}var o1=this.constraintTargets[i];if(o1==null){continue}if(c1.type=="CHILD_OF"){var m1=this.constraintMats.h[bone.__id__];if(m1==null){m1=iron_math_Mat4.identity();this.constraintMats.set(bone,m1)}m1.setFrom(this.object.parent.transform.world);m1.multmat2(this.constraintTargetsI[i]);m1.multmat2(o1.transform.world);this.m1.getInverse(this.object.parent.transform.world);m1.multmat2(this.m1)}}},onUpdate:null,notifyOnUpdate:function(f){this.onUpdate=f},updateBonesOnly:function(){var _g1=0;var _g=this.skeletonBones.length;while(_g1<_g){var i=_g1++;var b=this.skeletonBones[i];this.m.setFrom(this.skeletonMats[i]);this.multParent(this.m,b,this.skeletonMats,this.skeletonBones);if(this.boneChildren!=null){this.updateBoneChildren(b,this.m)}}},multParent:function(m,bone,mats,bones){var p=bone.parent;while(p!=null){var boneIndex=this.getBoneIndex(p,bones);if(boneIndex==-1){continue}var pm=mats[boneIndex];m.multmat2(pm);p=p.parent}},multParent2:function(m,bone,mats,bones){var p=bone.parent;while(p!=null){var boneIndex=this.getBoneIndex(p,bones);if(boneIndex==-1){continue}var pm=mats[boneIndex];m.multmat2(pm);p=p.parent;if(this.applyParent!=null&&!this.applyParent[boneIndex]){break}}},updateSkinGpu:function(){var bones=this.skeletonBones;var s=this.blendCurrent/this.blendTime;s=s*s*(3-2*s);var _g1=0;var _g=bones.length;while(_g1<_g){var i=_g1++;if(this.constraintMats!=null){var m=this.constraintMats.h[bones[i].__id__];if(m!=null){this.updateSkinBuffer(m,i);continue}}if(this.blendTime>0&&this.skeletonBonesBlend!=null){var bonesBlend=this.skeletonBonesBlend;this.m1.setFrom(this.skeletonMatsBlend[i]);this.multParent(this.m1,bonesBlend[i],this.skeletonMatsBlend,this.skeletonBonesBlend);this.m2.setFrom(this.skeletonMats[i]);this.multParent(this.m2,bones[i],this.skeletonMats,this.skeletonBones);this.m1.decompose(iron_object_BoneAnimation.vpos,iron_object_BoneAnimation.q1,iron_object_BoneAnimation.vscl);this.m2.decompose(iron_object_BoneAnimation.vpos2,iron_object_BoneAnimation.q2,iron_object_BoneAnimation.vscl2);var fp=iron_math_Vec4.lerp(iron_object_BoneAnimation.vpos,iron_object_BoneAnimation.vpos2,1-s);var fs=iron_math_Vec4.lerp(iron_object_BoneAnimation.vscl,iron_object_BoneAnimation.vscl2,1-s);var fq=iron_math_Quat.lerp(iron_object_BoneAnimation.q1,iron_object_BoneAnimation.q2,s);fq.toMat(this.m1);this.m1.scale(fs);this.m1.self._30=fp.x;this.m1.self._31=fp.y;this.m1.self._32=fp.z;this.m.setFrom(this.m1)}else{this.m.setFrom(this.skeletonMats[i]);var r=this.applyParent==null||this.applyParent[i];if(r){this.multParent2(this.m,bones[i],this.skeletonMats,this.skeletonBones)}}if(this.absMats!=null&&i<this.absMats.length){this.absMats[i].setFrom(this.m)}if(this.boneChildren!=null){this.updateBoneChildren(bones[i],this.m)}this.m.multmats(this.m,this.data.geom.skeletonTransformsI[i]);this.updateSkinBuffer(this.m,i)}},updateSkinBuffer:function(m,i){m.decompose(iron_object_BoneAnimation.vpos,iron_object_BoneAnimation.q1,iron_object_BoneAnimation.vscl);iron_object_BoneAnimation.q1.normalize();var _this=iron_object_BoneAnimation.q2;_this.x=iron_object_BoneAnimation.vpos.x;_this.y=iron_object_BoneAnimation.vpos.y;_this.z=iron_object_BoneAnimation.vpos.z;_this.w=0;iron_object_BoneAnimation.q2.multquats(iron_object_BoneAnimation.q2,iron_object_BoneAnimation.q1);iron_object_BoneAnimation.q2.x*=.5;iron_object_BoneAnimation.q2.y*=.5;iron_object_BoneAnimation.q2.z*=.5;iron_object_BoneAnimation.q2.w*=.5;this.skinBuffer[i*8]=iron_object_BoneAnimation.q1.x;this.skinBuffer[i*8+1]=iron_object_BoneAnimation.q1.y;this.skinBuffer[i*8+2]=iron_object_BoneAnimation.q1.z;this.skinBuffer[i*8+3]=iron_object_BoneAnimation.q1.w;this.skinBuffer[i*8+4]=iron_object_BoneAnimation.q2.x;this.skinBuffer[i*8+5]=iron_object_BoneAnimation.q2.y;this.skinBuffer[i*8+6]=iron_object_BoneAnimation.q2.z;this.skinBuffer[i*8+7]=iron_object_BoneAnimation.q2.w},getBone:function(name){if(this.skeletonBones==null){return null}var _g=0;var _g1=this.skeletonBones;while(_g<_g1.length){var b=_g1[_g];++_g;if(b.name==name){return b}}return null},getBoneIndex:function(bone,bones){if(bones==null){bones=this.skeletonBones}if(bones==null){return-1}var _g1=0;var _g=bones.length;while(_g1<_g){var i=_g1++;if(bones[i]==bone){return i}}return-1},getBoneMat:function(bone){if(this.skeletonMats!=null){return this.skeletonMats[this.getBoneIndex(bone)]}else{return null}},getBoneMatBlend:function(bone){if(this.skeletonMatsBlend!=null){return this.skeletonMatsBlend[this.getBoneIndex(bone)]}else{return null}},getAbsMat:function(bone){if(this.skeletonMats==null){return null}if(this.absMats==null){this.absMats=[];while(this.absMats.length<this.skeletonMats.length)this.absMats.push(iron_math_Mat4.identity())}return this.absMats[this.getBoneIndex(bone)]},__class__:iron_object_BoneAnimation});var iron_object_Object=function(){this.isEmpty=false;this.culledShadow=false;this.culledMesh=false;this.culled=false;this.visibleShadow=true;this.visibleMesh=true;this.visible=true;this.animation=null;this.lods=null;this.children=[];this.parent=null;this.traits=[];this.constraints=null;this.name="";this.raw=null;this.uid=iron_object_Object.uidCounter++;this.urandom=iron_object_Object.seededRandom();this.transform=new iron_object_Transform(this);this.isEmpty=js_Boot.getClass(this)==iron_object_Object;if(this.isEmpty&&iron_Scene.active!=null){iron_Scene.active.empties.push(this)}};$hxClasses["iron.object.Object"]=iron_object_Object;iron_object_Object.__name__=true;iron_object_Object.seededRandom=function(){iron_object_Object.seed=(iron_object_Object.seed*9301+49297)%233280;return iron_object_Object.seed/233280};iron_object_Object.prototype={uid:null,urandom:null,raw:null,name:null,transform:null,constraints:null,traits:null,parent:null,children:null,lods:null,animation:null,visible:null,visibleMesh:null,visibleShadow:null,culled:null,culledMesh:null,culledShadow:null,isEmpty:null,addChild:function(o,parentInverse){if(parentInverse==null){parentInverse=false}if(o.parent==this){return}this.children.push(o);o.parent=this;if(parentInverse){o.transform.applyParentInverse()}},remove:function(){if(this.isEmpty&&iron_Scene.active!=null){HxOverrides.remove(iron_Scene.active.empties,this)}if(this.animation!=null){this.animation.remove()}while(this.children.length>0)this.children[0].remove();while(this.traits.length>0)this.traits[0].remove();if(this.parent!=null){HxOverrides.remove(this.parent.children,this);this.parent=null}},getChild:function(name){if(this.name==name){return this}else{var _g=0;var _g1=this.children;while(_g<_g1.length){var c=_g1[_g];++_g;var r=c.getChild(name);if(r!=null){return r}}}return null},getChildOfType:function(type){if(js_Boot.__instanceof(this,type)){return this}else{var _g=0;var _g1=this.children;while(_g<_g1.length){var c=_g1[_g];++_g;var r=c.getChildOfType(type);if(r!=null){return r}}}return null},addTrait:function(t){this.traits.push(t);t.object=this;if(t._add!=null){var _g=0;var _g1=t._add;while(_g<_g1.length){var f=_g1[_g];++_g;f()}t._add=null}},removeTrait:function(t){if(t._init!=null){var _g=0;var _g1=t._init;while(_g<_g1.length){var f=_g1[_g];++_g;iron_App.removeInit(f)}t._init=null}if(t._update!=null){var _g2=0;var _g11=t._update;while(_g2<_g11.length){var f1=_g11[_g2];++_g2;iron_App.removeUpdate(f1)}t._update=null}if(t._lateUpdate!=null){var _g3=0;var _g12=t._lateUpdate;while(_g3<_g12.length){var f2=_g12[_g3];++_g3;iron_App.removeLateUpdate(f2)}t._lateUpdate=null}if(t._render!=null){var _g4=0;var _g13=t._render;while(_g4<_g13.length){var f3=_g13[_g4];++_g4;iron_App.removeRender(f3)}t._render=null}if(t._render2D!=null){var _g5=0;var _g14=t._render2D;while(_g5<_g14.length){var f4=_g14[_g5];++_g5;iron_App.removeRender2D(f4)}t._render2D=null}if(t._remove!=null){var _g6=0;var _g15=t._remove;while(_g6<_g15.length){var f5=_g15[_g6];++_g6;f5()}t._remove=null}HxOverrides.remove(this.traits,t);t.object=null},getTrait:function(c){var _g=0;var _g1=this.traits;while(_g<_g1.length){var t=_g1[_g];++_g;if((t==null?null:js_Boot.getClass(t))==c){return t}}return null},getParentArmature:function(name){var _g=0;var _g1=iron_Scene.active.animations;while(_g<_g1.length){var a=_g1[_g];++_g;if(a.armature!=null&&a.armature.name==name){return a}}return null},setupAnimation:function(oactions){var _gthis=this;if(this.raw.parent_bone!=null){iron_Scene.active.notifyOnInit(function(){var banim=_gthis.getParentArmature(_gthis.parent.name);if(banim!=null){banim.addBoneChild(_gthis.raw.parent_bone,_gthis)}})}if(oactions==null){return}this.animation=new iron_object_ObjectAnimation(this,oactions)},__class__:iron_object_Object};var iron_object_CameraObject=function(data){this.frame=0;this.frustumPlanes=null;this.prevV=null;this.noJitterP=iron_math_Mat4.identity();iron_object_Object.call(this);this.data=data;this.nearPlane=data.raw.near_plane;this.farPlane=data.raw.far_plane;this.buildProjection();this.V=iron_math_Mat4.identity();this.VP=iron_math_Mat4.identity();if(data.raw.frustum_culling){this.frustumPlanes=[];var _g=0;while(_g<6){var i=_g++;this.frustumPlanes.push(new iron_object_FrustumPlane)}}iron_Scene.active.cameras.push(this)};$hxClasses["iron.object.CameraObject"]=iron_object_CameraObject;iron_object_CameraObject.__name__=true;iron_object_CameraObject.buildViewFrustum=function(VP,frustumPlanes){var _this=frustumPlanes[0];var w=VP.self._33+VP.self._30;_this.normal.set(VP.self._03+VP.self._00,VP.self._13+VP.self._10,VP.self._23+VP.self._20);_this.constant=w;var _this1=frustumPlanes[1];var w1=VP.self._33-VP.self._30;_this1.normal.set(VP.self._03-VP.self._00,VP.self._13-VP.self._10,VP.self._23-VP.self._20);_this1.constant=w1;var _this2=frustumPlanes[2];var w2=VP.self._33-VP.self._31;_this2.normal.set(VP.self._03-VP.self._01,VP.self._13-VP.self._11,VP.self._23-VP.self._21);_this2.constant=w2;var _this3=frustumPlanes[3];var w3=VP.self._33+VP.self._31;_this3.normal.set(VP.self._03+VP.self._01,VP.self._13+VP.self._11,VP.self._23+VP.self._21);_this3.constant=w3;var _this4=frustumPlanes[4];var w4=VP.self._32;_this4.normal.set(VP.self._02,VP.self._12,VP.self._22);_this4.constant=w4;var _this5=frustumPlanes[5];var w5=VP.self._33-VP.self._32;_this5.normal.set(VP.self._03-VP.self._02,VP.self._13-VP.self._12,VP.self._23-VP.self._22);_this5.constant=w5;var _g=0;while(_g<frustumPlanes.length){var plane=frustumPlanes[_g];++_g;plane.normalize()}};iron_object_CameraObject.sphereInFrustum=function(frustumPlanes,t,radiusScale,offsetX,offsetY,offsetZ){if(offsetZ==null){offsetZ=0}if(offsetY==null){offsetY=0}if(offsetX==null){offsetX=0}if(radiusScale==null){radiusScale=1}var radius=t.radius*radiusScale;var _g=0;while(_g<frustumPlanes.length){var plane=frustumPlanes[_g];++_g;iron_object_CameraObject.sphereCenter.set(t.world.self._30+offsetX,t.world.self._31+offsetY,t.world.self._32+offsetZ);if(plane.distanceToSphere(iron_object_CameraObject.sphereCenter,radius)+radius*2<0){return false}}return true};iron_object_CameraObject.__super__=iron_object_Object;iron_object_CameraObject.prototype=$extend(iron_object_Object.prototype,{data:null,P:null,noJitterP:null,V:null,prevV:null,VP:null,frustumPlanes:null,nearPlane:null,farPlane:null,buildProjection:function(){var aspect=this.data.raw.aspect!=null?this.data.raw.aspect:kha_System.windowWidth()/kha_System.windowHeight();if(this.data.raw.ortho_scale!=null){var sc=this.data.raw.ortho_scale;this.P=iron_math_Mat4.ortho(-1*aspect*sc,aspect*sc,-1*sc,sc,-1*this.farPlane,this.farPlane)}else{this.P=iron_math_Mat4.persp(this.data.raw.fov,aspect,this.nearPlane,this.farPlane)}this.noJitterP.setFrom(this.P)},remove:function(){HxOverrides.remove(iron_Scene.active.cameras,this);iron_object_Object.prototype.remove.call(this)},renderFrame:function(g){this.projectionJitter();this.buildMatrix();if(this.prevV==null){this.prevV=iron_math_Mat4.identity();this.prevV.setFrom(this.V)}iron_RenderPath.active.renderFrame(g);this.prevV.setFrom(this.V)},frame:null,projectionJitter:function(){var w=iron_RenderPath.active.currentW;var h=iron_RenderPath.active.currentH;this.P.setFrom(this.noJitterP);var x=0;var y=0;if(this.frame%2==0){x=.25;y=.25}else if(this.frame%2==1){x=-.25;y=-.25}var _g=this.P;_g.self._20+=x/w;var _g1=this.P;_g1.self._21+=y/h;this.frame++},buildMatrix:function(){this.transform.buildMatrix();var sc=this.transform.world.getScale();iron_object_CameraObject.temp.set(1/sc.x,1/sc.y,1/sc.z);this.transform.world.scale(iron_object_CameraObject.temp);this.V.getInverse(this.transform.world);this.VP.multmats(this.P,this.V);if(this.data.raw.frustum_culling){iron_object_CameraObject.buildViewFrustum(this.VP,this.frustumPlanes)}},__class__:iron_object_CameraObject});var iron_object_FrustumPlane=function(){this.constant=0;this.normal=new iron_math_Vec4(1,0,0)};$hxClasses["iron.object.FrustumPlane"]=iron_object_FrustumPlane;iron_object_FrustumPlane.__name__=true;iron_object_FrustumPlane.prototype={normal:null,constant:null,normalize:function(){var _this=this.normal;var inverseNormalLength=1/Math.sqrt(_this.x*_this.x+_this.y*_this.y+_this.z*_this.z);this.normal.mult(inverseNormalLength);this.constant*=inverseNormalLength},distanceToSphere:function(sphereCenter,sphereRadius){return this.normal.dot(sphereCenter)+this.constant-sphereRadius},__class__:iron_object_FrustumPlane};var iron_object_Constraint=function(constr){this.target=null;this.raw=constr};$hxClasses["iron.object.Constraint"]=iron_object_Constraint;iron_object_Constraint.__name__=true;iron_object_Constraint.prototype={raw:null,target:null,apply:function(transform){if(this.target==null&&this.raw.target!=null){this.target=iron_Scene.active.getChild(this.raw.target).transform}if(this.raw.type=="COPY_LOCATION"){if(this.raw.use_x){transform.world.self._30=this.target.loc.x;if(this.raw.use_offset){var _g=transform.world;_g.self._30+=transform.loc.x}}if(this.raw.use_y){transform.world.self._31=this.target.loc.y;if(this.raw.use_offset){var _g1=transform.world;_g1.self._31+=transform.loc.y}}if(this.raw.use_z){transform.world.self._32=this.target.loc.z;if(this.raw.use_offset){var _g2=transform.world;_g2.self._32+=transform.loc.z}}}},__class__:iron_object_Constraint};var iron_object_DecalObject=function(material){iron_object_Object.call(this);this.material=material;iron_Scene.active.decals.push(this)};$hxClasses["iron.object.DecalObject"]=iron_object_DecalObject;iron_object_DecalObject.__name__=true;iron_object_DecalObject.__super__=iron_object_Object;iron_object_DecalObject.prototype=$extend(iron_object_Object.prototype,{material:null,remove:function(){if(iron_Scene.active!=null){HxOverrides.remove(iron_Scene.active.decals,this)}iron_object_Object.prototype.remove.call(this)},render:function(g,context,camera,lamp,bindParams){if(this.material.raw.skip_context!=null&&this.material.raw.skip_context==context){return}this.transform.update();var materialContext=null;var _g1=0;var _g=this.material.raw.contexts.length;while(_g1<_g){var i=_g1++;if(this.material.raw.contexts[i].name==context){materialContext=this.material.contexts[i];break}}var shaderContext=this.material.shader.getContext(context);g.setPipeline(shaderContext.pipeState);iron_object_Uniforms.setConstants(g,shaderContext,this,camera,lamp,bindParams);iron_object_Uniforms.setMaterialConstants(g,shaderContext,materialContext);g.setVertexBuffer(iron_data_ConstData.boxVB);g.setIndexBuffer(iron_data_ConstData.boxIB);g.drawIndexedVertices()},__class__:iron_object_DecalObject});var iron_object_LampObject=function(data){this.bias=iron_math_Mat4.identity();this.frustumPlanes=null;this.VP=iron_math_Mat4.identity();this.P=null;this.V=iron_math_Mat4.identity();this.camSlicedP=null;this.cascadeData=null;iron_object_Object.call(this);this.data=data;var type=data.raw.type;var fov=data.raw.fov;if(type=="sun"){if(iron_object_LampObject.corners==null){iron_object_LampObject.corners=[];var _g=0;while(_g<8){var i=_g++;iron_object_LampObject.corners.push(new iron_math_Vec4)}}this.P=iron_math_Mat4.identity()}else if(type=="point"||type=="area"){this.P=iron_math_Mat4.persp(fov,1,data.raw.near_plane,data.raw.far_plane)}else if(type=="spot"){this.P=iron_math_Mat4.persp(fov,1,data.raw.near_plane,data.raw.far_plane)}iron_Scene.active.lamps.push(this)};$hxClasses["iron.object.LampObject"]=iron_object_LampObject;iron_object_LampObject.__name__=true;iron_object_LampObject.setCorners=function(){iron_object_LampObject.corners[0].set(-1,-1,1);iron_object_LampObject.corners[1].set(-1,-1,-1);iron_object_LampObject.corners[2].set(-1,1,1);iron_object_LampObject.corners[3].set(-1,1,-1);iron_object_LampObject.corners[4].set(1,-1,1);iron_object_LampObject.corners[5].set(1,-1,-1);iron_object_LampObject.corners[6].set(1,1,1);iron_object_LampObject.corners[7].set(1,1,-1)};iron_object_LampObject.__super__=iron_object_Object;iron_object_LampObject.prototype=$extend(iron_object_Object.prototype,{cascadeData:null,cascadeVP:null,camSlicedP:null,cascadeSplit:null,data:null,V:null,P:null,VP:null,frustumPlanes:null,remove:function(){if(iron_Scene.active!=null){HxOverrides.remove(iron_Scene.active.lamps,this)}iron_object_Object.prototype.remove.call(this)},buildMatrices:function(camera){this.transform.buildMatrix();if(this.data.raw.type!="sun"){this.V.getInverse(this.transform.world);this.updateViewFrustum(camera)}},setCascade:function(camera,cascade){iron_object_LampObject.m.setFrom(camera.V);if(this.camSlicedP==null){this.camSlicedP=[];this.cascadeSplit=[];var aspect=camera.data.raw.aspect!=null?camera.data.raw.aspect:kha_System.windowWidth()/kha_System.windowHeight();var fov=camera.data.raw.fov;var near=camera.data.raw.near_plane;var far=camera.data.raw.far_plane;var factor=iron_object_LampObject.cascadeCount>2?iron_object_LampObject.cascadeSplitFactor:iron_object_LampObject.cascadeSplitFactor*.25;var _g1=0;var _g=iron_object_LampObject.cascadeCount;while(_g1<_g){var i=_g1++;var f=i+1;var cfar=(near+f/iron_object_LampObject.cascadeCount*(far-near))*(1-factor)+near*Math.pow(far/near,f/iron_object_LampObject.cascadeCount)*factor;this.cascadeSplit.push(cfar);this.camSlicedP.push(iron_math_Mat4.persp(fov,aspect,near,cfar))}}iron_object_LampObject.m.multmat2(this.camSlicedP[cascade]);iron_object_LampObject.m.getInverse(iron_object_LampObject.m);this.V.getInverse(this.transform.world);this.V.toRotation();iron_object_LampObject.m.multmat2(this.V);iron_object_LampObject.setCorners();var _g2=0;var _g11=iron_object_LampObject.corners;while(_g2<_g11.length){var v=_g11[_g2];++_g2;v.applymat4(iron_object_LampObject.m);v.set(v.x/v.w,v.y/v.w,v.z/v.w)}var minx=iron_object_LampObject.corners[0].x;var miny=iron_object_LampObject.corners[0].y;var minz=iron_object_LampObject.corners[0].z;var maxx=iron_object_LampObject.corners[0].x;var maxy=iron_object_LampObject.corners[0].y;var maxz=iron_object_LampObject.corners[0].z;var _g3=0;var _g12=iron_object_LampObject.corners;while(_g3<_g12.length){var v1=_g12[_g3];++_g3;if(v1.x<minx){minx=v1.x}if(v1.x>maxx){maxx=v1.x}if(v1.y<miny){miny=v1.y}if(v1.y>maxy){maxy=v1.y}if(v1.z<minz){minz=v1.z}if(v1.z>maxz){maxz=v1.z}}var v11=iron_object_LampObject.corners[0];var v2=iron_object_LampObject.corners[7];var vx=v11.x-v2.x;var vy=v11.y-v2.y;var vz=v11.z-v2.z;var diag0=Math.sqrt(vx*vx+vy*vy+vz*vz);var offx=(diag0-(maxx-minx))*.5;var offy=(diag0-(maxy-miny))*.5;minx-=offx;maxx+=offx;miny-=offy;maxy+=offy;var smsize=this.data.raw.shadowmap_size;smsize=smsize/4|0;var worldPerTexelX=(maxx-minx)/smsize;var worldPerTexelY=(maxy-miny)/smsize;var worldPerTexelZ=(maxz-minz)/smsize;minx=Math.floor(minx/worldPerTexelX)*worldPerTexelX;miny=Math.floor(miny/worldPerTexelY)*worldPerTexelY;minz=Math.floor(minz/worldPerTexelZ)*worldPerTexelZ;maxx=Math.floor(maxx/worldPerTexelX)*worldPerTexelX;maxy=Math.floor(maxy/worldPerTexelY)*worldPerTexelY;maxz=Math.floor(maxz/worldPerTexelZ)*worldPerTexelZ;var hx=(maxx-minx)/2;var hy=(maxy-miny)/2;var hz=(maxz-minz)/2;this.V.self._30=-(minx+hx);this.V.self._31=-(miny+hy);this.V.self._32=-(minz+hz);iron_object_LampObject.m=iron_math_Mat4.ortho(-hx,hx,-hy,hy,-hz*4,hz);this.P.setFrom(iron_object_LampObject.m);this.updateViewFrustum(camera);if(this.cascadeVP==null){this.cascadeVP=[];var _g13=0;var _g4=iron_object_LampObject.cascadeCount;while(_g13<_g4){var i1=_g13++;this.cascadeVP.push(iron_math_Mat4.identity())}}this.cascadeVP[cascade].setFrom(this.VP)},updateViewFrustum:function(camera){this.VP.multmats(this.P,this.V);if(camera.data.raw.frustum_culling){if(this.frustumPlanes==null){this.frustumPlanes=[];var _g=0;while(_g<6){var i=_g++;this.frustumPlanes.push(new iron_object_FrustumPlane)}}iron_object_CameraObject.buildViewFrustum(this.VP,this.frustumPlanes)}},setCubeFace:function(face,camera){iron_object_LampObject.p1.set(this.transform.world.self._30,this.transform.world.self._31,this.transform.world.self._32);iron_object_LampObject.p2.setFrom(iron_object_LampObject.p1);switch(face){case 0:iron_object_LampObject.p2.addf(1,0,0);iron_object_LampObject.p3.set(0,-1,0);break;case 1:iron_object_LampObject.p2.addf(-1,0,0);iron_object_LampObject.p3.set(0,-1,0);break;case 2:iron_object_LampObject.p2.addf(0,1,0);iron_object_LampObject.p3.set(0,0,1);break;case 3:iron_object_LampObject.p2.addf(0,-1,0);iron_object_LampObject.p3.set(0,0,-1);break;case 4:iron_object_LampObject.p2.addf(0,0,1);iron_object_LampObject.p3.set(0,-1,0);break;case 5:iron_object_LampObject.p2.addf(0,0,-1);iron_object_LampObject.p3.set(0,-1,0);break}this.V.setLookAt(iron_object_LampObject.p1,iron_object_LampObject.p2,iron_object_LampObject.p3);this.updateViewFrustum(camera)},bias:null,getCascadeData:function(){if(this.cascadeData==null){var this1=new Float32Array(iron_object_LampObject.cascadeCount*16+4);this.cascadeData=this1}if(this.cascadeVP==null){return this.cascadeData}var _g1=0;var _g=iron_object_LampObject.cascadeCount;while(_g1<_g){var i=_g1++;iron_object_LampObject.m.setFrom(this.cascadeVP[i]);this.bias.setFrom(iron_object_Uniforms.biasMat);var _g2=this.bias;_g2.self._00/=iron_object_LampObject.cascadeCount;var _g21=this.bias;_g21.self._30/=iron_object_LampObject.cascadeCount;var _g22=this.bias;_g22.self._30+=i*(1/iron_object_LampObject.cascadeCount);iron_object_LampObject.m.multmat2(this.bias);this.cascadeData[i*16]=iron_object_LampObject.m.self._00;this.cascadeData[i*16+1]=iron_object_LampObject.m.self._01;this.cascadeData[i*16+2]=iron_object_LampObject.m.self._02;this.cascadeData[i*16+3]=iron_object_LampObject.m.self._03;this.cascadeData[i*16+4]=iron_object_LampObject.m.self._10;this.cascadeData[i*16+5]=iron_object_LampObject.m.self._11;this.cascadeData[i*16+6]=iron_object_LampObject.m.self._12;this.cascadeData[i*16+7]=iron_object_LampObject.m.self._13;this.cascadeData[i*16+8]=iron_object_LampObject.m.self._20;this.cascadeData[i*16+9]=iron_object_LampObject.m.self._21;this.cascadeData[i*16+10]=iron_object_LampObject.m.self._22;this.cascadeData[i*16+11]=iron_object_LampObject.m.self._23;this.cascadeData[i*16+12]=iron_object_LampObject.m.self._30;this.cascadeData[i*16+13]=iron_object_LampObject.m.self._31;this.cascadeData[i*16+14]=iron_object_LampObject.m.self._32;this.cascadeData[i*16+15]=iron_object_LampObject.m.self._33}this.cascadeData[iron_object_LampObject.cascadeCount*16]=this.cascadeSplit[0];this.cascadeData[iron_object_LampObject.cascadeCount*16+1]=this.cascadeSplit[1];this.cascadeData[iron_object_LampObject.cascadeCount*16+2]=this.cascadeSplit[2];this.cascadeData[iron_object_LampObject.cascadeCount*16+3]=this.cascadeSplit[3];return this.cascadeData},__class__:iron_object_LampObject});var iron_object_MeshObject=function(data,materials){this.prevMatrix=iron_math_Mat4.identity();this.tilesheet=null;this.frustumCulling=true;this.screenSize=0;this.particleIndex=-1;this.particleOwner=null;this.particleChildren=null;this.particleSystems=null;this.data=null;iron_object_Object.call(this);this.materials=materials;this.setData(data);iron_Scene.active.meshes.push(this)};$hxClasses["iron.object.MeshObject"]=iron_object_MeshObject;iron_object_MeshObject.__name__=true;iron_object_MeshObject.__super__=iron_object_Object;iron_object_MeshObject.prototype=$extend(iron_object_Object.prototype,{data:null,materials:null,particleSystems:null,particleChildren:null,particleOwner:null,particleIndex:null,cameraDistance:null,screenSize:null,frustumCulling:null,tilesheet:null,prevMatrix:null,setData:function(data){this.data=data;data.refcount++;var makeBuffers=true;if(makeBuffers){data.geom.build()}},remove:function(){if(this.particleChildren!=null){var _g=0;var _g1=this.particleChildren;while(_g<_g1.length){var c=_g1[_g];++_g;c.remove()}this.particleChildren=null}if(this.particleSystems!=null){var _g2=0;var _g11=this.particleSystems;while(_g2<_g11.length){var psys=_g11[_g2];++_g2;psys.remove()}this.particleSystems=null}if(this.tilesheet!=null){this.tilesheet.remove()}if(iron_Scene.active!=null){HxOverrides.remove(iron_Scene.active.meshes,this)}this.data.refcount--;iron_object_Object.prototype.remove.call(this)},setupAnimation:function(oactions){var hasAction=this.parent!=null&&this.parent.raw!=null&&this.parent.raw.bone_actions!=null;if(hasAction){var armatureName=this.parent.name;this.animation=this.getParentArmature(armatureName);if(this.animation==null){this.animation=new iron_object_BoneAnimation(armatureName)}if(this.data.isSkinned){js_Boot.__cast(this.animation,iron_object_BoneAnimation).setSkin(this)}}iron_object_Object.prototype.setupAnimation.call(this,oactions)},setupParticleSystem:function(sceneName,pref){if(this.particleSystems==null){this.particleSystems=[]}var psys=new iron_object_ParticleSystem(sceneName,pref);this.particleSystems.push(psys)},setupTilesheet:function(sceneName,tilesheet_ref,tilesheet_action_ref){this.tilesheet=new iron_object_Tilesheet(sceneName,tilesheet_ref,tilesheet_action_ref)},setCulled:function(isShadow,b){if(isShadow){this.culledShadow=b}else{this.culledMesh=b}this.culled=this.culledMesh&&this.culledShadow;return b},cullMaterial:function(context){var mats=this.materials;if(!(this.raw!=null&&this.raw.lod_material!=null&&this.raw.lod_material==true)&&mats[0].getContext(context)==null){return true}var isShadow=context=="shadowmap";if(!this.visibleMesh&&!isShadow){return this.setCulled(isShadow,true)}if(!this.visibleShadow&&isShadow){return this.setCulled(isShadow,true)}if(this.skipContext(context)){return this.setCulled(isShadow,true)}return this.setCulled(isShadow,false)},cullMesh:function(context,camera,lamp){if(camera==null){return false}if(camera.data.raw.frustum_culling&&this.frustumCulling){var radiusScale=this.data.isSkinned?2:1;if(this.particleSystems!=null||this.particleOwner!=null){radiusScale*=1e3}if(context=="voxel"){radiusScale*=100}var isShadow=context=="shadowmap";var frustumPlanes=isShadow?lamp.frustumPlanes:camera.frustumPlanes;if(isShadow&&lamp.data.raw.type!="sun"){lamp.transform.radius=lamp.data.raw.far_plane;if(!iron_object_CameraObject.sphereInFrustum(camera.frustumPlanes,lamp.transform)){return this.setCulled(isShadow,true)}}if(this.data.geom.instanced){var instanceInFrustum=false;var _g=0;var _g1=this.data.geom.offsetVecs;while(_g<_g1.length){var v=_g1[_g];++_g;if(iron_object_CameraObject.sphereInFrustum(frustumPlanes,this.transform,radiusScale,v.x,v.y,v.z)){instanceInFrustum=true;break}}if(!instanceInFrustum){return this.setCulled(isShadow,true)}}else if(!iron_object_CameraObject.sphereInFrustum(frustumPlanes,this.transform,radiusScale)){return this.setCulled(isShadow,true)}}this.culled=false;return this.culled},skipContext:function(context){var _g=0;var _g1=this.materials;while(_g<_g1.length){var mat=_g1[_g];++_g;if(mat.raw.skip_context!=null&&mat.raw.skip_context==context){return true}}return false},getContexts:function(context,materials,materialContexts,shaderContexts){var _g=0;while(_g<materials.length){var mat=materials[_g];++_g;var _g2=0;var _g1=mat.raw.contexts.length;while(_g2<_g1){var i=_g2++;if(HxOverrides.substr(mat.raw.contexts[i].name,0,context.length)==context){materialContexts.push(mat.contexts[i]);shaderContexts.push(mat.shader.getContext(context));break}}}},render:function(g,context,camera,lamp,bindParams){var _gthis=this;if(this.data==null||!this.data.geom.ready){return}if(!this.visible){return}if(this.cullMesh(context,camera,lamp)){return}if(this.raw!=null&&this.raw.is_particle&&this.particleOwner==null){return}var meshContext=this.raw!=null&&"mesh"==context;if(this.particleSystems!=null&&meshContext){if(this.particleChildren==null){this.particleChildren=[];var _g=0;var _g1=this.particleSystems;while(_g<_g1.length){var psys=_g1[_g];++_g;iron_Scene.active.spawnObject(psys.data.raw.dupli_object,null,function(o){if(o!=null){var c=o;_gthis.particleChildren.push(c);c.particleOwner=_gthis;c.particleIndex=_gthis.particleChildren.length-1;c.transform=_gthis.transform}})}}var _g11=0;var _g2=this.particleSystems.length;while(_g11<_g2){var i=_g11++;this.particleSystems[i].update(this.particleChildren[i],this)}}if(this.particleSystems!=null&&this.particleSystems.length>0&&!this.particleSystems[0].data.raw.render_emitter){return}if(this.tilesheet!=null){this.tilesheet.update()}if(this.cullMaterial(context)){return}var mats=this.materials;var lod=this;if(this.raw!=null&&this.raw.lods!=null&&this.raw.lods.length>0){var tr=this.transform;var volume=tr.dim.x*tr.scale.x*tr.dim.y*tr.scale.y*tr.dim.z*tr.scale.z;this.screenSize=volume*(1/this.cameraDistance);this.screenSize=this.screenSize>1?1:this.screenSize;if(this.lods==null){this.lods=[];var _g3=0;var _g12=this.raw.lods;while(_g3<_g12.length){var l=_g12[_g3];++_g3;if(l.object_ref==""){this.lods.push(null)}else{this.lods.push(iron_Scene.active.getChild(l.object_ref))}}}if(context=="voxel"){lod=this.lods[this.lods.length-1]}else{var _g13=0;var _g4=this.raw.lods.length;while(_g13<_g4){var i1=_g13++;if(this.screenSize>this.raw.lods[i1].screen_size){break}lod=this.lods[i1];if(this.raw!=null&&this.raw.lod_material!=null&&this.raw.lod_material==true){mats=lod.materials}}}if(lod==null){return}}if(this.raw!=null&&this.raw.lod_material!=null&&this.raw.lod_material==true&&mats[0].getContext(context)==null){return}var materialContexts=[];var shaderContexts=[];this.getContexts(context,mats,materialContexts,shaderContexts);this.transform.update();var ldata=lod.data;var _g14=0;var _g5=ldata.geom.indexBuffers.length;while(_g14<_g5){var i2=_g14++;var mi=ldata.geom.materialIndices[i2];if(shaderContexts.length<=mi){continue}var vs=shaderContexts[mi].raw.vertex_structure;if(ldata.geom.instanced){g.setVertexBuffers([ldata.geom.get(vs),ldata.geom.instancedVB])}else{g.setVertexBuffer(ldata.geom.get(vs))}g.setIndexBuffer(ldata.geom.indexBuffers[i2]);g.setPipeline(shaderContexts[mi].pipeState);iron_object_Uniforms.setConstants(g,shaderContexts[mi],this,camera,lamp,bindParams);if(materialContexts.length>mi){iron_object_Uniforms.setMaterialConstants(g,shaderContexts[mi],materialContexts[mi])}if(ldata.geom.instanced){g.drawIndexedVerticesInstanced(ldata.geom.instanceCount,ldata.geom.start,ldata.geom.count)}else{g.drawIndexedVertices(ldata.geom.start,ldata.geom.count)}}this.prevMatrix.setFrom(this.transform.world)},__class__:iron_object_MeshObject});var iron_object_ObjectAnimation=function(object,oactions){this.object=object;this.oactions=oactions;this.isSkinned=false;iron_object_Animation.call(this)};$hxClasses["iron.object.ObjectAnimation"]=iron_object_ObjectAnimation;iron_object_ObjectAnimation.__name__=true;iron_object_ObjectAnimation.__super__=iron_object_Animation;iron_object_ObjectAnimation.prototype=$extend(iron_object_Animation.prototype,{object:null,oactions:null,oaction:null,getAction:function(action){var _g=0;var _g1=this.oactions;while(_g<_g1.length){var a=_g1[_g];++_g;if(a!=null&&a.objects[0].name==action){return a.objects[0]}}return null},play:function(action,onComplete,blendTime,speed,loop){if(loop==null){loop=true}if(speed==null){speed=1}if(blendTime==null){blendTime=0}if(action==null){action=""}iron_object_Animation.prototype.play.call(this,action,onComplete,blendTime,speed,loop);if(this.action==""&&this.oactions[0]!=null){this.action=this.oactions[0].objects[0].name}this.oaction=this.getAction(this.action);if(this.oaction!=null){this.isSampled=this.oaction.sampled!=null&&this.oaction.sampled}},update:function(delta){if(!this.object.visible||this.object.culled||this.oaction==null){return}iron_object_Animation.prototype.update.call(this,delta);if(this.paused){return}if(!this.isSkinned){this.updateObjectAnim()}},updateObjectAnim:function(){if(this.isSampled){this.updateTrack(this.oaction.anim);this.updateAnimSampled(this.oaction.anim,this.object.transform.world);this.object.transform.world.decompose(this.object.transform.loc,this.object.transform.rot,this.object.transform.scale);var _g=0;var _g1=this.object.children;while(_g<_g1.length){var c=_g1[_g];++_g;c.transform.buildMatrix()}}else{this.updateAnimNonSampled(this.oaction.anim,this.object.transform);this.object.transform.buildMatrix()}},interpolateLinear:function(t,t1,t2){return(t-t1)/(t2-t1)},interpolateBezier:function(t,t1,t2){var k=(t-t1)/(t2-t1);k=k*k*(3-2*k);return k},updateAnimNonSampled:function(anim,transform){if(anim==null){return}var total=anim.end*this.frameTime-anim.begin*this.frameTime;if(anim.has_delta){var t=transform;if(t.dloc==null){t.dloc=new iron_math_Vec4;t.drot=new iron_math_Quat;t.dscale=new iron_math_Vec4}t.dloc.set(0,0,0);t.dscale.set(0,0,0);t._deulerX=t._deulerY=t._deulerZ=0}var _g=0;var _g1=anim.tracks;while(_g<_g1.length){var track=_g1[_g];++_g;if(this.frameIndex==-1){this.rewind(track)}var sign=this.speed>0?1:-1;var t1=this.time+anim.begin*this.frameTime;while(true){var frameValues=track.frames;if(!(this.speed>0?this.frameIndex<frameValues.length-2&&t1>frameValues[this.frameIndex+1]*this.frameTime:this.frameIndex>1&&t1>frameValues[this.frameIndex-1]*this.frameTime)){break}this.frameIndex+=sign}if(this.frameIndex>=track.frames.length){continue}if(this.time>total){if(this.onComplete!=null){this.onComplete()}this.rewind(track);return}var ti=this.frameIndex;var t11=track.frames[ti]*this.frameTime;var t2=track.frames[ti+sign]*this.frameTime;var interpolate=$bind(this,this.interpolateLinear);var _g2=track.curve;switch(_g2){case"bezier":interpolate=$bind(this,this.interpolateBezier);break;case"linear":interpolate=$bind(this,this.interpolateLinear);break}var s=interpolate(t1,t11,t2);var invs=1-s;var v1=track.values[ti];var v2=track.values[ti+sign];var v=v1*invs+v2*s;var _g3=track.target;switch(_g3){case"dxloc":transform.dloc.x=v;break;case"dxrot":transform._deulerX=v;break;case"dxscl":transform.dscale.x=v;break;case"dyloc":transform.dloc.y=v;break;case"dyrot":transform._deulerY=v;break;case"dyscl":transform.dscale.y=v;break;case"dzloc":transform.dloc.z=v;break;case"dzrot":transform._deulerZ=v;break;case"dzscl":transform.dscale.z=v;break;case"xloc":transform.loc.x=v;break;case"xrot":transform.setRotation(v,transform._eulerY,transform._eulerZ);break;case"xscl":transform.scale.x=v;break;case"yloc":transform.loc.y=v;break;case"yrot":transform.setRotation(transform._eulerX,v,transform._eulerZ);break;case"yscl":transform.scale.y=v;break;case"zloc":transform.loc.z=v;break;case"zrot":transform.setRotation(transform._eulerX,transform._eulerY,v);break;case"zscl":transform.scale.z=v;break}}},__class__:iron_object_ObjectAnimation});var iron_object_ParticleSystem=function(sceneName,pref){this.m=iron_math_Mat4.identity();this.lapTime=0;this.lap=0;this.count=0;this.emitFrom=null;this.seed=0;this.spawnRate=0;this.time=0;this.animtime=0;this.lifetime=0;this.frameRate=24;var _gthis=this;this.seed=pref.seed;this.particles=[];this.ready=false;iron_data_Data.getParticle(sceneName,pref.particle,function(b){_gthis.data=b;_gthis.r=_gthis.data.raw;_gthis.gx=iron_Scene.active.raw.gravity[0]*_gthis.r.weight_gravity;_gthis.gy=iron_Scene.active.raw.gravity[1]*_gthis.r.weight_gravity;_gthis.gz=iron_Scene.active.raw.gravity[2]*_gthis.r.weight_gravity;_gthis.alignx=_gthis.r.object_align_factor[0]/2;_gthis.aligny=_gthis.r.object_align_factor[1]/2;_gthis.alignz=_gthis.r.object_align_factor[2]/2;_gthis.lifetime=_gthis.r.lifetime/_gthis.frameRate;_gthis.animtime=(_gthis.r.frame_end-_gthis.r.frame_start)/_gthis.frameRate;_gthis.spawnRate=(_gthis.r.frame_end-_gthis.r.frame_start)/_gthis.r.count/_gthis.frameRate;var _g1=0;var _g=_gthis.r.count;while(_g1<_g){var i=_g1++;_gthis.particles.push(new iron_object_Particle(i))}_gthis.ready=true})};$hxClasses["iron.object.ParticleSystem"]=iron_object_ParticleSystem;iron_object_ParticleSystem.__name__=true;iron_object_ParticleSystem.prototype={data:null,particles:null,ready:null,frameRate:null,lifetime:null,animtime:null,time:null,spawnRate:null,seed:null,r:null,gx:null,gy:null,gz:null,alignx:null,aligny:null,alignz:null,dimx:null,dimy:null,tilesx:null,tilesy:null,tilesFramerate:null,emitFrom:null,count:null,lap:null,lapTime:null,m:null,getData:function(){this.m.self._00=this.r.loop?this.animtime:-this.animtime;this.m.self._01=this.spawnRate;this.m.self._02=this.lifetime;this.m.self._03=this.particles.length;this.m.self._10=this.alignx;this.m.self._11=this.aligny;this.m.self._12=this.alignz;this.m.self._13=this.r.factor_random;this.m.self._20=this.gx*this.r.mass;this.m.self._21=this.gy*this.r.mass;this.m.self._22=this.gz*this.r.mass;this.m.self._23=this.r.lifetime_random;this.m.self._30=this.tilesx;this.m.self._31=this.tilesy;this.m.self._32=1/this.tilesFramerate;this.m.self._33=this.lapTime;return this.m},update:function(object,owner){if(!this.ready||object==null){return}this.dimx=object.transform.dim.x;this.dimy=object.transform.dim.y;if(object.tilesheet!=null){this.tilesx=object.tilesheet.raw.tilesx;this.tilesy=object.tilesheet.raw.tilesy;this.tilesFramerate=object.tilesheet.raw.framerate}this.time+=.016666666666666666*iron_system_Time.scale;this.lap=this.time/this.animtime|0;this.lapTime=this.time-this.lap*this.animtime;this.count=this.lapTime/this.spawnRate|0;if(this.r.gpu_sim){this.updateGpu(object,owner)}else{this.updateCpu(object,owner)}},updateGpu:function(object,owner){if(!object.data.geom.instanced){this.setupGeomGpu(object,owner)}},updateCpu:function(object,owner){if(!object.data.geom.instanced){this.setupGeomCpu(object,owner)}if(this.emitFrom==null){return}if(this.r.type==0){var _g=0;var _g1=this.particles;while(_g<_g1.length){var p=_g1[_g];++_g;this.computePos(p,object,this.particles.length,this.lap,this.count)}}var instancedData=object.data.geom.instancedVB.lock();var _g11=0;var _g2=this.particles.length;while(_g11<_g2){var i=_g11++;var p1=this.particles[i];var px=p1.x;var py=p1.y;var pz=p1.z;px+=this.emitFrom[i*3];py+=this.emitFrom[i*3+1];pz+=this.emitFrom[i*3+2];instancedData[i*3]=px;instancedData[i*3+1]=py;instancedData[i*3+2]=pz}object.data.geom.instancedVB.unlock()},computePos:function(p,object,l,lap,count){var i=p.i;var age=this.lapTime-p.i*this.spawnRate;age-=age*this.fhash(i)*this.r.lifetime_random;if(this.r.loop){while(age<0)age+=this.animtime}if(age<0||age>this.lifetime){p.x=p.y=p.z=-99999;return}if(this.r.physics_type==1){this.computeNewton(p,i,age)}},computeNewton:function(p,i,age){p.x=this.alignx;p.y=this.aligny;p.z=this.alignz;var l=this.particles.length;p.x+=this.fhash(p.i+0*l)*this.r.factor_random-this.r.factor_random/2;p.y+=this.fhash(p.i+l)*this.r.factor_random-this.r.factor_random/2;p.z+=this.fhash(p.i+2*l)*this.r.factor_random-this.r.factor_random/2;p.x+=this.gx*this.r.mass*age/5;p.y+=this.gy*this.r.mass*age/5;p.z+=this.gz*this.r.mass*age/5;p.x*=age;p.y*=age;p.z*=age},setupGeomGpu:function(object,owner){var this1=new Float32Array(this.particles.length*3);var instancedData=this1;var i=0;if(this.r.emit_from==0){var pa=owner.data.geom.positions;var _g=0;var _g1=this.particles;while(_g<_g1.length){var p=_g1[_g];++_g;var j=this.fhash(i)*(pa.length/3)|0;instancedData[i]=pa[j*3];++i;instancedData[i]=pa[j*3+1];++i;instancedData[i]=pa[j*3+2];++i}}else{var _g2=0;var _g11=this.particles;while(_g2<_g11.length){var p1=_g11[_g2];++_g2;instancedData[i]=(Math.random()*2-1)*(object.transform.dim.x/2);++i;instancedData[i]=(Math.random()*2-1)*(object.transform.dim.y/2);++i;instancedData[i]=(Math.random()*2-1)*(object.transform.dim.z/2);++i}}if(this.r.particle_size!=1){object.data.geom.applyScale(this.r.particle_size,this.r.particle_size,this.r.particle_size)}object.data.geom.setupInstanced(instancedData,kha_graphics4_Usage.StaticUsage)},setupGeomCpu:function(object,owner){var this1=new Float32Array(this.particles.length*3);var instancedData=this1;var i=0;var _g=0;var _g1=this.particles;while(_g<_g1.length){var p=_g1[_g];++_g;instancedData[i]=0;++i;instancedData[i]=0;++i;instancedData[i]=0;++i}if(this.r.particle_size!=1){object.data.geom.applyScale(this.r.particle_size,this.r.particle_size,this.r.particle_size)}object.data.geom.setupInstanced(instancedData,kha_graphics4_Usage.DynamicUsage);var this2=new Float32Array(this.particles.length*3);this.emitFrom=this2;i=0;if(this.r.emit_from==0){var pa=owner.data.geom.positions;var _g2=0;var _g11=this.particles;while(_g2<_g11.length){var p1=_g11[_g2];++_g2;var j=this.fhash(i)*(pa.length/3)|0;this.emitFrom[i]=pa[j*3];++i;this.emitFrom[i]=pa[j*3+1];++i;this.emitFrom[i]=pa[j*3+2];++i}}else{var _g3=0;var _g12=this.particles;while(_g3<_g12.length){var p2=_g12[_g3];++_g3;this.emitFrom[i]=(Math.random()*2-1)*(object.transform.dim.x/2);++i;this.emitFrom[i]=(Math.random()*2-1)*(object.transform.dim.y/2);++i;this.emitFrom[i]=(Math.random()*2-1)*(object.transform.dim.z/2);++i}}},fhash:function(n){var s=n+1;s*=9301%s;s=(s*9301+49297)%233280;return s/233280},remove:function(){},__class__:iron_object_ParticleSystem};var iron_object_Particle=function(i){this.z=0;this.y=0;this.x=0;this.i=i};$hxClasses["iron.object.Particle"]=iron_object_Particle;iron_object_Particle.__name__=true;iron_object_Particle.prototype={i:null,x:null,y:null,z:null,__class__:iron_object_Particle};var iron_object_SpeakerObject=function(data){this.paused=false;this.channels=[];this.sound=null;var _gthis=this;iron_object_Object.call(this);this.data=data;iron_Scene.active.speakers.push(this);if(data.sound==""){return}iron_data_Data.getSound(data.sound,function(sound){_gthis.sound=sound;iron_App.notifyOnInit($bind(_gthis,_gthis.init))})};$hxClasses["iron.object.SpeakerObject"]=iron_object_SpeakerObject;iron_object_SpeakerObject.__name__=true;iron_object_SpeakerObject.__super__=iron_object_Object;iron_object_SpeakerObject.prototype=$extend(iron_object_Object.prototype,{data:null,sound:null,channels:null,paused:null,init:function(){if(this.visible&&this.data.play_on_start){this.play()}},play:function(){if(this.sound==null||this.data.muted){return}if(this.paused){var _g=0;var _g1=this.channels;while(_g<_g1.length){var c=_g1[_g];++_g;c.play()}this.paused=false;return}var channel=iron_system_Audio.play(this.sound,this.data.loop,this.data.stream);this.channels.push(channel);if(this.data.attenuation>0&&this.channels.length==1){iron_App.notifyOnUpdate($bind(this,this.update))}},update:function(){if(this.paused){return}var _g=0;var _g1=this.channels;while(_g<_g1.length){var c=_g1[_g];++_g;if(c.get_finished()){HxOverrides.remove(this.channels,c)}}if(this.channels.length==0){iron_App.removeUpdate($bind(this,this.update));return}var cam=iron_Scene.active.camera;var _this=cam.transform.world;var loc1=new iron_math_Vec4(_this.self._30,_this.self._31,_this.self._32,_this.self._33);var _this1=this.transform.world;var loc2=new iron_math_Vec4(_this1.self._30,_this1.self._31,_this1.self._32,_this1.self._33);var vx=loc1.x-loc2.x;var vy=loc1.y-loc2.y;var vz=loc1.z-loc2.z;var d=Math.sqrt(vx*vx+vy*vy+vz*vz);d*=this.data.attenuation;var vol=1-Math.min(d/100,1);var _g2=0;var _g11=this.channels;while(_g2<_g11.length){var c1=_g11[_g2];++_g2;c1.set_volume(vol*this.data.volume)}},remove:function(){if(iron_Scene.active!=null){HxOverrides.remove(iron_Scene.active.speakers,this)}iron_object_Object.prototype.remove.call(this)},__class__:iron_object_SpeakerObject});var iron_object_Tilesheet=function(sceneName,tilesheet_ref,tilesheet_action_ref){this.onActionComplete=null;this.time=0;this.frame=0;this.paused=false;this.action=null;this.tileY=0;this.tileX=0;var _gthis=this;this.ready=false;iron_data_Data.getSceneRaw(sceneName,function(format){var _g=0;var _g1=format.tilesheet_datas;while(_g<_g1.length){var ts=_g1[_g];++_g;if(ts.name==tilesheet_ref){_gthis.raw=ts;_gthis.play(tilesheet_action_ref);_gthis.ready=true;break}}})};$hxClasses["iron.object.Tilesheet"]=iron_object_Tilesheet;iron_object_Tilesheet.__name__=true;iron_object_Tilesheet.prototype={tileX:null,tileY:null,raw:null,action:null,ready:null,paused:null,frame:null,time:null,onActionComplete:null,play:function(action_ref,onActionComplete){this.onActionComplete=onActionComplete;var _g=0;var _g1=this.raw.actions;while(_g<_g1.length){var a=_g1[_g];++_g;if(a.name==action_ref){this.action=a;break}}this.setFrame(this.action.start);this.paused=false},remove:function(){},update:function(){if(!this.ready||this.paused||this.action.start>=this.action.end){return}this.time+=.016666666666666666*iron_system_Time.scale;if(this.time>=1/this.raw.framerate){this.setFrame(this.frame+1)}},setFrame:function(f){this.frame=f;this.time=0;var tx=this.frame%this.raw.tilesx;var ty=this.frame/this.raw.tilesx|0;this.tileX=tx*(1/this.raw.tilesx);this.tileY=ty*(1/this.raw.tilesy);if(this.frame>=this.action.end&&this.action.start<this.action.end){if(this.onActionComplete!=null){this.onActionComplete()}if(this.action.loop){this.setFrame(this.action.start)}else{this.paused=true}}},__class__:iron_object_Tilesheet};var iron_object_Transform=function(object){this.dscale=null;this.drot=null;this.dloc=null;this.boneParent=null;this.appendMats=null;this.prependMats=null;this.localOnly=false;this.object=object;this.reset()};$hxClasses["iron.object.Transform"]=iron_object_Transform;iron_object_Transform.__name__=true;iron_object_Transform.prototype={world:null,localOnly:null,local:null,loc:null,rot:null,scale:null,dirty:null,object:null,dim:null,radius:null,prependMats:null,appendMats:null,boneParent:null,reset:function(){this.world=iron_math_Mat4.identity();this.local=iron_math_Mat4.identity();this.loc=new iron_math_Vec4;this.rot=new iron_math_Quat;this.scale=new iron_math_Vec4(1,1,1);this.dim=new iron_math_Vec4(2,2,2);this.radius=1;this.dirty=true},update:function(){if(this.dirty){this.buildMatrix()}},composeDelta:function(){this.dloc.addvecs(this.loc,this.dloc);this.dscale.addvecs(this.dscale,this.scale);this.drot.fromEuler(this._deulerX,this._deulerY,this._deulerZ);this.drot.multquats(this.rot,this.drot);this.local.compose(this.dloc,this.drot,this.dscale)},buildMatrix:function(){if(this.dloc==null){this.local.compose(this.loc,this.rot,this.scale)}else{this.composeDelta()}if(this.prependMats!=null){iron_object_Transform.temp.setIdentity();var _g=0;var _g1=this.prependMats;while(_g<_g1.length){var m=_g1[_g];++_g;iron_object_Transform.temp.multmat2(m)}iron_object_Transform.temp.multmat2(this.local);this.local.setFrom(iron_object_Transform.temp)}if(this.appendMats!=null){var _g2=0;var _g11=this.appendMats;while(_g2<_g11.length){var m1=_g11[_g2];++_g2;this.local.multmat2(m1)}}if(this.boneParent!=null){this.local.multmats(this.boneParent,this.local)}if(this.object.parent!=null&&!this.localOnly){this.world.multmat3x4(this.local,this.object.parent.transform.world)}else{this.world.setFrom(this.local)}if(this.object.constraints!=null){var _g3=0;var _g12=this.object.constraints;while(_g3<_g12.length){var c=_g12[_g3];++_g3;c.apply(this)}}this.computeDim();var _g4=0;var _g13=this.object.children;while(_g4<_g13.length){var n=_g13[_g4];++_g4;n.transform.buildMatrix()}this.dirty=false},decompose:function(){this.local.decompose(this.loc,this.rot,this.scale)},rotate:function(axis,f){var q=new iron_math_Quat;q.fromAxisAngle(axis,f);this.rot.multquats(q,this.rot);this.dirty=true},setRotation:function(x,y,z){this.rot.fromEuler(x,y,z);this._eulerX=x;this._eulerY=y;this._eulerZ=z;this.dirty=true},computeRadius:function(){this.radius=Math.sqrt(this.dim.x*this.dim.x+this.dim.y*this.dim.y+this.dim.z*this.dim.z)},computeDim:function(){if(this.object.raw==null){this.computeRadius();return}var d=this.object.raw.dimensions;if(d==null){this.dim.set(2*this.scale.x,2*this.scale.y,2*this.scale.z)}else{this.dim.set(d[0]*this.scale.x,d[1]*this.scale.y,d[2]*this.scale.z)}this.computeRadius()},applyParentInverse:function(){var pt=this.object.parent.transform;pt.buildMatrix();iron_object_Transform.temp.getInverse(pt.world);this.local.multmat2(iron_object_Transform.temp);this.decompose();this.buildMatrix()},_eulerX:null,_eulerY:null,_eulerZ:null,dloc:null,drot:null,dscale:null,_deulerX:null,_deulerY:null,_deulerZ:null,__class__:iron_object_Transform};var kha_math_FastMatrix3=function(_00,_10,_20,_01,_11,_21,_02,_12,_22){this._00=_00;this._10=_10;this._20=_20;this._01=_01;this._11=_11;this._21=_21;this._02=_02;this._12=_12;this._22=_22};$hxClasses["kha.math.FastMatrix3"]=kha_math_FastMatrix3;kha_math_FastMatrix3.__name__=true;kha_math_FastMatrix3.prototype={_00:null,_10:null,_20:null,_01:null,_11:null,_21:null,_02:null,_12:null,_22:null,__class__:kha_math_FastMatrix3};var iron_object_Uniforms=function(){};$hxClasses["iron.object.Uniforms"]=iron_object_Uniforms;iron_object_Uniforms.__name__=true;iron_object_Uniforms.setConstants=function(g,context,object,camera,lamp,bindParams){if(context.raw.constants!=null){var _g1=0;var _g=context.raw.constants.length;while(_g1<_g){var i=_g1++;var c=context.raw.constants[i];iron_object_Uniforms.setConstant(g,object,camera,lamp,context.constants[i],c)}}if(bindParams!=null){var _g11=0;var _g2=bindParams.length/2|0;while(_g11<_g2){var i1=_g11++;var pos=i1*2;var rtID=bindParams[pos];var samplerID=bindParams[pos+1];var attachDepth=false;var $char=rtID.charAt(0);if($char=="_"){attachDepth=true;rtID=HxOverrides.substr(rtID,1,null)}var rt;if(attachDepth){var _this=iron_RenderPath.active.depthToRenderTarget;if(__map_reserved[rtID]!=null){rt=_this.getReserved(rtID)}else{rt=_this.h[rtID]}}else{var _this1=iron_RenderPath.active.renderTargets;if(__map_reserved[rtID]!=null){rt=_this1.getReserved(rtID)}else{rt=_this1.h[rtID]}}iron_object_Uniforms.bindRenderTarget(g,rt,context,samplerID,attachDepth)}}if(context.raw.texture_units!=null){var _g12=0;var _g3=context.raw.texture_units.length;while(_g12<_g3){var j=_g12++;var tulink=context.raw.texture_units[j].link;if(tulink==null){continue}var tuid=context.raw.texture_units[j].name;if(tulink=="_envmapRadiance"){var w=iron_Scene.active.world;if(w!=null){g.setTexture(context.textureUnits[j],w.getGlobalProbe().radiance);g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.LinearMipFilter)}}else if(tulink=="_envmap"){var w1=iron_Scene.active.world;if(w1!=null){g.setTexture(context.textureUnits[j],w1.envmap)}}else if(tulink=="_envmapBrdf"){var _this2=iron_Scene.active.embedded;g.setTexture(context.textureUnits[j],__map_reserved["brdf.png"]!=null?_this2.getReserved("brdf.png"):_this2.h["brdf.png"])}else if(tulink=="_noise8"){var _this3=iron_Scene.active.embedded;g.setTexture(context.textureUnits[j],__map_reserved["noise8.png"]!=null?_this3.getReserved("noise8.png"):_this3.h["noise8.png"]);g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter)}else if(tulink=="_noise64"){var _this4=iron_Scene.active.embedded;g.setTexture(context.textureUnits[j],__map_reserved["noise64.png"]!=null?_this4.getReserved("noise64.png"):_this4.h["noise64.png"]);g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter)}else if(tulink=="_blueNoise64"){var _this5=iron_Scene.active.embedded;g.setTexture(context.textureUnits[j],__map_reserved["blue_noise64.png"]!=null?_this5.getReserved("blue_noise64.png"):_this5.h["blue_noise64.png"]);g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter)}else if(tulink=="_noise256"){var _this6=iron_Scene.active.embedded;g.setTexture(context.textureUnits[j],__map_reserved["noise256.png"]!=null?_this6.getReserved("noise256.png"):_this6.h["noise256.png"]);g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter)}else if(tulink=="_lampColorTexture"){if(lamp!=null){g.setTexture(context.textureUnits[j],lamp.data.colorTexture);g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter)}}else if(tulink=="_iesTexture"){var _this7=iron_Scene.active.embedded;g.setTexture(context.textureUnits[j],__map_reserved["iestexture.png"]!=null?_this7.getReserved("iestexture.png"):_this7.h["iestexture.png"]);g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureAddressing.Repeat,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter)}else if(tulink!="_sdfTexture"){if(iron_object_Uniforms.externalTextureLinks!=null){var _g21=0;var _g31=iron_object_Uniforms.externalTextureLinks;while(_g21<_g31.length){var f=_g31[_g21];++_g21;var image=f(object,iron_object_Uniforms.currentMat(object),tulink);if(image!=null){g.setTexture(context.textureUnits[j],image);break}}}}}}};iron_object_Uniforms.bindRenderTarget=function(g,rt,context,samplerID,attachDepth){if(rt!=null){var tus=context.raw.texture_units;var _g1=0;var _g=tus.length;while(_g1<_g){var j=_g1++;if(samplerID==tus[j].name){var isImage=tus[j].is_image!=null&&tus[j].is_image;if(rt.raw.depth>1){g.setTexture3DParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.PointFilter,kha_graphics4_MipMapFilter.LinearMipFilter);context.paramsSet[j]=true}if(isImage){g.setImageTexture(context.textureUnits[j],rt.image);g.setTexture3DParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.PointFilter,kha_graphics4_MipMapFilter.LinearMipFilter);context.paramsSet[j]=true}else if(rt.isCubeMap){if(attachDepth){g.setCubeMapDepth(context.textureUnits[j],rt.cubeMap)}else{g.setCubeMap(context.textureUnits[j],rt.cubeMap)}}else if(attachDepth){g.setTextureDepth(context.textureUnits[j],rt.image)}else{g.setTexture(context.textureUnits[j],rt.image)}if(!context.paramsSet[j]&&rt.raw.mipmaps!=null&&rt.raw.mipmaps==true&&!isImage){g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.LinearMipFilter);context.paramsSet[j]=true}if(!context.paramsSet[j]){if(samplerID=="shadowMap"||attachDepth){g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureFilter.PointFilter,kha_graphics4_TextureFilter.PointFilter,kha_graphics4_MipMapFilter.NoMipFilter);context.paramsSet[j]=true}if(samplerID=="shadowMapCube"){context.paramsSet[j]=true}}if(!context.paramsSet[j]){g.setTextureParameters(context.textureUnits[j],kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_TextureFilter.LinearFilter,kha_graphics4_MipMapFilter.NoMipFilter);context.paramsSet[j]=true}}}}};iron_object_Uniforms.setConstant=function(g,object,camera,lamp,location,c){if(c.link==null){return}if(c.type=="mat4"){var m=null;if(c.link=="_worldMatrix"){m=object.transform.world}else if(c.link=="_inverseWorldMatrix"){iron_object_Uniforms.helpMat.getInverse(object.transform.world);m=iron_object_Uniforms.helpMat}else if(c.link=="_viewMatrix"){m=camera.V}else if(c.link=="_transposeInverseViewMatrix"){iron_object_Uniforms.helpMat.setFrom(camera.V);iron_object_Uniforms.helpMat.getInverse(iron_object_Uniforms.helpMat);iron_object_Uniforms.helpMat.transpose();m=iron_object_Uniforms.helpMat}else if(c.link=="_inverseViewMatrix"){iron_object_Uniforms.helpMat.getInverse(camera.V);m=iron_object_Uniforms.helpMat}else if(c.link=="_transposeViewMatrix"){iron_object_Uniforms.helpMat.setFrom(camera.V);iron_object_Uniforms.helpMat.transpose3x3();m=iron_object_Uniforms.helpMat}else if(c.link=="_projectionMatrix"){m=camera.P}else if(c.link=="_inverseProjectionMatrix"){iron_object_Uniforms.helpMat.getInverse(camera.P);m=iron_object_Uniforms.helpMat}else if(c.link=="_inverseViewProjectionMatrix"){iron_object_Uniforms.helpMat.setFrom(camera.V);iron_object_Uniforms.helpMat.multmat2(camera.P);iron_object_Uniforms.helpMat.getInverse(iron_object_Uniforms.helpMat);m=iron_object_Uniforms.helpMat}else if(c.link=="_worldViewProjectionMatrix"){iron_object_Uniforms.helpMat.setFrom(object.transform.world);iron_object_Uniforms.helpMat.multmat2(camera.V);iron_object_Uniforms.helpMat.multmat2(camera.P);m=iron_object_Uniforms.helpMat}else if(c.link=="_worldViewProjectionMatrixSphere"){iron_object_Uniforms.helpMat.setFrom(object.transform.world);iron_object_Uniforms.helpMat.multmat2(camera.V);iron_object_Uniforms.helpMat.self._00=1;iron_object_Uniforms.helpMat.self._10=0;iron_object_Uniforms.helpMat.self._20=0;iron_object_Uniforms.helpMat.self._01=0;iron_object_Uniforms.helpMat.self._11=1;iron_object_Uniforms.helpMat.self._21=0;iron_object_Uniforms.helpMat.self._02=0;iron_object_Uniforms.helpMat.self._12=0;iron_object_Uniforms.helpMat.self._22=1;iron_object_Uniforms.helpMat.multmat2(camera.P);m=iron_object_Uniforms.helpMat}else if(c.link=="_worldViewProjectionMatrixCylinder"){iron_object_Uniforms.helpMat.setFrom(object.transform.world);iron_object_Uniforms.helpMat.multmat2(camera.V);iron_object_Uniforms.helpMat.self._00=1;iron_object_Uniforms.helpMat.self._20=0;iron_object_Uniforms.helpMat.self._01=0;iron_object_Uniforms.helpMat.self._21=0;iron_object_Uniforms.helpMat.self._02=0;iron_object_Uniforms.helpMat.self._22=1;iron_object_Uniforms.helpMat.multmat2(camera.P);m=iron_object_Uniforms.helpMat}else if(c.link=="_worldViewMatrix"){iron_object_Uniforms.helpMat.setFrom(object.transform.world);iron_object_Uniforms.helpMat.multmat2(camera.V);m=iron_object_Uniforms.helpMat}else if(c.link=="_viewProjectionMatrix"){m=camera.VP}else if(c.link=="_prevViewProjectionMatrix"){iron_object_Uniforms.helpMat.setFrom(camera.prevV);iron_object_Uniforms.helpMat.multmat2(camera.P);m=iron_object_Uniforms.helpMat}else if(c.link=="_prevWorldViewProjectionMatrix"){iron_object_Uniforms.helpMat.setFrom(js_Boot.__cast(object,iron_object_MeshObject).prevMatrix);iron_object_Uniforms.helpMat.multmat2(camera.prevV);iron_object_Uniforms.helpMat.multmat2(camera.P);m=iron_object_Uniforms.helpMat}else if(c.link=="_prevWorldMatrix"){m=js_Boot.__cast(object,iron_object_MeshObject).prevMatrix}else if(c.link=="_lampWorldViewProjectionMatrix"){if(lamp!=null){if(object==null){iron_object_Uniforms.helpMat.setIdentity()}else{iron_object_Uniforms.helpMat.setFrom(object.transform.world)}iron_object_Uniforms.helpMat.multmat2(lamp.VP);m=iron_object_Uniforms.helpMat}}else if(c.link=="_lampWorldViewProjectionMatrixSphere"){if(lamp!=null){iron_object_Uniforms.helpMat.setFrom(object.transform.world);iron_object_Uniforms.helpMat.multmat2(camera.V);iron_object_Uniforms.helpMat.self._00=1;iron_object_Uniforms.helpMat.self._10=0;iron_object_Uniforms.helpMat.self._20=0;iron_object_Uniforms.helpMat.self._01=0;iron_object_Uniforms.helpMat.self._11=1;iron_object_Uniforms.helpMat.self._21=0;iron_object_Uniforms.helpMat.self._02=0;iron_object_Uniforms.helpMat.self._12=0;iron_object_Uniforms.helpMat.self._22=1;iron_object_Uniforms.helpMat2.getInverse(camera.V);iron_object_Uniforms.helpMat.multmat2(iron_object_Uniforms.helpMat2);iron_object_Uniforms.helpMat.multmat2(lamp.VP);m=iron_object_Uniforms.helpMat}}else if(c.link=="_lampWorldViewProjectionMatrixCylinder"){if(lamp!=null){iron_object_Uniforms.helpMat.setFrom(object.transform.world);iron_object_Uniforms.helpMat.multmat2(camera.V);iron_object_Uniforms.helpMat.self._00=1;iron_object_Uniforms.helpMat.self._20=0;iron_object_Uniforms.helpMat.self._01=0;iron_object_Uniforms.helpMat.self._21=0;iron_object_Uniforms.helpMat.self._02=0;iron_object_Uniforms.helpMat.self._22=1;iron_object_Uniforms.helpMat2.getInverse(camera.V);iron_object_Uniforms.helpMat.multmat2(iron_object_Uniforms.helpMat2);iron_object_Uniforms.helpMat.multmat2(lamp.VP);m=iron_object_Uniforms.helpMat}}else if(c.link=="_biasLampWorldViewProjectionMatrix"){if(lamp!=null){if(object==null){iron_object_Uniforms.helpMat.setIdentity()}else{iron_object_Uniforms.helpMat.setFrom(object.transform.world)}iron_object_Uniforms.helpMat.multmat2(lamp.VP);iron_object_Uniforms.helpMat.multmat2(iron_object_Uniforms.biasMat);m=iron_object_Uniforms.helpMat}}else if(c.link=="_lampViewProjectionMatrix"){if(lamp!=null){m=lamp.VP}}else if(c.link=="_biasLampViewProjectionMatrix"){if(lamp!=null){iron_object_Uniforms.helpMat.setFrom(lamp.VP);iron_object_Uniforms.helpMat.multmat2(iron_object_Uniforms.biasMat);m=iron_object_Uniforms.helpMat}}else if(c.link=="_lampVolumeWorldViewProjectionMatrix"){if(lamp!=null){var tr=lamp.transform;var type=lamp.data.raw.type;if(type=="spot"){iron_object_Uniforms.helpVec.set(tr.world.self._30,tr.world.self._31,tr.world.self._32);var f2=2;iron_object_Uniforms.helpVec2.set(lamp.data.raw.far_plane,lamp.data.raw.far_plane*f2,lamp.data.raw.far_plane*f2);iron_object_Uniforms.helpMat.compose(iron_object_Uniforms.helpVec,iron_object_Uniforms.helpQuat,iron_object_Uniforms.helpVec2)}else if(type=="point"||type=="area"){iron_object_Uniforms.helpVec.set(tr.world.self._30,tr.world.self._31,tr.world.self._32);var f21=2;iron_object_Uniforms.helpVec2.set(lamp.data.raw.far_plane,lamp.data.raw.far_plane*f21,lamp.data.raw.far_plane*f21);iron_object_Uniforms.helpMat.compose(iron_object_Uniforms.helpVec,iron_object_Uniforms.helpQuat,iron_object_Uniforms.helpVec2)}iron_object_Uniforms.helpMat.multmat2(camera.V);iron_object_Uniforms.helpMat.multmat2(camera.P);m=iron_object_Uniforms.helpMat}}else if(c.link=="_skydomeMatrix"){var tr1=camera.transform;iron_object_Uniforms.helpVec.set(tr1.world.self._30,tr1.world.self._31,tr1.world.self._32-3.5);var bounds=camera.farPlane*.95;iron_object_Uniforms.helpVec2.set(bounds,bounds,bounds);iron_object_Uniforms.helpMat.compose(iron_object_Uniforms.helpVec,iron_object_Uniforms.helpQuat,iron_object_Uniforms.helpVec2);iron_object_Uniforms.helpMat.multmat2(camera.V);iron_object_Uniforms.helpMat.multmat2(camera.P);m=iron_object_Uniforms.helpMat}else if(c.link=="_lampViewMatrix"){if(lamp!=null){m=lamp.V}}else if(c.link=="_lampProjectionMatrix"){if(lamp!=null){m=lamp.P}}else if(c.link=="_particleData"){var mo=js_Boot.__cast(object,iron_object_MeshObject);if(mo.particleOwner!=null&&mo.particleOwner.particleSystems!=null){m=mo.particleOwner.particleSystems[mo.particleIndex].getData()}}else if(iron_object_Uniforms.externalMat4Links!=null){var _g=0;var _g1=iron_object_Uniforms.externalMat4Links;while(_g<_g1.length){var fn=_g1[_g];++_g;m=fn(object,iron_object_Uniforms.currentMat(object),c.link);if(m!=null){break}}}if(m==null){return}g.setMatrix(location,m.self)}else if(c.type=="mat3"){var m1=null;if(c.link=="_normalMatrix"){iron_object_Uniforms.helpMat.setFrom(object.transform.world);iron_object_Uniforms.helpMat.getInverse(iron_object_Uniforms.helpMat);iron_object_Uniforms.helpMat.transpose3x3();iron_object_Uniforms.helpMat3.setFrom4(iron_object_Uniforms.helpMat);m1=iron_object_Uniforms.helpMat3}if(m1==null){return}g.setMatrix3(location,m1.self)}else if(c.type=="vec4"){var v=null;iron_object_Uniforms.helpVec.set(0,0,0);if(c.link=="_input"){iron_object_Uniforms.helpVec.set(iron_system_Input.getMouse().x/kha_System.windowWidth(),iron_system_Input.getMouse().y/kha_System.windowHeight(),iron_system_Input.getMouse().down()?1:0,0);v=iron_object_Uniforms.helpVec}else if(iron_object_Uniforms.externalVec4Links!=null){var _g2=0;var _g11=iron_object_Uniforms.externalVec4Links;while(_g2<_g11.length){var fn1=_g11[_g2];++_g2;v=fn1(object,iron_object_Uniforms.currentMat(object),c.link);if(v!=null){break}}}if(v==null){return}g.setFloat4(location,v.x,v.y,v.z,v.w)}else if(c.type=="vec3"){var v1=null;iron_object_Uniforms.helpVec.set(0,0,0);if(c.link=="_lampPosition"){if(lamp!=null){iron_object_Uniforms.helpVec.set(lamp.transform.world.self._30,lamp.transform.world.self._31,lamp.transform.world.self._32)}v1=iron_object_Uniforms.helpVec}else if(c.link=="_lampDirection"){if(lamp!=null){iron_object_Uniforms.helpVec=new iron_math_Vec4(lamp.V.self._02,lamp.V.self._12,lamp.V.self._22)}v1=iron_object_Uniforms.helpVec}else if(c.link=="_lampColor"){if(lamp!=null){var str=lamp.data.raw.strength;iron_object_Uniforms.helpVec.set(lamp.data.raw.color[0]*str,lamp.data.raw.color[1]*str,lamp.data.raw.color[2]*str)}v1=iron_object_Uniforms.helpVec}else if(c.link=="_lampArea0"){if(lamp!=null&&lamp.data.raw.size!=null){var f22=.5;var sx=lamp.data.raw.size*f22;var sy=lamp.data.raw.size_y*f22;iron_object_Uniforms.helpVec.set(-sx,sy,0);iron_object_Uniforms.helpVec.applymat(lamp.transform.world);v1=iron_object_Uniforms.helpVec}}else if(c.link=="_lampArea1"){if(lamp!=null&&lamp.data.raw.size!=null){var f23=.5;var sx1=lamp.data.raw.size*f23;var sy1=lamp.data.raw.size_y*f23;iron_object_Uniforms.helpVec.set(sx1,sy1,0);iron_object_Uniforms.helpVec.applymat(lamp.transform.world);v1=iron_object_Uniforms.helpVec}}else if(c.link=="_lampArea2"){if(lamp!=null&&lamp.data.raw.size!=null){var f24=.5;var sx2=lamp.data.raw.size*f24;var sy2=lamp.data.raw.size_y*f24;iron_object_Uniforms.helpVec.set(sx2,-sy2,0);iron_object_Uniforms.helpVec.applymat(lamp.transform.world);v1=iron_object_Uniforms.helpVec}}else if(c.link=="_lampArea3"){if(lamp!=null&&lamp.data.raw.size!=null){var f25=.5;var sx3=lamp.data.raw.size*f25;var sy3=lamp.data.raw.size_y*f25;iron_object_Uniforms.helpVec.set(-sx3,-sy3,0);iron_object_Uniforms.helpVec.applymat(lamp.transform.world);v1=iron_object_Uniforms.helpVec}}else if(c.link=="_cameraPosition"){iron_object_Uniforms.helpVec.set(camera.transform.world.self._30,camera.transform.world.self._31,camera.transform.world.self._32);v1=iron_object_Uniforms.helpVec}else if(c.link=="_cameraLook"){iron_object_Uniforms.helpVec=new iron_math_Vec4(-camera.transform.world.self._20,-camera.transform.world.self._21,-camera.transform.world.self._22);v1=iron_object_Uniforms.helpVec}else if(c.link=="_cameraUp"){iron_object_Uniforms.helpVec=new iron_math_Vec4(camera.transform.world.self._10,camera.transform.world.self._11,camera.transform.world.self._12);v1=iron_object_Uniforms.helpVec}else if(c.link=="_cameraRight"){iron_object_Uniforms.helpVec=new iron_math_Vec4(camera.transform.world.self._00,camera.transform.world.self._01,camera.transform.world.self._02);v1=iron_object_Uniforms.helpVec}else if(c.link=="_dim"){var d=object.transform.dim;var s=object.transform.scale;iron_object_Uniforms.helpVec.set(d.x/s.x,d.y/s.y,d.z/s.z);v1=iron_object_Uniforms.helpVec}else if(c.link=="_halfDim"){var d1=object.transform.dim;var s1=object.transform.scale;iron_object_Uniforms.helpVec.set(d1.x/s1.x/2,d1.y/s1.y/2,d1.z/s1.z/2);v1=iron_object_Uniforms.helpVec}else if(c.link=="_backgroundCol"){if(camera.data.raw.clear_color!=null){iron_object_Uniforms.helpVec.set(camera.data.raw.clear_color[0],camera.data.raw.clear_color[1],camera.data.raw.clear_color[2])}v1=iron_object_Uniforms.helpVec}else if(c.link=="_probeVolumeCenter"){v1=iron_Scene.active.world.getProbeVolumeCenter(object.transform)}else if(c.link=="_probeVolumeSize"){v1=iron_Scene.active.world.getProbeVolumeSize(object.transform)}else if(c.link=="_sunDirection"){var w=iron_Scene.active.world;if(w!=null){iron_object_Uniforms.helpVec.set(w.raw.sun_direction[0],w.raw.sun_direction[1],w.raw.sun_direction[2]);v1=iron_object_Uniforms.helpVec}}else if(iron_object_Uniforms.externalVec3Links!=null){var _g3=0;var _g12=iron_object_Uniforms.externalVec3Links;while(_g3<_g12.length){var f=_g12[_g3];++_g3;v1=f(object,iron_object_Uniforms.currentMat(object),c.link);if(v1!=null){break}}}if(v1==null){return}g.setFloat3(location,v1.x,v1.y,v1.z)}else if(c.type=="vec2"){var vx=0;var vy=0;if(c.link=="_vec2x"){vx=1}else if(c.link=="_vec2xInv"){vx=1/iron_RenderPath.active.currentW}else if(c.link=="_vec2x2"){vx=2}else if(c.link=="_vec2x2Inv"){vx=2/iron_RenderPath.active.currentW}else if(c.link=="_vec2y"){vy=1}else if(c.link=="_vec2yInv"){vy=1/iron_RenderPath.active.currentH}else if(c.link=="_vec2y2"){vy=2}else if(c.link=="_vec2y2Inv"){vy=2/iron_RenderPath.active.currentH}else if(c.link=="_vec2y3"){vy=3}else if(c.link=="_vec2y3Inv"){vy=3/iron_RenderPath.active.currentH}else if(c.link=="_windowSize"){vx=kha_System.windowWidth();vy=kha_System.windowHeight()}else if(c.link=="_windowSizeInv"){vx=1/kha_System.windowWidth();vy=1/kha_System.windowHeight()}else if(c.link=="_screenSize"){vx=iron_RenderPath.active.currentW;vy=iron_RenderPath.active.currentH}else if(c.link=="_screenSizeInv"){vx=1/iron_RenderPath.active.currentW;vy=1/iron_RenderPath.active.currentH}else if(c.link=="_aspectRatio"){vx=iron_RenderPath.active.currentH/iron_RenderPath.active.currentW;vy=iron_RenderPath.active.currentW/iron_RenderPath.active.currentH;if(vx>1){vx=1}else{vx=vx}if(vy>1){vy=1}else{vy=vy}}else if(c.link=="_cameraPlane"){vx=camera.data.raw.near_plane;vy=camera.data.raw.far_plane}else if(c.link=="_cameraPlaneProj"){var near=camera.data.raw.near_plane;var far=camera.data.raw.far_plane;vx=far/(far-near);vy=-far*near/(far-near)}else if(c.link=="_lampPlane"){if(lamp==null){vx=0}else{vx=lamp.data.raw.near_plane}if(lamp==null){vy=0}else{vy=lamp.data.raw.far_plane}}else if(c.link=="_lampPlaneProj"){if(lamp!=null){var near1=lamp.data.raw.near_plane;var far1=lamp.data.raw.far_plane;var a=far1+near1;var b=far1-near1;var f26=2;var c1=f26*far1*near1;vx=a/b;vy=c1/b}}else if(c.link=="_spotlampData"){if(lamp==null){vx=0}else{vx=lamp.data.raw.spot_size}if(lamp==null){vy=0}else{vy=vx-lamp.data.raw.spot_blend}}else if(c.link=="_tilesheetOffset"){var ts=js_Boot.__cast(object,iron_object_MeshObject).tilesheet;vx=ts.tileX;vy=ts.tileY}else if(iron_object_Uniforms.externalVec2Links!=null){var _g4=0;var _g13=iron_object_Uniforms.externalVec2Links;while(_g4<_g13.length){var fn2=_g13[_g4];++_g4;var v2=fn2(object,iron_object_Uniforms.currentMat(object),c.link);if(v2!=null){vx=v2.x;vy=v2.y;break}}}g.setFloat2(location,vx,vy)}else if(c.type=="float"){var f1=0;if(c.link=="_time"){f1=kha_Scheduler.time()}else if(c.link=="_deltaTime"){f1=.016666666666666666*iron_system_Time.scale}else if(c.link=="_lampRadius"){if(lamp==null){f1=0}else{f1=lamp.data.raw.far_plane}}else if(c.link=="_lampShadowsBias"){if(lamp==null){f1=0}else{f1=lamp.data.raw.shadows_bias}}else if(c.link=="_lampSize"){if(lamp!=null&&lamp.data.raw.lamp_size!=null){f1=lamp.data.raw.lamp_size}}else if(c.link=="_envmapStrength"){if(iron_Scene.active.world==null){f1=0}else{f1=iron_Scene.active.world.getGlobalProbe().raw.strength}}else if(c.link=="_probeStrength"){f1=iron_Scene.active.world.getProbeStrength(object.transform)}else if(c.link=="_probeBlending"){f1=iron_Scene.active.world.getProbeBlending(object.transform)}else if(c.link=="_aspectRatioF"){f1=iron_RenderPath.active.currentW/iron_RenderPath.active.currentH}else if(c.link=="_aspectRatioWindowF"){f1=kha_System.windowWidth()/kha_System.windowHeight()}else if(c.link=="_objectInfoIndex"){f1=object.uid}else if(c.link=="_objectInfoMaterialIndex"){f1=iron_object_Uniforms.currentMat(object).uid}else if(c.link=="_objectInfoRandom"){f1=object.urandom}else if(c.link=="_frameScale"){f1=iron_RenderPath.active.frameTime/(.016666666666666666*iron_system_Time.scale)}else if(iron_object_Uniforms.externalFloatLinks!=null){var _g5=0;var _g14=iron_object_Uniforms.externalFloatLinks;while(_g5<_g14.length){var fn3=_g14[_g5];++_g5;var res=fn3(object,iron_object_Uniforms.currentMat(object),c.link);if(res!=null){f1=res;break}}}g.setFloat(location,f1)}else if(c.type=="floats"){var fa=null;if(c.link=="_skinBones"){if(object.animation!=null){fa=js_Boot.__cast(object.animation,iron_object_BoneAnimation).skinBuffer}}else if(c.link=="_envmapIrradiance"){if(iron_Scene.active.world==null){fa=iron_data_WorldData.getEmptyIrradiance()}else{fa=iron_Scene.active.world.getSHIrradiance()}}if(c.link=="_cascadeData"){if(lamp!=null){fa=lamp.getCascadeData()}}else if(iron_object_Uniforms.externalFloatsLinks!=null){var _g6=0;var _g15=iron_object_Uniforms.externalFloatsLinks;while(_g6<_g15.length){var fn4=_g15[_g6];++_g6;fa=fn4(object,iron_object_Uniforms.currentMat(object),c.link);if(fa!=null){break}}}if(fa!=null){g.setFloats(location,fa)}}else if(c.type=="int"){var i=0;if(c.link=="_uid"){i=object.uid}if(c.link=="_lampType"){if(lamp==null){i=0}else{switch(lamp.data.raw.type){case"area":i=3;break;case"point":i=1;break;case"spot":i=2;break;case"sun":i=0;break;default:i=0}}}else if(c.link=="_lampIndex"){i=iron_RenderPath.active.currentLampIndex}else if(c.link=="_lampCastShadow"){if(lamp!=null&&lamp.data.raw.cast_shadow){if(lamp.data.raw.shadowmap_cube){i=2}else{i=1}}}else if(c.link=="_envmapNumMipmaps"){var w1=iron_Scene.active.world;if(w1!=null){i=w1.getGlobalProbe().raw.radiance_mipmaps+1-2}else{i=1}}else if(iron_object_Uniforms.externalIntLinks!=null){var _g7=0;var _g16=iron_object_Uniforms.externalIntLinks;while(_g7<_g16.length){var fn5=_g16[_g7];++_g7;var res1=fn5(object,iron_object_Uniforms.currentMat(object),c.link);if(res1!=null){i=res1;break}}}g.setInt(location,i)}};iron_object_Uniforms.setMaterialConstants=function(g,context,materialContext){if(materialContext.raw.bind_constants!=null){var _g1=0;var _g=materialContext.raw.bind_constants.length;while(_g1<_g){var i=_g1++;var matc=materialContext.raw.bind_constants[i];var pos=-1;var _g3=0;var _g2=context.raw.constants.length;while(_g3<_g2){var i1=_g3++;if(context.raw.constants[i1].name==matc.name){pos=i1;break}}if(pos==-1){continue}var c=context.raw.constants[pos];iron_object_Uniforms.setMaterialConstant(g,context.constants[pos],c,matc)}}if(materialContext.textures!=null){var _g11=0;var _g4=materialContext.textures.length;while(_g11<_g4){var i2=_g11++;var mname=materialContext.raw.bind_textures[i2].name;var _g31=0;var _g21=context.textureUnits.length;while(_g31<_g21){var j=_g31++;var sname=context.raw.texture_units[j].name;if(mname==sname){g.setTexture(context.textureUnits[j],materialContext.textures[i2]);materialContext.setTextureParameters(g,i2,context,j);break}}}}};iron_object_Uniforms.currentMat=function(object){var rp=iron_RenderPath.active;if(rp.currentMaterial!=null){return rp.currentMaterial}if(object!=null&&js_Boot.__instanceof(object,iron_object_MeshObject)){return js_Boot.__cast(object,iron_object_MeshObject).materials[0]}return null};iron_object_Uniforms.setMaterialConstant=function(g,location,c,matc){var _g=c.type;switch(_g){case"bool":g.setBool(location,matc.bool);break;case"float":g.setFloat(location,matc["float"]);break;case"int":g.setInt(location,matc["int"]);break;case"vec2":g.setFloat2(location,matc.vec2[0],matc.vec2[1]);break;case"vec3":g.setFloat3(location,matc.vec3[0],matc.vec3[1],matc.vec3[2]);break;case"vec4":g.setFloat4(location,matc.vec4[0],matc.vec4[1],matc.vec4[2],matc.vec4[3]);break}};var iron_system_ArmPack=function(){};$hxClasses["iron.system.ArmPack"]=iron_system_ArmPack;iron_system_ArmPack.__name__=true;iron_system_ArmPack.read=function(i){try{var b=i.readByte();switch(b){case 192:return null;case 194:return false;case 195:return true;case 196:return i.read(i.readByte());case 197:return i.read(i.readUInt16());case 198:return i.read(i.readInt32());case 202:return i.readFloat();case 204:return i.readByte();case 205:return i.readUInt16();case 206:return i.readInt32();case 208:return i.readInt8();case 209:return i.readInt16();case 210:return i.readInt32();case 217:return i.readString(i.readByte());case 218:return i.readString(i.readUInt16());case 219:return i.readString(i.readInt32());case 220:return iron_system_ArmPack.readArray(i,i.readUInt16());case 221:return iron_system_ArmPack.readArray(i,i.readInt32());case 222:return iron_system_ArmPack.readMap(i,i.readUInt16());case 223:return iron_system_ArmPack.readMap(i,i.readInt32());default:if(b<128){return b}else if(b<144){return iron_system_ArmPack.readMap(i,15&b)}else if(b<160){return iron_system_ArmPack.readArray(i,15&b)}else if(b<192){return i.readString(31&b)}else if(b>223){return-256|b}}}catch(e){if(e instanceof js__$Boot_HaxeError)e=e.val;if(js_Boot.__instanceof(e,haxe_io_Eof)){}else throw e}return null};iron_system_ArmPack.readArray=function(i,length){var b=i.readByte();var _g=i;var _g1=_g.pos;_g.set_position(_g1-1);if(b==202){var _g2=i;var _g11=_g2.pos;_g2.set_position(_g11+1);var this1=new Float32Array(length);var a=this1;var _g12=0;var _g3=length;while(_g12<_g3){var x=_g12++;a[x]=i.readFloat()}return a}else if(b==210){var _g4=i;var _g13=_g4.pos;_g4.set_position(_g13+1);var this2=new Uint32Array(length);var a1=this2;var _g14=0;var _g5=length;while(_g14<_g5){var x1=_g14++;a1[x1]=i.readInt32()}return a1}else{var a2=[];var _g15=0;var _g6=length;while(_g15<_g6){var x2=_g15++;a2.push(iron_system_ArmPack.read(i))}return a2}};iron_system_ArmPack.readMap=function(i,length){var out={};var _g1=0;var _g=length;while(_g1<_g){var n=_g1++;var k=iron_system_ArmPack.read(i);var v=iron_system_ArmPack.read(i);out[Std.string(k)]=v}return out};var iron_system_Audio=function(){};$hxClasses["iron.system.Audio"]=iron_system_Audio;iron_system_Audio.__name__=true;iron_system_Audio.play=function(sound,loop,stream){if(stream==null){stream=false}if(loop==null){loop=false}if(stream&&sound.compressedData!=null){return kha_audio2_Audio1.stream(sound,loop)}else if(sound.uncompressedData!=null){return kha_audio2_Audio1.play(sound,loop)}else{return null}};var iron_system_Input=function(){};$hxClasses["iron.system.Input"]=iron_system_Input;iron_system_Input.__name__=true;iron_system_Input.endFrame=function(){if(iron_system_Input.mouse!=null){iron_system_Input.mouse.endFrame()}if(iron_system_Input.pen!=null){iron_system_Input.pen.endFrame()}if(iron_system_Input.keyboard!=null){iron_system_Input.keyboard.endFrame()}var _g=0;var _g1=iron_system_Input.gamepads;while(_g<_g1.length){var gamepad=_g1[_g];++_g;gamepad.endFrame()}if(iron_system_Input.virtualButtons!=null){var _this=iron_system_Input.virtualButtons;var vb=new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys());while(vb.hasNext()){var vb1=vb.next();vb1.started=vb1.released=false}}};iron_system_Input.getMouse=function(){if(iron_system_Input.mouse==null){iron_system_Input.mouse=new iron_system_Mouse}return iron_system_Input.mouse};iron_system_Input.getKeyboard=function(){if(iron_system_Input.keyboard==null){iron_system_Input.keyboard=new iron_system_Keyboard}return iron_system_Input.keyboard};var iron_system_VirtualButton=function(){this.down=false;this.released=false;this.started=false};$hxClasses["iron.system.VirtualButton"]=iron_system_VirtualButton;iron_system_VirtualButton.__name__=true;iron_system_VirtualButton.prototype={started:null,released:null,down:null,__class__:iron_system_VirtualButton};var iron_system_VirtualInput=function(){this.virtualButtons=null};$hxClasses["iron.system.VirtualInput"]=iron_system_VirtualInput;iron_system_VirtualInput.__name__=true;iron_system_VirtualInput.prototype={virtualButtons:null,downVirtual:function(button){if(this.virtualButtons!=null){var _this=this.virtualButtons;var vb=__map_reserved[button]!=null?_this.getReserved(button):_this.h[button];if(vb!=null){vb.down=true;vb.started=true}}},upVirtual:function(button){if(this.virtualButtons!=null){var _this=this.virtualButtons;var vb=__map_reserved[button]!=null?_this.getReserved(button):_this.h[button];if(vb!=null){vb.down=false;vb.released=true}}},__class__:iron_system_VirtualInput};var iron_system_Mouse=function(){this.lastY=-1;this.lastX=-1;this.hidden=false;this.locked=false;this.wheelDelta=0;this.movementY=0;this.movementX=0;this.moved=false;this.y=0;this.x=0;this.buttonsReleased=[false,false,false];this.buttonsStarted=[false,false,false];this.buttonsDown=[false,false,false];iron_system_VirtualInput.call(this);kha_input_Mouse.get().notify($bind(this,this.downListener),$bind(this,this.upListener),$bind(this,this.moveListener),$bind(this,this.wheelListener))};$hxClasses["iron.system.Mouse"]=iron_system_Mouse;iron_system_Mouse.__name__=true;iron_system_Mouse.__super__=iron_system_VirtualInput;iron_system_Mouse.prototype=$extend(iron_system_VirtualInput.prototype,{buttonsDown:null,buttonsStarted:null,buttonsReleased:null,x:null,y:null,moved:null,movementX:null,movementY:null,wheelDelta:null,locked:null,hidden:null,lastX:null,lastY:null,endFrame:function(){var tmp=this.buttonsStarted[1]=this.buttonsStarted[2]=false;this.buttonsStarted[0]=tmp;var tmp1=this.buttonsReleased[1]=this.buttonsReleased[2]=false;this.buttonsReleased[0]=tmp1;this.moved=false;this.movementX=0;this.movementY=0;this.wheelDelta=0},buttonIndex:function(button){if(button=="left"){return 0}else if(button=="right"){return 1}else{return 2}},down:function(button){if(button==null){button="left"}return this.buttonsDown[this.buttonIndex(button)]},started:function(button){if(button==null){button="left"}return this.buttonsStarted[this.buttonIndex(button)]},lock:function(){if(kha_input_Mouse.get().canLock()){kha_input_Mouse.get().lock();this.locked=true;this.hidden=true}},unlock:function(){if(kha_input_Mouse.get().canLock()){kha_input_Mouse.get().unlock();this.locked=false;this.hidden=false}},downListener:function(index,x,y){this.buttonsDown[index]=true;this.buttonsStarted[index]=true;this.x=x;this.y=y;this.downVirtual(iron_system_Mouse.buttons[index])},upListener:function(index,x,y){this.buttonsDown[index]=false;this.buttonsReleased[index]=true;this.x=x;this.y=y;this.upVirtual(iron_system_Mouse.buttons[index])},moveListener:function(x,y,movementX,movementY){if(this.lastX==-1&&this.lastY==-1){this.lastX=x;this.lastY=y}if(this.locked){this.movementX=movementX;this.movementY=movementY}else{this.movementX=x-this.lastX;this.movementY=y-this.lastY}this.lastX=x;this.lastY=y;this.x=x;this.y=y;this.moved=true},wheelListener:function(delta){this.wheelDelta=delta},__class__:iron_system_Mouse});var iron_system_Pen=function(){this.movementY=0;this.movementX=0;this.moved=false;this.buttonsReleased=[false];this.buttonsStarted=[false]};$hxClasses["iron.system.Pen"]=iron_system_Pen;iron_system_Pen.__name__=true;iron_system_Pen.__super__=iron_system_VirtualInput;iron_system_Pen.prototype=$extend(iron_system_VirtualInput.prototype,{buttonsStarted:null,buttonsReleased:null,moved:null,movementX:null,movementY:null,endFrame:function(){this.buttonsStarted[0]=false;this.buttonsReleased[0]=false;this.moved=false;this.movementX=0;this.movementY=0},__class__:iron_system_Pen});var iron_system_Keyboard=function(){this.keysFrame=[];this.keysReleased=new haxe_ds_StringMap;this.keysStarted=new haxe_ds_StringMap;this.keysDown=new haxe_ds_StringMap;iron_system_VirtualInput.call(this);this.reset();kha_input_Keyboard.get().notify($bind(this,this.downListener),$bind(this,this.upListener),$bind(this,this.pressListener))};$hxClasses["iron.system.Keyboard"]=iron_system_Keyboard;iron_system_Keyboard.__name__=true;iron_system_Keyboard.keyCode=function(key){if(key==32){return"space"}else if(key==8){return"backspace"}else if(key==9){return"tab"}else if(key==13){return"enter"}else if(key==16){return"shift"}else if(key==17){return"ctrl"}else if(key==18){return"alt"}else if(key==27){return"esc"}else if(key==46){return"del"}else if(key==38){return"up"}else if(key==40){return"down"}else if(key==37){return"left"}else if(key==39){return"right"}else if(key==1){return"back"}else if(key==48){return"0"}else if(key==49){return"1"}else if(key==50){return"2"}else if(key==51){return"3"}else if(key==52){return"4"}else if(key==53){return"5"}else if(key==54){return"6"}else if(key==55){return"7"}else if(key==56){return"8"}else if(key==57){return"9"}else{return String.fromCharCode(key).toLowerCase()}};iron_system_Keyboard.__super__=iron_system_VirtualInput;iron_system_Keyboard.prototype=$extend(iron_system_VirtualInput.prototype,{keysDown:null,keysStarted:null,keysReleased:null,keysFrame:null,endFrame:function(){if(this.keysFrame.length>0){var _g=0;var _g1=this.keysFrame;while(_g<_g1.length){var s=_g1[_g];++_g;var _this=this.keysStarted;if(__map_reserved[s]!=null){_this.setReserved(s,false)}else{_this.h[s]=false}var _this1=this.keysReleased;if(__map_reserved[s]!=null){_this1.setReserved(s,false)}else{_this1.h[s]=false}}this.keysFrame.splice(0,this.keysFrame.length)}},reset:function(){var _g=0;var _g1=iron_system_Keyboard.keys;while(_g<_g1.length){var s=_g1[_g];++_g;var _this=this.keysDown;if(__map_reserved[s]!=null){_this.setReserved(s,false)}else{_this.h[s]=false}var _this1=this.keysStarted;if(__map_reserved[s]!=null){_this1.setReserved(s,false)}else{_this1.h[s]=false}var _this2=this.keysReleased;if(__map_reserved[s]!=null){_this2.setReserved(s,false)}else{_this2.h[s]=false}}this.endFrame()},down:function(key){var _this=this.keysDown;if(__map_reserved[key]!=null){return _this.getReserved(key)}else{return _this.h[key]}},started:function(key){var _this=this.keysStarted;if(__map_reserved[key]!=null){return _this.getReserved(key)}else{return _this.h[key]}},downListener:function(code){var s=iron_system_Keyboard.keyCode(code);this.keysFrame.push(s);var _this=this.keysStarted;if(__map_reserved[s]!=null){_this.setReserved(s,true)}else{_this.h[s]=true}var _this1=this.keysDown;if(__map_reserved[s]!=null){_this1.setReserved(s,true)}else{_this1.h[s]=true}this.downVirtual(s)},upListener:function(code){var s=iron_system_Keyboard.keyCode(code);this.keysFrame.push(s);var _this=this.keysReleased;if(__map_reserved[s]!=null){_this.setReserved(s,true)}else{_this.h[s]=true}var _this1=this.keysDown;if(__map_reserved[s]!=null){_this1.setReserved(s,false)}else{_this1.h[s]=false}this.upVirtual(s)},pressListener:function($char){},__class__:iron_system_Keyboard});var iron_system_GamepadStick=function(){this.movementY=0;this.movementX=0;this.moved=false};$hxClasses["iron.system.GamepadStick"]=iron_system_GamepadStick;iron_system_GamepadStick.__name__=true;iron_system_GamepadStick.prototype={moved:null,movementX:null,movementY:null,__class__:iron_system_GamepadStick};var iron_system_Gamepad=function(){this.rightStick=new iron_system_GamepadStick;this.leftStick=new iron_system_GamepadStick;this.buttonsFrame=[];this.buttonsReleased=[];this.buttonsStarted=[]};$hxClasses["iron.system.Gamepad"]=iron_system_Gamepad;iron_system_Gamepad.__name__=true;iron_system_Gamepad.__super__=iron_system_VirtualInput;iron_system_Gamepad.prototype=$extend(iron_system_VirtualInput.prototype,{buttonsStarted:null,buttonsReleased:null,buttonsFrame:null,leftStick:null,rightStick:null,endFrame:function(){if(this.buttonsFrame.length>0){var _g=0;var _g1=this.buttonsFrame;while(_g<_g1.length){var i=_g1[_g];++_g;this.buttonsStarted[i]=false;this.buttonsReleased[i]=false}this.buttonsFrame.splice(0,this.buttonsFrame.length)}this.leftStick.moved=false;this.leftStick.movementX=0;this.leftStick.movementY=0;this.rightStick.moved=false;this.rightStick.movementX=0;this.rightStick.movementY=0},__class__:iron_system_Gamepad});var iron_system_Time=function(){};$hxClasses["iron.system.Time"]=iron_system_Time;iron_system_Time.__name__=true;iron_system_Time.update=function(){iron_system_Time.realDelta=kha_Scheduler.realTime()-iron_system_Time.last;iron_system_Time.last=kha_Scheduler.realTime()};var iron_system_Tween=function(){};$hxClasses["iron.system.Tween"]=iron_system_Tween;iron_system_Tween.__name__=true;iron_system_Tween.update=function(){var d=.016666666666666666*iron_system_Time.scale;var i=iron_system_Tween.anims.length;while(i-- >0&&iron_system_Tween.anims.length>0){var a=iron_system_Tween.anims[i];if(a.delay>0){a.delay-=d;if(a.delay>0){continue}}a._time+=d;a.isPlaying=a._time<a.duration;if(a.target!=null){if(js_Boot.__instanceof(a.target,iron_object_Transform)){a.target.dirty=true}var ps=Reflect.fields(a.props);var _g1=0;var _g=ps.length;while(_g1<_g){var i1=_g1++;var p=ps[i1];var k=a._time/a.duration;if(k>1){k=1}if(a._comps[i1]==1){var fromVal=a._x[i1];var toVal=Reflect.getProperty(a.props,p);var val=fromVal+(toVal-fromVal)*iron_system_Tween.eases[a.ease](k);Reflect.setProperty(a.target,p,val)}else{var obj=Reflect.getProperty(a.props,p);var toX=Reflect.getProperty(obj,"x");var toY=Reflect.getProperty(obj,"y");var toZ=Reflect.getProperty(obj,"z");var toW=Reflect.getProperty(obj,"w");if(a._normalize[i1]){var qdot=a._x[i1]*toX+a._y[i1]*toY+a._z[i1]*toZ+a._w[i1]*toW;if(qdot<0){toX=-toX;toY=-toY;toZ=-toZ;toW=-toW}}var x=a._x[i1]+(toX-a._x[i1])*iron_system_Tween.eases[a.ease](k);var y=a._y[i1]+(toY-a._y[i1])*iron_system_Tween.eases[a.ease](k);var z=a._z[i1]+(toZ-a._z[i1])*iron_system_Tween.eases[a.ease](k);var w=a._w[i1]+(toW-a._w[i1])*iron_system_Tween.eases[a.ease](k);if(a._normalize[i1]){var l=Math.sqrt(x*x+y*y+z*z+w*w);if(l>0){l=1/l;x*=l;y*=l;z*=l;w*=l}}var t=Reflect.getProperty(a.target,p);Reflect.setProperty(t,"x",x);Reflect.setProperty(t,"y",y);Reflect.setProperty(t,"z",z);Reflect.setProperty(t,"w",w)}}}if(a.isPlaying){if(a.tick!=null){a.tick()}}else{iron_system_Tween.anims.splice(i,1);--i;a.isPlaying=false;if(a.done!=null){a.done()}}}};iron_system_Tween.easeLinear=function(k){return k};iron_system_Tween.easeSineIn=function(k){if(k==0){return 0}else if(k==1){return 1}else{return 1-Math.cos(k*Math.PI/2)}};iron_system_Tween.easeSineOut=function(k){if(k==0){return 0}else if(k==1){return 1}else{return Math.sin(k*(Math.PI*.5))}};iron_system_Tween.easeSineInOut=function(k){if(k==0){return 0}else if(k==1){return 1}else{return-.5*(Math.cos(Math.PI*k)-1)}};iron_system_Tween.easeQuadIn=function(k){return k*k};iron_system_Tween.easeQuadOut=function(k){return-k*(k-2)};iron_system_Tween.easeQuadInOut=function(k){if(k<.5){return 2*k*k}else{return-2*(--k*k)+1}};iron_system_Tween.easeCubicIn=function(k){return k*k*k};iron_system_Tween.easeCubicOut=function(k){return--k*k*k+1};iron_system_Tween.easeCubicInOut=function(k){if((k*=2)<1){return.5*k*k*k}else{return.5*((k-=2)*k*k+2)}};iron_system_Tween.easeQuartIn=function(k){return(k*=k)*k};iron_system_Tween.easeQuartOut=function(k){k=--k*k;return 1-k*k};iron_system_Tween.easeQuartInOut=function(k){if((k*=2)<1){return.5*(k*=k)*k}else{k=(k-=2)*k;return-.5*(k*k-2)}};iron_system_Tween.easeQuintIn=function(k){return k*(k*=k)*k};iron_system_Tween.easeQuintOut=function(k){return--k*(k*=k)*k+1};iron_system_Tween.easeQuintInOut=function(k){if((k*=2)<1){return.5*k*(k*=k)*k}else{return.5*(k-=2)*(k*=k)*k+1}};iron_system_Tween.easeExpoIn=function(k){if(k==0){return 0}else{return Math.pow(2,10*(k-1))}};iron_system_Tween.easeExpoOut=function(k){if(k==1){return 1}else{return 1-Math.pow(2,-10*k)}};iron_system_Tween.easeExpoInOut=function(k){if(k==0){return 0}if(k==1){return 1}if((k/=.5)<1){return.5*Math.pow(2,10*(k-1))}return.5*(2-Math.pow(2,-10*--k))};iron_system_Tween.easeCircIn=function(k){return-(Math.sqrt(1-k*k)-1)};iron_system_Tween.easeCircOut=function(k){return Math.sqrt(1-(k-1)*(k-1))};iron_system_Tween.easeCircInOut=function(k){if(k<=.5){return(Math.sqrt(1-k*k*4)-1)/-2}else{return(Math.sqrt(1-(k*2-2)*(k*2-2))+1)/2}};iron_system_Tween.easeBackIn=function(k){if(k==0){return 0}else if(k==1){return 1}else{return k*k*(2.70158*k-1.70158)}};iron_system_Tween.easeBackOut=function(k){if(k==0){return 0}else if(k==1){return 1}else{return--k*k*(2.70158*k+1.70158)+1}};iron_system_Tween.easeBackInOut=function(k){if(k==0){return 0}else if(k==1){return 1}else if((k*=2)<1){return.5*(k*k*(3.5949095*k-2.5949095))}else{return.5*((k-=2)*k*(3.5949095*k+2.5949095)+2)}};var js__$Boot_HaxeError=function(val){Error.call(this);this.val=val;this.message=String(val);if(Error.captureStackTrace){Error.captureStackTrace(this,js__$Boot_HaxeError)}};$hxClasses["js._Boot.HaxeError"]=js__$Boot_HaxeError;js__$Boot_HaxeError.__name__=true;js__$Boot_HaxeError.wrap=function(val){if(val instanceof Error){return val}else{return new js__$Boot_HaxeError(val)}};js__$Boot_HaxeError.__super__=Error;js__$Boot_HaxeError.prototype=$extend(Error.prototype,{val:null,__class__:js__$Boot_HaxeError});var js_Boot=function(){};$hxClasses["js.Boot"]=js_Boot;js_Boot.__name__=true;js_Boot.__unhtml=function(s){return s.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};js_Boot.__trace=function(v,i){var msg=i!=null?i.fileName+":"+i.lineNumber+": ":"";msg+=js_Boot.__string_rec(v,"");if(i!=null&&i.customParams!=null){var _g=0;var _g1=i.customParams;while(_g<_g1.length){var v1=_g1[_g];++_g;msg+=","+js_Boot.__string_rec(v1,"")}}var d;var tmp;if(typeof document!="undefined"){d=document.getElementById("haxe:trace");tmp=d!=null}else{tmp=false}if(tmp){d.innerHTML+=js_Boot.__unhtml(msg)+"<br/>"}else if(typeof console!="undefined"&&console.log!=null){console.log(msg)}};js_Boot.getClass=function(o){if(o instanceof Array&&o.__enum__==null){return Array}else{var cl=o.__class__;if(cl!=null){return cl}var name=js_Boot.__nativeClassName(o);if(name!=null){return js_Boot.__resolveNativeClass(name)}return null}};js_Boot.__string_rec=function(o,s){if(o==null){return"null"}if(s.length>=5){return"<...>"}var t=typeof o;if(t=="function"&&(o.__name__||o.__ename__)){t="object"}switch(t){case"function":return"<function>";case"object":if(o instanceof Array){if(o.__enum__){if(o.length==2){return o[0]}var str=o[0]+"(";s+="\t";var _g1=2;var _g=o.length;while(_g1<_g){var i=_g1++;if(i!=2){str+=","+js_Boot.__string_rec(o[i],s)}else{str+=js_Boot.__string_rec(o[i],s)}}return str+")"}var l=o.length;var i1;var str1="[";s+="\t";var _g11=0;var _g2=l;while(_g11<_g2){var i2=_g11++;str1+=(i2>0?",":"")+js_Boot.__string_rec(o[i2],s)}str1+="]";return str1}var tostr;try{tostr=o.toString}catch(e){return"???"}if(tostr!=null&&tostr!=Object.toString&&typeof tostr=="function"){var s2=o.toString();if(s2!="[object Object]"){return s2}}var k=null;var str2="{\n";s+="\t";var hasp=o.hasOwnProperty!=null;for(var k in o){if(hasp&&!o.hasOwnProperty(k)){continue}if(k=="prototype"||k=="__class__"||k=="__super__"||k=="__interfaces__"||k=="__properties__"){continue}if(str2.length!=2){str2+=", \n"}str2+=s+k+" : "+js_Boot.__string_rec(o[k],s)}s=s.substring(1);str2+="\n"+s+"}";return str2;case"string":return o;default:return String(o)}};js_Boot.__interfLoop=function(cc,cl){if(cc==null){return false}if(cc==cl){return true}var intf=cc.__interfaces__;if(intf!=null){var _g1=0;var _g=intf.length;while(_g1<_g){var i=_g1++;var i1=intf[i];if(i1==cl||js_Boot.__interfLoop(i1,cl)){return true}}}return js_Boot.__interfLoop(cc.__super__,cl)};js_Boot.__instanceof=function(o,cl){if(cl==null){return false}switch(cl){case Array:if(o instanceof Array){return o.__enum__==null}else{return false}break;case Bool:return typeof o=="boolean";case Dynamic:return true;case Float:return typeof o=="number";case Int:if(typeof o=="number"){return(o|0)===o}else{return false}break;case String:return typeof o=="string";default:if(o!=null){if(typeof cl=="function"){if(o instanceof cl){return true}if(js_Boot.__interfLoop(js_Boot.getClass(o),cl)){return true}}else if(typeof cl=="object"&&js_Boot.__isNativeObj(cl)){if(o instanceof cl){return true}}}else{return false}if(cl==Class?o.__name__!=null:false){return true}if(cl==Enum?o.__ename__!=null:false){return true}return o.__enum__==cl}};js_Boot.__cast=function(o,t){if(js_Boot.__instanceof(o,t)){return o}else{throw new js__$Boot_HaxeError("Cannot cast "+Std.string(o)+" to "+Std.string(t))}};js_Boot.__nativeClassName=function(o){var name=js_Boot.__toStr.call(o).slice(8,-1);if(name=="Object"||name=="Function"||name=="Math"||name=="JSON"){return null}return name};js_Boot.__isNativeObj=function(o){return js_Boot.__nativeClassName(o)!=null};js_Boot.__resolveNativeClass=function(name){return $global[name]};var js_html_compat_ArrayBuffer=function(a){if(a instanceof Array&&a.__enum__==null){this.a=a;this.byteLength=a.length}else{var len=a;this.a=[];var _g1=0;var _g=len;while(_g1<_g){var i=_g1++;this.a[i]=0}this.byteLength=len}};$hxClasses["js.html.compat.ArrayBuffer"]=js_html_compat_ArrayBuffer;js_html_compat_ArrayBuffer.__name__=true;js_html_compat_ArrayBuffer.sliceImpl=function(begin,end){var u=new Uint8Array(this,begin,end==null?null:end-begin);var result=new ArrayBuffer(u.byteLength);var resultArray=new Uint8Array(result);resultArray.set(u);return result};js_html_compat_ArrayBuffer.prototype={byteLength:null,a:null,slice:function(begin,end){return new js_html_compat_ArrayBuffer(this.a.slice(begin,end))},__class__:js_html_compat_ArrayBuffer};var js_html_compat_DataView=function(buffer,byteOffset,byteLength){this.buf=buffer;this.offset=byteOffset==null?0:byteOffset;this.length=byteLength==null?buffer.byteLength-this.offset:byteLength;if(this.offset<0||this.length<0||this.offset+this.length>buffer.byteLength){throw new js__$Boot_HaxeError(haxe_io_Error.OutsideBounds)}this.byteLength=this.length;this.byteOffset=this.offset;this.buffer=this.buf};$hxClasses["js.html.compat.DataView"]=js_html_compat_DataView;js_html_compat_DataView.__name__=true;js_html_compat_DataView.prototype={buf:null,offset:null,length:null,byteLength:null,byteOffset:null,buffer:null,getInt8:function(byteOffset){var v=this.buf.a[this.offset+byteOffset];if(v>=128){return v-256}else{return v}},getUint8:function(byteOffset){return this.buf.a[this.offset+byteOffset]},getInt16:function(byteOffset,littleEndian){var v=this.getUint16(byteOffset,littleEndian);if(v>=32768){return v-65536}else{return v}},getUint16:function(byteOffset,littleEndian){if(littleEndian){return this.buf.a[this.offset+byteOffset]|this.buf.a[this.offset+byteOffset+1]<<8}else{return this.buf.a[this.offset+byteOffset]<<8|this.buf.a[this.offset+byteOffset+1]}},getInt32:function(byteOffset,littleEndian){var p=this.offset+byteOffset;var a=this.buf.a[p++];var b=this.buf.a[p++];var c=this.buf.a[p++];var d=this.buf.a[p++];if(littleEndian){return a|b<<8|c<<16|d<<24}else{return d|c<<8|b<<16|a<<24}},getUint32:function(byteOffset,littleEndian){var v=this.getInt32(byteOffset,littleEndian);if(v<0){return v+4294967296}else{return v}},getFloat32:function(byteOffset,littleEndian){return haxe_io_FPHelper.i32ToFloat(this.getInt32(byteOffset,littleEndian))},getFloat64:function(byteOffset,littleEndian){var a=this.getInt32(byteOffset,littleEndian);var b=this.getInt32(byteOffset+4,littleEndian);return haxe_io_FPHelper.i64ToDouble(littleEndian?a:b,littleEndian?b:a)},setInt8:function(byteOffset,value){this.buf.a[byteOffset+this.offset]=value<0?value+128&255:value&255},setUint8:function(byteOffset,value){this.buf.a[byteOffset+this.offset]=value&255},setInt16:function(byteOffset,value,littleEndian){this.setUint16(byteOffset,value<0?value+65536:value,littleEndian)},setUint16:function(byteOffset,value,littleEndian){var p=byteOffset+this.offset;if(littleEndian){this.buf.a[p]=value&255;this.buf.a[p++]=value>>8&255}else{this.buf.a[p++]=value>>8&255;this.buf.a[p]=value&255}},setInt32:function(byteOffset,value,littleEndian){this.setUint32(byteOffset,value,littleEndian)},setUint32:function(byteOffset,value,littleEndian){var p=byteOffset+this.offset;if(littleEndian){this.buf.a[p++]=value&255;this.buf.a[p++]=value>>8&255;this.buf.a[p++]=value>>16&255;this.buf.a[p++]=value>>>24}else{this.buf.a[p++]=value>>>24;this.buf.a[p++]=value>>16&255;this.buf.a[p++]=value>>8&255;this.buf.a[p++]=value&255}},setFloat32:function(byteOffset,value,littleEndian){this.setUint32(byteOffset,haxe_io_FPHelper.floatToI32(value),littleEndian)},setFloat64:function(byteOffset,value,littleEndian){var i64=haxe_io_FPHelper.doubleToI64(value);if(littleEndian){this.setUint32(byteOffset,i64.low);this.setUint32(byteOffset,i64.high)}else{this.setUint32(byteOffset,i64.high);this.setUint32(byteOffset,i64.low)}},__class__:js_html_compat_DataView};var js_html_compat_Float32Array=function(){};$hxClasses["js.html.compat.Float32Array"]=js_html_compat_Float32Array;js_html_compat_Float32Array.__name__=true;js_html_compat_Float32Array._new=function(arg1,offset,length){var arr;if(typeof arg1=="number"){arr=[];var _g1=0;var _g=arg1;while(_g1<_g){var i=_g1++;arr[i]=0}arr.byteLength=arr.length<<2;arr.byteOffset=0;var _g2=[];var _g21=0;var _g11=arr.length<<2;while(_g21<_g11){var i1=_g21++;_g2.push(0)}arr.buffer=new js_html_compat_ArrayBuffer(_g2)}else if(js_Boot.__instanceof(arg1,js_html_compat_ArrayBuffer)){var buffer=arg1;if(offset==null){offset=0}if(length==null){length=buffer.byteLength-offset>>2}arr=[];var _g12=0;var _g3=length;while(_g12<_g3){var i2=_g12++;var val=buffer.a[offset++]|buffer.a[offset++]<<8|buffer.a[offset++]<<16|buffer.a[offset++]<<24;arr.push(haxe_io_FPHelper.i32ToFloat(val))}arr.byteLength=arr.length<<2;arr.byteOffset=offset;arr.buffer=buffer}else if(arg1 instanceof Array&&arg1.__enum__==null){arr=arg1.slice();var buffer1=[];var _g4=0;while(_g4<arr.length){var f=arr[_g4];++_g4;var i3=haxe_io_FPHelper.floatToI32(f);buffer1.push(i3&255);buffer1.push(i3>>8&255);buffer1.push(i3>>16&255);buffer1.push(i3>>>24)}arr.byteLength=arr.length<<2;arr.byteOffset=0;arr.buffer=new js_html_compat_ArrayBuffer(buffer1)}else{throw new js__$Boot_HaxeError("TODO "+Std.string(arg1))}arr.subarray=js_html_compat_Float32Array._subarray;arr.set=js_html_compat_Float32Array._set;return arr};js_html_compat_Float32Array._set=function(arg,offset){if(js_Boot.__instanceof(arg.buffer,js_html_compat_ArrayBuffer)){var a=arg;if(arg.byteLength+offset>this.byteLength){throw new js__$Boot_HaxeError("set() outside of range")}var _g1=0;var _g=arg.byteLength;while(_g1<_g){var i=_g1++;this[i+offset]=a[i]}}else if(arg instanceof Array&&arg.__enum__==null){var a1=arg;if(a1.length+offset>this.byteLength){throw new js__$Boot_HaxeError("set() outside of range")}var _g11=0;var _g2=a1.length;while(_g11<_g2){var i1=_g11++;this[i1+offset]=a1[i1]}}else{throw new js__$Boot_HaxeError("TODO")}};js_html_compat_Float32Array._subarray=function(start,end){var a=js_html_compat_Float32Array._new(this.slice(start,end));a.byteOffset=start*4;return a};var js_html_compat_Uint8Array=function(){};$hxClasses["js.html.compat.Uint8Array"]=js_html_compat_Uint8Array;js_html_compat_Uint8Array.__name__=true;js_html_compat_Uint8Array._new=function(arg1,offset,length){var arr;if(typeof arg1=="number"){arr=[];var _g1=0;var _g=arg1;while(_g1<_g){var i=_g1++;arr[i]=0}arr.byteLength=arr.length;arr.byteOffset=0;arr.buffer=new js_html_compat_ArrayBuffer(arr)}else if(js_Boot.__instanceof(arg1,js_html_compat_ArrayBuffer)){var buffer=arg1;if(offset==null){offset=0}if(length==null){length=buffer.byteLength-offset}if(offset==0){arr=buffer.a}else{arr=buffer.a.slice(offset,offset+length)}arr.byteLength=arr.length;arr.byteOffset=offset;arr.buffer=buffer}else if(arg1 instanceof Array&&arg1.__enum__==null){arr=arg1.slice();arr.byteLength=arr.length;arr.byteOffset=0;arr.buffer=new js_html_compat_ArrayBuffer(arr)}else{throw new js__$Boot_HaxeError("TODO "+Std.string(arg1))}arr.subarray=js_html_compat_Uint8Array._subarray;arr.set=js_html_compat_Uint8Array._set;return arr};js_html_compat_Uint8Array._set=function(arg,offset){if(js_Boot.__instanceof(arg.buffer,js_html_compat_ArrayBuffer)){var a=arg;if(arg.byteLength+offset>this.byteLength){throw new js__$Boot_HaxeError("set() outside of range")}var _g1=0;var _g=arg.byteLength;while(_g1<_g){var i=_g1++;this[i+offset]=a[i]}}else if(arg instanceof Array&&arg.__enum__==null){var a1=arg;if(a1.length+offset>this.byteLength){throw new js__$Boot_HaxeError("set() outside of range")}var _g11=0;var _g2=a1.length;while(_g11<_g2){var i1=_g11++;this[i1+offset]=a1[i1]}}else{throw new js__$Boot_HaxeError("TODO")}};js_html_compat_Uint8Array._subarray=function(start,end){var a=js_html_compat_Uint8Array._new(this.slice(start,end));a.byteOffset=start;return a};var kha__$Assets_ImageList=function(){this.names=[]};$hxClasses["kha._Assets.ImageList"]=kha__$Assets_ImageList;kha__$Assets_ImageList.__name__=true;kha__$Assets_ImageList.prototype={get:function(name){return Reflect.field(this,name)},names:null,__class__:kha__$Assets_ImageList};var kha__$Assets_SoundList=function(){this.names=[]};$hxClasses["kha._Assets.SoundList"]=kha__$Assets_SoundList;kha__$Assets_SoundList.__name__=true;kha__$Assets_SoundList.prototype={get:function(name){return Reflect.field(this,name)},names:null,__class__:kha__$Assets_SoundList};var kha__$Assets_BlobList=function(){this.names=[]};$hxClasses["kha._Assets.BlobList"]=kha__$Assets_BlobList;kha__$Assets_BlobList.__name__=true;kha__$Assets_BlobList.prototype={get:function(name){return Reflect.field(this,name)},names:null,__class__:kha__$Assets_BlobList};var kha__$Assets_FontList=function(){this.names=["droid_sans"];this.droid_sansDescription={files:["data/droid_sans.ttf"],type:"font",name:"droid_sans"};this.droid_sansName="droid_sans";this.droid_sans=null};$hxClasses["kha._Assets.FontList"]=kha__$Assets_FontList;kha__$Assets_FontList.__name__=true;kha__$Assets_FontList.prototype={get:function(name){return Reflect.field(this,name)},droid_sans:null,droid_sansName:null,droid_sansDescription:null,droid_sansLoad:function(done,failure){var tmp;if(failure!=null){tmp=failure}else{var f=haxe_Log.trace;tmp=function(v){f(v,{fileName:"AssetsBuilder.hx",lineNumber:142,className:"kha._Assets.FontList",methodName:"droid_sansLoad"})}}kha_Assets.loadFont("droid_sans",function(font){done()},tmp,{fileName:"AssetsBuilder.hx",lineNumber:142,className:"kha._Assets.FontList",methodName:"droid_sansLoad"})},droid_sansUnload:function(){this.droid_sans.unload();this.droid_sans=null},names:null,__class__:kha__$Assets_FontList};var kha__$Assets_VideoList=function(){this.names=[]};$hxClasses["kha._Assets.VideoList"]=kha__$Assets_VideoList;kha__$Assets_VideoList.__name__=true;kha__$Assets_VideoList.prototype={get:function(name){return Reflect.field(this,name)},names:null,__class__:kha__$Assets_VideoList};var kha_Assets=function(){};$hxClasses["kha.Assets"]=kha_Assets;kha_Assets.__name__=true;kha_Assets.__properties__={get_videoFormats:"get_videoFormats",get_fontFormats:"get_fontFormats",get_soundFormats:"get_soundFormats",get_imageFormats:"get_imageFormats"};kha_Assets.loadEverything=function(callback,filter,uncompressSoundsFilter,failed){var fileCount=0;var _g=0;var _g1=Type.getInstanceFields(kha__$Assets_BlobList);while(_g<_g1.length){var blob=_g1[_g];++_g;if(StringTools.endsWith(blob,"Load")){fileCount+=1}}var _g2=0;var _g11=Type.getInstanceFields(kha__$Assets_ImageList);while(_g2<_g11.length){var image=_g11[_g2];++_g2;if(StringTools.endsWith(image,"Load")){fileCount+=1}}var _g3=0;var _g12=Type.getInstanceFields(kha__$Assets_SoundList);while(_g3<_g12.length){var sound=_g12[_g3];++_g3;if(StringTools.endsWith(sound,"Load")){fileCount+=1}}var _g4=0;var _g13=Type.getInstanceFields(kha__$Assets_FontList);while(_g4<_g13.length){var font=_g13[_g4];++_g4;if(StringTools.endsWith(font,"Load")){fileCount+=1}}var _g5=0;var _g14=Type.getInstanceFields(kha__$Assets_VideoList);while(_g5<_g14.length){var video=_g14[_g5];++_g5;if(StringTools.endsWith(video,"Load")){fileCount+=1}}if(fileCount==0){callback();return}var filesLeft=fileCount;var onLoaded=function(){filesLeft-=1;kha_Assets.progress=1-filesLeft/fileCount;if(filesLeft==0){callback()}};var _g6=0;var _g15=Type.getInstanceFields(kha__$Assets_BlobList);while(_g6<_g15.length){var blob1=_g15[_g6];++_g6;if(StringTools.endsWith(blob1,"Load")){var name=HxOverrides.substr(blob1,0,blob1.length-4);var description=Reflect.field(kha_Assets.blobs,name+"Description");if(filter==null||filter(description)){Reflect.field(kha_Assets.blobs,blob1)(onLoaded,function(err){if(failed==null){var f=haxe_Log.trace}onLoaded()})}else{onLoaded()}}}var _g7=0;var _g16=Type.getInstanceFields(kha__$Assets_ImageList);while(_g7<_g16.length){var image1=_g16[_g7];++_g7;if(StringTools.endsWith(image1,"Load")){var name1=HxOverrides.substr(image1,0,image1.length-4);var description1=Reflect.field(kha_Assets.images,name1+"Description");if(filter==null||filter(description1)){Reflect.field(kha_Assets.images,image1)(onLoaded,function(err1){if(failed==null){var f1=haxe_Log.trace}onLoaded()})}else{onLoaded()}}}var _g8=0;var _g17=Type.getInstanceFields(kha__$Assets_SoundList);while(_g8<_g17.length){var sound1=[_g17[_g8]];++_g8;if(StringTools.endsWith(sound1[0],"Load")){var name2=HxOverrides.substr(sound1[0],0,sound1[0].length-4);var description2=[Reflect.field(kha_Assets.sounds,name2+"Description")];if(filter==null||filter(description2[0])){Reflect.field(kha_Assets.sounds,sound1[0])(function(description3,sound2){return function(){if(uncompressSoundsFilter==null||uncompressSoundsFilter(description3[0])){var sound3=Reflect.field(kha_Assets.sounds,sound2[0].substring(0,sound2[0].length-4));sound3.uncompress(onLoaded)}else{onLoaded()}}}(description2,sound1),failed!=null?failed:function(f2){return function(v){f2[0](v,{fileName:"Assets.hx",lineNumber:172,className:"kha.Assets",methodName:"loadEverything"})}}([haxe_Log.trace]))}else{onLoaded()}}}var _g9=0;var _g18=Type.getInstanceFields(kha__$Assets_FontList);while(_g9<_g18.length){var font1=_g18[_g9];++_g9;if(StringTools.endsWith(font1,"Load")){var name3=HxOverrides.substr(font1,0,font1.length-4);var description4=Reflect.field(kha_Assets.fonts,name3+"Description");if(filter==null||filter(description4)){Reflect.field(kha_Assets.fonts,font1)(onLoaded,function(err2){if(failed==null){var f3=haxe_Log.trace}onLoaded()})}else{onLoaded()}}}var _g10=0;var _g19=Type.getInstanceFields(kha__$Assets_VideoList);while(_g10<_g19.length){var video1=_g19[_g10];++_g10;if(StringTools.endsWith(video1,"Load")){var name4=HxOverrides.substr(video1,0,video1.length-4);var description5=Reflect.field(kha_Assets.videos,name4+"Description");if(filter==null||filter(description5)){Reflect.field(kha_Assets.videos,video1)(onLoaded,function(err3){if(failed==null){var f4=haxe_Log.trace}onLoaded()})}else{onLoaded()}}}};kha_Assets.loadImage=function(name,done,failed,pos){var description=Reflect.field(kha_Assets.images,name+"Description");var tmp;if(failed!=null){tmp=failed}else{var f=haxe_Log.trace;var a1=pos;tmp=function(v){f(v,a1)}}kha_LoaderImpl.loadImageFromDescription(description,function(image){kha_Assets.images[name]=image;done(image)},tmp)};kha_Assets.loadImageFromPath=function(path,readable,done,failed,pos){var description={files:[path],readable:readable};var tmp;if(failed!=null){tmp=failed}else{var f=haxe_Log.trace;var a1=pos;tmp=function(v){f(v,a1)}}kha_LoaderImpl.loadImageFromDescription(description,done,tmp)};kha_Assets.get_imageFormats=function(){return kha_LoaderImpl.getImageFormats()};kha_Assets.loadBlob=function(name,done,failed,pos){var description=Reflect.field(kha_Assets.blobs,name+"Description");var tmp;if(failed!=null){tmp=failed}else{var f=haxe_Log.trace;var a1=pos;tmp=function(v){f(v,a1)}}kha_LoaderImpl.loadBlobFromDescription(description,function(blob){kha_Assets.blobs[name]=blob;done(blob)},tmp)};kha_Assets.loadBlobFromPath=function(path,done,failed,pos){var description={files:[path]};var tmp;if(failed!=null){tmp=failed}else{var f=haxe_Log.trace;var a1=pos;tmp=function(v){f(v,a1)}}kha_LoaderImpl.loadBlobFromDescription(description,done,tmp)};kha_Assets.loadSound=function(name,done,failed,pos){var description=Reflect.field(kha_Assets.sounds,name+"Description");var tmp;if(failed!=null){tmp=failed}else{var f=haxe_Log.trace;var a1=pos;tmp=function(v){f(v,a1)}}kha_LoaderImpl.loadSoundFromDescription(description,function(sound){kha_Assets.sounds[name]=sound;done(sound)},tmp);return};kha_Assets.loadSoundFromPath=function(path,done,failed,pos){var description={files:[path]};var tmp;if(failed!=null){tmp=failed}else{var f=haxe_Log.trace;var a1=pos;tmp=function(v){f(v,a1)}}kha_LoaderImpl.loadSoundFromDescription(description,done,tmp);return};kha_Assets.get_soundFormats=function(){return kha_LoaderImpl.getSoundFormats()};kha_Assets.loadFont=function(name,done,failed,pos){var description=Reflect.field(kha_Assets.fonts,name+"Description");var tmp;if(failed!=null){tmp=failed}else{var f=haxe_Log.trace;var a1=pos;tmp=function(v){f(v,a1)}}kha_LoaderImpl.loadFontFromDescription(description,function(font){kha_Assets.fonts[name]=font;done(font)},tmp);return};kha_Assets.loadFontFromPath=function(path,done,failed,pos){var description={files:[path]};var tmp;if(failed!=null){tmp=failed}else{var f=haxe_Log.trace;var a1=pos;tmp=function(v){f(v,a1)}}kha_LoaderImpl.loadFontFromDescription(description,done,tmp);return};kha_Assets.get_fontFormats=function(){return["ttf"]};kha_Assets.loadVideo=function(name,done,failed,pos){var description=Reflect.field(kha_Assets.videos,name+"Description");var tmp;if(failed!=null){tmp=failed}else{var f=haxe_Log.trace;var a1=pos;tmp=function(v){f(v,a1)}}kha_LoaderImpl.loadVideoFromDescription(description,function(video){kha_Assets.videos[name]=video;done(video)},tmp);return};kha_Assets.loadVideoFromPath=function(path,done,failed,pos){var description={files:[path]};var tmp;if(failed!=null){tmp=failed}else{var f=haxe_Log.trace;var a1=pos;tmp=function(v){f(v,a1)}}kha_LoaderImpl.loadVideoFromDescription(description,done,tmp);return};kha_Assets.get_videoFormats=function(){return kha_LoaderImpl.getVideoFormats()};kha_Assets.reporter=function(custom,pos){if(custom!=null){return custom}else{var f=haxe_Log.trace;var a1=pos;return function(v){f(v,a1)}}};var kha_Canvas=function(){};$hxClasses["kha.Canvas"]=kha_Canvas;kha_Canvas.__name__=true;kha_Canvas.prototype={get_width:null,get_height:null,get_g4:null,__class__:kha_Canvas,__properties__:{get_g4:"get_g4",get_height:"get_height",get_width:"get_width"}};var kha_Resource=function(){};$hxClasses["kha.Resource"]=kha_Resource;kha_Resource.__name__=true;var kha_Image=function(){};$hxClasses["kha.Image"]=kha_Image;kha_Image.__name__=true;kha_Image.__interfaces__=[kha_Resource,kha_Canvas];kha_Image.__properties__={get_nonPow2Supported:"get_nonPow2Supported"};kha_Image.create=function(width,height,format,usage){if(format==null){format=kha_graphics4_TextureFormat.RGBA32}if(usage==null){usage=kha_graphics4_Usage.StaticUsage}if(kha_SystemImpl.gl==null){return new kha_CanvasImage(width,height,format,false)}else{return new kha_WebGLImage(width,height,format,false,0,1)}};kha_Image.create3D=function(width,height,depth,format,usage){return null};kha_Image.createRenderTarget=function(width,height,format,depthStencil,antiAliasingSamples,contextId){if(contextId==null){contextId=0}if(antiAliasingSamples==null){antiAliasingSamples=1}if(depthStencil==null){depthStencil=0}if(format==null){format=kha_graphics4_TextureFormat.RGBA32}if(kha_SystemImpl.gl==null){return new kha_CanvasImage(width,height,format,true)}else{return new kha_WebGLImage(width,height,format,true,depthStencil,antiAliasingSamples)}};kha_Image.fromImage=function(image,readable){if(kha_SystemImpl.gl==null){var img=new kha_CanvasImage(image.width,image.height,kha_graphics4_TextureFormat.RGBA32,false);img.image=image;img.createTexture();return img}else{var img1=new kha_WebGLImage(image.width,image.height,kha_graphics4_TextureFormat.RGBA32,false,0,1);img1.image=image;img1.createTexture();return img1}};kha_Image.fromBytes=function(bytes,width,height,format,usage){if(format==null){format=kha_graphics4_TextureFormat.RGBA32}if(usage==null){usage=kha_graphics4_Usage.StaticUsage}if(kha_SystemImpl.gl!=null){var img=new kha_WebGLImage(width,height,format,false,0,1);img.image=img.bytesToArray(bytes);img.createTexture();return img}return null};kha_Image.fromVideo=function(video){if(kha_SystemImpl.gl==null){var img=new kha_CanvasImage(video.element.videoWidth,video.element.videoHeight,kha_graphics4_TextureFormat.RGBA32,false);img.video=video.element;img.createTexture();return img}else{var img1=new kha_WebGLImage(video.element.videoWidth,video.element.videoHeight,kha_graphics4_TextureFormat.RGBA32,false,0,1);img1.video=video.element;img1.createTexture();return img1}};kha_Image.get_nonPow2Supported=function(){return kha_SystemImpl.gl!=null};kha_Image.prototype={unload:function(){},lock:function(level){if(level==null){level=0}return null},unlock:function(){},generateMipmaps:function(levels){},setMipmaps:function(mipmaps){},setDepthStencilFrom:function(image){},get_width:function(){return 0},get_height:function(){return 0},get_depth:function(){return 1},get_realWidth:function(){return 0},get_realHeight:function(){return 0},get_g2:function(){return null},get_g4:function(){return null},__class__:kha_Image,__properties__:{get_g4:"get_g4",get_g2:"get_g2",get_realHeight:"get_realHeight",get_realWidth:"get_realWidth",get_depth:"get_depth",get_height:"get_height",get_width:"get_width"}};var kha_CanvasImage=function(width,height,format,renderTarget){this.g2canvas=null;this.myWidth=width;this.myHeight=height;this.format=format;this.renderTarget=renderTarget;this.image=null;this.video=null;if(renderTarget){this.createTexture()}};$hxClasses["kha.CanvasImage"]=kha_CanvasImage;kha_CanvasImage.__name__=true;kha_CanvasImage.init=function(){var canvas=window.document.createElement("canvas");if(canvas!=null){kha_CanvasImage.context=canvas.getContext("2d");canvas.width=2048;canvas.height=2048;kha_CanvasImage.context.globalCompositeOperation="copy"}};kha_CanvasImage.__super__=kha_Image;kha_CanvasImage.prototype=$extend(kha_Image.prototype,{image:null,video:null,data:null,myWidth:null,myHeight:null,format:null,renderTarget:null,frameBuffer:null,g2canvas:null,get_g2:function(){if(this.g2canvas==null){var canvas=window.document.createElement("canvas");this.image=canvas;var context=canvas.getContext("2d");canvas.width=this.get_width();canvas.height=this.get_height();this.g2canvas=new kha_js_CanvasGraphics(context)}return this.g2canvas},get_g4:function(){return null},get_width:function(){return this.myWidth},get_height:function(){return this.myHeight},get_realWidth:function(){return this.myWidth},get_realHeight:function(){return this.myHeight},texture:null,createTexture:function(){if(kha_SystemImpl.gl==null){return}this.texture=kha_SystemImpl.gl.createTexture();kha_SystemImpl.gl.bindTexture(3553,this.texture);kha_SystemImpl.gl.texParameteri(3553,10240,9729);kha_SystemImpl.gl.texParameteri(3553,10241,9729);kha_SystemImpl.gl.texParameteri(3553,10242,33071);kha_SystemImpl.gl.texParameteri(3553,10243,33071);if(this.renderTarget){this.frameBuffer=kha_SystemImpl.gl.createFramebuffer();kha_SystemImpl.gl.bindFramebuffer(36160,this.frameBuffer);kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_realWidth(),this.get_realHeight(),0,6408,5121,null);kha_SystemImpl.gl.framebufferTexture2D(36160,36064,3553,this.texture,0);kha_SystemImpl.gl.bindFramebuffer(36160,null)}else if(this.video!=null){kha_SystemImpl.gl.texImage2D(3553,0,6408,6408,5121,this.video)}else{kha_SystemImpl.gl.texImage2D(3553,0,6408,6408,5121,this.image)}kha_SystemImpl.gl.bindTexture(3553,null)},bytes:null,lock:function(level){if(level==null){level=0}this.bytes=new haxe_io_Bytes(new ArrayBuffer(this.format==kha_graphics4_TextureFormat.RGBA32?4*this.get_width()*this.get_height():this.get_width()*this.get_height()));return this.bytes},unlock:function(){if(kha_SystemImpl.gl!=null){this.texture=kha_SystemImpl.gl.createTexture();kha_SystemImpl.gl.bindTexture(3553,this.texture);kha_SystemImpl.gl.texParameteri(3553,10240,9729);kha_SystemImpl.gl.texParameteri(3553,10241,9729);kha_SystemImpl.gl.texParameteri(3553,10242,33071);kha_SystemImpl.gl.texParameteri(3553,10243,33071);kha_SystemImpl.gl.texImage2D(3553,0,6409,this.get_width(),this.get_height(),0,6409,5121,new Uint8Array(this.bytes.b.bufferValue));if(kha_SystemImpl.gl.getError()==1282){var rgbaBytes=new haxe_io_Bytes(new ArrayBuffer(this.get_width()*this.get_height()*4));var _g1=0;var _g=this.get_height();while(_g1<_g){var y=_g1++;var _g3=0;var _g2=this.get_width();while(_g3<_g2){var x=_g3++;var _this=this.bytes;var pos=y*this.get_width()+x;var value=_this.b[pos];var pos1=y*this.get_width()*4+x*4;rgbaBytes.b[pos1]=value&255;var pos2=y*this.get_width()*4+x*4+1;rgbaBytes.b[pos2]=value&255;var pos3=y*this.get_width()*4+x*4+2;rgbaBytes.b[pos3]=value&255;var pos4=y*this.get_width()*4+x*4+3;rgbaBytes.b[pos4]=255}}kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_width(),this.get_height(),0,6408,5121,new Uint8Array(rgbaBytes.b.bufferValue))}kha_SystemImpl.gl.bindTexture(3553,null);this.bytes=null}},unload:function(){this.image=null;this.video=null;this.data=null},__class__:kha_CanvasImage});var kha__$Color_Color_$Impl_$=$hx_exports["kha"]["_Color"]["Color_Impl_"]={};$hxClasses["kha._Color.Color_Impl_"]=kha__$Color_Color_$Impl_$;kha__$Color_Color_$Impl_$.__name__=true;kha__$Color_Color_$Impl_$.fromBytes=function(r,g,b,a){if(a==null){a=255}return kha__$Color_Color_$Impl_$._new(a<<24|r<<16|g<<8|b)};kha__$Color_Color_$Impl_$._new=function(value){var this1=value;return this1};var kha_CompilerDefines=function(){};$hxClasses["kha.CompilerDefines"]=kha_CompilerDefines;kha_CompilerDefines.__name__=true;var kha_DisplayImpl=function(){};$hxClasses["kha.DisplayImpl"]=kha_DisplayImpl;kha_DisplayImpl.__name__=true;kha_DisplayImpl.width=function(index){return window.screen.width};kha_DisplayImpl.height=function(index){return window.screen.height};var kha_Framebuffer=function(windowId,g1,g2,g4){this.windowId=windowId;this.graphics1=g1;this.graphics2=g2;this.graphics4=g4};$hxClasses["kha.Framebuffer"]=kha_Framebuffer;kha_Framebuffer.__name__=true;kha_Framebuffer.__interfaces__=[kha_Canvas];kha_Framebuffer.prototype={windowId:null,graphics1:null,graphics2:null,graphics4:null,init:function(g1,g2,g4){this.graphics1=g1;this.graphics2=g2;this.graphics4=g4},get_g2:function(){return this.graphics2},get_g4:function(){return this.graphics4},get_width:function(){return kha_System.windowWidth(this.windowId)},get_height:function(){return kha_System.windowHeight(this.windowId)},__class__:kha_Framebuffer,__properties__:{get_height:"get_height",get_width:"get_width",get_g4:"get_g4",get_g2:"get_g2"}};var kha_AlignedQuad=function(){};$hxClasses["kha.AlignedQuad"]=kha_AlignedQuad;kha_AlignedQuad.__name__=true;kha_AlignedQuad.prototype={x0:null,y0:null,s0:null,t0:null,x1:null,y1:null,s1:null,t1:null,xadvance:null,__class__:kha_AlignedQuad};var kha_KravurImage=function(size,ascent,descent,lineGap,width,height,chars,pixels){this.mySize=size;this.width=width;this.height=height;this.chars=chars;this.baseline=ascent;var _g=0;while(_g<chars.length){var $char=chars[_g];++_g;$char.yoff+=this.baseline}this.texture=kha_Image.create(width,height,kha_graphics4_TextureFormat.L8);var bytes=this.texture.lock();var pos=0;var _g1=0;var _g2=height;while(_g1<_g2){var y=_g1++;var _g3=0;var _g21=width;while(_g3<_g21){var x=_g3++;var v=pixels.readU8(pos);bytes.b[pos]=v&255;++pos}}this.texture.unlock()};$hxClasses["kha.KravurImage"]=kha_KravurImage;kha_KravurImage.__name__=true;kha_KravurImage.prototype={mySize:null,chars:null,texture:null,width:null,height:null,baseline:null,getTexture:function(){return this.texture},getBakedQuad:function(q,char_index,xpos,ypos){if(char_index>=this.chars.length){return null}var ipw=1/this.width;var iph=1/this.height;var b=this.chars[char_index];if(b==null){return null}var round_x=Math.round(xpos+b.xoff);var round_y=Math.round(ypos+b.yoff);q.x0=round_x;q.y0=round_y;q.x1=round_x+b.x1-b.x0;q.y1=round_y+b.y1-b.y0;q.s0=b.x0*ipw;q.t0=b.y0*iph;q.s1=b.x1*ipw;q.t1=b.y1*iph;q.xadvance=b.xadvance;return q},getCharWidth:function(charIndex){if(this.chars.length==0){return 0}var offset=kha_KravurImage.gaps[0];if(charIndex<offset){return this.chars[0].xadvance}var _g1=1;var _g=kha_KravurImage.gaps.length/2|0;while(_g1<_g){var i=_g1++;var prevEnd=kha_KravurImage.gaps[i*2-1];var start=kha_KravurImage.gaps[i*2];if(charIndex>start-1){offset+=start-1-prevEnd}}if(charIndex-offset>=this.chars.length){return this.chars[0].xadvance}return this.chars[charIndex-offset].xadvance},getHeight:function(){return this.mySize},stringWidth:function(string){var str=new String(string);var width=0;var _g1=0;var _g=str.length;while(_g1<_g){var c=_g1++;width+=this.getCharWidth(HxOverrides.cca(str,c))}return width},charactersWidth:function(characters,start,length){var width=0;var _g1=start;var _g=start+length;while(_g1<_g){var i=_g1++;width+=this.getCharWidth(characters[i])}return width},getBaselinePosition:function(){return this.baseline},__class__:kha_KravurImage};var kha_Kravur=function(blob){this.images=new haxe_ds_IntMap;this.blob=blob};$hxClasses["kha.Kravur"]=kha_Kravur;kha_Kravur.__name__=true;kha_Kravur.__interfaces__=[kha_Resource];kha_Kravur.prototype={oldGlyphs:null,blob:null,images:null,_get:function(fontSize,glyphs){if(glyphs==null){glyphs=kha_graphics2_Graphics.fontGlyphs}if(glyphs!=this.oldGlyphs){this.oldGlyphs=glyphs;kha_KravurImage.gaps=[glyphs[0]];var next=kha_KravurImage.gaps[0]+1;var _g1=1;var _g=glyphs.length;while(_g1<_g){var i=_g1++;if(glyphs[i]!=next){kha_KravurImage.gaps.push(glyphs[i-1]);kha_KravurImage.gaps.push(glyphs[i]);next=glyphs[i]+1}else{++next}}kha_KravurImage.gaps.push(glyphs[glyphs.length-1])}var imageIndex=glyphs==null?fontSize:fontSize*1e4+glyphs.length;if(!this.images.h.hasOwnProperty(imageIndex)){var width=64;var height=32;var length=glyphs.length;var this1=new Array(length);var baked=this1;var _g11=0;var _g2=baked.length;while(_g11<_g2){var i1=_g11++;baked[i1]=new kha_graphics2_truetype_Stbtt_$bakedchar}var pixels=null;var status=-1;while(status<=0){if(height<width){height*=2}else{width*=2}pixels=kha_internal_BytesBlob.alloc(width*height);status=kha_graphics2_truetype_StbTruetype.stbtt_BakeFontBitmap(this.blob,0,fontSize,pixels,width,height,glyphs,baked)}var info=new kha_graphics2_truetype_Stbtt_$fontinfo;kha_graphics2_truetype_StbTruetype.stbtt_InitFont(info,this.blob,0);var metrics=kha_graphics2_truetype_StbTruetype.stbtt_GetFontVMetrics(info);var scale=kha_graphics2_truetype_StbTruetype.stbtt_ScaleForPixelHeight(info,fontSize);var ascent=Math.round(metrics.ascent*scale);var descent=Math.round(metrics.descent*scale);var lineGap=Math.round(metrics.lineGap*scale);var image=new kha_KravurImage(fontSize|0,ascent,descent,lineGap,width,height,baked,pixels);this.images.h[imageIndex]=image;return image}return this.images.h[imageIndex]},height:function(fontSize){return this._get(fontSize).getHeight()},width:function(fontSize,str){return this._get(fontSize).stringWidth(str)},unload:function(){this.blob=null;this.images=null},__class__:kha_Kravur};var kha_LoaderImpl=function(){};$hxClasses["kha.LoaderImpl"]=kha_LoaderImpl;kha_LoaderImpl.__name__=true;kha_LoaderImpl.getImageFormats=function(){return["png","jpg","hdr"]};kha_LoaderImpl.loadImageFromDescription=function(desc,done,failed){var readable=Object.prototype.hasOwnProperty.call(desc,"readable")&&desc.readable;if(StringTools.endsWith(desc.files[0],".hdr")){kha_LoaderImpl.loadBlobFromDescription(desc,function(blob){var hdrImage=kha_internal_HdrFormat.parse(blob.toBytes());var tmp=kha_Image.fromBytes(haxe_io_Bytes.ofData(hdrImage.data.buffer),hdrImage.width,hdrImage.height,kha_graphics4_TextureFormat.RGBA128,readable?kha_graphics4_Usage.DynamicUsage:kha_graphics4_Usage.StaticUsage);done(tmp)},failed)}else{var img=window.document.createElement("img");img.onerror=function(event){failed({url:desc.files[0],error:event})};img.onload=function(event1){var tmp1=kha_Image.fromImage(img,readable);done(tmp1)};img.src=desc.files[0];img.crossOrigin=""}};kha_LoaderImpl.getSoundFormats=function(){var element=window.document.createElement("audio");var formats=[];if(element.canPlayType("audio/mp4")!=""){formats.push("mp4")}if(element.canPlayType("audio/mp3")!=""){formats.push("mp3")}if(kha_SystemImpl._hasWebAudio||element.canPlayType("audio/ogg")!=""){formats.push("ogg")}return formats};kha_LoaderImpl.loadSoundFromDescription=function(desc,done,failed){if(kha_SystemImpl._hasWebAudio){var element=window.document.createElement("audio");if(element.canPlayType("audio/mp4")!=""){var _g1=0;var _g=desc.files.length;while(_g1<_g){var i=_g1++;var file=desc.files[i];if(StringTools.endsWith(file,".mp4")){new kha_js_WebAudioSound(file,done,failed);return}}}if(element.canPlayType("audio/mp3")!=""){var _g11=0;var _g2=desc.files.length;while(_g11<_g2){var i1=_g11++;var file1=desc.files[i1];if(StringTools.endsWith(file1,".mp3")){new kha_js_WebAudioSound(file1,done,failed);return}}}var _g12=0;var _g3=desc.files.length;while(_g12<_g3){var i2=_g12++;var file2=desc.files[i2];if(StringTools.endsWith(file2,".ogg")){new kha_js_WebAudioSound(file2,done,failed);return}}}else if(kha_SystemImpl.mobile){var element1=window.document.createElement("audio");if(element1.canPlayType("audio/mp4")!=""){var _g13=0;var _g4=desc.files.length;while(_g13<_g4){var i3=_g13++;var file3=desc.files[i3];if(StringTools.endsWith(file3,".mp4")){new kha_js_MobileWebAudioSound(file3,done,failed);return}}}if(element1.canPlayType("audio/mp3")!=""){var _g14=0;var _g5=desc.files.length;while(_g14<_g5){var i4=_g14++;var file4=desc.files[i4];if(StringTools.endsWith(file4,".mp3")){new kha_js_MobileWebAudioSound(file4,done,failed);return}}}var _g15=0;var _g6=desc.files.length;while(_g15<_g6){var i5=_g15++;var file5=desc.files[i5];if(StringTools.endsWith(file5,".ogg")){new kha_js_MobileWebAudioSound(file5,done,failed);return}}}else{new kha_js_Sound(desc.files,done,failed)}};kha_LoaderImpl.getVideoFormats=function(){return["mp4","webm"]};kha_LoaderImpl.loadVideoFromDescription=function(desc,done,failed){kha_js_Video.fromFile(desc.files,done)};kha_LoaderImpl.loadRemote=function(desc,done,failed){var request=new XMLHttpRequest;request.open("GET",desc.files[0],true);request.responseType="arraybuffer";request.onreadystatechange=function(){if(request.readyState!=4){return}if(request.status>=200&&request.status<400||request.status==0&&request.statusText==""){var bytes=null;var arrayBuffer=request.response;if(arrayBuffer!=null){var byteArray=new Uint8Array(arrayBuffer);bytes=haxe_io_Bytes.ofData(byteArray)}else if(request.responseBody!=null){var data=VBArray(request.responseBody).toArray();bytes=new haxe_io_Bytes(new ArrayBuffer(data.length));var _g1=0;var _g=data.length;while(_g1<_g){var i=_g1++;bytes.b[i]=data[i]&255}}else{failed({url:desc.files[0]});return}done(new kha_internal_BytesBlob(bytes))}else{failed({url:desc.files[0]})}};request.send(null)};kha_LoaderImpl.loadBlobFromDescription=function(desc,done,failed){kha_LoaderImpl.loadRemote(desc,done,failed)};kha_LoaderImpl.loadFontFromDescription=function(desc,done,failed){kha_LoaderImpl.loadBlobFromDescription(desc,function(blob){done(new kha_Kravur(blob))},failed)};var kha_TimeTask=function(){};$hxClasses["kha.TimeTask"]=kha_TimeTask;kha_TimeTask.__name__=true;kha_TimeTask.prototype={task:null,start:null,period:null,duration:null,next:null,id:null,groupId:null,active:null,paused:null,__class__:kha_TimeTask};var kha_FrameTask=function(){};$hxClasses["kha.FrameTask"]=kha_FrameTask;kha_FrameTask.__name__=true;kha_FrameTask.prototype={task:null,priority:null,active:null,paused:null,__class__:kha_FrameTask};var kha_Scheduler=function(){};$hxClasses["kha.Scheduler"]=kha_Scheduler;kha_Scheduler.__name__=true;kha_Scheduler.init=function(){kha_Scheduler.deltas=[];var _g1=0;var _g=kha_Scheduler.DIF_COUNT;while(_g1<_g){var i=_g1++;kha_Scheduler.deltas[i]=0}kha_Scheduler.stopped=true;kha_Scheduler.frame_tasks_sorted=true;kha_Scheduler.current=kha_Scheduler.lastTime=kha_Scheduler.realTime();kha_Scheduler.currentFrameTaskId=0;kha_Scheduler.currentTimeTaskId=0;kha_Scheduler.currentGroupId=0;kha_Scheduler.timeTasks=[];kha_Scheduler.pausedTimeTasks=[];kha_Scheduler.outdatedTimeTasks=[];kha_Scheduler.timeTasksScratchpad=[];kha_Scheduler.frameTasks=[];kha_Scheduler.toDeleteFrame=[]};kha_Scheduler.start=function(restartTimers){if(restartTimers==null){restartTimers=false}kha_Scheduler.vsync=kha_System.get_vsync();var hz=kha_System.get_refreshRate();if(hz>=57&&hz<=63){hz=60}kha_Scheduler.onedifhz=1/hz;kha_Scheduler.stopped=false;kha_Scheduler.resetTime();kha_Scheduler.lastTime=kha_Scheduler.realTime()-kha_Scheduler.startTime;var _g1=0;var _g=kha_Scheduler.DIF_COUNT;while(_g1<_g){var i=_g1++;kha_Scheduler.deltas[i]=0}if(restartTimers){var _g2=0;var _g11=kha_Scheduler.timeTasks;while(_g2<_g11.length){var timeTask=_g11[_g2];++_g2;timeTask.paused=false}var _g3=0;var _g12=kha_Scheduler.frameTasks;while(_g3<_g12.length){var frameTask=_g12[_g3];++_g3;frameTask.paused=false}}};kha_Scheduler.executeFrame=function(){var now=kha_Scheduler.realTime()-kha_Scheduler.startTime;var delta=now-kha_Scheduler.lastTime;var frameEnd=kha_Scheduler.current;if(delta>=0){if(kha_network_Session.the()==null){if(delta>kha_Scheduler.maxframetime){kha_Scheduler.startTime+=delta-kha_Scheduler.maxframetime;delta=kha_Scheduler.maxframetime;frameEnd+=delta}else if(kha_Scheduler.vsync){var realdif=kha_Scheduler.onedifhz;while(realdif<delta-kha_Scheduler.onedifhz)realdif+=kha_Scheduler.onedifhz;delta=realdif;var _g1=0;var _g=kha_Scheduler.DIF_COUNT-2;while(_g1<_g){var i=_g1++;delta+=kha_Scheduler.deltas[i];kha_Scheduler.deltas[i]=kha_Scheduler.deltas[i+1]}delta+=kha_Scheduler.deltas[kha_Scheduler.DIF_COUNT-2];delta/=kha_Scheduler.DIF_COUNT;kha_Scheduler.deltas[kha_Scheduler.DIF_COUNT-2]=realdif;frameEnd+=delta}else{var _g11=0;var _g2=kha_Scheduler.DIF_COUNT-1;while(_g11<_g2){var i1=_g11++;kha_Scheduler.deltas[i1]=kha_Scheduler.deltas[i1+1]}kha_Scheduler.deltas[kha_Scheduler.DIF_COUNT-1]=delta;var next=0;var _g12=0;var _g3=kha_Scheduler.DIF_COUNT;while(_g12<_g3){var i2=_g12++;next+=kha_Scheduler.deltas[i2]}next/=kha_Scheduler.DIF_COUNT;frameEnd+=next}}else{frameEnd+=delta}kha_Scheduler.lastTime=frameEnd;if(!kha_Scheduler.stopped){kha_Scheduler.current=frameEnd}var _g4=0;var _g13=kha_Scheduler.pausedTimeTasks;while(_g4<_g13.length){var pausedTask=_g13[_g4];++_g4;pausedTask.next+=delta}if(kha_Scheduler.stopped){var _g5=0;var _g14=kha_Scheduler.timeTasks;while(_g5<_g14.length){var timeTask=_g14[_g5];++_g5;timeTask.next+=delta}}kha_Scheduler.executeTimeTasks(frameEnd);var _g6=0;var _g15=kha_Scheduler.outdatedTimeTasks;while(_g6<_g15.length){var task=_g15[_g6];++_g6;if(task.next<frameEnd-10){kha_Scheduler.timeTasksScratchpad.push(task)}}var _g7=0;var _g16=kha_Scheduler.timeTasksScratchpad;while(_g7<_g16.length){var task1=_g16[_g7];++_g7;HxOverrides.remove(kha_Scheduler.outdatedTimeTasks,task1)}while(kha_Scheduler.timeTasksScratchpad.length>0)HxOverrides.remove(kha_Scheduler.timeTasksScratchpad,kha_Scheduler.timeTasksScratchpad[0])}kha_Scheduler.sortFrameTasks();var _g8=0;var _g17=kha_Scheduler.frameTasks;while(_g8<_g17.length){var frameTask=_g17[_g8];++_g8;if(!kha_Scheduler.stopped&&!frameTask.paused&&frameTask.active){if(!frameTask.task()){frameTask.active=false}}}var _g9=0;var _g18=kha_Scheduler.frameTasks;while(_g9<_g18.length){var frameTask1=_g18[_g9];++_g9;if(!frameTask1.active){kha_Scheduler.toDeleteFrame.push(frameTask1)}}while(kha_Scheduler.toDeleteFrame.length>0)HxOverrides.remove(kha_Scheduler.frameTasks,kha_Scheduler.toDeleteFrame.pop())};kha_Scheduler.executeTimeTasks=function(until){while(kha_Scheduler.timeTasks.length>0){kha_Scheduler.activeTimeTask=kha_Scheduler.timeTasks[0];if(kha_Scheduler.activeTimeTask.next<=until){kha_Scheduler.activeTimeTask.next+=kha_Scheduler.activeTimeTask.period;HxOverrides.remove(kha_Scheduler.timeTasks,kha_Scheduler.activeTimeTask);if(kha_Scheduler.activeTimeTask.active&&kha_Scheduler.activeTimeTask.task()){if(kha_Scheduler.activeTimeTask.period>0&&(kha_Scheduler.activeTimeTask.duration==0||kha_Scheduler.activeTimeTask.duration>=kha_Scheduler.activeTimeTask.start+kha_Scheduler.activeTimeTask.next)){kha_Scheduler.insertSorted(kha_Scheduler.timeTasks,kha_Scheduler.activeTimeTask)}else{kha_Scheduler.archiveTimeTask(kha_Scheduler.activeTimeTask,until)}}else{kha_Scheduler.activeTimeTask.active=false;kha_Scheduler.archiveTimeTask(kha_Scheduler.activeTimeTask,until)}}else{break}}kha_Scheduler.activeTimeTask=null};kha_Scheduler.archiveTimeTask=function(timeTask,frameEnd){};kha_Scheduler.time=function(){return kha_Scheduler.current};kha_Scheduler.realTime=function(){return kha_System.get_time()};kha_Scheduler.resetTime=function(){var now=kha_System.get_time();var dif=now-kha_Scheduler.startTime;kha_Scheduler.startTime=now;var _g=0;var _g1=kha_Scheduler.timeTasks;while(_g<_g1.length){var timeTask=_g1[_g];++_g;timeTask.start-=dif;timeTask.next-=dif}var _g11=0;var _g2=kha_Scheduler.DIF_COUNT;while(_g11<_g2){var i=_g11++;kha_Scheduler.deltas[i]=0}kha_Scheduler.current=0;kha_Scheduler.lastTime=0};kha_Scheduler.addBreakableTimeTaskToGroup=function(groupId,task,start,period,duration){if(duration==null){duration=0}if(period==null){period=0}var t=new kha_TimeTask;t.active=true;t.task=task;t.id=++kha_Scheduler.currentTimeTaskId;t.groupId=groupId;t.start=kha_Scheduler.current+start;t.period=0;if(period!=0){t.period=period}t.duration=0;if(duration!=0){t.duration=t.start+duration}t.next=t.start;kha_Scheduler.insertSorted(kha_Scheduler.timeTasks,t);return t.id};kha_Scheduler.addTimeTaskToGroup=function(groupId,task,start,period,duration){if(duration==null){duration=0}if(period==null){period=0}return kha_Scheduler.addBreakableTimeTaskToGroup(groupId,function(){task();return true},start,period,duration)};kha_Scheduler.addTimeTask=function(task,start,period,duration){if(duration==null){duration=0}if(period==null){period=0}return kha_Scheduler.addTimeTaskToGroup(0,task,start,period,duration)};kha_Scheduler.insertSorted=function(list,task){var _g1=0;var _g=list.length;while(_g1<_g){var i=_g1++;if(list[i].next>task.next){list.splice(i,0,task);return}}list.push(task)};kha_Scheduler.sortFrameTasks=function(){if(kha_Scheduler.frame_tasks_sorted){return}kha_Scheduler.frameTasks.sort(function(a,b){if(a.priority>b.priority){return 1}else if(a.priority<b.priority){return-1}else{return 0}});kha_Scheduler.frame_tasks_sorted=true};var kha_ScreenRotation=$hxClasses["kha.ScreenRotation"]={__ename__:true,__constructs__:["RotationNone","Rotation90","Rotation180","Rotation270"]};kha_ScreenRotation.RotationNone=["RotationNone",0];kha_ScreenRotation.RotationNone.toString=$estr;kha_ScreenRotation.RotationNone.__enum__=kha_ScreenRotation;kha_ScreenRotation.Rotation90=["Rotation90",1];kha_ScreenRotation.Rotation90.toString=$estr;kha_ScreenRotation.Rotation90.__enum__=kha_ScreenRotation;kha_ScreenRotation.Rotation180=["Rotation180",2];kha_ScreenRotation.Rotation180.toString=$estr;kha_ScreenRotation.Rotation180.__enum__=kha_ScreenRotation;kha_ScreenRotation.Rotation270=["Rotation270",3];kha_ScreenRotation.Rotation270.toString=$estr;kha_ScreenRotation.Rotation270.__enum__=kha_ScreenRotation;var kha_Shaders=function(){};$hxClasses["kha.Shaders"]=kha_Shaders;kha_Shaders.__name__=true;kha_Shaders.init=function(){var blobs=[];var _g=0;while(_g<3){var i=_g++;var data=Reflect.field(kha_Shaders,"bloom_pass_fragData"+i);var bytes=haxe_Unserializer.run(data);blobs.push(kha_internal_BytesBlob.fromBytes(bytes))}kha_Shaders.bloom_pass_frag=new kha_graphics4_FragmentShader(blobs,["bloom_pass.frag.essl","bloom_pass-relaxed.frag.essl","bloom_pass-webgl2.frag.essl"]);var blobs1=[];var _g1=0;while(_g1<3){var i1=_g1++;var data1=Reflect.field(kha_Shaders,"blur_adaptive_pass_fragData"+i1);var bytes1=haxe_Unserializer.run(data1);blobs1.push(kha_internal_BytesBlob.fromBytes(bytes1))}kha_Shaders.blur_adaptive_pass_frag=new kha_graphics4_FragmentShader(blobs1,["blur_adaptive_pass.frag.essl","blur_adaptive_pass-relaxed.frag.essl","blur_adaptive_pass-webgl2.frag.essl"]);var blobs2=[];var _g2=0;while(_g2<3){var i2=_g2++;var data2=Reflect.field(kha_Shaders,"blur_gaus_pass_fragData"+i2);var bytes2=haxe_Unserializer.run(data2);blobs2.push(kha_internal_BytesBlob.fromBytes(bytes2))}kha_Shaders.blur_gaus_pass_frag=new kha_graphics4_FragmentShader(blobs2,["blur_gaus_pass.frag.essl","blur_gaus_pass-relaxed.frag.essl","blur_gaus_pass-webgl2.frag.essl"]);var blobs3=[];var _g3=0;while(_g3<3){var i3=_g3++;var data3=Reflect.field(kha_Shaders,"compositor_pass_fragData"+i3);var bytes3=haxe_Unserializer.run(data3);blobs3.push(kha_internal_BytesBlob.fromBytes(bytes3))}kha_Shaders.compositor_pass_frag=new kha_graphics4_FragmentShader(blobs3,["compositor_pass.frag.essl","compositor_pass-relaxed.frag.essl","compositor_pass-webgl2.frag.essl"]);var blobs4=[];var _g4=0;while(_g4<3){var i4=_g4++;var data4=Reflect.field(kha_Shaders,"compositor_pass_vertData"+i4);var bytes4=haxe_Unserializer.run(data4);blobs4.push(kha_internal_BytesBlob.fromBytes(bytes4))}kha_Shaders.compositor_pass_vert=new kha_graphics4_VertexShader(blobs4,["compositor_pass.vert.essl","compositor_pass-relaxed.vert.essl","compositor_pass-webgl2.vert.essl"]);var blobs5=[];var _g5=0;while(_g5<3){var i5=_g5++;var data5=Reflect.field(kha_Shaders,"deferred_indirect_fragData"+i5);var bytes5=haxe_Unserializer.run(data5);blobs5.push(kha_internal_BytesBlob.fromBytes(bytes5))}kha_Shaders.deferred_indirect_frag=new kha_graphics4_FragmentShader(blobs5,["deferred_indirect.frag.essl","deferred_indirect-relaxed.frag.essl","deferred_indirect-webgl2.frag.essl"]);var blobs6=[];var _g6=0;while(_g6<3){var i6=_g6++;var data6=Reflect.field(kha_Shaders,"deferred_indirect_vertData"+i6);var bytes6=haxe_Unserializer.run(data6);blobs6.push(kha_internal_BytesBlob.fromBytes(bytes6))}kha_Shaders.deferred_indirect_vert=new kha_graphics4_VertexShader(blobs6,["deferred_indirect.vert.essl","deferred_indirect-relaxed.vert.essl","deferred_indirect-webgl2.vert.essl"]);var blobs7=[];var _g7=0;while(_g7<3){var i7=_g7++;var data7=Reflect.field(kha_Shaders,"deferred_light_fragData"+i7);var bytes7=haxe_Unserializer.run(data7);blobs7.push(kha_internal_BytesBlob.fromBytes(bytes7))}kha_Shaders.deferred_light_frag=new kha_graphics4_FragmentShader(blobs7,["deferred_light.frag.essl","deferred_light-relaxed.frag.essl","deferred_light-webgl2.frag.essl"]);var blobs8=[];var _g8=0;while(_g8<3){var i8=_g8++;var data8=Reflect.field(kha_Shaders,"deferred_light_quad_fragData"+i8);var bytes8=haxe_Unserializer.run(data8);blobs8.push(kha_internal_BytesBlob.fromBytes(bytes8))}kha_Shaders.deferred_light_quad_frag=new kha_graphics4_FragmentShader(blobs8,["deferred_light_quad.frag.essl","deferred_light_quad-relaxed.frag.essl","deferred_light_quad-webgl2.frag.essl"]);var blobs9=[];var _g9=0;while(_g9<3){var i9=_g9++;var data9=Reflect.field(kha_Shaders,"motion_blur_veloc_pass_fragData"+i9);var bytes9=haxe_Unserializer.run(data9);blobs9.push(kha_internal_BytesBlob.fromBytes(bytes9))}kha_Shaders.motion_blur_veloc_pass_frag=new kha_graphics4_FragmentShader(blobs9,["motion_blur_veloc_pass.frag.essl","motion_blur_veloc_pass-relaxed.frag.essl","motion_blur_veloc_pass-webgl2.frag.essl"]);var blobs10=[];var _g10=0;while(_g10<3){var i10=_g10++;var data10=Reflect.field(kha_Shaders,"pass_vertData"+i10);var bytes10=haxe_Unserializer.run(data10);blobs10.push(kha_internal_BytesBlob.fromBytes(bytes10))}kha_Shaders.pass_vert=new kha_graphics4_VertexShader(blobs10,["pass.vert.essl","pass-relaxed.vert.essl","pass-webgl2.vert.essl"]);var blobs11=[];var _g11=0;while(_g11<3){var i11=_g11++;var data11=Reflect.field(kha_Shaders,"pass_copy_fragData"+i11);var bytes11=haxe_Unserializer.run(data11);blobs11.push(kha_internal_BytesBlob.fromBytes(bytes11))}kha_Shaders.pass_copy_frag=new kha_graphics4_FragmentShader(blobs11,["pass_copy.frag.essl","pass_copy-relaxed.frag.essl","pass_copy-webgl2.frag.essl"]);var blobs12=[];var _g12=0;while(_g12<3){var i12=_g12++;var data12=Reflect.field(kha_Shaders,"pass_lamp_volume_vertData"+i12);var bytes12=haxe_Unserializer.run(data12);blobs12.push(kha_internal_BytesBlob.fromBytes(bytes12))}kha_Shaders.pass_lamp_volume_vert=new kha_graphics4_VertexShader(blobs12,["pass_lamp_volume.vert.essl","pass_lamp_volume-relaxed.vert.essl","pass_lamp_volume-webgl2.vert.essl"]);var blobs13=[];var _g13=0;while(_g13<3){var i13=_g13++;var data13=Reflect.field(kha_Shaders,"pass_viewray_vertData"+i13);var bytes13=haxe_Unserializer.run(data13);blobs13.push(kha_internal_BytesBlob.fromBytes(bytes13))}kha_Shaders.pass_viewray_vert=new kha_graphics4_VertexShader(blobs13,["pass_viewray.vert.essl","pass_viewray-relaxed.vert.essl","pass_viewray-webgl2.vert.essl"]);var blobs14=[];var _g14=0;while(_g14<3){var i14=_g14++;var data14=Reflect.field(kha_Shaders,"pass_viewray2_vertData"+i14);var bytes14=haxe_Unserializer.run(data14);blobs14.push(kha_internal_BytesBlob.fromBytes(bytes14))}kha_Shaders.pass_viewray2_vert=new kha_graphics4_VertexShader(blobs14,["pass_viewray2.vert.essl","pass_viewray2-relaxed.vert.essl","pass_viewray2-webgl2.vert.essl"]);var blobs15=[];var _g15=0;while(_g15<3){var i15=_g15++;var data15=Reflect.field(kha_Shaders,"smaa_blend_weight_fragData"+i15);var bytes15=haxe_Unserializer.run(data15);blobs15.push(kha_internal_BytesBlob.fromBytes(bytes15))}kha_Shaders.smaa_blend_weight_frag=new kha_graphics4_FragmentShader(blobs15,["smaa_blend_weight.frag.essl","smaa_blend_weight-relaxed.frag.essl","smaa_blend_weight-webgl2.frag.essl"]);var blobs16=[];var _g16=0;while(_g16<3){var i16=_g16++;var data16=Reflect.field(kha_Shaders,"smaa_blend_weight_vertData"+i16);var bytes16=haxe_Unserializer.run(data16);blobs16.push(kha_internal_BytesBlob.fromBytes(bytes16))}kha_Shaders.smaa_blend_weight_vert=new kha_graphics4_VertexShader(blobs16,["smaa_blend_weight.vert.essl","smaa_blend_weight-relaxed.vert.essl","smaa_blend_weight-webgl2.vert.essl"]);var blobs17=[];var _g17=0;while(_g17<3){var i17=_g17++;var data17=Reflect.field(kha_Shaders,"smaa_edge_detect_fragData"+i17);var bytes17=haxe_Unserializer.run(data17);blobs17.push(kha_internal_BytesBlob.fromBytes(bytes17))}kha_Shaders.smaa_edge_detect_frag=new kha_graphics4_FragmentShader(blobs17,["smaa_edge_detect.frag.essl","smaa_edge_detect-relaxed.frag.essl","smaa_edge_detect-webgl2.frag.essl"]);var blobs18=[];var _g18=0;while(_g18<3){var i18=_g18++;var data18=Reflect.field(kha_Shaders,"smaa_edge_detect_vertData"+i18);var bytes18=haxe_Unserializer.run(data18);blobs18.push(kha_internal_BytesBlob.fromBytes(bytes18))}kha_Shaders.smaa_edge_detect_vert=new kha_graphics4_VertexShader(blobs18,["smaa_edge_detect.vert.essl","smaa_edge_detect-relaxed.vert.essl","smaa_edge_detect-webgl2.vert.essl"]);var blobs19=[];var _g19=0;while(_g19<3){var i19=_g19++;var data19=Reflect.field(kha_Shaders,"smaa_neighborhood_blend_fragData"+i19);var bytes19=haxe_Unserializer.run(data19);blobs19.push(kha_internal_BytesBlob.fromBytes(bytes19))}kha_Shaders.smaa_neighborhood_blend_frag=new kha_graphics4_FragmentShader(blobs19,["smaa_neighborhood_blend.frag.essl","smaa_neighborhood_blend-relaxed.frag.essl","smaa_neighborhood_blend-webgl2.frag.essl"]);var blobs20=[];var _g20=0;while(_g20<3){var i20=_g20++;var data20=Reflect.field(kha_Shaders,"smaa_neighborhood_blend_vertData"+i20);var bytes20=haxe_Unserializer.run(data20);blobs20.push(kha_internal_BytesBlob.fromBytes(bytes20))}kha_Shaders.smaa_neighborhood_blend_vert=new kha_graphics4_VertexShader(blobs20,["smaa_neighborhood_blend.vert.essl","smaa_neighborhood_blend-relaxed.vert.essl","smaa_neighborhood_blend-webgl2.vert.essl"]);var blobs21=[];var _g21=0;while(_g21<3){var i21=_g21++;var data21=Reflect.field(kha_Shaders,"ssgi_blur_pass_fragData"+i21);var bytes21=haxe_Unserializer.run(data21);blobs21.push(kha_internal_BytesBlob.fromBytes(bytes21))}kha_Shaders.ssgi_blur_pass_frag=new kha_graphics4_FragmentShader(blobs21,["ssgi_blur_pass.frag.essl","ssgi_blur_pass-relaxed.frag.essl","ssgi_blur_pass-webgl2.frag.essl"]);var blobs22=[];var _g22=0;while(_g22<3){var i22=_g22++;var data22=Reflect.field(kha_Shaders,"ssgi_pass_fragData"+i22);var bytes22=haxe_Unserializer.run(data22);blobs22.push(kha_internal_BytesBlob.fromBytes(bytes22))}kha_Shaders.ssgi_pass_frag=new kha_graphics4_FragmentShader(blobs22,["ssgi_pass.frag.essl","ssgi_pass-relaxed.frag.essl","ssgi_pass-webgl2.frag.essl"]);var blobs23=[];var _g23=0;while(_g23<3){var i23=_g23++;var data23=Reflect.field(kha_Shaders,"ssr_pass_fragData"+i23);var bytes23=haxe_Unserializer.run(data23);blobs23.push(kha_internal_BytesBlob.fromBytes(bytes23))}kha_Shaders.ssr_pass_frag=new kha_graphics4_FragmentShader(blobs23,["ssr_pass.frag.essl","ssr_pass-relaxed.frag.essl","ssr_pass-webgl2.frag.essl"]);var blobs24=[];var _g24=0;while(_g24<3){var i24=_g24++;var data24=Reflect.field(kha_Shaders,"taa_pass_fragData"+i24);var bytes24=haxe_Unserializer.run(data24);blobs24.push(kha_internal_BytesBlob.fromBytes(bytes24))}kha_Shaders.taa_pass_frag=new kha_graphics4_FragmentShader(blobs24,["taa_pass.frag.essl","taa_pass-relaxed.frag.essl","taa_pass-webgl2.frag.essl"]);var blobs25=[];var _g25=0;while(_g25<3){var i25=_g25++;var data25=Reflect.field(kha_Shaders,"world_pass_fragData"+i25);var bytes25=haxe_Unserializer.run(data25);blobs25.push(kha_internal_BytesBlob.fromBytes(bytes25))}kha_Shaders.world_pass_frag=new kha_graphics4_FragmentShader(blobs25,["world_pass.frag.essl","world_pass-relaxed.frag.essl","world_pass-webgl2.frag.essl"]);var blobs26=[];var _g26=0;while(_g26<3){var i26=_g26++;var data26=Reflect.field(kha_Shaders,"world_pass_vertData"+i26);var bytes26=haxe_Unserializer.run(data26);blobs26.push(kha_internal_BytesBlob.fromBytes(bytes26))}kha_Shaders.world_pass_vert=new kha_graphics4_VertexShader(blobs26,["world_pass.vert.essl","world_pass-relaxed.vert.essl","world_pass-webgl2.vert.essl"]);var blobs27=[];var _g27=0;while(_g27<3){var i27=_g27++;var data27=Reflect.field(kha_Shaders,"Blue_mesh_fragData"+i27);var bytes27=haxe_Unserializer.run(data27);blobs27.push(kha_internal_BytesBlob.fromBytes(bytes27))}kha_Shaders.Blue_mesh_frag=new kha_graphics4_FragmentShader(blobs27,["Blue_mesh.frag.essl","Blue_mesh-relaxed.frag.essl","Blue_mesh-webgl2.frag.essl"]);var blobs28=[];var _g28=0;while(_g28<3){var i28=_g28++;var data28=Reflect.field(kha_Shaders,"Blue_mesh_vertData"+i28);var bytes28=haxe_Unserializer.run(data28);blobs28.push(kha_internal_BytesBlob.fromBytes(bytes28))}kha_Shaders.Blue_mesh_vert=new kha_graphics4_VertexShader(blobs28,["Blue_mesh.vert.essl","Blue_mesh-relaxed.vert.essl","Blue_mesh-webgl2.vert.essl"]);var blobs29=[];var _g29=0;while(_g29<3){var i29=_g29++;var data29=Reflect.field(kha_Shaders,"Blue_shadowmap_fragData"+i29);var bytes29=haxe_Unserializer.run(data29);blobs29.push(kha_internal_BytesBlob.fromBytes(bytes29))}kha_Shaders.Blue_shadowmap_frag=new kha_graphics4_FragmentShader(blobs29,["Blue_shadowmap.frag.essl","Blue_shadowmap-relaxed.frag.essl","Blue_shadowmap-webgl2.frag.essl"]);var blobs30=[];var _g30=0;while(_g30<3){var i30=_g30++;var data30=Reflect.field(kha_Shaders,"Blue_shadowmap_vertData"+i30);var bytes30=haxe_Unserializer.run(data30);blobs30.push(kha_internal_BytesBlob.fromBytes(bytes30))}kha_Shaders.Blue_shadowmap_vert=new kha_graphics4_VertexShader(blobs30,["Blue_shadowmap.vert.essl","Blue_shadowmap-relaxed.vert.essl","Blue_shadowmap-webgl2.vert.essl"]);var blobs31=[];var _g31=0;while(_g31<3){var i31=_g31++;var data31=Reflect.field(kha_Shaders,"Body_armskin_mesh_fragData"+i31);var bytes31=haxe_Unserializer.run(data31);blobs31.push(kha_internal_BytesBlob.fromBytes(bytes31))}kha_Shaders.Body_armskin_mesh_frag=new kha_graphics4_FragmentShader(blobs31,["Body_armskin_mesh.frag.essl","Body_armskin_mesh-relaxed.frag.essl","Body_armskin_mesh-webgl2.frag.essl"]);var blobs32=[];var _g32=0;while(_g32<3){var i32=_g32++;var data32=Reflect.field(kha_Shaders,"Body_armskin_mesh_vertData"+i32);var bytes32=haxe_Unserializer.run(data32);blobs32.push(kha_internal_BytesBlob.fromBytes(bytes32))}kha_Shaders.Body_armskin_mesh_vert=new kha_graphics4_VertexShader(blobs32,["Body_armskin_mesh.vert.essl","Body_armskin_mesh-relaxed.vert.essl","Body_armskin_mesh-webgl2.vert.essl"]);var blobs33=[];var _g33=0;while(_g33<3){var i33=_g33++;var data33=Reflect.field(kha_Shaders,"Body_armskin_shadowmap_vertData"+i33);var bytes33=haxe_Unserializer.run(data33);blobs33.push(kha_internal_BytesBlob.fromBytes(bytes33))}kha_Shaders.Body_armskin_shadowmap_vert=new kha_graphics4_VertexShader(blobs33,["Body_armskin_shadowmap.vert.essl","Body_armskin_shadowmap-relaxed.vert.essl","Body_armskin_shadowmap-webgl2.vert.essl"]);var blobs34=[];var _g34=0;while(_g34<3){var i34=_g34++;var data34=Reflect.field(kha_Shaders,"Bot_armskin_mesh_fragData"+i34);var bytes34=haxe_Unserializer.run(data34);blobs34.push(kha_internal_BytesBlob.fromBytes(bytes34))}kha_Shaders.Bot_armskin_mesh_frag=new kha_graphics4_FragmentShader(blobs34,["Bot_armskin_mesh.frag.essl","Bot_armskin_mesh-relaxed.frag.essl","Bot_armskin_mesh-webgl2.frag.essl"]);var blobs35=[];var _g35=0;while(_g35<3){var i35=_g35++;var data35=Reflect.field(kha_Shaders,"Decal2_decal_fragData"+i35);var bytes35=haxe_Unserializer.run(data35);blobs35.push(kha_internal_BytesBlob.fromBytes(bytes35))}kha_Shaders.Decal2_decal_frag=new kha_graphics4_FragmentShader(blobs35,["Decal2_decal.frag.essl","Decal2_decal-relaxed.frag.essl","Decal2_decal-webgl2.frag.essl"]);var blobs36=[];var _g36=0;while(_g36<3){var i36=_g36++;var data36=Reflect.field(kha_Shaders,"Decal2_decal_vertData"+i36);var bytes36=haxe_Unserializer.run(data36);blobs36.push(kha_internal_BytesBlob.fromBytes(bytes36))}kha_Shaders.Decal2_decal_vert=new kha_graphics4_VertexShader(blobs36,["Decal2_decal.vert.essl","Decal2_decal-relaxed.vert.essl","Decal2_decal-webgl2.vert.essl"]);var blobs37=[];var _g37=0;while(_g37<3){var i37=_g37++;var data37=Reflect.field(kha_Shaders,"Decal_decal_fragData"+i37);var bytes37=haxe_Unserializer.run(data37);blobs37.push(kha_internal_BytesBlob.fromBytes(bytes37))}kha_Shaders.Decal_decal_frag=new kha_graphics4_FragmentShader(blobs37,["Decal_decal.frag.essl","Decal_decal-relaxed.frag.essl","Decal_decal-webgl2.frag.essl"]);var blobs38=[];var _g38=0;while(_g38<3){var i38=_g38++;var data38=Reflect.field(kha_Shaders,"Decal_decal_vertData"+i38);var bytes38=haxe_Unserializer.run(data38);blobs38.push(kha_internal_BytesBlob.fromBytes(bytes38))}kha_Shaders.Decal_decal_vert=new kha_graphics4_VertexShader(blobs38,["Decal_decal.vert.essl","Decal_decal-relaxed.vert.essl","Decal_decal-webgl2.vert.essl"]);var blobs39=[];var _g39=0;while(_g39<3){var i39=_g39++;var data39=Reflect.field(kha_Shaders,"Ground_mesh_fragData"+i39);var bytes39=haxe_Unserializer.run(data39);blobs39.push(kha_internal_BytesBlob.fromBytes(bytes39))}kha_Shaders.Ground_mesh_frag=new kha_graphics4_FragmentShader(blobs39,["Ground_mesh.frag.essl","Ground_mesh-relaxed.frag.essl","Ground_mesh-webgl2.frag.essl"]);var blobs40=[];var _g40=0;while(_g40<3){var i40=_g40++;var data40=Reflect.field(kha_Shaders,"Gun2_mesh_fragData"+i40);var bytes40=haxe_Unserializer.run(data40);blobs40.push(kha_internal_BytesBlob.fromBytes(bytes40))}kha_Shaders.Gun2_mesh_frag=new kha_graphics4_FragmentShader(blobs40,["Gun2_mesh.frag.essl","Gun2_mesh-relaxed.frag.essl","Gun2_mesh-webgl2.frag.essl"]);var blobs41=[];var _g41=0;while(_g41<3){var i41=_g41++;var data41=Reflect.field(kha_Shaders,"Gun_mesh_fragData"+i41);var bytes41=haxe_Unserializer.run(data41);blobs41.push(kha_internal_BytesBlob.fromBytes(bytes41))}kha_Shaders.Gun_mesh_frag=new kha_graphics4_FragmentShader(blobs41,["Gun_mesh.frag.essl","Gun_mesh-relaxed.frag.essl","Gun_mesh-webgl2.frag.essl"]);var blobs42=[];var _g42=0;while(_g42<3){var i42=_g42++;var data42=Reflect.field(kha_Shaders,"Joints_armskin_mesh_fragData"+i42);var bytes42=haxe_Unserializer.run(data42);blobs42.push(kha_internal_BytesBlob.fromBytes(bytes42))}kha_Shaders.Joints_armskin_mesh_frag=new kha_graphics4_FragmentShader(blobs42,["Joints_armskin_mesh.frag.essl","Joints_armskin_mesh-relaxed.frag.essl","Joints_armskin_mesh-webgl2.frag.essl"]);var blobs43=[];var _g43=0;while(_g43<3){var i43=_g43++;var data43=Reflect.field(kha_Shaders,"Material_002_mesh_fragData"+i43);var bytes43=haxe_Unserializer.run(data43);blobs43.push(kha_internal_BytesBlob.fromBytes(bytes43))}kha_Shaders.Material_002_mesh_frag=new kha_graphics4_FragmentShader(blobs43,["Material_002_mesh.frag.essl","Material_002_mesh-relaxed.frag.essl","Material_002_mesh-webgl2.frag.essl"]);var blobs44=[];var _g44=0;while(_g44<3){var i44=_g44++;var data44=Reflect.field(kha_Shaders,"Material_002_mesh_vertData"+i44);var bytes44=haxe_Unserializer.run(data44);blobs44.push(kha_internal_BytesBlob.fromBytes(bytes44))}kha_Shaders.Material_002_mesh_vert=new kha_graphics4_VertexShader(blobs44,["Material_002_mesh.vert.essl","Material_002_mesh-relaxed.vert.essl","Material_002_mesh-webgl2.vert.essl"]);var blobs45=[];var _g45=0;while(_g45<3){var i45=_g45++;var data45=Reflect.field(kha_Shaders,"Particle_mesh_fragData"+i45);var bytes45=haxe_Unserializer.run(data45);blobs45.push(kha_internal_BytesBlob.fromBytes(bytes45))}kha_Shaders.Particle_mesh_frag=new kha_graphics4_FragmentShader(blobs45,["Particle_mesh.frag.essl","Particle_mesh-relaxed.frag.essl","Particle_mesh-webgl2.frag.essl"]);var blobs46=[];var _g46=0;while(_g46<3){var i46=_g46++;var data46=Reflect.field(kha_Shaders,"Particle_mesh_vertData"+i46);var bytes46=haxe_Unserializer.run(data46);blobs46.push(kha_internal_BytesBlob.fromBytes(bytes46))}kha_Shaders.Particle_mesh_vert=new kha_graphics4_VertexShader(blobs46,["Particle_mesh.vert.essl","Particle_mesh-relaxed.vert.essl","Particle_mesh-webgl2.vert.essl"]);var blobs47=[];var _g47=0;while(_g47<3){var i47=_g47++;var data47=Reflect.field(kha_Shaders,"Particle_shadowmap_fragData"+i47);var bytes47=haxe_Unserializer.run(data47);blobs47.push(kha_internal_BytesBlob.fromBytes(bytes47))}kha_Shaders.Particle_shadowmap_frag=new kha_graphics4_FragmentShader(blobs47,["Particle_shadowmap.frag.essl","Particle_shadowmap-relaxed.frag.essl","Particle_shadowmap-webgl2.frag.essl"]);var blobs48=[];var _g48=0;while(_g48<3){var i48=_g48++;var data48=Reflect.field(kha_Shaders,"Particle_shadowmap_vertData"+i48);var bytes48=haxe_Unserializer.run(data48);blobs48.push(kha_internal_BytesBlob.fromBytes(bytes48))}kha_Shaders.Particle_shadowmap_vert=new kha_graphics4_VertexShader(blobs48,["Particle_shadowmap.vert.essl","Particle_shadowmap-relaxed.vert.essl","Particle_shadowmap-webgl2.vert.essl"]);var blobs49=[];var _g49=0;while(_g49<3){var i49=_g49++;var data49=Reflect.field(kha_Shaders,"Wall_mesh_fragData"+i49);var bytes49=haxe_Unserializer.run(data49);blobs49.push(kha_internal_BytesBlob.fromBytes(bytes49))}kha_Shaders.Wall_mesh_frag=new kha_graphics4_FragmentShader(blobs49,["Wall_mesh.frag.essl","Wall_mesh-relaxed.frag.essl","Wall_mesh-webgl2.frag.essl"]);var blobs50=[];var _g50=0;while(_g50<3){var i50=_g50++;var data50=Reflect.field(kha_Shaders,"armdefault_mesh_fragData"+i50);var bytes50=haxe_Unserializer.run(data50);blobs50.push(kha_internal_BytesBlob.fromBytes(bytes50))}kha_Shaders.armdefault_mesh_frag=new kha_graphics4_FragmentShader(blobs50,["armdefault_mesh.frag.essl","armdefault_mesh-relaxed.frag.essl","armdefault_mesh-webgl2.frag.essl"]);var blobs51=[];var _g51=0;while(_g51<3){var i51=_g51++;var data51=Reflect.field(kha_Shaders,"painter_colored_fragData"+i51);var bytes51=haxe_Unserializer.run(data51);blobs51.push(kha_internal_BytesBlob.fromBytes(bytes51))}kha_Shaders.painter_colored_frag=new kha_graphics4_FragmentShader(blobs51,["painter-colored.frag.essl","painter-colored-relaxed.frag.essl","painter-colored-webgl2.frag.essl"]);var blobs52=[];var _g52=0;while(_g52<3){var i52=_g52++;var data52=Reflect.field(kha_Shaders,"painter_colored_vertData"+i52);var bytes52=haxe_Unserializer.run(data52);blobs52.push(kha_internal_BytesBlob.fromBytes(bytes52))}kha_Shaders.painter_colored_vert=new kha_graphics4_VertexShader(blobs52,["painter-colored.vert.essl","painter-colored-relaxed.vert.essl","painter-colored-webgl2.vert.essl"]);var blobs53=[];var _g53=0;while(_g53<3){var i53=_g53++;var data53=Reflect.field(kha_Shaders,"painter_image_fragData"+i53);var bytes53=haxe_Unserializer.run(data53);blobs53.push(kha_internal_BytesBlob.fromBytes(bytes53))}kha_Shaders.painter_image_frag=new kha_graphics4_FragmentShader(blobs53,["painter-image.frag.essl","painter-image-relaxed.frag.essl","painter-image-webgl2.frag.essl"]);var blobs54=[];var _g54=0;while(_g54<3){var i54=_g54++;var data54=Reflect.field(kha_Shaders,"painter_image_vertData"+i54);var bytes54=haxe_Unserializer.run(data54);blobs54.push(kha_internal_BytesBlob.fromBytes(bytes54))}kha_Shaders.painter_image_vert=new kha_graphics4_VertexShader(blobs54,["painter-image.vert.essl","painter-image-relaxed.vert.essl","painter-image-webgl2.vert.essl"]);var blobs55=[];var _g55=0;while(_g55<3){var i55=_g55++;var data55=Reflect.field(kha_Shaders,"painter_text_fragData"+i55);var bytes55=haxe_Unserializer.run(data55);blobs55.push(kha_internal_BytesBlob.fromBytes(bytes55))}kha_Shaders.painter_text_frag=new kha_graphics4_FragmentShader(blobs55,["painter-text.frag.essl","painter-text-relaxed.frag.essl","painter-text-webgl2.frag.essl"]);var blobs56=[];var _g56=0;while(_g56<3){var i56=_g56++;var data56=Reflect.field(kha_Shaders,"painter_text_vertData"+i56);var bytes56=haxe_Unserializer.run(data56);blobs56.push(kha_internal_BytesBlob.fromBytes(bytes56))}kha_Shaders.painter_text_vert=new kha_graphics4_VertexShader(blobs56,["painter-text.vert.essl","painter-text-relaxed.vert.essl","painter-text-webgl2.vert.essl"]);var blobs57=[];var _g57=0;while(_g57<3){var i57=_g57++;var data57=Reflect.field(kha_Shaders,"painter_video_vertData"+i57);var bytes57=haxe_Unserializer.run(data57);blobs57.push(kha_internal_BytesBlob.fromBytes(bytes57))}kha_Shaders.painter_video_vert=new kha_graphics4_VertexShader(blobs57,["painter-video.vert.essl","painter-video-relaxed.vert.essl","painter-video-webgl2.vert.essl"]);var blobs58=[];var _g58=0;while(_g58<3){var i58=_g58++;var data58=Reflect.field(kha_Shaders,"painter_video_fragData"+i58);var bytes58=haxe_Unserializer.run(data58);blobs58.push(kha_internal_BytesBlob.fromBytes(bytes58))}kha_Shaders.painter_video_frag=new kha_graphics4_FragmentShader(blobs58,["painter-video.frag.essl","painter-video-relaxed.frag.essl","painter-video-webgl2.frag.essl"])};var kha_Sound=function(){};$hxClasses["kha.Sound"]=kha_Sound;kha_Sound.__name__=true;kha_Sound.__interfaces__=[kha_Resource];kha_Sound.prototype={compressedData:null,uncompressedData:null,uncompress:function(done){if(this.uncompressedData!=null){done();return}var output=new haxe_io_BytesOutput;var header=kha_audio2_ogg_vorbis_Reader.readAll(this.compressedData,output,true);var soundBytes=output.getBytes();var count=soundBytes.length/4|0;if(header.channel==1){var this1=new Float32Array(count*2);this.uncompressedData=this1;var _g1=0;var _g=count;while(_g1<_g){var i=_g1++;this.uncompressedData[i*2]=soundBytes.getFloat(i*4);this.uncompressedData[i*2+1]=soundBytes.getFloat(i*4)}}else{var this2=new Float32Array(count);this.uncompressedData=this2;var _g11=0;var _g2=count;while(_g11<_g2){var i1=_g11++;this.uncompressedData[i1]=soundBytes.getFloat(i1*4)}}this.compressedData=null;done()},__class__:kha_Sound};var kha_System=function(){};$hxClasses["kha.System"]=kha_System;kha_System.__name__=true;kha_System.__properties__={get_refreshRate:"get_refreshRate",get_vsync:"get_vsync",get_time:"get_time"};kha_System.init=function(options,callback){if(options.title==null){options.title="Kha"}if(options.width==null){options.width=800}if(options.height==null){options.height=600}if(options.samplesPerPixel==null){options.samplesPerPixel=1}if(options.vSync==null){options.vSync=true}if(options.windowMode==null){options.windowMode=kha_WindowMode.Window}if(options.resizable==null){options.resizable=false}if(options.maximizable==null){options.maximizable=false}if(options.minimizable==null){options.minimizable=true}kha_System.theTitle=options.title;kha_SystemImpl.init(options,callback)};kha_System.notifyOnRender=function(listener,id){if(id==null){id=0}while(id>=kha_System.renderListeners.length)kha_System.renderListeners.push([]);kha_System.renderListeners[id].push(listener)};kha_System.render=function(id,framebuffer){if(kha_System.renderListeners.length==0){return}var _g=0;var _g1=kha_System.renderListeners[id];while(_g<_g1.length){var listener=_g1[_g];++_g;listener(framebuffer)}};kha_System.foreground=function(){var _g=0;var _g1=kha_System.foregroundListeners;while(_g<_g1.length){var listener=_g1[_g];++_g;listener()}};kha_System.background=function(){var _g=0;var _g1=kha_System.backgroundListeners;while(_g<_g1.length){var listener=_g1[_g];++_g;listener()}};kha_System.get_time=function(){return kha_SystemImpl.getTime()};kha_System.windowWidth=function(windowId){if(windowId==null){windowId=0}return kha_SystemImpl.windowWidth(windowId)};kha_System.windowHeight=function(windowId){if(windowId==null){windowId=0}return kha_SystemImpl.windowHeight(windowId)};kha_System.get_vsync=function(){return kha_SystemImpl.getVsync()};kha_System.get_refreshRate=function(){return kha_SystemImpl.getRefreshRate()};var kha_GamepadStates=function(){this.axes=[];this.buttons=[]};$hxClasses["kha.GamepadStates"]=kha_GamepadStates;kha_GamepadStates.__name__=true;kha_GamepadStates.prototype={axes:null,buttons:null,__class__:kha_GamepadStates};var kha_SystemImpl=function(){};$hxClasses["kha.SystemImpl"]=kha_SystemImpl;kha_SystemImpl.__name__=true;kha_SystemImpl.init=function(options,callback){kha_SystemImpl.options=options;kha_SystemImpl.mobile=kha_SystemImpl.isMobile();kha_SystemImpl.ios=kha_SystemImpl.isIOS();kha_SystemImpl.chrome=kha_SystemImpl.isChrome();kha_SystemImpl.firefox=kha_SystemImpl.isFirefox();kha_SystemImpl.ie=kha_SystemImpl.isIE();kha_SystemImpl.init2();callback()};kha_SystemImpl.isMobile=function(){var agent=window.navigator.userAgent;if(agent.indexOf("Android")>=0||agent.indexOf("webOS")>=0||agent.indexOf("BlackBerry")>=0||agent.indexOf("Windows Phone")>=0){return true}if(kha_SystemImpl.isIOS()){return true}return false};kha_SystemImpl.isIOS=function(){var agent=window.navigator.userAgent;if(agent.indexOf("iPhone")>=0||agent.indexOf("iPad")>=0||agent.indexOf("iPod")>=0){return true}return false};kha_SystemImpl.isChrome=function(){var agent=window.navigator.userAgent;if(agent.indexOf("Chrome")>=0){return true}return false};kha_SystemImpl.isFirefox=function(){var agent=window.navigator.userAgent;if(agent.indexOf("Firefox")>=0){return true}return false};kha_SystemImpl.isIE=function(){var agent=window.navigator.userAgent;if(agent.indexOf("MSIE ")>=0||agent.indexOf("Trident/")>=0){return true}return false};kha_SystemImpl.windowWidth=function(windowId){if(windowId==null){windowId=0}if(kha_SystemImpl.khanvas.width==0&&kha_SystemImpl.options.width!=null){return kha_SystemImpl.options.width}else{return kha_SystemImpl.khanvas.width}};kha_SystemImpl.windowHeight=function(windowId){if(windowId==null){windowId=0}if(kha_SystemImpl.khanvas.height==0&&kha_SystemImpl.options.height!=null){return kha_SystemImpl.options.height}else{return kha_SystemImpl.khanvas.height}};kha_SystemImpl.setCanvas=function(canvas){kha_SystemImpl.khanvas=canvas};kha_SystemImpl.getTime=function(){var performance=window.performance?window.performance:window.Date;return performance.now()/1e3};kha_SystemImpl.getVsync=function(){return true};kha_SystemImpl.getRefreshRate=function(){return 60};kha_SystemImpl.init2=function(backbufferFormat){haxe_Log.trace=js_Boot.__trace;kha_SystemImpl.keyboard=new kha_input_Keyboard;kha_SystemImpl.mouse=new kha_input_MouseImpl;kha_SystemImpl.surface=new kha_input_Surface;kha_SystemImpl.gamepads=[];kha_SystemImpl.gamepadStates=[];var _g=0;while(_g<4){var i=_g++;kha_SystemImpl.gamepads[i]=new kha_input_Gamepad(i);kha_SystemImpl.gamepadStates[i]=new kha_GamepadStates}window.addEventListener("gamepadconnected",function(e_){kha_input_Gamepad.sendConnectEvent(e_.gamepad.index)});window.addEventListener("gamepaddisconnected",function(e_1){kha_input_Gamepad.sendDisconnectEvent(e_1.gamepad.index)});if(kha_SystemImpl.ie){kha_SystemImpl.pressedKeys=[];var _g1=0;while(_g1<256){var i1=_g1++;kha_SystemImpl.pressedKeys.push(false)}var _g2=0;while(_g2<256){var i2=_g2++;kha_SystemImpl.pressedKeys.push(null)}}window.document.addEventListener("copy",function(e_2){var e=e_2;if(kha_System.copyListener!=null){var data=kha_System.copyListener();if(data!=null){e.clipboardData.setData("text/plain",data)}e.preventDefault()}});window.document.addEventListener("cut",function(e_3){var e1=e_3;if(kha_System.cutListener!=null){var data1=kha_System.cutListener();if(data1!=null){e1.clipboardData.setData("text/plain",data1)}e1.preventDefault()}});window.document.addEventListener("paste",function(e_4){var e2=e_4;if(kha_System.pasteListener!=null){var tmp=e2.clipboardData.getData("text/plain");kha_System.pasteListener(tmp);e2.preventDefault()}});kha_CanvasImage.init();kha_Scheduler.init();kha_SystemImpl.loadFinished()};kha_SystemImpl.getMouse=function(num){if(num!=0){return null}return kha_SystemImpl.mouse};kha_SystemImpl.getKeyboard=function(num){if(num!=0){return null}return kha_SystemImpl.keyboard};kha_SystemImpl.checkGamepad=function(pad){var _g1=0;var _g=pad.axes.length;while(_g1<_g){var i=_g1++;if(pad.axes[i]!=null){if(kha_SystemImpl.gamepadStates[pad.index].axes[i]!=pad.axes[i]){var axis=pad.axes[i];if(i%2==1){axis=-axis}kha_SystemImpl.gamepadStates[pad.index].axes[i]=axis;kha_SystemImpl.gamepads[pad.index].sendAxisEvent(i,axis)}}}var _g11=0;var _g2=pad.buttons.length;while(_g11<_g2){var i1=_g11++;if(pad.buttons[i1]!=null){if(kha_SystemImpl.gamepadStates[pad.index].buttons[i1]!=pad.buttons[i1].value){kha_SystemImpl.gamepadStates[pad.index].buttons[i1]=pad.buttons[i1].value;kha_SystemImpl.gamepads[pad.index].sendButtonEvent(i1,pad.buttons[i1].value)}}}if(pad.axes.length<=4&&pad.buttons.length>7){kha_SystemImpl.gamepadStates[pad.index].axes[4]=pad.buttons[6].value;kha_SystemImpl.gamepads[pad.index].sendAxisEvent(4,pad.buttons[6].value);kha_SystemImpl.gamepadStates[pad.index].axes[5]=pad.buttons[7].value;kha_SystemImpl.gamepads[pad.index].sendAxisEvent(5,pad.buttons[7].value)}};kha_SystemImpl.loadFinished=function(){var canvas=kha_SystemImpl.khanvas;if(canvas==null){canvas=window.document.getElementById(kha_CompilerDefines.canvas_id)}canvas.style.cursor="default";var gl=false;try{kha_SystemImpl.gl=canvas.getContext("webgl2",{alpha:false,antialias:kha_SystemImpl.options.samplesPerPixel>1,stencil:true});kha_SystemImpl.gl.pixelStorei(37441,1);kha_SystemImpl.halfFloat={HALF_FLOAT_OES:5131};kha_SystemImpl.depthTexture={UNSIGNED_INT_24_8_WEBGL:34042};kha_SystemImpl.drawBuffers={COLOR_ATTACHMENT0_WEBGL:36064};kha_SystemImpl.elementIndexUint=true;kha_SystemImpl.gl.getExtension("EXT_color_buffer_float");kha_SystemImpl.gl.getExtension("OES_texture_float_linear");kha_SystemImpl.gl.getExtension("OES_texture_half_float_linear");kha_SystemImpl.anisotropicFilter=kha_SystemImpl.gl.getExtension("EXT_texture_filter_anisotropic");if(kha_SystemImpl.anisotropicFilter==null){kha_SystemImpl.anisotropicFilter=kha_SystemImpl.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")}gl=true;kha_SystemImpl.gl2=true;kha_Shaders.init()}catch(e){haxe_Log.trace("Could not initialize WebGL 2, falling back to WebGL.",{fileName:"SystemImpl.hx",lineNumber:350,className:"kha.SystemImpl",methodName:"loadFinished"})}if(!kha_SystemImpl.gl2){try{kha_SystemImpl.gl=canvas.getContext("experimental-webgl",{alpha:false,antialias:kha_SystemImpl.options.samplesPerPixel>1,stencil:true});if(kha_SystemImpl.gl!=null){kha_SystemImpl.gl.pixelStorei(37441,1);kha_SystemImpl.gl.getExtension("OES_texture_float");kha_SystemImpl.gl.getExtension("OES_texture_float_linear");kha_SystemImpl.halfFloat=kha_SystemImpl.gl.getExtension("OES_texture_half_float");kha_SystemImpl.gl.getExtension("OES_texture_half_float_linear");kha_SystemImpl.depthTexture=kha_SystemImpl.gl.getExtension("WEBGL_depth_texture");kha_SystemImpl.gl.getExtension("EXT_shader_texture_lod");kha_SystemImpl.gl.getExtension("OES_standard_derivatives");kha_SystemImpl.anisotropicFilter=kha_SystemImpl.gl.getExtension("EXT_texture_filter_anisotropic");if(kha_SystemImpl.anisotropicFilter==null){kha_SystemImpl.anisotropicFilter=kha_SystemImpl.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")}kha_SystemImpl.drawBuffers=kha_SystemImpl.gl.getExtension("WEBGL_draw_buffers");kha_SystemImpl.elementIndexUint=kha_SystemImpl.gl.getExtension("OES_element_index_uint");gl=true;kha_Shaders.init()}}catch(e1){haxe_Log.trace("Could not initialize WebGL, falling back to Canvas.",{fileName:"SystemImpl.hx",lineNumber:374,className:"kha.SystemImpl",methodName:"loadFinished"})}}kha_SystemImpl.setCanvas(canvas);if(gl){var g4=new kha_js_graphics4_Graphics;kha_SystemImpl.frame=new kha_Framebuffer(0,null,null,g4);kha_SystemImpl.frame.init(new kha_graphics2_Graphics1(kha_SystemImpl.frame),new kha_js_graphics4_Graphics2(kha_SystemImpl.frame),g4)}else{kha_js_Font.Kravur=kha_Kravur;kha_Kravur=kha_js_Font;var g2=new kha_js_CanvasGraphics(canvas.getContext("2d"));kha_SystemImpl.frame=new kha_Framebuffer(0,null,g2,null);kha_SystemImpl.frame.init(new kha_graphics2_Graphics1(kha_SystemImpl.frame),g2,null)}if(!kha_SystemImpl.mobile&&kha_audio2_Audio._init()){kha_SystemImpl._hasWebAudio=true;kha_audio2_Audio1._init()}else if(kha_SystemImpl.mobile){kha_SystemImpl._hasWebAudio=false;kha_js_MobileWebAudio._init();kha_audio2_Audio1=kha_js_MobileWebAudio}else{kha_SystemImpl._hasWebAudio=false;kha_js_AudioElementAudio._compile();kha_audio2_Audio1=kha_js_AudioElementAudio}kha_vr_VrInterface.instance=new kha_js_vr_VrInterface;kha_Scheduler.start();var $window=window;var requestAnimationFrame=$window.requestAnimationFrame;if(requestAnimationFrame==null){requestAnimationFrame=$window.mozRequestAnimationFrame}if(requestAnimationFrame==null){requestAnimationFrame=$window.webkitRequestAnimationFrame}if(requestAnimationFrame==null){requestAnimationFrame=$window.msRequestAnimationFrame}var animate=null;animate=function(timestamp){var window1=window;if(requestAnimationFrame==null){window1.setTimeout(animate,16.666666666666668)}else{requestAnimationFrame(animate)}var sysGamepads=kha_SystemImpl.getGamepads();if(sysGamepads!=null){var _g1=0;var _g=sysGamepads.length;while(_g1<_g){var i=_g1++;var pad=sysGamepads[i];if(pad!=null){kha_SystemImpl.checkGamepad(pad)}}}kha_Scheduler.executeFrame();if(canvas.getContext){var displayWidth=canvas.clientWidth;var displayHeight=canvas.clientHeight;if(canvas.width!=displayWidth||canvas.height!=displayHeight){canvas.width=displayWidth;canvas.height=displayHeight}kha_System.render(0,kha_SystemImpl.frame);if(kha_SystemImpl.gl!=null){kha_SystemImpl.gl.clearColor(1,1,1,1);kha_SystemImpl.gl.colorMask(false,false,false,true);kha_SystemImpl.gl.clear(16384);kha_SystemImpl.gl.colorMask(true,true,true,true)}}};var animate1=animate;if(requestAnimationFrame==null){$window.setTimeout(animate1,16.666666666666668)}else{requestAnimationFrame(animate1)}if(canvas.getAttribute("tabindex")==null){canvas.setAttribute("tabindex","0")}canvas.focus();canvas.oncontextmenu=function(event){event.stopPropagation();event.preventDefault()};canvas.onmousedown=kha_SystemImpl.mouseDown;canvas.onmousemove=kha_SystemImpl.mouseMove;if(kha_SystemImpl.keyboard!=null){canvas.onkeydown=kha_SystemImpl.keyDown;canvas.onkeyup=kha_SystemImpl.keyUp;canvas.onkeypress=kha_SystemImpl.keyPress}canvas.onblur=kha_SystemImpl.onBlur;canvas.onfocus=kha_SystemImpl.onFocus;canvas.onmousewheel=canvas.onwheel=kha_SystemImpl.mouseWheel;canvas.onmouseleave=kha_SystemImpl.mouseLeave;canvas.addEventListener("wheel mousewheel",kha_SystemImpl.mouseWheel,false);canvas.addEventListener("touchstart",kha_SystemImpl.touchDown,false);canvas.addEventListener("touchend",kha_SystemImpl.touchUp,false);canvas.addEventListener("touchmove",kha_SystemImpl.touchMove,false);canvas.addEventListener("touchcancel",kha_SystemImpl.touchCancel,false);window.addEventListener("unload",kha_SystemImpl.unload)};kha_SystemImpl.lockMouse=function(){if($_=kha_SystemImpl.khanvas,$bind($_,$_.requestPointerLock)){kha_SystemImpl.khanvas.requestPointerLock()}else if(kha_SystemImpl.khanvas.mozRequestPointerLock){kha_SystemImpl.khanvas.mozRequestPointerLock()}else if(kha_SystemImpl.khanvas.webkitRequestPointerLock){kha_SystemImpl.khanvas.webkitRequestPointerLock()}};kha_SystemImpl.unlockMouse=function(){if(document.exitPointerLock){document.exitPointerLock()}else if(document.mozExitPointerLock){document.mozExitPointerLock()}else if(document.webkitExitPointerLock){document.webkitExitPointerLock()}};kha_SystemImpl.canLockMouse=function(){return"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};kha_SystemImpl.unload=function(_){};kha_SystemImpl.setMouseXY=function(event){var rect=kha_SystemImpl.khanvas.getBoundingClientRect();var borderWidth=kha_SystemImpl.khanvas.clientLeft;var borderHeight=kha_SystemImpl.khanvas.clientTop;kha_SystemImpl.mouseX=(event.clientX-rect.left-borderWidth)*kha_SystemImpl.khanvas.width/(rect.width-2*borderWidth)|0;kha_SystemImpl.mouseY=(event.clientY-rect.top-borderHeight)*kha_SystemImpl.khanvas.height/(rect.height-2*borderHeight)|0};kha_SystemImpl.unlockiOSSound=function(){if(!kha_SystemImpl.ios||kha_SystemImpl.iosSoundEnabled){return}var buffer=kha_js_MobileWebAudio._context.createBuffer(1,1,22050);var source=kha_js_MobileWebAudio._context.createBufferSource();source.buffer=buffer;source.connect(kha_js_MobileWebAudio._context.destination);source.start();source.stop();kha_SystemImpl.iosSoundEnabled=true};kha_SystemImpl.unlockSound=function(){if(!kha_SystemImpl.soundEnabled){var context=kha_audio2_Audio._context;if(context==null){context=kha_audio2_Audio1._context}if(context!=null){context.resume().then(function(c){kha_SystemImpl.soundEnabled=true})["catch"](function(err){haxe_Log.trace(err,{fileName:"SystemImpl.hx",lineNumber:601,className:"kha.SystemImpl",methodName:"unlockSound"})})}}kha_SystemImpl.unlockiOSSound()};kha_SystemImpl.mouseLeave=function(){kha_SystemImpl.mouse.sendLeaveEvent(0)};kha_SystemImpl.mouseWheel=function(event){kha_SystemImpl.insideInputEvent=true;kha_SystemImpl.unlockSound();event.preventDefault();if(event.deltaMode==0){if(event.deltaY<0){kha_SystemImpl.mouse.sendWheelEvent(0,-1)}else if(event.deltaY>0){kha_SystemImpl.mouse.sendWheelEvent(0,1)}kha_SystemImpl.insideInputEvent=false;return false}if(event.deltaMode==1){kha_SystemImpl.minimumScroll=Math.min(kha_SystemImpl.minimumScroll,Math.abs(event.deltaY))|0;kha_SystemImpl.mouse.sendWheelEvent(0,event.deltaY/kha_SystemImpl.minimumScroll|0);kha_SystemImpl.insideInputEvent=false;return false}kha_SystemImpl.insideInputEvent=false;return false};kha_SystemImpl.mouseDown=function(event){kha_SystemImpl.insideInputEvent=true;kha_SystemImpl.unlockSound();kha_SystemImpl.setMouseXY(event);if(event.which==1){if(event.ctrlKey){kha_SystemImpl.leftMouseCtrlDown=true;kha_SystemImpl.mouse.sendDownEvent(0,1,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY)}else{kha_SystemImpl.leftMouseCtrlDown=false;kha_SystemImpl.mouse.sendDownEvent(0,0,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY)}if(($_=kha_SystemImpl.khanvas,$bind($_,$_.setCapture))!=null){kha_SystemImpl.khanvas.setCapture()}else{kha_SystemImpl.khanvas.ownerDocument.addEventListener("mousemove",kha_SystemImpl.documentMouseMove,true)}kha_SystemImpl.khanvas.ownerDocument.addEventListener("mouseup",kha_SystemImpl.mouseLeftUp)}else if(event.which==2){kha_SystemImpl.mouse.sendDownEvent(0,2,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY);kha_SystemImpl.khanvas.ownerDocument.addEventListener("mouseup",kha_SystemImpl.mouseMiddleUp)}else if(event.which==3){kha_SystemImpl.mouse.sendDownEvent(0,1,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY);kha_SystemImpl.khanvas.ownerDocument.addEventListener("mouseup",kha_SystemImpl.mouseRightUp)}kha_SystemImpl.insideInputEvent=false};kha_SystemImpl.mouseLeftUp=function(event){kha_SystemImpl.unlockSound();if(event.which!=1){return}kha_SystemImpl.insideInputEvent=true;kha_SystemImpl.khanvas.ownerDocument.removeEventListener("mouseup",kha_SystemImpl.mouseLeftUp);if(($_=kha_SystemImpl.khanvas,$bind($_,$_.releaseCapture))!=null){kha_SystemImpl.khanvas.ownerDocument.releaseCapture()}else{kha_SystemImpl.khanvas.ownerDocument.removeEventListener("mousemove",kha_SystemImpl.documentMouseMove,true)}if(kha_SystemImpl.leftMouseCtrlDown){kha_SystemImpl.mouse.sendUpEvent(0,1,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY)}else{kha_SystemImpl.mouse.sendUpEvent(0,0,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY)}kha_SystemImpl.leftMouseCtrlDown=false;kha_SystemImpl.insideInputEvent=false};kha_SystemImpl.mouseMiddleUp=function(event){kha_SystemImpl.unlockSound();if(event.which!=2){return}kha_SystemImpl.insideInputEvent=true;kha_SystemImpl.khanvas.ownerDocument.removeEventListener("mouseup",kha_SystemImpl.mouseMiddleUp);kha_SystemImpl.mouse.sendUpEvent(0,2,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY);kha_SystemImpl.insideInputEvent=false};kha_SystemImpl.mouseRightUp=function(event){kha_SystemImpl.unlockSound();if(event.which!=3){return}kha_SystemImpl.insideInputEvent=true;kha_SystemImpl.khanvas.ownerDocument.removeEventListener("mouseup",kha_SystemImpl.mouseRightUp);kha_SystemImpl.mouse.sendUpEvent(0,1,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY);kha_SystemImpl.insideInputEvent=false};kha_SystemImpl.documentMouseMove=function(event){event.stopPropagation();kha_SystemImpl.mouseMove(event)};kha_SystemImpl.mouseMove=function(event){kha_SystemImpl.insideInputEvent=true;kha_SystemImpl.unlockSound();var lastMouseX=kha_SystemImpl.mouseX;var lastMouseY=kha_SystemImpl.mouseY;kha_SystemImpl.setMouseXY(event);var movementX=event.movementX;var movementY=event.movementY;if(event.movementX==null){if(event.mozMovementX!=null){movementX=event.mozMovementX}else if(event.webkitMovementX!=null){movementX=event.webkitMovementX}else{movementX=kha_SystemImpl.mouseX-lastMouseX}if(event.mozMovementY!=null){movementY=event.mozMovementY}else if(event.webkitMovementY!=null){movementY=event.webkitMovementY}else{movementY=kha_SystemImpl.mouseY-lastMouseY}}if(kha_SystemImpl.firefox){movementX=movementX*window.devicePixelRatio|0;movementY=movementY*window.devicePixelRatio|0}kha_SystemImpl.mouse.sendMoveEvent(0,kha_SystemImpl.mouseX,kha_SystemImpl.mouseY,movementX,movementY);kha_SystemImpl.insideInputEvent=false};kha_SystemImpl.setTouchXY=function(touch){var rect=kha_SystemImpl.khanvas.getBoundingClientRect();var borderWidth=kha_SystemImpl.khanvas.clientLeft;var borderHeight=kha_SystemImpl.khanvas.clientTop;kha_SystemImpl.touchX=(touch.clientX-rect.left-borderWidth)*kha_SystemImpl.khanvas.width/(rect.width-2*borderWidth)|0;kha_SystemImpl.touchY=(touch.clientY-rect.top-borderHeight)*kha_SystemImpl.khanvas.height/(rect.height-2*borderHeight)|0};kha_SystemImpl.touchDown=function(event){kha_SystemImpl.insideInputEvent=true;kha_SystemImpl.unlockSound();event.stopPropagation();event.preventDefault();var _g=0;var _g1=event.changedTouches;while(_g<_g1.length){var touch=_g1[_g];++_g;var id=touch.identifier;if(kha_SystemImpl.ios){id=kha_SystemImpl.iosTouchs.indexOf(-1);if(id==-1){id=kha_SystemImpl.iosTouchs.length}kha_SystemImpl.iosTouchs[id]=touch.identifier}kha_SystemImpl.setTouchXY(touch);kha_SystemImpl.mouse.sendDownEvent(0,0,kha_SystemImpl.touchX,kha_SystemImpl.touchY);kha_SystemImpl.surface.sendTouchStartEvent(id,kha_SystemImpl.touchX,kha_SystemImpl.touchY)}kha_SystemImpl.insideInputEvent=false};kha_SystemImpl.touchUp=function(event){kha_SystemImpl.insideInputEvent=true;kha_SystemImpl.unlockSound();var _g=0;var _g1=event.changedTouches;while(_g<_g1.length){var touch=_g1[_g];++_g;var id=touch.identifier;if(kha_SystemImpl.ios){id=kha_SystemImpl.iosTouchs.indexOf(id);kha_SystemImpl.iosTouchs[id]=-1}kha_SystemImpl.setTouchXY(touch);kha_SystemImpl.mouse.sendUpEvent(0,0,kha_SystemImpl.touchX,kha_SystemImpl.touchY);kha_SystemImpl.surface.sendTouchEndEvent(id,kha_SystemImpl.touchX,kha_SystemImpl.touchY)}kha_SystemImpl.insideInputEvent=false};kha_SystemImpl.touchMove=function(event){kha_SystemImpl.insideInputEvent=true;kha_SystemImpl.unlockSound();var index=0;var _g=0;var _g1=event.changedTouches;while(_g<_g1.length){var touch=_g1[_g];++_g;kha_SystemImpl.setTouchXY(touch);if(index==0){var movementX=kha_SystemImpl.touchX-kha_SystemImpl.lastFirstTouchX;var movementY=kha_SystemImpl.touchY-kha_SystemImpl.lastFirstTouchY;kha_SystemImpl.lastFirstTouchX=kha_SystemImpl.touchX;kha_SystemImpl.lastFirstTouchY=kha_SystemImpl.touchY;kha_SystemImpl.mouse.sendMoveEvent(0,kha_SystemImpl.touchX,kha_SystemImpl.touchY,movementX,movementY)}var id=touch.identifier;if(kha_SystemImpl.ios){id=kha_SystemImpl.iosTouchs.indexOf(id)}kha_SystemImpl.surface.sendMoveEvent(id,kha_SystemImpl.touchX,kha_SystemImpl.touchY);++index}kha_SystemImpl.insideInputEvent=false};kha_SystemImpl.touchCancel=function(event){kha_SystemImpl.insideInputEvent=true;kha_SystemImpl.unlockSound();var _g=0;var _g1=event.changedTouches;while(_g<_g1.length){var touch=_g1[_g];++_g;var id=touch.identifier;if(kha_SystemImpl.ios){id=kha_SystemImpl.iosTouchs.indexOf(id)}kha_SystemImpl.setTouchXY(touch);kha_SystemImpl.mouse.sendUpEvent(0,0,kha_SystemImpl.touchX,kha_SystemImpl.touchY);kha_SystemImpl.surface.sendTouchEndEvent(id,kha_SystemImpl.touchX,kha_SystemImpl.touchY)}kha_SystemImpl.iosTouchs=[];kha_SystemImpl.insideInputEvent=false};kha_SystemImpl.onBlur=function(){kha_System.background()};kha_SystemImpl.onFocus=function(){kha_System.foreground()};kha_SystemImpl.keyDown=function(event){if((event.keyCode<112||event.keyCode>123)&&(event.key!=null&&event.key.length!=1)){event.preventDefault()}event.stopPropagation();if(kha_SystemImpl.ie){if(kha_SystemImpl.pressedKeys[event.keyCode]){event.preventDefault();return}kha_SystemImpl.pressedKeys[event.keyCode]=true}else if(event.repeat){event.preventDefault();return}kha_SystemImpl.keyboard.sendDownEvent(event.keyCode)};kha_SystemImpl.keyUp=function(event){event.preventDefault();event.stopPropagation();if(kha_SystemImpl.ie){kha_SystemImpl.pressedKeys[event.keyCode]=false}kha_SystemImpl.keyboard.sendUpEvent(event.keyCode)};kha_SystemImpl.keyPress=function(event){if(event.which==0){return}event.preventDefault();event.stopPropagation();kha_SystemImpl.keyboard.sendPressEvent(String.fromCharCode(event.which))};kha_SystemImpl.getGamepads=function(){if(kha_SystemImpl.chrome&&kha_vr_VrInterface.instance.IsVrEnabled()){return null}if(navigator.getGamepads){return window.navigator.getGamepads()}else{return null}};var kha_Video=function(){};$hxClasses["kha.Video"]=kha_Video;kha_Video.__name__=true;kha_Video.__interfaces__=[kha_Resource];kha_Video.prototype={__class__:kha_Video};var kha_WebGLImage=function(width,height,format,renderTarget,depthStencilFormat,samples){this.depthTexture=null;this.texture=null;this.renderBuffer=null;this.frameBuffer=null;this.myWidth=width;this.myHeight=height;this.format=format;this.renderTarget=renderTarget;this.samples=samples;this.image=null;this.video=null;this.depthStencilFormat=depthStencilFormat;kha_WebGLImage.init();if(renderTarget){this.createTexture()}};$hxClasses["kha.WebGLImage"]=kha_WebGLImage;kha_WebGLImage.__name__=true;kha_WebGLImage.init=function(){if(kha_WebGLImage.context==null){kha_WebGLImage.canvas=window.document.createElement("canvas");if(kha_WebGLImage.canvas!=null){kha_WebGLImage.context=kha_WebGLImage.canvas.getContext("2d");kha_WebGLImage.canvas.width=4096;kha_WebGLImage.canvas.height=4096;kha_WebGLImage.context.globalCompositeOperation="copy"}}};kha_WebGLImage.formatByteSize=function(format){switch(format[1]){case 0:return 4;case 1:return 1;case 2:return 16;case 3:return 2;case 4:return 8;case 5:return 4;case 6:return 2}};kha_WebGLImage.__super__=kha_Image;kha_WebGLImage.prototype=$extend(kha_Image.prototype,{image:null,video:null,myWidth:null,myHeight:null,format:null,renderTarget:null,samples:null,frameBuffer:null,renderBuffer:null,texture:null,depthTexture:null,graphics2:null,graphics4:null,depthStencilFormat:null,get_g2:function(){if(this.graphics2==null){this.graphics2=new kha_js_graphics4_Graphics2(this)}return this.graphics2},get_g4:function(){if(this.graphics4==null){this.graphics4=new kha_js_graphics4_Graphics(this)}return this.graphics4},get_width:function(){return this.myWidth},get_height:function(){return this.myHeight},get_realWidth:function(){return this.myWidth},get_realHeight:function(){return this.myHeight},createTexture:function(){if(kha_SystemImpl.gl==null){return}this.texture=kha_SystemImpl.gl.createTexture();kha_SystemImpl.gl.bindTexture(3553,this.texture);kha_SystemImpl.gl.texParameteri(3553,10240,9729);kha_SystemImpl.gl.texParameteri(3553,10241,9729);kha_SystemImpl.gl.texParameteri(3553,10242,33071);kha_SystemImpl.gl.texParameteri(3553,10243,33071);if(this.renderTarget){this.frameBuffer=kha_SystemImpl.gl.createFramebuffer();kha_SystemImpl.gl.bindFramebuffer(36160,this.frameBuffer);var _g=this.format;switch(_g[1]){case 0:kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_realWidth(),this.get_realHeight(),0,6408,5121,null);break;case 2:kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?34836:6408,this.get_realWidth(),this.get_realHeight(),0,6408,5126,null);break;case 3:kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?33189:6402,this.get_realWidth(),this.get_realHeight(),0,6402,5123,null);break;case 4:kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?34842:6408,this.get_realWidth(),this.get_realHeight(),0,6408,kha_SystemImpl.halfFloat.HALF_FLOAT_OES,null);break;case 5:kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?33326:6406,this.get_realWidth(),this.get_realHeight(),0,kha_SystemImpl.gl2?6403:6406,5126,null);break;case 6:kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?33325:6406,this.get_realWidth(),this.get_realHeight(),0,kha_SystemImpl.gl2?6403:6406,kha_SystemImpl.halfFloat.HALF_FLOAT_OES,null);break;default:kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_realWidth(),this.get_realHeight(),0,6408,5121,null)}if(this.format==kha_graphics4_TextureFormat.DEPTH16){kha_SystemImpl.gl.texParameteri(3553,10240,9728);kha_SystemImpl.gl.texParameteri(3553,10241,9728);kha_SystemImpl.gl.framebufferTexture2D(36160,36096,3553,this.texture,0);if(!kha_SystemImpl.gl2){var colortex=kha_SystemImpl.gl.createTexture();kha_SystemImpl.gl.bindTexture(3553,colortex);kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_realWidth(),this.get_realHeight(),0,6408,5121,null);kha_SystemImpl.gl.framebufferTexture2D(36160,36064,3553,colortex,0);kha_SystemImpl.gl.bindTexture(3553,this.texture)}}else{kha_SystemImpl.gl.framebufferTexture2D(36160,36064,3553,this.texture,0)}this.initDepthStencilBuffer(this.depthStencilFormat);if(kha_SystemImpl.gl.checkFramebufferStatus(36160)!=36053){haxe_Log.trace("WebGL error: Framebuffer incomplete",{fileName:"WebGLImage.hx",lineNumber:227,className:"kha.WebGLImage",methodName:"createTexture"})}kha_SystemImpl.gl.bindRenderbuffer(36161,null);kha_SystemImpl.gl.bindFramebuffer(36160,null)}else if(this.video!=null){kha_SystemImpl.gl.texImage2D(3553,0,6408,6408,5121,this.video)}else{var _g1=this.format;switch(_g1[1]){case 0:if(js_Boot.__instanceof(this.image,Uint8Array)){kha_SystemImpl.gl.texImage2D(3553,0,6408,this.myWidth,this.myHeight,0,6408,5121,this.image)}else{kha_SystemImpl.gl.texImage2D(3553,0,6408,6408,5121,this.image)}break;case 2:kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?34836:6408,this.myWidth,this.myHeight,0,6408,5126,this.image);break;case 4:kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?34842:6408,this.myWidth,this.myHeight,0,6408,kha_SystemImpl.halfFloat.HALF_FLOAT_OES,this.image);break;case 5:kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?33326:6406,this.myWidth,this.myHeight,0,kha_SystemImpl.gl2?6403:6406,5126,this.image);break;case 6:kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?33325:6406,this.myWidth,this.myHeight,0,kha_SystemImpl.gl2?6403:6406,kha_SystemImpl.halfFloat.HALF_FLOAT_OES,this.image);break;default:kha_SystemImpl.gl.texImage2D(3553,0,6408,6408,5121,this.image)}}kha_SystemImpl.gl.bindTexture(3553,null)},initDepthStencilBuffer:function(depthStencilFormat){switch(depthStencilFormat){case 0:break;case 1:case 5:if(kha_SystemImpl.depthTexture==null){this.renderBuffer=kha_SystemImpl.gl.createRenderbuffer();kha_SystemImpl.gl.bindRenderbuffer(36161,this.renderBuffer);kha_SystemImpl.gl.renderbufferStorage(36161,33189,this.get_realWidth(),this.get_realHeight());kha_SystemImpl.gl.framebufferRenderbuffer(36160,36096,36161,this.renderBuffer)}else{this.depthTexture=kha_SystemImpl.gl.createTexture();kha_SystemImpl.gl.bindTexture(3553,this.depthTexture);if(depthStencilFormat==1){kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?33190:6402,this.get_realWidth(),this.get_realHeight(),0,6402,5125,null)}else{kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?33189:6402,this.get_realWidth(),this.get_realHeight(),0,6402,5123,null)}kha_SystemImpl.gl.texParameteri(3553,10240,9728);kha_SystemImpl.gl.texParameteri(3553,10241,9728);kha_SystemImpl.gl.texParameteri(3553,10242,33071);kha_SystemImpl.gl.texParameteri(3553,10243,33071);kha_SystemImpl.gl.bindFramebuffer(36160,this.frameBuffer);kha_SystemImpl.gl.framebufferTexture2D(36160,36096,3553,this.depthTexture,0)}break;case 2:case 3:case 4:if(kha_SystemImpl.depthTexture==null){this.renderBuffer=kha_SystemImpl.gl.createRenderbuffer();kha_SystemImpl.gl.bindRenderbuffer(36161,this.renderBuffer);kha_SystemImpl.gl.renderbufferStorage(36161,34041,this.get_realWidth(),this.get_realHeight());kha_SystemImpl.gl.framebufferRenderbuffer(36160,33306,36161,this.renderBuffer)}else{this.depthTexture=kha_SystemImpl.gl.createTexture();kha_SystemImpl.gl.bindTexture(3553,this.depthTexture);kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?35056:34041,this.get_realWidth(),this.get_realHeight(),0,34041,kha_SystemImpl.depthTexture.UNSIGNED_INT_24_8_WEBGL,null);kha_SystemImpl.gl.texParameteri(3553,10240,9728);kha_SystemImpl.gl.texParameteri(3553,10241,9728);kha_SystemImpl.gl.texParameteri(3553,10242,33071);kha_SystemImpl.gl.texParameteri(3553,10243,33071);kha_SystemImpl.gl.bindFramebuffer(36160,this.frameBuffer);kha_SystemImpl.gl.framebufferTexture2D(36160,33306,3553,this.depthTexture,0)}break}},set:function(stage){kha_SystemImpl.gl.activeTexture(33984+stage);kha_SystemImpl.gl.bindTexture(3553,this.texture);if(this.video!=null){kha_SystemImpl.gl.texImage2D(3553,0,6408,6408,5121,this.video)}},setDepth:function(stage){kha_SystemImpl.gl.activeTexture(33984+stage);kha_SystemImpl.gl.bindTexture(3553,this.depthTexture)},setDepthStencilFrom:function(image){kha_SystemImpl.gl.bindFramebuffer(36160,this.frameBuffer);kha_SystemImpl.gl.framebufferTexture2D(36160,36096,3553,js_Boot.__cast(image,kha_WebGLImage).depthTexture,0)},bytesToArray:function(bytes){var _g=this.format;switch(_g[1]){case 0:case 1:return new Uint8Array(bytes.b.bufferValue);case 2:case 4:case 5:case 6:return new Float32Array(bytes.b.bufferValue);default:return new Uint8Array(bytes.b.bufferValue)}},bytes:null,lock:function(level){if(level==null){level=0}this.bytes=new haxe_io_Bytes(new ArrayBuffer(kha_WebGLImage.formatByteSize(this.format)*this.get_width()*this.get_height()));return this.bytes},unlock:function(){if(kha_SystemImpl.gl!=null){this.texture=kha_SystemImpl.gl.createTexture();kha_SystemImpl.gl.bindTexture(3553,this.texture);kha_SystemImpl.gl.texParameteri(3553,10240,9729);kha_SystemImpl.gl.texParameteri(3553,10241,9729);kha_SystemImpl.gl.texParameteri(3553,10242,33071);kha_SystemImpl.gl.texParameteri(3553,10243,33071);var _g=this.format;switch(_g[1]){case 0:kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_width(),this.get_height(),0,6408,5121,this.bytesToArray(this.bytes));break;case 1:kha_SystemImpl.gl.texImage2D(3553,0,6409,this.get_width(),this.get_height(),0,6409,5121,this.bytesToArray(this.bytes));if(kha_SystemImpl.gl.getError()==1282){var rgbaBytes=new haxe_io_Bytes(new ArrayBuffer(this.get_width()*this.get_height()*4));var _g1=0;var _g2=this.get_height();while(_g1<_g2){var y=_g1++;var _g3=0;var _g21=this.get_width();while(_g3<_g21){var x=_g3++;var _this=this.bytes;var pos=y*this.get_width()+x;var value=_this.b[pos];var pos1=y*this.get_width()*4+x*4;rgbaBytes.b[pos1]=value&255;var pos2=y*this.get_width()*4+x*4+1;rgbaBytes.b[pos2]=value&255;var pos3=y*this.get_width()*4+x*4+2;rgbaBytes.b[pos3]=value&255;var pos4=y*this.get_width()*4+x*4+3;rgbaBytes.b[pos4]=255}}kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_width(),this.get_height(),0,6408,5121,this.bytesToArray(rgbaBytes))}break;case 2:kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?34836:6408,this.get_width(),this.get_height(),0,6408,5126,this.bytesToArray(this.bytes));break;case 4:kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?34842:6408,this.get_width(),this.get_height(),0,6408,kha_SystemImpl.halfFloat.HALF_FLOAT_OES,this.bytesToArray(this.bytes));break;case 5:kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?33326:6406,this.get_width(),this.get_height(),0,kha_SystemImpl.gl2?6403:6406,5126,this.bytesToArray(this.bytes));break;case 6:kha_SystemImpl.gl.texImage2D(3553,0,kha_SystemImpl.gl2?33325:6406,this.get_width(),this.get_height(),0,kha_SystemImpl.gl2?6403:6406,kha_SystemImpl.halfFloat.HALF_FLOAT_OES,this.bytesToArray(this.bytes));break;default:kha_SystemImpl.gl.texImage2D(3553,0,6408,this.get_width(),this.get_height(),0,6408,5121,this.bytesToArray(this.bytes))}kha_SystemImpl.gl.bindTexture(3553,null);this.bytes=null}},unload:function(){if(this.texture!=null){kha_SystemImpl.gl.deleteTexture(this.texture)}if(this.depthTexture!=null){kha_SystemImpl.gl.deleteTexture(this.depthTexture)}if(this.frameBuffer!=null){kha_SystemImpl.gl.deleteFramebuffer(this.frameBuffer)}if(this.renderBuffer!=null){kha_SystemImpl.gl.deleteRenderbuffer(this.renderBuffer)}},generateMipmaps:function(levels){kha_SystemImpl.gl.bindTexture(3553,this.texture);kha_SystemImpl.gl.generateMipmap(3553)},setMipmaps:function(mipmaps){kha_SystemImpl.gl.bindTexture(3553,this.texture);if(this.format==kha_graphics4_TextureFormat.RGBA128){var _g1=0;var _g=mipmaps.length;while(_g1<_g){var i=_g1++;kha_SystemImpl.gl.texImage2D(3553,i+1,kha_SystemImpl.gl2?34836:6408,mipmaps[i].get_width(),mipmaps[i].get_height(),0,6408,5126,js_Boot.__cast(mipmaps[i],kha_WebGLImage).image)}}else if(this.format==kha_graphics4_TextureFormat.RGBA64){var _g11=0;var _g2=mipmaps.length;while(_g11<_g2){var i1=_g11++;kha_SystemImpl.gl.texImage2D(3553,i1+1,kha_SystemImpl.gl2?34842:6408,mipmaps[i1].get_width(),mipmaps[i1].get_height(),0,6408,kha_SystemImpl.halfFloat.HALF_FLOAT_OES,js_Boot.__cast(mipmaps[i1],kha_WebGLImage).image)}}else{var _g12=0;var _g3=mipmaps.length;while(_g12<_g3){var i2=_g12++;kha_SystemImpl.gl.texImage2D(3553,i2+1,6408,6408,5121,js_Boot.__cast(mipmaps[i2],kha_WebGLImage).image)}}},__class__:kha_WebGLImage});var kha_WindowMode=$hxClasses["kha.WindowMode"]={__ename__:true,__constructs__:["Window","BorderlessWindow","Fullscreen"]};kha_WindowMode.Window=["Window",0];kha_WindowMode.Window.toString=$estr;kha_WindowMode.Window.__enum__=kha_WindowMode;kha_WindowMode.BorderlessWindow=["BorderlessWindow",1];kha_WindowMode.BorderlessWindow.toString=$estr;kha_WindowMode.BorderlessWindow.__enum__=kha_WindowMode;kha_WindowMode.Fullscreen=["Fullscreen",2];kha_WindowMode.Fullscreen.toString=$estr;kha_WindowMode.Fullscreen.__enum__=kha_WindowMode;var kha_audio1_AudioChannel=function(){};$hxClasses["kha.audio1.AudioChannel"]=kha_audio1_AudioChannel;kha_audio1_AudioChannel.__name__=true;kha_audio1_AudioChannel.prototype={play:null,set_volume:null,get_finished:null,__class__:kha_audio1_AudioChannel,__properties__:{get_finished:"get_finished",set_volume:"set_volume"}};var kha_audio2_Audio=function(){};$hxClasses["kha.audio2.Audio"]=kha_audio2_Audio;kha_audio2_Audio.__name__=true;kha_audio2_Audio.initContext=function(){try{kha_audio2_Audio._context=new AudioContext;return}catch(e){}try{this._context=new webkitAudioContext;return}catch(e1){}};kha_audio2_Audio._init=function(){kha_audio2_Audio.initContext();if(kha_audio2_Audio._context==null){return false}var bufferSize=2048;kha_audio2_Audio.buffer=new kha_audio2_Buffer(bufferSize*4,2,kha_audio2_Audio._context.sampleRate|0);kha_audio2_Audio.processingNode=kha_audio2_Audio._context.createScriptProcessor(bufferSize,0,2);kha_audio2_Audio.processingNode.onaudioprocess=function(e){var output1=e.outputBuffer.getChannelData(0);var output2=e.outputBuffer.getChannelData(1);if(kha_audio2_Audio.audioCallback!=null){kha_audio2_Audio.audioCallback(e.outputBuffer.length*2,kha_audio2_Audio.buffer);var _g1=0;var _g=e.outputBuffer.length;while(_g1<_g){var i=_g1++;output1[i]=kha_audio2_Audio.buffer.data[kha_audio2_Audio.buffer.readLocation];kha_audio2_Audio.buffer.readLocation+=1;output2[i]=kha_audio2_Audio.buffer.data[kha_audio2_Audio.buffer.readLocation];kha_audio2_Audio.buffer.readLocation+=1;if(kha_audio2_Audio.buffer.readLocation>=kha_audio2_Audio.buffer.size){kha_audio2_Audio.buffer.readLocation=0}}}else{var _g11=0;var _g2=e.outputBuffer.length;while(_g11<_g2){var i1=_g11++;output1[i1]=0;output2[i1]=0}}};kha_audio2_Audio.processingNode.connect(kha_audio2_Audio._context.destination);return true};kha_audio2_Audio.stream=function(sound,loop){if(loop==null){loop=false}var element=window.document.createElement("audio");var blob=new Blob([sound.compressedData.b.bufferValue],{type:"audio/mp4"});element.src=URL.createObjectURL(blob);element.loop=loop;var channel=new kha_js_AEAudioChannel(element);channel.play();return channel};var kha_audio2_Audio1=function(){};$hxClasses["kha.audio2.Audio1"]=kha_audio2_Audio1;kha_audio2_Audio1.__name__=true;kha_audio2_Audio1._init=function(){var this1=new Array(16);kha_audio2_Audio1.soundChannels=this1;var this2=new Array(16);kha_audio2_Audio1.streamChannels=this2;var this3=new Array(16);kha_audio2_Audio1.internalSoundChannels=this3;var this4=new Array(16);kha_audio2_Audio1.internalStreamChannels=this4;var this5=new Float32Array(512);kha_audio2_Audio1.sampleCache1=this5;var this6=new Float32Array(512);kha_audio2_Audio1.sampleCache2=this6;kha_audio2_Audio.audioCallback=kha_audio2_Audio1.mix};kha_audio2_Audio1.mix=function(samples,buffer){if(kha_audio2_Audio1.sampleCache1.length<samples){var this1=new Float32Array(samples);kha_audio2_Audio1.sampleCache1=this1;var this2=new Float32Array(samples);kha_audio2_Audio1.sampleCache2=this2}var _g1=0;var _g=samples;while(_g1<_g){var i=_g1++;kha_audio2_Audio1.sampleCache2[i]=0}var _g2=0;while(_g2<16){var i1=_g2++;kha_audio2_Audio1.internalSoundChannels[i1]=kha_audio2_Audio1.soundChannels[i1]}var _g3=0;while(_g3<16){var i2=_g3++;kha_audio2_Audio1.internalStreamChannels[i2]=kha_audio2_Audio1.streamChannels[i2]}var _g4=0;var _g11=kha_audio2_Audio1.internalSoundChannels;while(_g4<_g11.length){var channel=_g11[_g4];++_g4;if(channel==null||channel.get_finished()){continue}channel.nextSamples(kha_audio2_Audio1.sampleCache1,samples,buffer.samplesPerSecond);var _g31=0;var _g21=samples;while(_g31<_g21){var i3=_g31++;var _g41=i3;var _g5=kha_audio2_Audio1.sampleCache2;_g5[_g41]+=kha_audio2_Audio1.sampleCache1[i3]*channel.get_volume()}}var _g6=0;var _g12=kha_audio2_Audio1.internalStreamChannels;while(_g6<_g12.length){var channel1=_g12[_g6];++_g6;if(channel1==null||channel1.get_finished()){continue}channel1.nextSamples(kha_audio2_Audio1.sampleCache1,samples,buffer.samplesPerSecond);var _g32=0;var _g22=samples;while(_g32<_g22){var i4=_g32++;var _g42=i4;var _g51=kha_audio2_Audio1.sampleCache2;_g51[_g42]+=kha_audio2_Audio1.sampleCache1[i4]*channel1.get_volume()}}var _g13=0;var _g7=samples;while(_g13<_g7){var i5=_g13++;var a=kha_audio2_Audio1.sampleCache2[i5];var a1=a<1?a:1;buffer.data[buffer.writeLocation]=a1>-1?a1:-1;buffer.writeLocation+=1;if(buffer.writeLocation>=buffer.size){buffer.writeLocation=0}}};kha_audio2_Audio1.play=function(sound,loop){if(loop==null){loop=false}var channel=null;var _g=0;while(_g<16){var i=_g++;if(kha_audio2_Audio1.soundChannels[i]==null||kha_audio2_Audio1.soundChannels[i].get_finished()){channel=new kha_audio2_AudioChannel(loop);channel.data=sound.uncompressedData;kha_audio2_Audio1.soundChannels[i]=channel;break}}return channel};kha_audio2_Audio1._playAgain=function(channel){var _g=0;while(_g<16){var i=_g++;if(kha_audio2_Audio1.soundChannels[i]==null||kha_audio2_Audio1.soundChannels[i].get_finished()||kha_audio2_Audio1.soundChannels[i]==channel){kha_audio2_Audio1.soundChannels[i]=channel;break}}};kha_audio2_Audio1.stream=function(sound,loop){if(loop==null){loop=false}var hardwareChannel=kha_audio2_Audio.stream(sound,loop);if(hardwareChannel!=null){return hardwareChannel}var channel=null;var _g=0;while(_g<16){var i=_g++;if(kha_audio2_Audio1.streamChannels[i]==null||kha_audio2_Audio1.streamChannels[i].get_finished()){channel=new kha_audio2_StreamChannel(sound.compressedData,loop);kha_audio2_Audio1.streamChannels[i]=channel;break}}return channel};var kha_audio2_AudioChannel=function(looping){this.paused=false;this.looping=looping;this.myVolume=1;this.myPosition=0};$hxClasses["kha.audio2.AudioChannel"]=kha_audio2_AudioChannel;kha_audio2_AudioChannel.__name__=true;kha_audio2_AudioChannel.__interfaces__=[kha_audio1_AudioChannel];kha_audio2_AudioChannel.prototype={data:null,myVolume:null,myPosition:null,paused:null,looping:null,nextSamples:function(samples,length,sampleRate){if(this.paused){var _g1=0;var _g=length;while(_g1<_g){var i=_g1++;samples[i]=0}return}var w_ptr=0;var chk_ptr=0;while(w_ptr<length){var addressable_data=this.data.length-this.myPosition;var next_chunk=addressable_data<length-w_ptr?addressable_data:length-w_ptr;while(chk_ptr<next_chunk){samples[w_ptr]=this.data[this.myPosition];++this.myPosition;++chk_ptr;++w_ptr}if(!this.looping){break}else{chk_ptr=0;if(this.myPosition>=this.data.length){this.myPosition=0}}}while(w_ptr<length){samples[w_ptr]=0;++w_ptr}},play:function(){this.paused=false;if(this.get_finished()){this.myPosition=0;kha_audio2_Audio1._playAgain(this)}},get_volume:function(){return this.myVolume},set_volume:function(value){return this.myVolume=value},get_finished:function(){return this.myPosition>=this.data.length},__class__:kha_audio2_AudioChannel,__properties__:{get_finished:"get_finished",set_volume:"set_volume",get_volume:"get_volume"}};var kha_audio2_Buffer=function(size,channels,samplesPerSecond){this.size=size;var this1=new Float32Array(size);this.data=this1;this.channels=channels;this.samplesPerSecond=samplesPerSecond;this.readLocation=0;this.writeLocation=0};$hxClasses["kha.audio2.Buffer"]=kha_audio2_Buffer;kha_audio2_Buffer.__name__=true;kha_audio2_Buffer.prototype={channels:null,samplesPerSecond:null,data:null,size:null,readLocation:null,writeLocation:null,__class__:kha_audio2_Buffer};var kha_audio2_StreamChannel=function(data,loop){this.paused=false;this.atend=false;this.myVolume=1;this.loop=loop;this.reader=kha_audio2_ogg_vorbis_Reader.openFromBytes(data)};$hxClasses["kha.audio2.StreamChannel"]=kha_audio2_StreamChannel;kha_audio2_StreamChannel.__name__=true;kha_audio2_StreamChannel.__interfaces__=[kha_audio1_AudioChannel];kha_audio2_StreamChannel.prototype={reader:null,atend:null,loop:null,myVolume:null,paused:null,nextSamples:function(samples,length,sampleRate){if(this.paused){var _g1=0;var _g=length;while(_g1<_g){var i=_g1++;samples[i]=0}return}var count=this.reader.read(samples,length/2|0,2,sampleRate,true)*2;if(count<length){if(this.loop){this.reader.set_currentMillisecond(0)}else{this.atend=true}var _g11=count;var _g2=length;while(_g11<_g2){var i1=_g11++;samples[i1]=0}}},play:function(){this.paused=false},get_volume:function(){return this.myVolume},set_volume:function(value){return this.myVolume=value},get_finished:function(){return this.atend},__class__:kha_audio2_StreamChannel,__properties__:{get_finished:"get_finished",set_volume:"set_volume",get_volume:"get_volume"}};var kha_audio2_ogg_tools_Crc32=function(){};$hxClasses["kha.audio2.ogg.tools.Crc32"]=kha_audio2_ogg_tools_Crc32;kha_audio2_ogg_tools_Crc32.__name__=true;kha_audio2_ogg_tools_Crc32.init=function(){if(kha_audio2_ogg_tools_Crc32.table!=null){return}var this1=new Array(256);kha_audio2_ogg_tools_Crc32.table=this1;var _g=0;while(_g<256){var i=_g++;var s=i<<24;var _g1=0;while(_g1<8){var j=_g1++;s=s<<1^(_$UInt_UInt_$Impl_$.gte(s,1<<31)?79764919:0)}kha_audio2_ogg_tools_Crc32.table[i]=s}};var kha_audio2_ogg_vorbis_Reader=function(input,seekFunc,inputLength){this.seekFunc=seekFunc;this.inputLength=inputLength;this.decoder=kha_audio2_ogg_vorbis_VorbisDecoder.start(input);this.decoder.setupSampleNumber(seekFunc,inputLength);this.loopStart=this.get_header().comment.get_loopStart();this.loopLength=this.get_header().comment.get_loopLength()};$hxClasses["kha.audio2.ogg.vorbis.Reader"]=kha_audio2_ogg_vorbis_Reader;kha_audio2_ogg_vorbis_Reader.__name__=true;kha_audio2_ogg_vorbis_Reader.openFromBytes=function(bytes){var input=new haxe_io_BytesInput(bytes);var a1=input;return new kha_audio2_ogg_vorbis_Reader(input,function(a2){kha_audio2_ogg_vorbis_Reader.seekBytes(a1,a2)},bytes.length)};kha_audio2_ogg_vorbis_Reader.seekBytes=function(bytes,pos){bytes.set_position(pos)};kha_audio2_ogg_vorbis_Reader.readAll=function(bytes,output,useFloat){if(useFloat==null){useFloat=false}var input=new haxe_io_BytesInput(bytes);var decoder=kha_audio2_ogg_vorbis_VorbisDecoder.start(input);var a1=input;decoder.setupSampleNumber(function(a2){kha_audio2_ogg_vorbis_Reader.seekBytes(a1,a2)},bytes.length);var header=decoder.header;var count=0;var bufferSize=4096;var this1=new Float32Array(bufferSize*header.channel);var buffer=this1;while(true){var n=decoder.read(buffer,bufferSize,header.channel,header.sampleRate,useFloat);var _g1=0;var _g=n*header.channel;while(_g1<_g){var i=_g1++;output.writeFloat(buffer[i])}if(n==0){break}count+=n}return decoder.header};kha_audio2_ogg_vorbis_Reader.prototype={decoder:null,get_header:function(){return this.decoder.header},get_currentSample:function(){return this.decoder.currentSample},set_currentSample:function(value){this.decoder.seek(this.seekFunc,this.inputLength,value);return this.decoder.currentSample},get_currentMillisecond:function(){var samples=this.get_currentSample();var b=this.get_header().sampleRate;return _$UInt_UInt_$Impl_$.toFloat(samples)/_$UInt_UInt_$Impl_$.toFloat(b)*1e3},set_currentMillisecond:function(value){var _g=value/1e3;var _g1=this.get_header().sampleRate;this.set_currentSample(Math.floor(_$UInt_UInt_$Impl_$.toFloat(_g1)*_g));return this.get_currentMillisecond()},loopStart:null,loopLength:null,seekFunc:null,inputLength:null,read:function(output,samples,channels,sampleRate,useFloat){if(useFloat==null){useFloat=false}this.decoder.ensurePosition(this.seekFunc);if(samples==null){samples=this.decoder.totalSample}if(channels==null){channels=this.get_header().channel}if(sampleRate==null){sampleRate=this.get_header().sampleRate}return this.decoder.read(output,samples,channels,sampleRate,useFloat)},__class__:kha_audio2_ogg_vorbis_Reader,__properties__:{set_currentMillisecond:"set_currentMillisecond",get_currentMillisecond:"get_currentMillisecond",set_currentSample:"set_currentSample",get_currentSample:"get_currentSample",get_header:"get_header"}};var kha_audio2_ogg_vorbis_VorbisDecodeState=function(input){this.nextSeg=0;this.firstDecode=false;this.bytesInSeg=0;this.validBits=0;this.input=input;this.inputPosition=0;this.page=new kha_audio2_ogg_vorbis_data_Page;kha_audio2_ogg_tools_Crc32.init()};$hxClasses["kha.audio2.ogg.vorbis.VorbisDecodeState"]=kha_audio2_ogg_vorbis_VorbisDecodeState;kha_audio2_ogg_vorbis_VorbisDecodeState.__name__=true;kha_audio2_ogg_vorbis_VorbisDecodeState.prototype={page:null,eof:null,pFirst:null,pLast:null,validBits:null,inputPosition:null,input:null,discardSamplesDeferred:null,segments:null,bytesInSeg:null,firstDecode:null,nextSeg:null,acc:null,lastSeg:null,lastSegWhich:null,endSegWithKnownLoc:null,knownLocForPacket:null,error:null,currentLoc:null,currentLocValid:null,firstAudioPageOffset:null,setup:function(loc0,loc1){this.inputPosition+=1;var segmentCount=this.input.readByte();this.inputPosition+=segmentCount;var this1=new Array(segmentCount);var vec=this1;var _g1=0;var _g=segmentCount;while(_g1<_g){var i=_g1++;vec[i]=this.input.readByte()}this.segments=vec;this.endSegWithKnownLoc=-2;if(loc0!=-1||loc1!=-1){var i1=segmentCount-1;while(i1>=0){if(this.segments[i1]<255){break}if(i1>=0){this.endSegWithKnownLoc=i1;this.knownLocForPacket=loc0}--i1}}if(this.firstDecode){var i2=0;var len=0;var p=new kha_audio2_ogg_vorbis_data_ProbedPage;var _g11=0;var _g2=segmentCount;while(_g11<_g2){var i3=_g11++;len+=this.segments[i3]}len+=27+segmentCount;p.pageStart=this.firstAudioPageOffset;p.pageEnd=p.pageStart+len;p.firstDecodedSample=0;p.lastDecodedSample=loc0;this.pFirst=p}this.nextSeg=0},clone:function(seekFunc){var state=Type.createEmptyInstance(kha_audio2_ogg_vorbis_VorbisDecodeState);seekFunc(this.inputPosition);state.input=this.input;state.eof=this.eof;state.validBits=this.validBits;state.discardSamplesDeferred=this.discardSamplesDeferred;state.firstDecode=this.firstDecode;state.nextSeg=this.nextSeg;state.bytesInSeg=this.bytesInSeg;state.acc=state.acc;state.lastSeg=this.lastSeg;state.lastSegWhich=this.lastSegWhich;state.currentLoc=this.currentLoc;state.currentLocValid=this.currentLocValid;state.inputPosition=this.inputPosition;state.firstAudioPageOffset=this.firstAudioPageOffset;state.error=this.error;state.segments=this.segments;state.pFirst=this.pFirst;state.pLast=this.pLast;state.page=this.page.clone();return state},next:function(){if(this.lastSeg){return 0}if(this.nextSeg==-1){this.lastSegWhich=this.segments.length-1;try{this.page.start(this)}catch(e){if(e instanceof js__$Boot_HaxeError)e=e.val;if(js_Boot.__instanceof(e,kha_audio2_ogg_vorbis_data_ReaderError)){this.lastSeg=true;this.error=e;return 0}else throw e}if((this.page.flag&1)==0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.CONTINUED_PACKET_FLAG_INVALID,null,{fileName:"VorbisDecodeState.hx",lineNumber:171,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"next"}))}}var len=this.segments[this.nextSeg++];if(len<255){this.lastSeg=true;this.lastSegWhich=this.nextSeg-1}if(this.nextSeg>=this.segments.length){this.nextSeg=-1}var b=this.bytesInSeg==0;this.bytesInSeg=len;return len},startPacket:function(){while(this.nextSeg==-1){this.page.start(this);if((this.page.flag&1)!=0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN,null,{fileName:"VorbisDecodeState.hx",lineNumber:193,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"startPacket"}))}}this.lastSeg=false;this.validBits=0;this.bytesInSeg=0},maybeStartPacket:function(){if(this.nextSeg==-1){var eof=false;var x;try{this.inputPosition+=1;x=this.input.readByte()}catch(e){if(e instanceof js__$Boot_HaxeError)e=e.val;if(js_Boot.__instanceof(e,haxe_io_Eof)){eof=true;x=0}else throw e}if(eof){return false}var tmp;var tmp1;var tmp2;if(x==79){this.inputPosition+=1;tmp2=this.input.readByte()!=103}else{tmp2=true}if(!tmp2){this.inputPosition+=1;tmp1=this.input.readByte()!=103}else{tmp1=true}if(!tmp1){this.inputPosition+=1;tmp=this.input.readByte()!=83}else{tmp=true}if(tmp){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN,null,{fileName:"VorbisDecodeState.hx",lineNumber:218,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"maybeStartPacket"}))}this.page.startWithoutCapturePattern(this)}this.startPacket();return true},readBits:function(n){if(this.validBits<0){return 0}else if(this.validBits<n){if(n>24){return this.readBits(24)+(this.readBits(n-24)<<24)}else{if(this.validBits==0){this.acc=0}while(true){if(this.bytesInSeg==0&&(this.lastSeg||this.next()==0)){this.validBits=-1;break}else{this.bytesInSeg--;this.inputPosition+=1;this.acc=this.acc+(this.input.readByte()<<this.validBits);this.validBits+=8}if(!(this.validBits<n)){break}}if(this.validBits<0){return 0}else{var z=this.acc&(1<<n)-1;this.acc=this.acc>>>n;this.validBits-=n;return z}}}else{var z1=this.acc&(1<<n)-1;this.acc=this.acc>>>n;this.validBits-=n;return z1}},firstPageValidate:function(){if(this.segments.length!=1){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"segmentCount",{fileName:"VorbisDecodeState.hx",lineNumber:307,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"firstPageValidate"}))}if(this.segments[0]!=30){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"decodeState head",{fileName:"VorbisDecodeState.hx",lineNumber:310,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"firstPageValidate"}))}},startFirstDecode:function(){this.firstAudioPageOffset=this.inputPosition;this.firstDecode=true},prepHuffman:function(){if(this.validBits<=24){if(this.validBits==0){this.acc=0}while(true){if(this.bytesInSeg==0&&(this.lastSeg||this.next()==0)){return}else{this.bytesInSeg--;this.inputPosition+=1;this.acc=this.acc+(this.input.readByte()<<this.validBits);this.validBits+=8}if(!(this.validBits<=24)){break}}}},finishDecodePacket:function(previousLength,n,r){var left=r.left.start;var currentLocValid=false;var n2=n>>1;if(this.firstDecode){this.currentLoc=-n2;this.discardSamplesDeferred=n-r.right.end;currentLocValid=true;this.firstDecode=false}else if(this.discardSamplesDeferred!=0){r.left.start+=this.discardSamplesDeferred;left=r.left.start;this.discardSamplesDeferred=0}else{var tmp=previousLength==0&&currentLocValid}if(this.lastSegWhich==this.endSegWithKnownLoc){if(currentLocValid&&(this.page.flag&4)!=0){var currentEnd=this.knownLocForPacket-(n-r.right.end);if(currentEnd<this.currentLoc+r.right.end){var len=currentEnd<this.currentLoc?0:currentEnd-this.currentLoc;len+=r.left.start;this.currentLoc+=len;return{len:len,left:left,right:r.right.start}}}this.currentLoc=this.knownLocForPacket-(n2-r.left.start);currentLocValid=true}if(currentLocValid){this.currentLoc+=r.right.start-r.left.start}return{len:r.right.end,left:left,right:r.right.start}},getSampleNumber:function(seekFunc,inputLength){var restoreOffset=this.inputPosition;var previousSafe=_$UInt_UInt_$Impl_$.gte(inputLength,65536)&&_$UInt_UInt_$Impl_$.gte(inputLength-65536,this.firstAudioPageOffset)?inputLength-65536:this.firstAudioPageOffset;seekFunc(this.inputPosition=previousSafe);var end=0;var last=false;var _g=this.findPage(seekFunc,inputLength);switch(_g[1]){case 0:var l=_g[3];var e=_g[2];end=e;last=l;break;case 1:throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE,null,{fileName:"VorbisDecodeState.hx",lineNumber:518,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"getSampleNumber"}));break}var lastPageLoc=this.inputPosition;try{while(!last){seekFunc(this.inputPosition=end);var _g1=this.findPage(seekFunc,inputLength);switch(_g1[1]){case 0:var l1=_g1[3];var e1=_g1[2];end=e1;last=l1;break;case 1:throw"__break__";break}previousSafe=lastPageLoc+1;lastPageLoc=this.inputPosition}}catch(e){if(e!="__break__")throw e}seekFunc(this.inputPosition=lastPageLoc);this.inputPosition+=6;var this1=new Array(6);var vec=this1;var _g11=0;var _g2=6;while(_g11<_g2){var i=_g11++;vec[i]=this.input.readByte()}var vorbisHeader=vec;this.inputPosition+=4;var lo=this.input.readInt32();this.inputPosition+=4;var hi=this.input.readInt32();if(lo==-1&&hi==-1||hi>0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE,null,{fileName:"VorbisDecodeState.hx",lineNumber:552,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"getSampleNumber"}))}this.pLast=new kha_audio2_ogg_vorbis_data_ProbedPage;this.pLast.pageStart=lastPageLoc;this.pLast.pageEnd=end;this.pLast.lastDecodedSample=lo;this.pLast.firstDecodedSample=null;this.pLast.afterPreviousPageStart=previousSafe;seekFunc(this.inputPosition=restoreOffset);return lo},findPage:function(seekFunc,inputLength){try{while(true){this.inputPosition+=1;var n=this.input.readByte();if(n==79){var retryLoc=this.inputPosition;if(retryLoc-25>inputLength){return kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound}var tmp;var tmp1;this.inputPosition+=1;if(this.input.readByte()==103){this.inputPosition+=1;tmp1=this.input.readByte()!=103}else{tmp1=true}if(!tmp1){this.inputPosition+=1;tmp=this.input.readByte()!=83}else{tmp=true}if(tmp){continue}var this1=new Array(27);var header=this1;header[0]=79;header[1]=103;header[2]=103;header[3]=83;var _g=4;while(_g<27){var i=_g++;this.inputPosition+=1;header[i]=this.input.readByte()}if(header[4]!=0){seekFunc(this.inputPosition=retryLoc);continue}var goal=header[22]+(header[23]<<8)+(header[24]<<16)+(header[25]<<24);var _g1=22;while(_g1<26){var i1=_g1++;header[i1]=0}var crc=0;var _g2=0;while(_g2<27){var i2=_g2++;crc=crc<<8^kha_audio2_ogg_tools_Crc32.table[header[i2]^crc>>>24]}var len=0;try{var _g11=0;var _g3=header[26];while(_g11<_g3){var i3=_g11++;this.inputPosition+=1;var s=this.input.readByte();crc=crc<<8^kha_audio2_ogg_tools_Crc32.table[s^crc>>>24];len+=s}var _g12=0;var _g4=len;while(_g12<_g4){var i4=_g12++;this.inputPosition+=1;var $byte=this.input.readByte();crc=crc<<8^kha_audio2_ogg_tools_Crc32.table[$byte^crc>>>24]}}catch(e){if(e instanceof js__$Boot_HaxeError)e=e.val;if(js_Boot.__instanceof(e,haxe_io_Eof)){return kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound}else throw e}if(crc==goal){var end=this.inputPosition;seekFunc(this.inputPosition=retryLoc-1);return kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.Found(end,(header[5]&4)!=0)}}}}catch(e1){if(e1 instanceof js__$Boot_HaxeError)e1=e1.val;if(js_Boot.__instanceof(e1,haxe_io_Eof)){return kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound}else throw e1}},analyzePage:function(seekFunc,h){var z=new kha_audio2_ogg_vorbis_data_ProbedPage;var this1=new Array(255);var packetType=this1;z.pageStart=this.inputPosition;this.inputPosition+=27;var this2=new Array(27);var vec=this2;var _g1=0;var _g=27;while(_g1<_g){var i=_g1++;vec[i]=this.input.readByte()}var pageHeader=vec;var n=pageHeader[26];this.inputPosition+=n;var this3=new Array(n);var vec1=this3;var _g11=0;var _g2=n;while(_g11<_g2){var i1=_g11++;vec1[i1]=this.input.readByte()}var lacing=vec1;var len=0;var _g12=0;var _g3=pageHeader[26];while(_g12<_g3){var i2=_g12++;len+=lacing[i2]}z.pageEnd=z.pageStart+27+pageHeader[26]+len;z.lastDecodedSample=pageHeader[6]+(pageHeader[7]<<8)+(pageHeader[8]<<16)+(pageHeader[9]<<16);if((pageHeader[5]&4)!=0){z.firstDecodedSample=null;seekFunc(this.inputPosition=z.pageStart);return z}var numPacket=0;var packetStart=(pageHeader[5]&1)==0;var modeCount=h.modes.length;var _g13=0;var _g4=pageHeader[26];while(_g13<_g4){var i3=_g13++;if(packetStart){if(lacing[i3]==0){seekFunc(this.inputPosition=z.pageStart);return null}this.inputPosition+=1;var n1=this.input.readByte();if((n1&1)!=0){seekFunc(this.inputPosition=z.pageStart);return null}n1>>=1;var n2=modeCount-1;var log2_4=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];var b=n2<16384?n2<16?log2_4[n2]:n2<512?5+log2_4[n2>>5]:10+log2_4[n2>>10]:n2<16777216?n2<524288?15+log2_4[n2>>15]:20+log2_4[n2>>20]:n2<536870912?25+log2_4[n2>>25]:n2<-2147483648?30+log2_4[n2>>30]:0;n1&=(1<<b)-1;if(n1>=modeCount){seekFunc(this.inputPosition=z.pageStart);return null}packetType[numPacket++]=h.modes[n1].blockflag;var len1=lacing[i3]-1;this.inputPosition+=len1;var this4=new Array(len1);var vec2=this4;var _g14=0;var _g5=len1;while(_g14<_g5){var i4=_g14++;vec2[i4]=this.input.readByte()}}else{var len2=lacing[i3];this.inputPosition+=len2;var this5=new Array(len2);var vec3=this5;var _g15=0;var _g6=len2;while(_g15<_g6){var i5=_g15++;vec3[i5]=this.input.readByte()}}packetStart=lacing[i3]<255}var samples=0;if(numPacket>1){samples+=packetType[numPacket-1]?h.blocksize1:h.blocksize0}var i6=numPacket-2;while(i6>=1){--i6;if(packetType[i6]){if(packetType[i6+1]){samples+=h.blocksize1>>1}else{samples+=(h.blocksize1-h.blocksize0>>2)+(h.blocksize0>>1)}}else{samples+=h.blocksize0>>1}--i6}z.firstDecodedSample=z.lastDecodedSample-samples;seekFunc(this.inputPosition=z.pageStart);return z},decodeScalarRaw:function(c){this.prepHuffman();var b=c.sortedCodewords!=null||c.codewords!=null;var codewordLengths=c.codewordLengths;var codewords=c.codewords;var sortedCodewords=c.sortedCodewords;if(c.entries>8?sortedCodewords!=null:codewords!=null){var n=this.acc;n=(n&-1431655766)>>>1|(n&1431655765)<<1;n=(n&-858993460)>>>2|(n&858993459)<<2;n=(n&-252645136)>>>4|(n&252645135)<<4;n=(n&-16711936)>>>8|(n&16711935)<<8;var code=n>>>16|n<<16;var x=0;var n1=c.sortedEntries;while(n1>1){var m=x+(n1>>1);if(_$UInt_UInt_$Impl_$.gte(code,sortedCodewords[m])){x=m;n1-=n1>>1}else{n1>>=1}}if(!c.sparse){x=c.sortedValues[x]}var len=codewordLengths[x];if(this.validBits>=len){this.acc=this.acc>>>len;this.validBits-=len;return x}this.validBits=0;return-1}var b1=!c.sparse;var _g1=0;var _g=c.entries;while(_g1<_g){var i=_g1++;var cl=codewordLengths[i];if(cl==255){continue}if(codewords[i]==(this.acc&(1<<cl)-1)){if(this.validBits>=cl){this.acc=this.acc>>>cl;this.validBits-=cl;return i}this.validBits=0;return-1}}this.error=new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM,null,{fileName:"VorbisDecodeState.hx",lineNumber:846,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"decodeScalarRaw"});this.validBits=0;return-1},__class__:kha_audio2_ogg_vorbis_VorbisDecodeState};var kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult=$hxClasses["kha.audio2.ogg.vorbis._VorbisDecodeState.FindPageResult"]={__ename__:true,__constructs__:["Found","NotFound"]};kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.Found=function(end,last){var $x=["Found",0,end,last];$x.__enum__=kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult;$x.toString=$estr;return $x};kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound=["NotFound",1];kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound.toString=$estr;kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult.NotFound.__enum__=kha_audio2_ogg_vorbis__$VorbisDecodeState_FindPageResult;var kha_audio2_ogg_vorbis_VorbisDecoder=function(header,decodeState){this.header=header;this.decodeState=decodeState;this.totalSample=null;this.currentSample=0;this.previousLength=0;var length=header.channel;var this1=new Array(length);this.channelBuffers=this1;var length1=header.channel;var this2=new Array(length1);this.previousWindow=this2;var length2=header.channel;var this3=new Array(length2);this.finalY=this3;var _g1=0;var _g=header.channel;while(_g1<_g){var i=_g1++;var this4=this.channelBuffers;var len=header.blocksize1;var this5=new Array(len);var vec=this5;this4[i]=vec;var this6=this.previousWindow;var len1=header.blocksize1/2|0;var this7=new Array(len1);var vec1=this7;this6[i]=vec1;this.finalY[i]=[]}var this8=new Array(2);this.a=this8;var this9=new Array(2);this.b=this9;var this10=new Array(2);this.c=this10;var this11=new Array(2);this.window=this11;var this12=new Array(2);this.bitReverseData=this12;this.initBlocksize(0,header.blocksize0);this.initBlocksize(1,header.blocksize1)};$hxClasses["kha.audio2.ogg.vorbis.VorbisDecoder"]=kha_audio2_ogg_vorbis_VorbisDecoder;kha_audio2_ogg_vorbis_VorbisDecoder.__name__=true;kha_audio2_ogg_vorbis_VorbisDecoder.start=function(input){var decodeState=new kha_audio2_ogg_vorbis_VorbisDecodeState(input);var header=kha_audio2_ogg_vorbis_data_Header.read(decodeState);var decoder=new kha_audio2_ogg_vorbis_VorbisDecoder(header,decodeState);decodeState.startFirstDecode();decoder.pumpFirstFrame();return decoder};kha_audio2_ogg_vorbis_VorbisDecoder.prototype={previousWindow:null,previousLength:null,finalY:null,a:null,b:null,c:null,window:null,bitReverseData:null,channelBuffers:null,channelBufferStart:null,channelBufferEnd:null,header:null,currentSample:null,totalSample:null,decodeState:null,read:function(output,samples,channels,sampleRate,useFloat){var b=this.header.sampleRate;if((_$UInt_UInt_$Impl_$.toFloat(sampleRate)%_$UInt_UInt_$Impl_$.toFloat(b)|0)!=0){throw new js__$Boot_HaxeError("Unsupported sampleRate : can't convert "+Std.string(_$UInt_UInt_$Impl_$.toFloat(this.header.sampleRate))+" to "+sampleRate)}if(channels%this.header.channel!=0){throw new js__$Boot_HaxeError("Unsupported channels : can't convert "+this.header.channel+" to "+channels)}var b1=this.header.sampleRate;var sampleRepeat=_$UInt_UInt_$Impl_$.toFloat(sampleRate)/_$UInt_UInt_$Impl_$.toFloat(b1)|0;var channelRepeat=channels/this.header.channel|0;var n=0;var len=Math.floor(samples/sampleRepeat);if(this.totalSample!=null&&len>this.totalSample-this.currentSample){len=this.totalSample-this.currentSample}var index=0;while(n<len){var k=this.channelBufferEnd-this.channelBufferStart;if(k>=len-n){k=len-n}var _g1=this.channelBufferStart;var _g=this.channelBufferStart+k;while(_g1<_g){var j=_g1++;var _g3=0;var _g2=sampleRepeat;while(_g3<_g2){var sr=_g3++;var _g5=0;var _g4=this.header.channel;while(_g5<_g4){var i=_g5++;var _g7=0;var _g6=channelRepeat;while(_g7<_g6){var cr=_g7++;var value=this.channelBuffers[i][j];if(value>1){value=1}else if(value<-1){value=-1}if(useFloat){output[index]=value;++index}}}}}n+=k;this.channelBufferStart+=k;if(n==len||this.getFrameFloat()==0){break}}var _g11=n;var _g8=len;while(_g11<_g8){var j1=_g11++;var _g31=0;var _g21=sampleRepeat;while(_g31<_g21){var sr1=_g31++;var _g51=0;var _g41=this.header.channel;while(_g51<_g41){var i1=_g51++;var _g71=0;var _g61=channelRepeat;while(_g71<_g61){var cr1=_g71++;if(useFloat){output[index]=0;++index}}}}}this.currentSample+=len;return len*sampleRepeat},skipSamples:function(len){var n=0;if(this.totalSample!=null&&len>this.totalSample-this.currentSample){len=this.totalSample-this.currentSample}while(n<len){var k=this.channelBufferEnd-this.channelBufferStart;if(k>=len-n){k=len-n}n+=k;this.channelBufferStart+=k;if(n==len||this.getFrameFloat()==0){break}}this.currentSample+=len;return len},setupSampleNumber:function(seekFunc,inputLength){if(this.totalSample==null){this.totalSample=this.decodeState.getSampleNumber(seekFunc,inputLength)}},seek:function(seekFunc,inputLength,sampleNumber){if(this.currentSample==sampleNumber){return}if(this.totalSample==null){this.setupSampleNumber(seekFunc,inputLength);if(this.totalSample==0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE,null,{fileName:"VorbisDecoder.hx",lineNumber:187,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"seek"}))}}if(sampleNumber<0){sampleNumber=0}var p0=this.decodeState.pFirst;var p1=this.decodeState.pLast;if(sampleNumber>=p1.lastDecodedSample){sampleNumber=p1.lastDecodedSample-1}if(sampleNumber<p0.lastDecodedSample){this.seekFrameFromPage(seekFunc,p0.pageStart,0,sampleNumber)}else{var attempts=0;while(p0.pageEnd<p1.pageStart){var startOffset=p0.pageEnd;var endOffset=p1.afterPreviousPageStart;var startSample=p0.lastDecodedSample;var endSample=p1.lastDecodedSample;if(startSample==null||endSample==null){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED,null,{fileName:"VorbisDecoder.hx",lineNumber:219,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"seek"}))}if(_$UInt_UInt_$Impl_$.gt(endOffset,startOffset+4e3)){endOffset=endOffset-4e3}var probe=startOffset+Math.floor(_$UInt_UInt_$Impl_$.toFloat(endOffset-startOffset)/_$UInt_UInt_$Impl_$.toFloat(endSample-startSample)*(sampleNumber-startSample));if(attempts>=4){var probe2=startOffset+(endOffset-startOffset>>>1);if(attempts>=8){probe=probe2}else if(_$UInt_UInt_$Impl_$.gt(probe2,probe)){probe=probe+(probe2-probe>>>1)}else{probe=probe2+(probe-probe2>>>1)}}++attempts;seekFunc(this.decodeState.inputPosition=probe);var _g=this.decodeState.findPage(seekFunc,inputLength);switch(_g[1]){case 0:break;case 1:throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED,null,{fileName:"VorbisDecoder.hx",lineNumber:249,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"seek"}));break}var q=this.decodeState.analyzePage(seekFunc,this.header);if(q==null){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED,null,{fileName:"VorbisDecoder.hx",lineNumber:255,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"seek"}))}q.afterPreviousPageStart=probe;if(q.pageStart==p1.pageStart){p1=q;continue}if(sampleNumber<q.lastDecodedSample){p1=q}else{p0=q}}if(p0.lastDecodedSample<=sampleNumber&&sampleNumber<p1.lastDecodedSample){this.seekFrameFromPage(seekFunc,p1.pageStart,p0.lastDecodedSample,sampleNumber)}else{throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED,null,{fileName:"VorbisDecoder.hx",lineNumber:275,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"seek"}))}}},seekFrameFromPage:function(seekFunc,pageStart,firstSample,targetSample){var frame=0;var frameStart=firstSample;seekFunc(this.decodeState.inputPosition=pageStart);this.decodeState.nextSeg=-1;var leftEnd=0;var leftStart=0;var prevState=null;var lastState=null;while(true){prevState=lastState;lastState=this.decodeState.clone(seekFunc);var initialResult=this.decodeInitial();if(initialResult==null){lastState=prevState;break}leftStart=initialResult.left.start;leftEnd=initialResult.left.end;var start=frame==0?leftEnd:leftStart;if(targetSample<frameStart+initialResult.right.start-start){break}var _this=this.decodeState;while(_this.bytesInSeg!=0||!_this.lastSeg&&_this.next()!=0){_this.bytesInSeg--;_this.inputPosition+=1;_this.input.readByte()}frameStart+=initialResult.right.start-start;++frame}this.decodeState=lastState;seekFunc(this.decodeState.inputPosition);this.previousLength=0;this.pumpFirstFrame();this.currentSample=frameStart;this.skipSamples(targetSample-frameStart)},ensurePosition:function(seekFunc){seekFunc(this.decodeState.inputPosition)},getFrameFloat:function(){var result=this.decodePacket();if(result==null){this.channelBufferStart=this.channelBufferEnd=0;return 0}var len=this.finishFrame(result);this.channelBufferStart=result.left;this.channelBufferEnd=result.left+len;return len},pumpFirstFrame:function(){this.finishFrame(this.decodePacket())},finishFrame:function(r){var len=r.len;var right=r.right;var left=r.left;if(this.previousLength!=0){var n=this.previousLength;var w=this.getWindow(n);var _g1=0;var _g=this.header.channel;while(_g1<_g){var i=_g1++;var cb=this.channelBuffers[i];var pw=this.previousWindow[i];var _g3=0;var _g2=n;while(_g3<_g2){var j=_g3++;cb[left+j]=cb[left+j]*w[j]+pw[j]*w[n-1-j]}}}var prev=this.previousLength;this.previousLength=len-right;var _g11=0;var _g4=this.header.channel;while(_g11<_g4){var i1=_g11++;var pw1=this.previousWindow[i1];var cb1=this.channelBuffers[i1];var _g31=0;var _g21=len-right;while(_g31<_g21){var j1=_g31++;pw1[j1]=cb1[right+j1]}}if(prev==0){return 0}if(len<right){right=len}return right-left},getWindow:function(len){len<<=1;if(len==this.header.blocksize0){return this.window[0]}else if(len==this.header.blocksize1){return this.window[1]}else{return null}},initBlocksize:function(bs,n){var n2=n>>1;var n4=n>>2;var n8=n>>3;var this1=this.a;var this2=new Array(n2);this1[bs]=this2;var this3=this.b;var this4=new Array(n2);this3[bs]=this4;var this5=this.c;var this6=new Array(n4);this5[bs]=this6;var this7=this.window;var this8=new Array(n2);this7[bs]=this8;var this9=this.bitReverseData;var this10=new Array(n8);this9[bs]=this10;kha_audio2_ogg_vorbis_VorbisTools.computeTwiddleFactors(n,this.a[bs],this.b[bs],this.c[bs]);kha_audio2_ogg_vorbis_VorbisTools.computeWindow(n,this.window[bs]);kha_audio2_ogg_vorbis_VorbisTools.computeBitReverse(n,this.bitReverseData[bs])},inverseMdct:function(buffer,n,blocktype){var bt=blocktype?1:0;var a=this.a[bt];var b=this.b[bt];var c=this.c[bt];var bitReverse=this.bitReverseData[bt];var n2=n>>1;var n4=n>>2;var n8=n>>3;var this1=new Array(n2);var buf2=this1;var dOffset=n2-2;var aaOffset=0;var eOffset=0;var eStopOffset=n2;while(eOffset!=eStopOffset){buf2[dOffset+1]=buffer[eOffset]*a[aaOffset]-buffer[eOffset+2]*a[aaOffset+1];buf2[dOffset]=buffer[eOffset]*a[aaOffset+1]+buffer[eOffset+2]*a[aaOffset];dOffset-=2;aaOffset+=2;eOffset+=4}eOffset=n2-3;while(dOffset>=0){buf2[dOffset+1]=-buffer[eOffset+2]*a[aaOffset]- -buffer[eOffset]*a[aaOffset+1];buf2[dOffset]=-buffer[eOffset+2]*a[aaOffset+1]+-buffer[eOffset]*a[aaOffset];dOffset-=2;aaOffset+=2;eOffset-=4}var u=buffer;var v=buf2;var aaOffset1=n2-8;var eOffset0=n4;var eOffset1=0;var dOffset0=n4;var dOffset1=0;while(aaOffset1>=0){var v41_21=v[eOffset0+1]-v[eOffset1+1];var v40_20=v[eOffset0]-v[eOffset1];u[dOffset0+1]=v[eOffset0+1]+v[eOffset1+1];u[dOffset0]=v[eOffset0]+v[eOffset1];u[dOffset1+1]=v41_21*a[aaOffset1+4]-v40_20*a[aaOffset1+5];u[dOffset1]=v40_20*a[aaOffset1+4]+v41_21*a[aaOffset1+5];v41_21=v[eOffset0+3]-v[eOffset1+3];v40_20=v[eOffset0+2]-v[eOffset1+2];u[dOffset0+3]=v[eOffset0+3]+v[eOffset1+3];u[dOffset0+2]=v[eOffset0+2]+v[eOffset1+2];u[dOffset1+3]=v41_21*a[aaOffset1]-v40_20*a[aaOffset1+1];u[dOffset1+2]=v40_20*a[aaOffset1]+v41_21*a[aaOffset1+1];aaOffset1-=8;dOffset0+=4;dOffset1+=4;eOffset0+=4;eOffset1+=4}var log2_4=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];var ld=(n<16384?n<16?log2_4[n]:n<512?5+log2_4[n>>5]:10+log2_4[n>>10]:n<16777216?n<524288?15+log2_4[n>>15]:20+log2_4[n>>20]:n<536870912?25+log2_4[n>>25]:n<-2147483648?30+log2_4[n>>30]:0)-1;var i_off=n2-1-n4*0;var eeOffset0=i_off;var eeOffset2=i_off+-(n>>3);var aOffset=0;var i=(n>>4>>2)+1;while(--i>0){var k00_20=u[eeOffset0]-u[eeOffset2];var k01_21=u[eeOffset0+-1]-u[eeOffset2+-1];var _g=eeOffset0;var _g1=u;_g1[_g]=_g1[_g]+u[eeOffset2];var _g2=eeOffset0+-1;var _g11=u;_g11[_g2]=_g11[_g2]+u[eeOffset2+-1];u[eeOffset2]=k00_20*a[aOffset]-k01_21*a[aOffset+1];u[eeOffset2+-1]=k01_21*a[aOffset]+k00_20*a[aOffset+1];aOffset+=8;k00_20=u[eeOffset0+-2]-u[eeOffset2+-2];k01_21=u[eeOffset0+-3]-u[eeOffset2+-3];var _g3=eeOffset0+-2;var _g12=u;_g12[_g3]=_g12[_g3]+u[eeOffset2+-2];var _g4=eeOffset0+-3;var _g13=u;_g13[_g4]=_g13[_g4]+u[eeOffset2+-3];u[eeOffset2+-2]=k00_20*a[aOffset]-k01_21*a[aOffset+1];u[eeOffset2+-3]=k01_21*a[aOffset]+k00_20*a[aOffset+1];aOffset+=8;k00_20=u[eeOffset0+-4]-u[eeOffset2+-4];k01_21=u[eeOffset0+-5]-u[eeOffset2+-5];var _g5=eeOffset0+-4;var _g14=u;_g14[_g5]=_g14[_g5]+u[eeOffset2+-4];var _g6=eeOffset0+-5;var _g15=u;_g15[_g6]=_g15[_g6]+u[eeOffset2+-5];u[eeOffset2+-4]=k00_20*a[aOffset]-k01_21*a[aOffset+1];u[eeOffset2+-5]=k01_21*a[aOffset]+k00_20*a[aOffset+1];aOffset+=8;k00_20=u[eeOffset0+-6]-u[eeOffset2+-6];k01_21=u[eeOffset0+-7]-u[eeOffset2+-7];var _g7=eeOffset0+-6;var _g16=u;_g16[_g7]=_g16[_g7]+u[eeOffset2+-6];var _g8=eeOffset0+-7;var _g17=u;_g17[_g8]=_g17[_g8]+u[eeOffset2+-7];u[eeOffset2+-6]=k00_20*a[aOffset]-k01_21*a[aOffset+1];u[eeOffset2+-7]=k01_21*a[aOffset]+k00_20*a[aOffset+1];aOffset+=8;eeOffset0-=8;eeOffset2-=8}var i_off1=n2-1-n4;var eeOffset01=i_off1;var eeOffset21=i_off1+-(n>>3);var aOffset1=0;var i1=(n>>4>>2)+1;while(--i1>0){var k00_201=u[eeOffset01]-u[eeOffset21];var k01_211=u[eeOffset01+-1]-u[eeOffset21+-1];var _g9=eeOffset01;var _g18=u;_g18[_g9]=_g18[_g9]+u[eeOffset21];var _g10=eeOffset01+-1;var _g19=u;_g19[_g10]=_g19[_g10]+u[eeOffset21+-1];u[eeOffset21]=k00_201*a[aOffset1]-k01_211*a[aOffset1+1];u[eeOffset21+-1]=k01_211*a[aOffset1]+k00_201*a[aOffset1+1];aOffset1+=8;k00_201=u[eeOffset01+-2]-u[eeOffset21+-2];k01_211=u[eeOffset01+-3]-u[eeOffset21+-3];var _g20=eeOffset01+-2;var _g110=u;_g110[_g20]=_g110[_g20]+u[eeOffset21+-2];var _g21=eeOffset01+-3;var _g111=u;_g111[_g21]=_g111[_g21]+u[eeOffset21+-3];u[eeOffset21+-2]=k00_201*a[aOffset1]-k01_211*a[aOffset1+1];u[eeOffset21+-3]=k01_211*a[aOffset1]+k00_201*a[aOffset1+1];aOffset1+=8;k00_201=u[eeOffset01+-4]-u[eeOffset21+-4];k01_211=u[eeOffset01+-5]-u[eeOffset21+-5];var _g22=eeOffset01+-4;var _g112=u;_g112[_g22]=_g112[_g22]+u[eeOffset21+-4];var _g23=eeOffset01+-5;var _g113=u;_g113[_g23]=_g113[_g23]+u[eeOffset21+-5];u[eeOffset21+-4]=k00_201*a[aOffset1]-k01_211*a[aOffset1+1];u[eeOffset21+-5]=k01_211*a[aOffset1]+k00_201*a[aOffset1+1];aOffset1+=8;k00_201=u[eeOffset01+-6]-u[eeOffset21+-6];k01_211=u[eeOffset01+-7]-u[eeOffset21+-7];var _g24=eeOffset01+-6;var _g114=u;_g114[_g24]=_g114[_g24]+u[eeOffset21+-6];var _g25=eeOffset01+-7;var _g115=u;_g115[_g25]=_g115[_g25]+u[eeOffset21+-7];u[eeOffset21+-6]=k00_201*a[aOffset1]-k01_211*a[aOffset1+1];u[eeOffset21+-7]=k01_211*a[aOffset1]+k00_201*a[aOffset1+1];aOffset1+=8;eeOffset01-=8;eeOffset21-=8}var d0=n2-1-n8*0;var aOffset2=0;var eOffset01=d0;var eOffset2=d0+-(n>>4);var i2=(n>>5>>2)+1;while(--i2>0){var k00_202=u[eOffset01]-u[eOffset2];var k01_212=u[eOffset01+-1]-u[eOffset2+-1];var _g26=eOffset01;var _g116=u;_g116[_g26]=_g116[_g26]+u[eOffset2];var _g27=eOffset01+-1;var _g117=u;_g117[_g27]=_g117[_g27]+u[eOffset2+-1];u[eOffset2]=k00_202*a[aOffset2]-k01_212*a[aOffset2+1];u[eOffset2+-1]=k01_212*a[aOffset2]+k00_202*a[aOffset2+1];aOffset2+=16;k00_202=u[eOffset01+-2]-u[eOffset2+-2];k01_212=u[eOffset01+-3]-u[eOffset2+-3];var _g28=eOffset01+-2;var _g118=u;_g118[_g28]=_g118[_g28]+u[eOffset2+-2];var _g29=eOffset01+-3;var _g119=u;_g119[_g29]=_g119[_g29]+u[eOffset2+-3];u[eOffset2+-2]=k00_202*a[aOffset2]-k01_212*a[aOffset2+1];u[eOffset2+-3]=k01_212*a[aOffset2]+k00_202*a[aOffset2+1];aOffset2+=16;k00_202=u[eOffset01+-4]-u[eOffset2+-4];k01_212=u[eOffset01+-5]-u[eOffset2+-5];var _g30=eOffset01+-4;var _g120=u;_g120[_g30]=_g120[_g30]+u[eOffset2+-4];var _g31=eOffset01+-5;var _g121=u;_g121[_g31]=_g121[_g31]+u[eOffset2+-5];u[eOffset2+-4]=k00_202*a[aOffset2]-k01_212*a[aOffset2+1];u[eOffset2+-5]=k01_212*a[aOffset2]+k00_202*a[aOffset2+1];aOffset2+=16;k00_202=u[eOffset01+-6]-u[eOffset2+-6];k01_212=u[eOffset01+-7]-u[eOffset2+-7];var _g32=eOffset01+-6;var _g122=u;_g122[_g32]=_g122[_g32]+u[eOffset2+-6];var _g33=eOffset01+-7;var _g123=u;_g123[_g33]=_g123[_g33]+u[eOffset2+-7];u[eOffset2+-6]=k00_202*a[aOffset2]-k01_212*a[aOffset2+1];u[eOffset2+-7]=k01_212*a[aOffset2]+k00_202*a[aOffset2+1];eOffset01-=8;eOffset2-=8;aOffset2+=16}var d01=n2-1-n8;var aOffset3=0;var eOffset02=d01;var eOffset21=d01+-(n>>4);var i3=(n>>5>>2)+1;while(--i3>0){var k00_203=u[eOffset02]-u[eOffset21];var k01_213=u[eOffset02+-1]-u[eOffset21+-1];var _g34=eOffset02;var _g124=u;_g124[_g34]=_g124[_g34]+u[eOffset21];var _g35=eOffset02+-1;var _g125=u;_g125[_g35]=_g125[_g35]+u[eOffset21+-1];u[eOffset21]=k00_203*a[aOffset3]-k01_213*a[aOffset3+1];u[eOffset21+-1]=k01_213*a[aOffset3]+k00_203*a[aOffset3+1];aOffset3+=16;k00_203=u[eOffset02+-2]-u[eOffset21+-2];k01_213=u[eOffset02+-3]-u[eOffset21+-3];var _g36=eOffset02+-2;var _g126=u;_g126[_g36]=_g126[_g36]+u[eOffset21+-2];var _g37=eOffset02+-3;var _g127=u;_g127[_g37]=_g127[_g37]+u[eOffset21+-3];u[eOffset21+-2]=k00_203*a[aOffset3]-k01_213*a[aOffset3+1];u[eOffset21+-3]=k01_213*a[aOffset3]+k00_203*a[aOffset3+1];aOffset3+=16;k00_203=u[eOffset02+-4]-u[eOffset21+-4];k01_213=u[eOffset02+-5]-u[eOffset21+-5];var _g38=eOffset02+-4;var _g128=u;_g128[_g38]=_g128[_g38]+u[eOffset21+-4];var _g39=eOffset02+-5;var _g129=u;_g129[_g39]=_g129[_g39]+u[eOffset21+-5];u[eOffset21+-4]=k00_203*a[aOffset3]-k01_213*a[aOffset3+1];u[eOffset21+-5]=k01_213*a[aOffset3]+k00_203*a[aOffset3+1];aOffset3+=16;k00_203=u[eOffset02+-6]-u[eOffset21+-6];k01_213=u[eOffset02+-7]-u[eOffset21+-7];var _g40=eOffset02+-6;var _g130=u;_g130[_g40]=_g130[_g40]+u[eOffset21+-6];var _g41=eOffset02+-7;var _g131=u;_g131[_g41]=_g131[_g41]+u[eOffset21+-7];u[eOffset21+-6]=k00_203*a[aOffset3]-k01_213*a[aOffset3+1];u[eOffset21+-7]=k01_213*a[aOffset3]+k00_203*a[aOffset3+1];eOffset02-=8;eOffset21-=8;aOffset3+=16}var d02=n2-1-n8*2;var aOffset4=0;var eOffset03=d02;var eOffset22=d02+-(n>>4);var i4=(n>>5>>2)+1;while(--i4>0){var k00_204=u[eOffset03]-u[eOffset22];var k01_214=u[eOffset03+-1]-u[eOffset22+-1];var _g42=eOffset03;var _g132=u;_g132[_g42]=_g132[_g42]+u[eOffset22];var _g43=eOffset03+-1;var _g133=u;_g133[_g43]=_g133[_g43]+u[eOffset22+-1];u[eOffset22]=k00_204*a[aOffset4]-k01_214*a[aOffset4+1];u[eOffset22+-1]=k01_214*a[aOffset4]+k00_204*a[aOffset4+1];aOffset4+=16;k00_204=u[eOffset03+-2]-u[eOffset22+-2];k01_214=u[eOffset03+-3]-u[eOffset22+-3];var _g44=eOffset03+-2;var _g134=u;_g134[_g44]=_g134[_g44]+u[eOffset22+-2];var _g45=eOffset03+-3;var _g135=u;_g135[_g45]=_g135[_g45]+u[eOffset22+-3];u[eOffset22+-2]=k00_204*a[aOffset4]-k01_214*a[aOffset4+1];u[eOffset22+-3]=k01_214*a[aOffset4]+k00_204*a[aOffset4+1];aOffset4+=16;k00_204=u[eOffset03+-4]-u[eOffset22+-4];k01_214=u[eOffset03+-5]-u[eOffset22+-5];var _g46=eOffset03+-4;var _g136=u;_g136[_g46]=_g136[_g46]+u[eOffset22+-4];var _g47=eOffset03+-5;var _g137=u;_g137[_g47]=_g137[_g47]+u[eOffset22+-5];u[eOffset22+-4]=k00_204*a[aOffset4]-k01_214*a[aOffset4+1];u[eOffset22+-5]=k01_214*a[aOffset4]+k00_204*a[aOffset4+1];aOffset4+=16;k00_204=u[eOffset03+-6]-u[eOffset22+-6];k01_214=u[eOffset03+-7]-u[eOffset22+-7];var _g48=eOffset03+-6;var _g138=u;_g138[_g48]=_g138[_g48]+u[eOffset22+-6];var _g49=eOffset03+-7;var _g139=u;_g139[_g49]=_g139[_g49]+u[eOffset22+-7];u[eOffset22+-6]=k00_204*a[aOffset4]-k01_214*a[aOffset4+1];u[eOffset22+-7]=k01_214*a[aOffset4]+k00_204*a[aOffset4+1];eOffset03-=8;eOffset22-=8;aOffset4+=16}var d03=n2-1-n8*3;var aOffset5=0;var eOffset04=d03;var eOffset23=d03+-(n>>4);var i5=(n>>5>>2)+1;while(--i5>0){var k00_205=u[eOffset04]-u[eOffset23];var k01_215=u[eOffset04+-1]-u[eOffset23+-1];var _g50=eOffset04;var _g140=u;_g140[_g50]=_g140[_g50]+u[eOffset23];var _g51=eOffset04+-1;var _g141=u;_g141[_g51]=_g141[_g51]+u[eOffset23+-1];u[eOffset23]=k00_205*a[aOffset5]-k01_215*a[aOffset5+1];u[eOffset23+-1]=k01_215*a[aOffset5]+k00_205*a[aOffset5+1];aOffset5+=16;k00_205=u[eOffset04+-2]-u[eOffset23+-2];k01_215=u[eOffset04+-3]-u[eOffset23+-3];var _g52=eOffset04+-2;var _g142=u;_g142[_g52]=_g142[_g52]+u[eOffset23+-2];var _g53=eOffset04+-3;var _g143=u;_g143[_g53]=_g143[_g53]+u[eOffset23+-3];u[eOffset23+-2]=k00_205*a[aOffset5]-k01_215*a[aOffset5+1];u[eOffset23+-3]=k01_215*a[aOffset5]+k00_205*a[aOffset5+1];aOffset5+=16;k00_205=u[eOffset04+-4]-u[eOffset23+-4];k01_215=u[eOffset04+-5]-u[eOffset23+-5];var _g54=eOffset04+-4;var _g144=u;_g144[_g54]=_g144[_g54]+u[eOffset23+-4];var _g55=eOffset04+-5;var _g145=u;_g145[_g55]=_g145[_g55]+u[eOffset23+-5];u[eOffset23+-4]=k00_205*a[aOffset5]-k01_215*a[aOffset5+1];u[eOffset23+-5]=k01_215*a[aOffset5]+k00_205*a[aOffset5+1];aOffset5+=16;k00_205=u[eOffset04+-6]-u[eOffset23+-6];k01_215=u[eOffset04+-7]-u[eOffset23+-7];var _g56=eOffset04+-6;var _g146=u;_g146[_g56]=_g146[_g56]+u[eOffset23+-6];var _g57=eOffset04+-7;var _g147=u;_g147[_g57]=_g147[_g57]+u[eOffset23+-7];u[eOffset23+-6]=k00_205*a[aOffset5]-k01_215*a[aOffset5+1];u[eOffset23+-7]=k01_215*a[aOffset5]+k00_205*a[aOffset5+1];eOffset04-=8;eOffset23-=8;aOffset5+=16}var _g148=2;var _g58=ld-3>>1;while(_g148<_g58){var l=_g148++;var k0=n>>l+2;var k0_2=k0>>1;var lim=1<<l+1;var _g310=0;var _g210=lim;while(_g310<_g210){var i6=_g310++;var d04=n2-1-k0*i6;var k1=1<<l+3;var aOffset6=0;var eOffset05=d04;var eOffset24=d04+-k0_2;var i7=(n>>l+4>>2)+1;while(--i7>0){var k00_206=u[eOffset05]-u[eOffset24];var k01_216=u[eOffset05+-1]-u[eOffset24+-1];var _g59=eOffset05;var _g149=u;_g149[_g59]=_g149[_g59]+u[eOffset24];var _g60=eOffset05+-1;var _g150=u;_g150[_g60]=_g150[_g60]+u[eOffset24+-1];u[eOffset24]=k00_206*a[aOffset6]-k01_216*a[aOffset6+1];u[eOffset24+-1]=k01_216*a[aOffset6]+k00_206*a[aOffset6+1];aOffset6+=k1;k00_206=u[eOffset05+-2]-u[eOffset24+-2];k01_216=u[eOffset05+-3]-u[eOffset24+-3];var _g61=eOffset05+-2;var _g151=u;_g151[_g61]=_g151[_g61]+u[eOffset24+-2];var _g62=eOffset05+-3;var _g152=u;_g152[_g62]=_g152[_g62]+u[eOffset24+-3];u[eOffset24+-2]=k00_206*a[aOffset6]-k01_216*a[aOffset6+1];u[eOffset24+-3]=k01_216*a[aOffset6]+k00_206*a[aOffset6+1];aOffset6+=k1;k00_206=u[eOffset05+-4]-u[eOffset24+-4];k01_216=u[eOffset05+-5]-u[eOffset24+-5];var _g63=eOffset05+-4;var _g153=u;_g153[_g63]=_g153[_g63]+u[eOffset24+-4];var _g64=eOffset05+-5;var _g154=u;_g154[_g64]=_g154[_g64]+u[eOffset24+-5];u[eOffset24+-4]=k00_206*a[aOffset6]-k01_216*a[aOffset6+1];u[eOffset24+-5]=k01_216*a[aOffset6]+k00_206*a[aOffset6+1];aOffset6+=k1;k00_206=u[eOffset05+-6]-u[eOffset24+-6];k01_216=u[eOffset05+-7]-u[eOffset24+-7];var _g65=eOffset05+-6;var _g155=u;_g155[_g65]=_g155[_g65]+u[eOffset24+-6];var _g66=eOffset05+-7;var _g156=u;_g156[_g66]=_g156[_g66]+u[eOffset24+-7];u[eOffset24+-6]=k00_206*a[aOffset6]-k01_216*a[aOffset6+1];u[eOffset24+-7]=k01_216*a[aOffset6]+k00_206*a[aOffset6+1];eOffset05-=8;eOffset24-=8;aOffset6+=k1}}}var _g157=ld-3>>1;var _g67=ld-6;while(_g157<_g67){var l1=_g157++;var k01=n>>l1+2;var k11=1<<l1+3;var k0_21=k01>>1;var rlim=n>>l1+6;var lim1=1<<l1+1;var aOffset7=0;var i_off2=n2-1;var r=rlim+1;while(--r>0){var A0=a[aOffset7];var A1=a[aOffset7+1];var A2=a[aOffset7+k11];var A3=a[aOffset7+k11+1];var A4=a[aOffset7+k11*2];var A5=a[aOffset7+k11*2+1];var A6=a[aOffset7+k11*3];var A7=a[aOffset7+k11*3+1];var eeOffset02=i_off2;var eeOffset22=i_off2+-k0_21;var i8=lim1+1;while(--i8>0){var k00=u[eeOffset02]-u[eeOffset22];var k111=u[eeOffset02+-1]-u[eeOffset22+-1];u[eeOffset02]=u[eeOffset02]+u[eeOffset22];u[eeOffset02+-1]=u[eeOffset02+-1]+u[eeOffset22+-1];u[eeOffset22]=k00*A0-k111*A1;u[eeOffset22+-1]=k111*A0+k00*A1;k00=u[eeOffset02+-2]-u[eeOffset22+-2];k111=u[eeOffset02+-3]-u[eeOffset22+-3];u[eeOffset02+-2]=u[eeOffset02+-2]+u[eeOffset22+-2];u[eeOffset02+-3]=u[eeOffset02+-3]+u[eeOffset22+-3];u[eeOffset22+-2]=k00*A2-k111*A3;u[eeOffset22+-3]=k111*A2+k00*A3;k00=u[eeOffset02+-4]-u[eeOffset22+-4];k111=u[eeOffset02+-5]-u[eeOffset22+-5];u[eeOffset02+-4]=u[eeOffset02+-4]+u[eeOffset22+-4];u[eeOffset02+-5]=u[eeOffset02+-5]+u[eeOffset22+-5];u[eeOffset22+-4]=k00*A4-k111*A5;u[eeOffset22+-5]=k111*A4+k00*A5;k00=u[eeOffset02+-6]-u[eeOffset22+-6];k111=u[eeOffset02+-7]-u[eeOffset22+-7];u[eeOffset02+-6]=u[eeOffset02+-6]+u[eeOffset22+-6];u[eeOffset02+-7]=u[eeOffset02+-7]+u[eeOffset22+-7];u[eeOffset22+-6]=k00*A6-k111*A7;u[eeOffset22+-7]=k111*A6+k00*A7;eeOffset02-=k01;eeOffset22-=k01}aOffset7+=k11*4;i_off2-=8}}var i_off3=n2-1;var A21=a[n>>3];var zOffset=i_off3;var baseOffset=i_off3-16*(n>>5);while(zOffset>baseOffset){var t0=u[zOffset];var t1=u[zOffset+-8];u[zOffset+-8]=t0-t1;u[zOffset]=t0+t1;t0=u[zOffset+-1];t1=u[zOffset+-9];u[zOffset+-9]=t0-t1;u[zOffset+-1]=t0+t1;t0=u[zOffset+-2];t1=u[zOffset+-10];var k001=t0-t1;u[zOffset+-2]=t0+t1;t0=u[zOffset+-3];t1=u[zOffset+-11];var k112=t0-t1;u[zOffset+-3]=t0+t1;u[zOffset+-10]=(k001+k112)*A21;u[zOffset+-11]=(k112-k001)*A21;t0=u[zOffset+-4];t1=u[zOffset+-12];k001=t1-t0;u[zOffset+-4]=t0+t1;t0=u[zOffset+-5];t1=u[zOffset+-13];k112=t0-t1;u[zOffset+-5]=t0+t1;u[zOffset+-12]=k112;u[zOffset+-13]=k001;t0=u[zOffset+-6];t1=u[zOffset+-14];k001=t1-t0;u[zOffset+-6]=t0+t1;t0=u[zOffset+-7];t1=u[zOffset+-15];k112=t0-t1;u[zOffset+-7]=t0+t1;u[zOffset+-14]=(k001+k112)*A21;u[zOffset+-15]=(k001-k112)*A21;var t01=u[zOffset];var t11=u[zOffset+-4];var k002=t01-t11;var y0=t01+t11;t01=u[zOffset+-2];t11=u[zOffset+-6];var y2=t01+t11;var k22=t01-t11;u[zOffset]=y0+y2;u[zOffset+-2]=y0-y2;var k33=u[zOffset+-3]-u[zOffset+-7];u[zOffset+-4]=k002+k33;u[zOffset+-6]=k002-k33;t01=u[zOffset+-1];t11=u[zOffset+-5];var k113=t01-t11;var y1=t01+t11;var y3=u[zOffset+-3]+u[zOffset+-7];u[zOffset+-1]=y1+y3;u[zOffset+-3]=y1-y3;u[zOffset+-5]=k113-k22;u[zOffset+-7]=k113+k22;var zOffset1=zOffset-8;var t02=u[zOffset1];var t12=u[zOffset1+-4];var k003=t02-t12;var y01=t02+t12;t02=u[zOffset1+-2];t12=u[zOffset1+-6];var y21=t02+t12;var k221=t02-t12;u[zOffset1]=y01+y21;u[zOffset1+-2]=y01-y21;var k331=u[zOffset1+-3]-u[zOffset1+-7];u[zOffset1+-4]=k003+k331;u[zOffset1+-6]=k003-k331;t02=u[zOffset1+-1];t12=u[zOffset1+-5];var k114=t02-t12;var y11=t02+t12;var y31=u[zOffset1+-3]+u[zOffset1+-7];u[zOffset1+-1]=y11+y31;u[zOffset1+-3]=y11-y31;u[zOffset1+-5]=k114-k221;u[zOffset1+-7]=k114+k221;zOffset-=16}var brOffset=0;var dOffset01=n4-4;var dOffset11=n2-4;while(dOffset01>=0){var k4=bitReverse[brOffset];v[dOffset11+3]=u[k4];v[dOffset11+2]=u[k4+1];v[dOffset01+3]=u[k4+2];v[dOffset01+2]=u[k4+3];k4=bitReverse[brOffset+1];v[dOffset11+1]=u[k4];v[dOffset11]=u[k4+1];v[dOffset01+1]=u[k4+2];v[dOffset01]=u[k4+3];dOffset01-=4;dOffset11-=4;brOffset+=2}var cOffset=0;var dOffset2=0;var eOffset3=n2-4;while(dOffset2<eOffset3){var a02=v[dOffset2]-v[eOffset3+2];var a11=v[dOffset2+1]+v[eOffset3+3];var b0=c[cOffset+1]*a02+c[cOffset]*a11;var b1=c[cOffset+1]*a11-c[cOffset]*a02;var b2=v[dOffset2]+v[eOffset3+2];var b3=v[dOffset2+1]-v[eOffset3+3];v[dOffset2]=b2+b0;v[dOffset2+1]=b3+b1;v[eOffset3+2]=b2-b0;v[eOffset3+3]=b1-b3;a02=v[dOffset2+2]-v[eOffset3];a11=v[dOffset2+3]+v[eOffset3+1];b0=c[cOffset+3]*a02+c[cOffset+2]*a11;b1=c[cOffset+3]*a11-c[cOffset+2]*a02;b2=v[dOffset2+2]+v[eOffset3];b3=v[dOffset2+3]-v[eOffset3+1];v[dOffset2+2]=b2+b0;v[dOffset2+3]=b3+b1;v[eOffset3]=b2-b0;v[eOffset3+1]=b1-b3;cOffset+=4;dOffset2+=4;eOffset3-=4}var bOffset=n2-8;var eOffset4=n2-8;var dOffset02=0;var dOffset12=n2-4;var dOffset21=n2;var dOffset3=n-4;while(eOffset4>=0){var p3=buf2[eOffset4+6]*b[bOffset+7]-buf2[eOffset4+7]*b[bOffset+6];var p2=-buf2[eOffset4+6]*b[bOffset+6]-buf2[eOffset4+7]*b[bOffset+7];buffer[dOffset02]=p3;buffer[dOffset12+3]=-p3;buffer[dOffset21]=p2;buffer[dOffset3+3]=p2;var p1=buf2[eOffset4+4]*b[bOffset+5]-buf2[eOffset4+5]*b[bOffset+4];var p0=-buf2[eOffset4+4]*b[bOffset+4]-buf2[eOffset4+5]*b[bOffset+5];buffer[dOffset02+1]=p1;buffer[dOffset12+2]=-p1;buffer[dOffset21+1]=p0;buffer[dOffset3+2]=p0;p3=buf2[eOffset4+2]*b[bOffset+3]-buf2[eOffset4+3]*b[bOffset+2];p2=-buf2[eOffset4+2]*b[bOffset+2]-buf2[eOffset4+3]*b[bOffset+3];buffer[dOffset02+2]=p3;buffer[dOffset12+1]=-p3;buffer[dOffset21+2]=p2;buffer[dOffset3+1]=p2;p1=buf2[eOffset4]*b[bOffset+1]-buf2[eOffset4+1]*b[bOffset];p0=-buf2[eOffset4]*b[bOffset]-buf2[eOffset4+1]*b[bOffset+1];buffer[dOffset02+3]=p1;buffer[dOffset12]=-p1;buffer[dOffset21+3]=p0;buffer[dOffset3]=p0;bOffset-=8;eOffset4-=8;dOffset02+=4;dOffset21+=4;dOffset12-=4;dOffset3-=4}},decodePacket:function(){var result=this.decodeInitial();if(result==null){return null}var rest=this.decodePacketRest(result);return rest},decodeInitial:function(){this.channelBufferStart=this.channelBufferEnd=0;while(true){if(!this.decodeState.maybeStartPacket()){return null}var _this=this.decodeState;var tmp;if(_this.validBits<0){tmp=0}else if(_this.validBits<1){if(_this.validBits==0){_this.acc=0}while(true){if(_this.bytesInSeg==0&&(_this.lastSeg||_this.next()==0)){_this.validBits=-1;break}else{_this.bytesInSeg--;_this.inputPosition+=1;_this.acc=_this.acc+(_this.input.readByte()<<_this.validBits);_this.validBits+=8}if(!(_this.validBits<1)){break}}if(_this.validBits<0){tmp=0}else{var z=_this.acc&1;_this.acc=_this.acc>>>1;_this.validBits-=1;tmp=z}}else{var z1=_this.acc&1;_this.acc=_this.acc>>>1;_this.validBits-=1;tmp=z1}if(tmp!=0){while(true){var _this1=this.decodeState;var x;if(_this1.bytesInSeg==0&&(_this1.lastSeg||_this1.next()==0)){x=-1}else{_this1.bytesInSeg--;_this1.inputPosition+=1;x=_this1.input.readByte()}_this1.validBits=0;if(!(-1!=x)){break}}continue}break}var _this2=this.decodeState;var n=this.header.modes.length-1;var log2_4=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];var n1=n<16384?n<16?log2_4[n]:n<512?5+log2_4[n>>5]:10+log2_4[n>>10]:n<16777216?n<524288?15+log2_4[n>>15]:20+log2_4[n>>20]:n<536870912?25+log2_4[n>>25]:n<-2147483648?30+log2_4[n>>30]:0;var i;if(_this2.validBits<0){i=0}else if(_this2.validBits<n1){if(n1>24){i=_this2.readBits(24)+(_this2.readBits(n1-24)<<24)}else{if(_this2.validBits==0){_this2.acc=0}while(true){if(_this2.bytesInSeg==0&&(_this2.lastSeg||_this2.next()==0)){_this2.validBits=-1;break}else{_this2.bytesInSeg--;_this2.inputPosition+=1;_this2.acc=_this2.acc+(_this2.input.readByte()<<_this2.validBits);_this2.validBits+=8}if(!(_this2.validBits<n1)){break}}if(_this2.validBits<0){i=0}else{var z2=_this2.acc&(1<<n1)-1;_this2.acc=_this2.acc>>>n1;_this2.validBits-=n1;i=z2}}}else{var z3=_this2.acc&(1<<n1)-1;_this2.acc=_this2.acc>>>n1;_this2.validBits-=n1;i=z3}if(i==-1||i>=this.header.modes.length){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED,null,{fileName:"VorbisDecoder.hx",lineNumber:519,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"decodeInitial"}))}var m=this.header.modes[i];var n2;var prev;var next;if(m.blockflag){n2=this.header.blocksize1;var _this3=this.decodeState;if(_this3.validBits<0){prev=0}else if(_this3.validBits<1){if(_this3.validBits==0){_this3.acc=0}while(true){if(_this3.bytesInSeg==0&&(_this3.lastSeg||_this3.next()==0)){_this3.validBits=-1;break}else{_this3.bytesInSeg--;_this3.inputPosition+=1;_this3.acc=_this3.acc+(_this3.input.readByte()<<_this3.validBits);_this3.validBits+=8}if(!(_this3.validBits<1)){break}}if(_this3.validBits<0){prev=0}else{var z4=_this3.acc&1;_this3.acc=_this3.acc>>>1;_this3.validBits-=1;prev=z4}}else{var z5=_this3.acc&1;_this3.acc=_this3.acc>>>1;_this3.validBits-=1;prev=z5}var _this4=this.decodeState;if(_this4.validBits<0){next=0}else if(_this4.validBits<1){if(_this4.validBits==0){_this4.acc=0}while(true){if(_this4.bytesInSeg==0&&(_this4.lastSeg||_this4.next()==0)){_this4.validBits=-1;break}else{_this4.bytesInSeg--;_this4.inputPosition+=1;_this4.acc=_this4.acc+(_this4.input.readByte()<<_this4.validBits);_this4.validBits+=8}if(!(_this4.validBits<1)){break}}if(_this4.validBits<0){next=0}else{var z6=_this4.acc&1;_this4.acc=_this4.acc>>>1;_this4.validBits-=1;next=z6}}else{var z7=_this4.acc&1;_this4.acc=_this4.acc>>>1;_this4.validBits-=1;next=z7}}else{next=0;prev=next;n2=this.header.blocksize0}var windowCenter=n2>>1;return{mode:i,left:m.blockflag&&prev==0?{start:n2-this.header.blocksize0>>2,end:n2+this.header.blocksize0>>2}:{start:0,end:windowCenter},right:m.blockflag&&next==0?{start:n2*3-this.header.blocksize0>>2,end:n2*3+this.header.blocksize0>>2}:{start:windowCenter,end:n2}}},decodePacketRest:function(r){var len=0;var m=this.header.modes[r.mode];var this1=new Array(256);var zeroChannel=this1;var this2=new Array(256);var reallyZeroChannel=this2;var n=m.blockflag?this.header.blocksize1:this.header.blocksize0;var map=this.header.mapping[m.mapping];var n2=n>>1;var rangeList=[256,128,86,64];var codebooks=this.header.codebooks;var _g1=0;var _g=this.header.channel;while(_g1<_g){var i=_g1++;var s=map.chan[i].mux;zeroChannel[i]=false;var floor=this.header.floorConfig[map.submapFloor[s]];if(floor.type==0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM,null,{fileName:"VorbisDecoder.hx",lineNumber:581,className:"kha.audio2.ogg.vorbis.VorbisDecoder",methodName:"decodePacketRest"}))}else{var g=floor.floor1;var _this=this.decodeState;var tmp;if(_this.validBits<0){tmp=0}else if(_this.validBits<1){if(_this.validBits==0){_this.acc=0}while(true){if(_this.bytesInSeg==0&&(_this.lastSeg||_this.next()==0)){_this.validBits=-1;break}else{_this.bytesInSeg--;_this.inputPosition+=1;_this.acc=_this.acc+(_this.input.readByte()<<_this.validBits);_this.validBits+=8}if(!(_this.validBits<1)){break}}if(_this.validBits<0){tmp=0}else{var z=_this.acc&1;_this.acc=_this.acc>>>1;_this.validBits-=1;tmp=z}}else{var z1=_this.acc&1;_this.acc=_this.acc>>>1;_this.validBits-=1;tmp=z1}if(tmp!=0){var fy=[];var this3=new Array(256);var step2Flag=this3;var range=rangeList[g.floor1Multiplier-1];var offset=2;fy=this.finalY[i];var _this1=this.decodeState;var log2_4=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];var n1=(range<16384?range<16?log2_4[range]:range<512?5+log2_4[range>>5]:10+log2_4[range>>10]:range<16777216?range<524288?15+log2_4[range>>15]:20+log2_4[range>>20]:range<536870912?25+log2_4[range>>25]:range<-2147483648?30+log2_4[range>>30]:0)-1;var tmp1;if(_this1.validBits<0){tmp1=0}else if(_this1.validBits<n1){if(n1>24){tmp1=_this1.readBits(24)+(_this1.readBits(n1-24)<<24)}else{if(_this1.validBits==0){_this1.acc=0}while(true){if(_this1.bytesInSeg==0&&(_this1.lastSeg||_this1.next()==0)){_this1.validBits=-1;break}else{_this1.bytesInSeg--;_this1.inputPosition+=1;_this1.acc=_this1.acc+(_this1.input.readByte()<<_this1.validBits);_this1.validBits+=8}if(!(_this1.validBits<n1)){break}}if(_this1.validBits<0){tmp1=0}else{var z2=_this1.acc&(1<<n1)-1;_this1.acc=_this1.acc>>>n1;_this1.validBits-=n1;tmp1=z2}}}else{var z3=_this1.acc&(1<<n1)-1;_this1.acc=_this1.acc>>>n1;_this1.validBits-=n1;tmp1=z3}fy[0]=tmp1;var _this2=this.decodeState;var log2_41=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];var n3=(range<16384?range<16?log2_41[range]:range<512?5+log2_41[range>>5]:10+log2_41[range>>10]:range<16777216?range<524288?15+log2_41[range>>15]:20+log2_41[range>>20]:range<536870912?25+log2_41[range>>25]:range<-2147483648?30+log2_41[range>>30]:0)-1;var tmp2;if(_this2.validBits<0){tmp2=0}else if(_this2.validBits<n3){if(n3>24){tmp2=_this2.readBits(24)+(_this2.readBits(n3-24)<<24)}else{if(_this2.validBits==0){_this2.acc=0}while(true){if(_this2.bytesInSeg==0&&(_this2.lastSeg||_this2.next()==0)){_this2.validBits=-1;break}else{_this2.bytesInSeg--;_this2.inputPosition+=1;_this2.acc=_this2.acc+(_this2.input.readByte()<<_this2.validBits);_this2.validBits+=8}if(!(_this2.validBits<n3)){break}}if(_this2.validBits<0){tmp2=0}else{var z4=_this2.acc&(1<<n3)-1;_this2.acc=_this2.acc>>>n3;_this2.validBits-=n3;tmp2=z4}}}else{var z5=_this2.acc&(1<<n3)-1;_this2.acc=_this2.acc>>>n3;_this2.validBits-=n3;tmp2=z5}fy[1]=tmp2;var _g3=0;var _g2=g.partitions;while(_g3<_g2){var j=_g3++;var pclass=g.partitionClassList[j];var cdim=g.classDimensions[pclass];var cbits=g.classSubclasses[pclass];var csub=(1<<cbits)-1;var cval=0;if(cbits!=0){var c=codebooks[g.classMasterbooks[pclass]];var _this3=this.decodeState;if(_this3.validBits<10){_this3.prepHuffman()}var i1=c.fastHuffman[_this3.acc&1023];var val;if(i1>=0){var l=c.codewordLengths[i1];_this3.acc=_this3.acc>>>l;_this3.validBits-=l;if(_this3.validBits<0){_this3.validBits=0;val=-1}else{val=i1}}else{val=_this3.decodeScalarRaw(c)}if(c.sparse){val=c.sortedValues[val]}cval=val}var books=g.subclassBooks[pclass];var _g5=0;var _g4=cdim;while(_g5<_g4){var k=_g5++;var book=books[cval&csub];cval>>=cbits;var tmp3=offset++;var tmp4;if(book>=0){var _this4=this.decodeState;var c1=codebooks[book];if(_this4.validBits<10){_this4.prepHuffman()}var i2=c1.fastHuffman[_this4.acc&1023];var val1;if(i2>=0){var l1=c1.codewordLengths[i2];_this4.acc=_this4.acc>>>l1;_this4.validBits-=l1;if(_this4.validBits<0){_this4.validBits=0;val1=-1}else{val1=i2}}else{val1=_this4.decodeScalarRaw(c1)}if(c1.sparse){val1=c1.sortedValues[val1]}tmp4=val1}else{tmp4=0}fy[tmp3]=tmp4}}if(this.decodeState.validBits==-1){zeroChannel[i]=true;continue}step2Flag[0]=step2Flag[1]=true;var naighbors=g.neighbors;var xlist=g.xlist;var _g31=2;var _g21=g.values;while(_g31<_g21){var j1=_g31++;var low=naighbors[j1][0];var high=naighbors[j1][1];var x0=xlist[low];var y0=fy[low];var dy=fy[high]-y0;var adx=xlist[high]-x0;var err=Math.abs(dy)*(xlist[j1]-x0);var off=err/adx|0;var lowroom=dy<0?y0-off:y0+off;var val2=fy[j1];var highroom=range-lowroom;var room=highroom<lowroom?highroom*2:lowroom*2;if(val2!=0){step2Flag[low]=step2Flag[high]=true;step2Flag[j1]=true;if(val2>=room){if(highroom>lowroom){fy[j1]=val2-lowroom+lowroom}else{fy[j1]=lowroom-val2+highroom-1}}else if((val2&1)!=0){fy[j1]=lowroom-(val2+1>>1)}else{fy[j1]=lowroom+(val2>>1)}}else{step2Flag[j1]=false;fy[j1]=lowroom}}var _g32=0;var _g22=g.values;while(_g32<_g22){var j2=_g32++;if(!step2Flag[j2]){fy[j2]=-1}}}else{zeroChannel[i]=true}}}var _g11=0;var _g6=this.header.channel;while(_g11<_g6){var i3=_g11++;reallyZeroChannel[i3]=zeroChannel[i3]}var _g12=0;var _g7=map.couplingSteps;while(_g12<_g7){var i4=_g12++;if(!zeroChannel[map.chan[i4].magnitude]||!zeroChannel[map.chan[i4].angle]){zeroChannel[map.chan[i4].magnitude]=zeroChannel[map.chan[i4].angle]=false}}var _g13=0;var _g8=map.submaps;while(_g13<_g8){var i5=_g13++;var length=this.header.channel;var this4=new Array(length);var residueBuffers=this4;var this5=new Array(256);var doNotDecode=this5;var ch=0;var _g33=0;var _g23=this.header.channel;while(_g33<_g23){var j3=_g33++;if(map.chan[j3].mux==i5){if(zeroChannel[j3]){doNotDecode[ch]=true;residueBuffers[ch]=null}else{doNotDecode[ch]=false;residueBuffers[ch]=this.channelBuffers[j3]}++ch}}var r1=map.submapResidue[i5];var residue=this.header.residueConfig[r1];residue.decode(this.decodeState,this.header,residueBuffers,ch,n2,doNotDecode,this.channelBuffers)}var i6=map.couplingSteps;var n21=n>>1;while(--i6>=0){var m1=this.channelBuffers[map.chan[i6].magnitude];var a=this.channelBuffers[map.chan[i6].angle];var _g14=0;var _g9=n21;while(_g14<_g9){var j4=_g14++;var a2;var m2;if(m1[j4]>0){if(a[j4]>0){m2=m1[j4];a2=m1[j4]-a[j4]}else{a2=m1[j4];m2=m1[j4]+a[j4]}}else if(a[j4]>0){m2=m1[j4];a2=m1[j4]+a[j4]}else{a2=m1[j4];m2=m1[j4]-a[j4]}m1[j4]=m2;a[j4]=a2}}var _g15=0;var _g10=this.header.channel;while(_g15<_g10){var i7=_g15++;if(reallyZeroChannel[i7]){var _g34=0;var _g24=n21;while(_g34<_g24){var j5=_g34++;this.channelBuffers[i7][j5]=0}}else{map.doFloor(this.header.floorConfig,i7,n,this.channelBuffers[i7],this.finalY[i7],null)}}var _g16=0;var _g17=this.header.channel;while(_g16<_g17){var i8=_g16++;this.inverseMdct(this.channelBuffers[i8],n,m.blockflag)}var _this5=this.decodeState;while(_this5.bytesInSeg!=0||!_this5.lastSeg&&_this5.next()!=0){_this5.bytesInSeg--;_this5.inputPosition+=1;_this5.input.readByte()}return this.decodeState.finishDecodePacket(this.previousLength,n,r)},__class__:kha_audio2_ogg_vorbis_VorbisDecoder};var kha_audio2_ogg_vorbis_VorbisTools=function(){};$hxClasses["kha.audio2.ogg.vorbis.VorbisTools"]=kha_audio2_ogg_vorbis_VorbisTools;kha_audio2_ogg_vorbis_VorbisTools.__name__=true;kha_audio2_ogg_vorbis_VorbisTools.pointCompare=function(a,b){if(a.x<b.x){return-1}else if(a.x>b.x){return 1}else{return 0}};kha_audio2_ogg_vorbis_VorbisTools.uintAsc=function(a,b){if(_$UInt_UInt_$Impl_$.gt(b,a)){return-1}else if(a==b){return 0}else{return 1}};kha_audio2_ogg_vorbis_VorbisTools.lookup1Values=function(entries,dim){var r=Math.exp(Math.log(entries)/dim)|0;if((Math.pow(r+1,dim)|0)<=entries){++r}var b=Math.pow(r+1,dim)>entries;var b1=(Math.pow(r,dim)|0)<=entries;return r};kha_audio2_ogg_vorbis_VorbisTools.computeWindow=function(n,window){var n2=n>>1;var _g1=0;var _g=n2;while(_g1<_g){var i=_g1++;window[i]=Math.sin(1.5707963267948966*kha_audio2_ogg_vorbis_VorbisTools.square(Math.sin((i+.5)/n2*.5*3.141592653589793)))}};kha_audio2_ogg_vorbis_VorbisTools.square=function(f){return f*f};kha_audio2_ogg_vorbis_VorbisTools.computeBitReverse=function(n,rev){var log2_4=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];var ld=(n<16384?n<16?log2_4[n]:n<512?5+log2_4[n>>5]:10+log2_4[n>>10]:n<16777216?n<524288?15+log2_4[n>>15]:20+log2_4[n>>20]:n<536870912?25+log2_4[n>>25]:n<-2147483648?30+log2_4[n>>30]:0)-1;var n8=n>>3;var _g1=0;var _g=n8;while(_g1<_g){var i=_g1++;var n1=i;n1=(n1&-1431655766)>>>1|(n1&1431655765)<<1;n1=(n1&-858993460)>>>2|(n1&858993459)<<2;n1=(n1&-252645136)>>>4|(n1&252645135)<<4;n1=(n1&-16711936)>>>8|(n1&16711935)<<8;rev[i]=(n1>>>16|n1<<16)>>>32-ld+3<<2}};kha_audio2_ogg_vorbis_VorbisTools.computeTwiddleFactors=function(n,af,bf,cf){var n4=n>>2;var n8=n>>3;var k2=0;var _g1=0;var _g=n4;while(_g1<_g){var k=_g1++;af[k2]=Math.cos(4*k*3.141592653589793/n);af[k2+1]=-Math.sin(4*k*3.141592653589793/n);bf[k2]=Math.cos((k2+1)*3.141592653589793/n/2)*.5;bf[k2+1]=Math.sin((k2+1)*3.141592653589793/n/2)*.5;k2+=2}var k21=0;var _g11=0;var _g2=n8;while(_g11<_g2){var k1=_g11++;cf[k21]=Math.cos(2*(k21+1)*3.141592653589793/n);cf[k21+1]=-Math.sin(2*(k21+1)*3.141592653589793/n);k21+=2}};kha_audio2_ogg_vorbis_VorbisTools.drawLine=function(output,x0,y0,x1,y1,n){if(kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable==null){var this1=new Array(32);kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable=this1;var _g=0;while(_g<32){var i=_g++;var this2=kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable;var this3=new Array(64);this2[i]=this3;var _g1=1;while(_g1<64){var j=_g1++;kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable[i][j]=i/j|0}}}var dy=y1-y0;var adx=x1-x0;var ady=dy<0?-dy:dy;var base;var x=x0;var y=y0;var err=0;var sy;if(adx<64&&ady<32){if(dy<0){base=-kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable[ady][adx];sy=base-1}else{base=kha_audio2_ogg_vorbis_VorbisTools.integerDivideTable[ady][adx];sy=base+1}}else{base=dy/adx|0;if(dy<0){sy=base-1}else{sy=base+1}}ady-=(base<0?-base:base)*adx;if(x1>n){x1=n}var _g2=x;var _g11=output;_g11[_g2]=_g11[_g2]*kha_audio2_ogg_vorbis_VorbisTools.INVERSE_DB_TABLE[y];var _g12=x+1;var _g3=x1;while(_g12<_g3){var i1=_g12++;err+=ady;if(err>=adx){err-=adx;y+=sy}else{y+=base}var _g21=i1;var _g31=output;_g31[_g21]=_g31[_g21]*kha_audio2_ogg_vorbis_VorbisTools.INVERSE_DB_TABLE[y]}};var kha_audio2_ogg_vorbis_data_Codebook=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Codebook"]=kha_audio2_ogg_vorbis_data_Codebook;kha_audio2_ogg_vorbis_data_Codebook.__name__=true;kha_audio2_ogg_vorbis_data_Codebook.read=function(decodeState){var c=new kha_audio2_ogg_vorbis_data_Codebook;var tmp;var tmp1;var tmp2;if(decodeState.validBits<0){tmp2=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){tmp2=0}else{var z=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp2=z}}else{var z1=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp2=z1}if(tmp2==66){var tmp3;if(decodeState.validBits<0){tmp3=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){tmp3=0}else{var z2=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp3=z2}}else{var z3=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp3=z3}tmp1=tmp3!=67}else{tmp1=true}if(!tmp1){var tmp4;if(decodeState.validBits<0){tmp4=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){tmp4=0}else{var z4=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp4=z4}}else{var z5=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp4=z5}tmp=tmp4!=86}else{tmp=true}if(tmp){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Codebook.hx",lineNumber:40,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"read"}))}var x;if(decodeState.validBits<0){x=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){x=0}else{var z6=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;x=z6}}else{var z7=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;x=z7}var tmp5;if(decodeState.validBits<0){tmp5=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){tmp5=0}else{var z8=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp5=z8}}else{var z9=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp5=z9}c.dimensions=(tmp5<<8)+x;var x1;if(decodeState.validBits<0){x1=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){x1=0}else{var z10=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;x1=z10}}else{var z11=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;x1=z11}var y;if(decodeState.validBits<0){y=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){y=0}else{var z12=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;y=z12}}else{var z13=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;y=z13}var tmp6;if(decodeState.validBits<0){tmp6=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){tmp6=0}else{var z14=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp6=z14}}else{var z15=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp6=z15}c.entries=(tmp6<<16)+(y<<8)+x1;var ordered;if(decodeState.validBits<0){ordered=0}else if(decodeState.validBits<1){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<1)){break}}if(decodeState.validBits<0){ordered=0}else{var z16=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;ordered=z16}}else{var z17=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;ordered=z17}var tmp7;if(ordered!=0){tmp7=false}else{var tmp8;if(decodeState.validBits<0){tmp8=0}else if(decodeState.validBits<1){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<1)){break}}if(decodeState.validBits<0){tmp8=0}else{var z18=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;tmp8=z18}}else{var z19=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;tmp8=z19}tmp7=tmp8!=0}c.sparse=tmp7;var length=c.entries;var this1=new Array(length);var lengths=this1;if(!c.sparse){c.codewordLengths=lengths}var total=0;if(ordered!=0){var currentEntry=0;var currentLength;if(decodeState.validBits<0){currentLength=0}else if(decodeState.validBits<5){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<5)){break}}if(decodeState.validBits<0){currentLength=0}else{var z20=decodeState.acc&31;decodeState.acc=decodeState.acc>>>5;decodeState.validBits-=5;currentLength=z20}}else{var z21=decodeState.acc&31;decodeState.acc=decodeState.acc>>>5;decodeState.validBits-=5;currentLength=z21}var currentLength1=currentLength+1;while(currentEntry<c.entries){var limit=c.entries-currentEntry;var log2_4=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];var n=limit<16384?limit<16?log2_4[limit]:limit<512?5+log2_4[limit>>5]:10+log2_4[limit>>10]:limit<16777216?limit<524288?15+log2_4[limit>>15]:20+log2_4[limit>>20]:limit<536870912?25+log2_4[limit>>25]:limit<-2147483648?30+log2_4[limit>>30]:0;var n1;if(decodeState.validBits<0){n1=0}else if(decodeState.validBits<n){if(n>24){n1=decodeState.readBits(24)+(decodeState.readBits(n-24)<<24)}else{if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<n)){break}}if(decodeState.validBits<0){n1=0}else{var z22=decodeState.acc&(1<<n)-1;decodeState.acc=decodeState.acc>>>n;decodeState.validBits-=n;n1=z22}}}else{var z23=decodeState.acc&(1<<n)-1;decodeState.acc=decodeState.acc>>>n;decodeState.validBits-=n;n1=z23}if(currentEntry+n1>c.entries){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"codebook entrys",{fileName:"Codebook.hx",lineNumber:67,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"read"}))}var _g1=0;var _g=n1;while(_g1<_g){var i=_g1++;lengths[currentEntry+i]=currentLength1}currentEntry+=n1;++currentLength1}}else{var _g11=0;var _g2=c.entries;while(_g11<_g2){var j=_g11++;var present;if(c.sparse){if(decodeState.validBits<0){present=0}else if(decodeState.validBits<1){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<1)){break}}if(decodeState.validBits<0){present=0}else{var z24=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;present=z24}}else{var z25=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;present=z25}}else{present=1}if(present!=0){var val;if(decodeState.validBits<0){val=0}else if(decodeState.validBits<5){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<5)){break}}if(decodeState.validBits<0){val=0}else{var z26=decodeState.acc&31;decodeState.acc=decodeState.acc>>>5;decodeState.validBits-=5;val=z26}}else{var z27=decodeState.acc&31;decodeState.acc=decodeState.acc>>>5;decodeState.validBits-=5;val=z27}lengths[j]=val+1;++total}else{lengths[j]=255}}}if(c.sparse&&total>=c.entries>>2){c.codewordLengths=lengths;c.sparse=false}var tmp9;if(c.sparse){tmp9=total}else{var sortedCount=0;var _g12=0;var _g3=c.entries;while(_g12<_g3){var j1=_g12++;var l=lengths[j1];if(l>10&&l!=255){++sortedCount}}tmp9=sortedCount}c.sortedEntries=tmp9;var values=null;if(!c.sparse){var length1=c.entries;var this2=new Array(length1);c.codewords=this2}else{if(c.sortedEntries!=0){var length2=c.sortedEntries;var this3=new Array(length2);c.codewordLengths=this3;var length3=c.entries;var this4=new Array(length3);c.codewords=this4;var length4=c.entries;var this5=new Array(length4);values=this5}var size=c.entries+64*c.sortedEntries}if(!c.computeCodewords(lengths,c.entries,values)){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"compute codewords",{fileName:"Codebook.hx",lineNumber:120,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"read"}))}if(c.sortedEntries!=0){c.sortedCodewords=[];var length5=c.sortedEntries;var this6=new Array(length5);c.sortedValues=this6;c.computeSortedHuffman(lengths,values)}if(c.sparse){values=null;c.codewords=null;lengths=null}c.computeAcceleratedHuffman();var tmp10;if(decodeState.validBits<0){tmp10=0}else if(decodeState.validBits<4){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<4)){break}}if(decodeState.validBits<0){tmp10=0}else{var z28=decodeState.acc&15;decodeState.acc=decodeState.acc>>>4;decodeState.validBits-=4;tmp10=z28}}else{var z29=decodeState.acc&15;decodeState.acc=decodeState.acc>>>4;decodeState.validBits-=4;tmp10=z29}c.lookupType=tmp10;if(c.lookupType>2){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"codebook lookup type",{fileName:"Codebook.hx",lineNumber:143,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"read"}))}if(c.lookupType>0){var x2;if(decodeState.validBits<0){x2=0}else if(decodeState.validBits<32){x2=decodeState.readBits(24)+(decodeState.readBits(8)<<24)}else{var z30=decodeState.acc&0;decodeState.acc=decodeState.acc>>>32;decodeState.validBits-=32;x2=z30}var mantissa=_$UInt_UInt_$Impl_$.toFloat(x2&2097151);var sign=x2&-2147483648;var exp=(x2&2145386496)>>>21;var res=sign!=0?-mantissa:mantissa;c.minimumValue=res*Math.pow(2,exp-788);var x3;if(decodeState.validBits<0){x3=0}else if(decodeState.validBits<32){x3=decodeState.readBits(24)+(decodeState.readBits(8)<<24)}else{var z31=decodeState.acc&0;decodeState.acc=decodeState.acc>>>32;decodeState.validBits-=32;x3=z31}var mantissa1=_$UInt_UInt_$Impl_$.toFloat(x3&2097151);var sign1=x3&-2147483648;var exp1=(x3&2145386496)>>>21;var res1=sign1!=0?-mantissa1:mantissa1;c.deltaValue=res1*Math.pow(2,exp1-788);var tmp11;if(decodeState.validBits<0){tmp11=0}else if(decodeState.validBits<4){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<4)){break}}if(decodeState.validBits<0){tmp11=0}else{var z32=decodeState.acc&15;decodeState.acc=decodeState.acc>>>4;decodeState.validBits-=4;tmp11=z32}}else{var z33=decodeState.acc&15;decodeState.acc=decodeState.acc>>>4;decodeState.validBits-=4;tmp11=z33}c.valueBits=tmp11+1;var tmp12;if(decodeState.validBits<0){tmp12=0}else if(decodeState.validBits<1){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<1)){break}}if(decodeState.validBits<0){tmp12=0}else{var z34=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;tmp12=z34}}else{var z35=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;tmp12=z35}c.sequenceP=tmp12!=0;if(c.lookupType==1){c.lookupValues=kha_audio2_ogg_vorbis_VorbisTools.lookup1Values(c.entries,c.dimensions)}else{c.lookupValues=c.entries*c.dimensions}var length6=c.lookupValues;var this7=new Array(length6);var mults=this7;var _g13=0;var _g4=c.lookupValues;while(_g13<_g4){var j2=_g13++;var n2=c.valueBits;var q;if(decodeState.validBits<0){q=0}else if(decodeState.validBits<n2){if(n2>24){q=decodeState.readBits(24)+(decodeState.readBits(n2-24)<<24)}else{if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<n2)){break}}if(decodeState.validBits<0){q=0}else{var z36=decodeState.acc&(1<<n2)-1;decodeState.acc=decodeState.acc>>>n2;decodeState.validBits-=n2;q=z36}}}else{var z37=decodeState.acc&(1<<n2)-1;decodeState.acc=decodeState.acc>>>n2;decodeState.validBits-=n2;q=z37}if(q==-1){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"fail lookup",{fileName:"Codebook.hx",lineNumber:161,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"read"}))}mults[j2]=q}var length7=c.lookupValues;var this8=new Array(length7);c.multiplicands=this8;var _g14=0;var _g5=c.lookupValues;while(_g14<_g5){var j3=_g14++;c.multiplicands[j3]=mults[j3]*c.deltaValue+c.minimumValue}if(c.lookupType==2&&c.sequenceP){var _g15=1;var _g6=c.lookupValues;while(_g15<_g6){var j4=_g15++;c.multiplicands[j4]=c.multiplicands[j4-1]}c.sequenceP=false}}return c};kha_audio2_ogg_vorbis_data_Codebook.prototype={dimensions:null,entries:null,codewordLengths:null,minimumValue:null,deltaValue:null,valueBits:null,lookupType:null,sequenceP:null,sparse:null,lookupValues:null,multiplicands:null,codewords:null,fastHuffman:null,sortedCodewords:null,sortedValues:null,sortedEntries:null,computeCodewords:function(len,n,values){var this1=new Array(32);var available=this1;var _g=0;while(_g<32){var x=_g++;available[x]=0}var k=0;while(k<n){if(len[k]<255){break}++k}if(k==n){var b=this.sortedEntries==0;return true}var m=0;var count=m++;if(!this.sparse){this.codewords[k]=0}else{this.codewords[count]=0;this.codewordLengths[count]=len[k];values[count]=k}var i=0;while(++i<=len[k])available[i]=1<<32-i;i=k;while(++i<n){var z=len[i];if(z==255){continue}while(z>0&&available[z]==0)--z;if(z==0){return false}var res=available[z];available[z]=0;var n1=res;n1=(n1&-1431655766)>>>1|(n1&1431655765)<<1;n1=(n1&-858993460)>>>2|(n1&858993459)<<2;n1=(n1&-252645136)>>>4|(n1&252645135)<<4;n1=(n1&-16711936)>>>8|(n1&16711935)<<8;var huffCode=n1>>>16|n1<<16;var count1=m++;if(!this.sparse){this.codewords[i]=huffCode}else{this.codewords[count1]=huffCode;this.codewordLengths[count1]=len[i];values[count1]=i}if(z!=len[i]){var y=len[i];while(y>z){available[y]=res+(1<<32-y);--y}}}return true},computeSortedHuffman:function(lengths,values){if(!this.sparse){var k=0;var _g1=0;var _g=this.entries;while(_g1<_g){var i=_g1++;var len=lengths[i];if(this.sparse?true:len==255?false:len>10){var n=this.codewords[i];n=(n&-1431655766)>>>1|(n&1431655765)<<1;n=(n&-858993460)>>>2|(n&858993459)<<2;n=(n&-252645136)>>>4|(n&252645135)<<4;n=(n&-16711936)>>>8|(n&16711935)<<8;this.sortedCodewords[k++]=n>>>16|n<<16}}var b=k==this.sortedEntries}else{var _g11=0;var _g2=this.sortedEntries;while(_g11<_g2){var i1=_g11++;var n1=this.codewords[i1];n1=(n1&-1431655766)>>>1|(n1&1431655765)<<1;n1=(n1&-858993460)>>>2|(n1&858993459)<<2;n1=(n1&-252645136)>>>4|(n1&252645135)<<4;n1=(n1&-16711936)>>>8|(n1&16711935)<<8;this.sortedCodewords[i1]=n1>>>16|n1<<16}}this.sortedCodewords[this.sortedEntries]=-1;this.sortedCodewords.sort(kha_audio2_ogg_vorbis_VorbisTools.uintAsc);var len1=this.sparse?this.sortedEntries:this.entries;var _g12=0;var _g3=len1;while(_g12<_g3){var i2=_g12++;var huffLen=this.sparse?lengths[values[i2]]:lengths[i2];if(this.sparse?true:huffLen==255?false:huffLen>10){var n2=this.codewords[i2];n2=(n2&-1431655766)>>>1|(n2&1431655765)<<1;n2=(n2&-858993460)>>>2|(n2&858993459)<<2;n2=(n2&-252645136)>>>4|(n2&252645135)<<4;n2=(n2&-16711936)>>>8|(n2&16711935)<<8;var code=n2>>>16|n2<<16;var x=0;var n3=this.sortedEntries;while(n3>1){var m=x+(n3>>1);if(_$UInt_UInt_$Impl_$.gte(code,this.sortedCodewords[m])){x=m;n3-=n3>>1}else{n3>>=1}}if(this.sparse){this.sortedValues[x]=values[i2];this.codewordLengths[x]=huffLen}else{this.sortedValues[x]=i2}}}},computeAcceleratedHuffman:function(){var this1=new Array(1024);this.fastHuffman=this1;this.fastHuffman[0]=-1;var _g1=0;var _g=1024;while(_g1<_g){var i=_g1++;this.fastHuffman[i]=-1}var len=this.sparse?this.sortedEntries:this.entries;var _g11=0;var _g2=len;while(_g11<_g2){var i1=_g11++;if(this.codewordLengths[i1]<=10){var z;if(this.sparse){var n=this.sortedCodewords[i1];n=(n&-1431655766)>>>1|(n&1431655765)<<1;n=(n&-858993460)>>>2|(n&858993459)<<2;n=(n&-252645136)>>>4|(n&252645135)<<4;n=(n&-16711936)>>>8|(n&16711935)<<8;z=n>>>16|n<<16}else{z=this.codewords[i1]}while(z<1024){this.fastHuffman[z]=i1;z+=1<<this.codewordLengths[i1]}}}},codebookDecode:function(decodeState,output,offset,len){if(decodeState.validBits<10){decodeState.prepHuffman()}var i=this.fastHuffman[decodeState.acc&1023];var val;if(i>=0){var l=this.codewordLengths[i];decodeState.acc=decodeState.acc>>>l;decodeState.validBits-=l;if(decodeState.validBits<0){decodeState.validBits=0;val=-1}else{val=i}}else{val=decodeState.decodeScalarRaw(this)}if(this.sparse){val=this.sortedValues[val]}var z=val;var lookupValues=this.lookupValues;var sequenceP=this.sequenceP;var multiplicands=this.multiplicands;var minimumValue=this.minimumValue;if(z<0){return false}if(len>this.dimensions){len=this.dimensions}if(this.lookupType==1){var div=1;var last=0;var _g1=0;var _g=len;while(_g1<_g){var i1=_g1++;var off=_$UInt_UInt_$Impl_$.toFloat(z/div|0)%_$UInt_UInt_$Impl_$.toFloat(lookupValues)|0;var val1=multiplicands[off]+last;var _g2=offset+i1;var _g3=output;_g3[_g2]=_g3[_g2]+val1;if(sequenceP){last=val1+minimumValue}div=div*lookupValues}return true}z*=this.dimensions;if(sequenceP){var last1=0;var _g11=0;var _g4=len;while(_g11<_g4){var i2=_g11++;var val2=multiplicands[z+i2]+last1;var _g21=offset+i2;var _g31=output;_g31[_g21]=_g31[_g21]+val2;last1=val2+minimumValue}}else{var last2=0;var _g12=0;var _g5=len;while(_g12<_g5){var i3=_g12++;var _g22=offset+i3;var _g32=output;_g32[_g22]=_g32[_g22]+(multiplicands[z+i3]+last2)}}return true},codebookDecodeStep:function(decodeState,output,offset,len,step){if(decodeState.validBits<10){decodeState.prepHuffman()}var i=this.fastHuffman[decodeState.acc&1023];var val;if(i>=0){var l=this.codewordLengths[i];decodeState.acc=decodeState.acc>>>l;decodeState.validBits-=l;if(decodeState.validBits<0){decodeState.validBits=0;val=-1}else{val=i}}else{val=decodeState.decodeScalarRaw(this)}if(this.sparse){val=this.sortedValues[val]}var z=val;var last=0;if(z<0){return false}if(len>this.dimensions){len=this.dimensions}var lookupValues=this.lookupValues;var sequenceP=this.sequenceP;var multiplicands=this.multiplicands;if(this.lookupType==1){var div=1;var _g1=0;var _g=len;while(_g1<_g){var i1=_g1++;var off=_$UInt_UInt_$Impl_$.toFloat(z/div|0)%_$UInt_UInt_$Impl_$.toFloat(lookupValues)|0;var val1=multiplicands[off]+last;var _g2=offset+i1*step;var _g3=output;_g3[_g2]=_g3[_g2]+val1;if(sequenceP){last=val1}div=div*lookupValues}return true}z*=this.dimensions;var _g11=0;var _g4=len;while(_g11<_g4){var i2=_g11++;var val2=multiplicands[z+i2]+last;var _g21=offset+i2*step;var _g31=output;_g31[_g21]=_g31[_g21]+val2;if(sequenceP){last=val2}}return true},decodeDeinterleaveRepeat:function(decodeState,residueBuffers,ch,cInter,pInter,len,totalDecode){var effective=this.dimensions;if(this.lookupType==0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM,null,{fileName:"Codebook.hx",lineNumber:488,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"decodeDeinterleaveRepeat"}))}var multiplicands=this.multiplicands;var sequenceP=this.sequenceP;var lookupValues=this.lookupValues;while(totalDecode>0){var last=0;if(decodeState.validBits<10){decodeState.prepHuffman()}var i=this.fastHuffman[decodeState.acc&1023];var val;if(i>=0){var l=this.codewordLengths[i];decodeState.acc=decodeState.acc>>>l;decodeState.validBits-=l;if(decodeState.validBits<0){decodeState.validBits=0;val=-1}else{val=i}}else{val=decodeState.decodeScalarRaw(this)}if(this.sparse){val=this.sortedValues[val]}var z=val;if(z<0){if(decodeState.bytesInSeg==0&&decodeState.lastSeg){return null}throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM,null,{fileName:"Codebook.hx",lineNumber:503,className:"kha.audio2.ogg.vorbis.data.Codebook",methodName:"decodeDeinterleaveRepeat"}))}if(cInter+pInter*ch+effective>len*ch){effective=len*ch-(pInter*ch-cInter)}if(this.lookupType==1){var div=1;if(sequenceP){var _g1=0;var _g=effective;while(_g1<_g){var i1=_g1++;var off=_$UInt_UInt_$Impl_$.toFloat(z/div|0)%_$UInt_UInt_$Impl_$.toFloat(lookupValues)|0;var val1=multiplicands[off]+last;var _g2=pInter;var _g3=residueBuffers[cInter];_g3[_g2]=_g3[_g2]+val1;if(++cInter==ch){cInter=0;++pInter}last=val1;div=div*lookupValues}}else{var _g11=0;var _g4=effective;while(_g11<_g4){var i2=_g11++;var off1=_$UInt_UInt_$Impl_$.toFloat(z/div|0)%_$UInt_UInt_$Impl_$.toFloat(lookupValues)|0;var val2=multiplicands[off1]+last;var _g21=pInter;var _g31=residueBuffers[cInter];_g31[_g21]=_g31[_g21]+val2;if(++cInter==ch){cInter=0;++pInter}div=div*lookupValues}}}else{z*=this.dimensions;if(sequenceP){var _g12=0;var _g5=effective;while(_g12<_g5){var i3=_g12++;var val3=multiplicands[z+i3]+last;var _g22=pInter;var _g32=residueBuffers[cInter];_g32[_g22]=_g32[_g22]+val3;if(++cInter==ch){cInter=0;++pInter}last=val3}}else{var _g13=0;var _g6=effective;while(_g13<_g6){var i4=_g13++;var val4=multiplicands[z+i4]+last;var _g23=pInter;var _g33=residueBuffers[cInter];_g33[_g23]=_g33[_g23]+val4;if(++cInter==ch){cInter=0;++pInter}}}}totalDecode-=effective}return{cInter:cInter,pInter:pInter}},residueDecode:function(decodeState,target,offset,n,rtype){if(rtype==0){var step=n/this.dimensions|0;var _g1=0;var _g=step;while(_g1<_g){var k=_g1++;if(!this.codebookDecodeStep(decodeState,target,offset+k,n-offset-k,step)){return false}}}else{var k1=0;while(k1<n){if(!this.codebookDecode(decodeState,target,offset,n-k1)){return false}k1+=this.dimensions;offset+=this.dimensions}}return true},__class__:kha_audio2_ogg_vorbis_data_Codebook};var kha_audio2_ogg_vorbis_data_Comment=function(){this.data=new haxe_ds_StringMap};$hxClasses["kha.audio2.ogg.vorbis.data.Comment"]=kha_audio2_ogg_vorbis_data_Comment;kha_audio2_ogg_vorbis_data_Comment.__name__=true;kha_audio2_ogg_vorbis_data_Comment.prototype={data:null,get_loopStart:function(){return Std.parseInt(this.getString("loopstart"))},get_loopLength:function(){return Std.parseInt(this.getString("looplength"))},add:function(key,value){key=key.toLowerCase();var _this=this.data;if(__map_reserved[key]!=null?_this.existsReserved(key):_this.h.hasOwnProperty(key)){var _this1=this.data;(__map_reserved[key]!=null?_this1.getReserved(key):_this1.h[key]).push(value)}else{var v=[value];var _this2=this.data;if(__map_reserved[key]!=null){_this2.setReserved(key,v)}else{_this2.h[key]=v}}},getString:function(key){key=key.toLowerCase();var _this=this.data;if(__map_reserved[key]!=null?_this.existsReserved(key):_this.h.hasOwnProperty(key)){var _this1=this.data;return(__map_reserved[key]!=null?_this1.getReserved(key):_this1.h[key])[0]}else{return null}},__class__:kha_audio2_ogg_vorbis_data_Comment,__properties__:{get_loopLength:"get_loopLength",get_loopStart:"get_loopStart"}};var kha_audio2_ogg_vorbis_data_Floor=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Floor"]=kha_audio2_ogg_vorbis_data_Floor;kha_audio2_ogg_vorbis_data_Floor.__name__=true;kha_audio2_ogg_vorbis_data_Floor.read=function(decodeState,codebooks){var floor=new kha_audio2_ogg_vorbis_data_Floor;var tmp;if(decodeState.validBits<0){tmp=0}else if(decodeState.validBits<16){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<16)){break}}if(decodeState.validBits<0){tmp=0}else{var z=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;tmp=z}}else{var z1=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;tmp=z1}floor.type=tmp;if(floor.type>1){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Floor.hx",lineNumber:28,className:"kha.audio2.ogg.vorbis.data.Floor",methodName:"read"}))}if(floor.type==0){var g=floor.floor0=new kha_audio2_ogg_vorbis_data_Floor0;var tmp1;if(decodeState.validBits<0){tmp1=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){tmp1=0}else{var z2=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp1=z2}}else{var z3=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp1=z3}g.order=tmp1;var tmp2;if(decodeState.validBits<0){tmp2=0}else if(decodeState.validBits<16){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<16)){break}}if(decodeState.validBits<0){tmp2=0}else{var z4=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;tmp2=z4}}else{var z5=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;tmp2=z5}g.rate=tmp2;var tmp3;if(decodeState.validBits<0){tmp3=0}else if(decodeState.validBits<16){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<16)){break}}if(decodeState.validBits<0){tmp3=0}else{var z6=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;tmp3=z6}}else{var z7=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;tmp3=z7}g.barkMapSize=tmp3;var tmp4;if(decodeState.validBits<0){tmp4=0}else if(decodeState.validBits<6){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<6)){break}}if(decodeState.validBits<0){tmp4=0}else{var z8=decodeState.acc&63;decodeState.acc=decodeState.acc>>>6;decodeState.validBits-=6;tmp4=z8}}else{var z9=decodeState.acc&63;decodeState.acc=decodeState.acc>>>6;decodeState.validBits-=6;tmp4=z9}g.amplitudeBits=tmp4;var tmp5;if(decodeState.validBits<0){tmp5=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){tmp5=0}else{var z10=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp5=z10}}else{var z11=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp5=z11}g.amplitudeOffset=tmp5;var tmp6;if(decodeState.validBits<0){tmp6=0}else if(decodeState.validBits<4){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<4)){break}}if(decodeState.validBits<0){tmp6=0}else{var z12=decodeState.acc&15;decodeState.acc=decodeState.acc>>>4;decodeState.validBits-=4;tmp6=z12}}else{var z13=decodeState.acc&15;decodeState.acc=decodeState.acc>>>4;decodeState.validBits-=4;tmp6=z13}g.numberOfBooks=tmp6+1;var _g1=0;var _g=g.numberOfBooks;while(_g1<_g){var j=_g1++;var this1=g.bookList;var val;if(decodeState.validBits<0){val=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){val=0}else{var z14=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;val=z14}}else{var z15=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;val=z15}this1[j]=val}throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.FEATURE_NOT_SUPPORTED,null,{fileName:"Floor.hx",lineNumber:41,className:"kha.audio2.ogg.vorbis.data.Floor",methodName:"read"}))}else{var p=[];var g1=floor.floor1=new kha_audio2_ogg_vorbis_data_Floor1;var maxClass=-1;var tmp7;if(decodeState.validBits<0){tmp7=0}else if(decodeState.validBits<5){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<5)){break}}if(decodeState.validBits<0){tmp7=0}else{var z16=decodeState.acc&31;decodeState.acc=decodeState.acc>>>5;decodeState.validBits-=5;tmp7=z16}}else{var z17=decodeState.acc&31;decodeState.acc=decodeState.acc>>>5;decodeState.validBits-=5;tmp7=z17}g1.partitions=tmp7;var length=g1.partitions;var this2=new Array(length);g1.partitionClassList=this2;var _g11=0;var _g2=g1.partitions;while(_g11<_g2){var j1=_g11++;var this3=g1.partitionClassList;var val1;if(decodeState.validBits<0){val1=0}else if(decodeState.validBits<4){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<4)){break}}if(decodeState.validBits<0){val1=0}else{var z18=decodeState.acc&15;decodeState.acc=decodeState.acc>>>4;decodeState.validBits-=4;val1=z18}}else{var z19=decodeState.acc&15;decodeState.acc=decodeState.acc>>>4;decodeState.validBits-=4;val1=z19}this3[j1]=val1;if(g1.partitionClassList[j1]>maxClass){maxClass=g1.partitionClassList[j1]}}var this4=new Array(maxClass+1);g1.classDimensions=this4;var this5=new Array(maxClass+1);g1.classMasterbooks=this5;var this6=new Array(maxClass+1);g1.classSubclasses=this6;var this7=new Array(maxClass+1);g1.subclassBooks=this7;var _g12=0;var _g3=maxClass+1;while(_g12<_g3){var j2=_g12++;var this8=g1.classDimensions;var val2;if(decodeState.validBits<0){val2=0}else if(decodeState.validBits<3){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<3)){break}}if(decodeState.validBits<0){val2=0}else{var z20=decodeState.acc&7;decodeState.acc=decodeState.acc>>>3;decodeState.validBits-=3;val2=z20}}else{var z21=decodeState.acc&7;decodeState.acc=decodeState.acc>>>3;decodeState.validBits-=3;val2=z21}this8[j2]=val2+1;var this9=g1.classSubclasses;var val3;if(decodeState.validBits<0){val3=0}else if(decodeState.validBits<2){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<2)){break}}if(decodeState.validBits<0){val3=0}else{var z22=decodeState.acc&3;decodeState.acc=decodeState.acc>>>2;decodeState.validBits-=2;val3=z22}}else{var z23=decodeState.acc&3;decodeState.acc=decodeState.acc>>>2;decodeState.validBits-=2;val3=z23}this9[j2]=val3;if(g1.classSubclasses[j2]!=0){var this10=g1.classMasterbooks;var val4;if(decodeState.validBits<0){val4=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){val4=0}else{var z24=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;val4=z24}}else{var z25=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;val4=z25}this10[j2]=val4;if(g1.classMasterbooks[j2]>=codebooks.length){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Floor.hx",lineNumber:64,className:"kha.audio2.ogg.vorbis.data.Floor",methodName:"read"}))}}var kl=1<<g1.classSubclasses[j2];var this11=g1.subclassBooks;var this12=new Array(kl);this11[j2]=this12;var _g31=0;var _g21=kl;while(_g31<_g21){var k=_g31++;var this13=g1.subclassBooks[j2];var val5;if(decodeState.validBits<0){val5=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){val5=0}else{var z26=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;val5=z26}}else{var z27=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;val5=z27}this13[k]=val5-1;if(g1.subclassBooks[j2][k]>=codebooks.length){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Floor.hx",lineNumber:73,className:"kha.audio2.ogg.vorbis.data.Floor",methodName:"read"}))}}}var tmp8;if(decodeState.validBits<0){tmp8=0}else if(decodeState.validBits<2){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<2)){break}}if(decodeState.validBits<0){tmp8=0}else{var z28=decodeState.acc&3;decodeState.acc=decodeState.acc>>>2;decodeState.validBits-=2;tmp8=z28}}else{var z29=decodeState.acc&3;decodeState.acc=decodeState.acc>>>2;decodeState.validBits-=2;tmp8=z29}g1.floor1Multiplier=tmp8+1;var tmp9;if(decodeState.validBits<0){tmp9=0}else if(decodeState.validBits<4){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<4)){break}}if(decodeState.validBits<0){tmp9=0}else{var z30=decodeState.acc&15;decodeState.acc=decodeState.acc>>>4;decodeState.validBits-=4;tmp9=z30}}else{var z31=decodeState.acc&15;decodeState.acc=decodeState.acc>>>4;decodeState.validBits-=4;tmp9=z31}g1.rangebits=tmp9;var this14=new Array(250);g1.xlist=this14;g1.xlist[0]=0;g1.xlist[1]=1<<g1.rangebits;g1.values=2;var _g13=0;var _g4=g1.partitions;while(_g13<_g4){var j3=_g13++;var c=g1.partitionClassList[j3];var _g32=0;var _g22=g1.classDimensions[c];while(_g32<_g22){var k1=_g32++;var this15=g1.xlist;var index=g1.values;var n=g1.rangebits;var val6;if(decodeState.validBits<0){val6=0}else if(decodeState.validBits<n){if(n>24){val6=decodeState.readBits(24)+(decodeState.readBits(n-24)<<24)}else{if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<n)){break}}if(decodeState.validBits<0){val6=0}else{var z32=decodeState.acc&(1<<n)-1;decodeState.acc=decodeState.acc>>>n;decodeState.validBits-=n;val6=z32}}}else{var z33=decodeState.acc&(1<<n)-1;decodeState.acc=decodeState.acc>>>n;decodeState.validBits-=n;val6=z33}this15[index]=val6;g1.values++}}var _g14=0;var _g5=g1.values;while(_g14<_g5){var j4=_g14++;p.push(new kha_audio2_ogg_vorbis_data_IntPoint);p[j4].x=g1.xlist[j4];p[j4].y=j4}p.sort(kha_audio2_ogg_vorbis_VorbisTools.pointCompare);var length1=g1.values;var this16=new Array(length1);g1.sortedOrder=this16;var _g15=0;var _g6=g1.values;while(_g15<_g6){var j5=_g15++;g1.sortedOrder[j5]=p[j5].y}var length2=g1.values;var this17=new Array(length2);g1.neighbors=this17;var _g16=2;var _g7=g1.values;while(_g16<_g7){var j6=_g16++;var ne_low;var ne_high;var x=g1.xlist;var low=-1;var high=65536;var plow=0;var phigh=0;var _g17=0;var _g8=j6;while(_g17<_g8){var i=_g17++;if(x[i]>low&&x[i]<x[j6]){plow=i;low=x[i]}if(x[i]<high&&x[i]>x[j6]){phigh=i;high=x[i]}}ne_low=plow;ne_high=phigh;var this18=g1.neighbors;var length3=g1.values;var this19=new Array(length3);this18[j6]=this19;g1.neighbors[j6][0]=ne_low;g1.neighbors[j6][1]=ne_high}}return floor};kha_audio2_ogg_vorbis_data_Floor.prototype={floor0:null,floor1:null,type:null,__class__:kha_audio2_ogg_vorbis_data_Floor};var kha_audio2_ogg_vorbis_data_Floor0=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Floor0"]=kha_audio2_ogg_vorbis_data_Floor0;kha_audio2_ogg_vorbis_data_Floor0.__name__=true;kha_audio2_ogg_vorbis_data_Floor0.prototype={order:null,rate:null,barkMapSize:null,amplitudeBits:null,amplitudeOffset:null,numberOfBooks:null,bookList:null,__class__:kha_audio2_ogg_vorbis_data_Floor0};var kha_audio2_ogg_vorbis_data_Floor1=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Floor1"]=kha_audio2_ogg_vorbis_data_Floor1;kha_audio2_ogg_vorbis_data_Floor1.__name__=true;kha_audio2_ogg_vorbis_data_Floor1.prototype={partitions:null,partitionClassList:null,classDimensions:null,classSubclasses:null,classMasterbooks:null,subclassBooks:null,xlist:null,sortedOrder:null,neighbors:null,floor1Multiplier:null,rangebits:null,values:null,__class__:kha_audio2_ogg_vorbis_data_Floor1};var kha_audio2_ogg_vorbis_data_Header=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Header"]=kha_audio2_ogg_vorbis_data_Header;kha_audio2_ogg_vorbis_data_Header.__name__=true;kha_audio2_ogg_vorbis_data_Header.read=function(decodeState){var page=decodeState.page;page.start(decodeState);if((page.flag&2)==0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"not firstPage",{fileName:"Header.hx",lineNumber:46,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}if((page.flag&4)!=0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"lastPage",{fileName:"Header.hx",lineNumber:49,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}if((page.flag&1)!=0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"continuedPacket",{fileName:"Header.hx",lineNumber:52,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}decodeState.firstPageValidate();decodeState.inputPosition+=1;if(decodeState.input.readByte()!=1){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"decodeState head",{fileName:"Header.hx",lineNumber:57,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}var header=new haxe_io_Bytes(new ArrayBuffer(6));var _g=0;while(_g<6){var i=_g++;var x;if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){x=-1}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;x=decodeState.input.readByte()}decodeState.validBits=0;header.b[i]=x&255}if(header.toString()!="vorbis"){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"vorbis header",{fileName:"VorbisDecodeState.hx",lineNumber:300,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"vorbisValidate"}))}decodeState.inputPosition+=4;var version=decodeState.input.readInt32();if(version!=0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"vorbis version : "+version,{fileName:"Header.hx",lineNumber:66,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}var header1=new kha_audio2_ogg_vorbis_data_Header;decodeState.inputPosition+=1;header1.channel=decodeState.input.readByte();if(header1.channel==0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"no channel",{fileName:"Header.hx",lineNumber:73,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}else if(header1.channel>16){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.TOO_MANY_CHANNELS,"too many channels",{fileName:"Header.hx",lineNumber:75,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}decodeState.inputPosition+=4;header1.sampleRate=decodeState.input.readInt32();if(header1.sampleRate==0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,"no sampling rate",{fileName:"Header.hx",lineNumber:80,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}decodeState.inputPosition+=4;header1.maximumBitRate=decodeState.input.readInt32();decodeState.inputPosition+=4;header1.nominalBitRate=decodeState.input.readInt32();decodeState.inputPosition+=4;header1.minimumBitRate=decodeState.input.readInt32();decodeState.inputPosition+=1;var x1=decodeState.input.readByte();var log0=x1&15;var log1=x1>>4;header1.blocksize0=1<<log0;header1.blocksize1=1<<log1;if(log0<6||log0>13){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:93,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}if(log1<6||log1>13){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:96,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}if(log0>log1){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:99,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}decodeState.inputPosition+=1;var x2=decodeState.input.readByte();if((x2&1)==0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE,null,{fileName:"Header.hx",lineNumber:105,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}decodeState.page.start(decodeState);decodeState.startPacket();var len=0;var output=new haxe_io_BytesOutput;while(true){len=decodeState.next();if(!(len!=0)){break}decodeState.inputPosition+=len;output.write(decodeState.input.read(len));decodeState.bytesInSeg=0}var packetInput=new haxe_io_BytesInput(output.getBytes());packetInput.readByte();packetInput.read(6);var vendorLength=packetInput.readInt32();header1.vendor=packetInput.readString(vendorLength);header1.comment=new kha_audio2_ogg_vorbis_data_Comment;var commentCount=packetInput.readInt32();var _g1=0;var _g2=commentCount;while(_g1<_g2){var i1=_g1++;var n=packetInput.readInt32();var str=packetInput.readString(n);var splitter=str.indexOf("=");if(splitter!=-1){header1.comment.add(str.substring(0,splitter),str.substring(splitter+1))}}var x3=packetInput.readByte();if((x3&1)==0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:141,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}decodeState.startPacket();var x4;if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){x4=-1}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;x4=decodeState.input.readByte()}decodeState.validBits=0;if(x4!=5){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"setup packet",{fileName:"Header.hx",lineNumber:149,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}var header2=new haxe_io_Bytes(new ArrayBuffer(6));var _g3=0;while(_g3<6){var i2=_g3++;var x5;if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){x5=-1}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;x5=decodeState.input.readByte()}decodeState.validBits=0;header2.b[i2]=x5&255}if(header2.toString()!="vorbis"){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"vorbis header",{fileName:"VorbisDecodeState.hx",lineNumber:300,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"vorbisValidate"}))}var codebookCount;if(decodeState.validBits<0){codebookCount=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){codebookCount=0}else{var z=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;codebookCount=z}}else{var z1=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;codebookCount=z1}var codebookCount1=codebookCount+1;var this1=new Array(codebookCount1);header1.codebooks=this1;var _g11=0;var _g4=codebookCount1;while(_g11<_g4){var i3=_g11++;header1.codebooks[i3]=kha_audio2_ogg_vorbis_data_Codebook.read(decodeState)}var x6;if(decodeState.validBits<0){x6=0}else if(decodeState.validBits<6){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<6)){break}}if(decodeState.validBits<0){x6=0}else{var z2=decodeState.acc&63;decodeState.acc=decodeState.acc>>>6;decodeState.validBits-=6;x6=z2}}else{var z3=decodeState.acc&63;decodeState.acc=decodeState.acc>>>6;decodeState.validBits-=6;x6=z3}x2=x6+1;var _g12=0;var _g5=x2;while(_g12<_g5){var i4=_g12++;var tmp;if(decodeState.validBits<0){tmp=0}else if(decodeState.validBits<16){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<16)){break}}if(decodeState.validBits<0){tmp=0}else{var z4=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;tmp=z4}}else{var z5=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;tmp=z5}if(tmp!=0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:165,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}}var floorCount;if(decodeState.validBits<0){floorCount=0}else if(decodeState.validBits<6){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<6)){break}}if(decodeState.validBits<0){floorCount=0}else{var z6=decodeState.acc&63;decodeState.acc=decodeState.acc>>>6;decodeState.validBits-=6;floorCount=z6}}else{var z7=decodeState.acc&63;decodeState.acc=decodeState.acc>>>6;decodeState.validBits-=6;floorCount=z7}var floorCount1=floorCount+1;var this2=new Array(floorCount1);header1.floorConfig=this2;var _g13=0;var _g6=floorCount1;while(_g13<_g6){var i5=_g13++;header1.floorConfig[i5]=kha_audio2_ogg_vorbis_data_Floor.read(decodeState,header1.codebooks)}var residueCount;if(decodeState.validBits<0){residueCount=0}else if(decodeState.validBits<6){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<6)){break}}if(decodeState.validBits<0){residueCount=0}else{var z8=decodeState.acc&63;decodeState.acc=decodeState.acc>>>6;decodeState.validBits-=6;residueCount=z8}}else{var z9=decodeState.acc&63;decodeState.acc=decodeState.acc>>>6;decodeState.validBits-=6;residueCount=z9}var residueCount1=residueCount+1;var this3=new Array(residueCount1);header1.residueConfig=this3;var _g14=0;var _g7=residueCount1;while(_g14<_g7){var i6=_g14++;header1.residueConfig[i6]=kha_audio2_ogg_vorbis_data_Residue.read(decodeState,header1.codebooks)}var mappingCount;if(decodeState.validBits<0){mappingCount=0}else if(decodeState.validBits<6){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<6)){break}}if(decodeState.validBits<0){mappingCount=0}else{var z10=decodeState.acc&63;decodeState.acc=decodeState.acc>>>6;decodeState.validBits-=6;mappingCount=z10}}else{var z11=decodeState.acc&63;decodeState.acc=decodeState.acc>>>6;decodeState.validBits-=6;mappingCount=z11}var mappingCount1=mappingCount+1;var this4=new Array(mappingCount1);header1.mapping=this4;var _g15=0;var _g8=mappingCount1;while(_g15<_g8){var i7=_g15++;var map=kha_audio2_ogg_vorbis_data_Mapping.read(decodeState,header1.channel);header1.mapping[i7]=map;var _g31=0;var _g21=map.submaps;while(_g31<_g21){var j=_g31++;if(map.submapFloor[j]>=header1.floorConfig.length){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:191,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}if(map.submapResidue[j]>=header1.residueConfig.length){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:194,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}}}var modeCount;if(decodeState.validBits<0){modeCount=0}else if(decodeState.validBits<6){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<6)){break}}if(decodeState.validBits<0){modeCount=0}else{var z12=decodeState.acc&63;decodeState.acc=decodeState.acc>>>6;decodeState.validBits-=6;modeCount=z12}}else{var z13=decodeState.acc&63;decodeState.acc=decodeState.acc>>>6;decodeState.validBits-=6;modeCount=z13}var modeCount1=modeCount+1;var this5=new Array(modeCount1);header1.modes=this5;var _g16=0;var _g9=modeCount1;while(_g16<_g9){var i8=_g16++;var mode=kha_audio2_ogg_vorbis_data_Mode.read(decodeState);header1.modes[i8]=mode;if(mode.mapping>=header1.mapping.length){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Header.hx",lineNumber:205,className:"kha.audio2.ogg.vorbis.data.Header",methodName:"read"}))}}while(decodeState.bytesInSeg!=0||!decodeState.lastSeg&&decodeState.next()!=0){decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.input.readByte()}return header1};kha_audio2_ogg_vorbis_data_Header.prototype={maximumBitRate:null,nominalBitRate:null,minimumBitRate:null,sampleRate:null,channel:null,blocksize0:null,blocksize1:null,codebooks:null,floorConfig:null,residueConfig:null,mapping:null,modes:null,comment:null,vendor:null,__class__:kha_audio2_ogg_vorbis_data_Header};var kha_audio2_ogg_vorbis_data_IntPoint=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.IntPoint"]=kha_audio2_ogg_vorbis_data_IntPoint;kha_audio2_ogg_vorbis_data_IntPoint.__name__=true;kha_audio2_ogg_vorbis_data_IntPoint.prototype={x:null,y:null,__class__:kha_audio2_ogg_vorbis_data_IntPoint};var kha_audio2_ogg_vorbis_data_Mapping=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Mapping"]=kha_audio2_ogg_vorbis_data_Mapping;kha_audio2_ogg_vorbis_data_Mapping.__name__=true;kha_audio2_ogg_vorbis_data_Mapping.read=function(decodeState,channels){var m=new kha_audio2_ogg_vorbis_data_Mapping;var mappingType;if(decodeState.validBits<0){mappingType=0}else if(decodeState.validBits<16){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<16)){break}}if(decodeState.validBits<0){mappingType=0}else{var z=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;mappingType=z}}else{var z1=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;mappingType=z1}if(mappingType!=0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,"mapping type "+mappingType,{fileName:"Mapping.hx",lineNumber:22,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}))}var this1=new Array(channels);m.chan=this1;var _g1=0;var _g=channels;while(_g1<_g){var j=_g1++;m.chan[j]=new kha_audio2_ogg_vorbis_data_MappingChannel}var tmp;if(decodeState.validBits<0){tmp=0}else if(decodeState.validBits<1){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<1)){break}}if(decodeState.validBits<0){tmp=0}else{var z2=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;tmp=z2}}else{var z3=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;tmp=z3}if(tmp!=0){var tmp1;if(decodeState.validBits<0){tmp1=0}else if(decodeState.validBits<4){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<4)){break}}if(decodeState.validBits<0){tmp1=0}else{var z4=decodeState.acc&15;decodeState.acc=decodeState.acc>>>4;decodeState.validBits-=4;tmp1=z4}}else{var z5=decodeState.acc&15;decodeState.acc=decodeState.acc>>>4;decodeState.validBits-=4;tmp1=z5}m.submaps=tmp1+1}else{m.submaps=1}var tmp2;if(decodeState.validBits<0){tmp2=0}else if(decodeState.validBits<1){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<1)){break}}if(decodeState.validBits<0){tmp2=0}else{var z6=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;tmp2=z6}}else{var z7=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;tmp2=z7}if(tmp2!=0){var tmp3;if(decodeState.validBits<0){tmp3=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){tmp3=0}else{var z8=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp3=z8}}else{var z9=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp3=z9}m.couplingSteps=tmp3+1;var _g11=0;var _g2=m.couplingSteps;while(_g11<_g2){var k=_g11++;var tmp4=m.chan[k];var n=channels-1;var log2_4=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];var n1=n<16384?n<16?log2_4[n]:n<512?5+log2_4[n>>5]:10+log2_4[n>>10]:n<16777216?n<524288?15+log2_4[n>>15]:20+log2_4[n>>20]:n<536870912?25+log2_4[n>>25]:n<-2147483648?30+log2_4[n>>30]:0;var tmp5;if(decodeState.validBits<0){tmp5=0}else if(decodeState.validBits<n1){if(n1>24){tmp5=decodeState.readBits(24)+(decodeState.readBits(n1-24)<<24)}else{if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<n1)){break}}if(decodeState.validBits<0){tmp5=0}else{var z10=decodeState.acc&(1<<n1)-1;decodeState.acc=decodeState.acc>>>n1;decodeState.validBits-=n1;tmp5=z10}}}else{var z11=decodeState.acc&(1<<n1)-1;decodeState.acc=decodeState.acc>>>n1;decodeState.validBits-=n1;tmp5=z11}tmp4.magnitude=tmp5;var tmp6=m.chan[k];var n2=channels-1;var log2_41=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];var n3=n2<16384?n2<16?log2_41[n2]:n2<512?5+log2_41[n2>>5]:10+log2_41[n2>>10]:n2<16777216?n2<524288?15+log2_41[n2>>15]:20+log2_41[n2>>20]:n2<536870912?25+log2_41[n2>>25]:n2<-2147483648?30+log2_41[n2>>30]:0;var tmp7;if(decodeState.validBits<0){tmp7=0}else if(decodeState.validBits<n3){if(n3>24){tmp7=decodeState.readBits(24)+(decodeState.readBits(n3-24)<<24)}else{if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<n3)){break}}if(decodeState.validBits<0){tmp7=0}else{var z12=decodeState.acc&(1<<n3)-1;decodeState.acc=decodeState.acc>>>n3;decodeState.validBits-=n3;tmp7=z12}}}else{var z13=decodeState.acc&(1<<n3)-1;decodeState.acc=decodeState.acc>>>n3;decodeState.validBits-=n3;tmp7=z13}tmp6.angle=tmp7;if(m.chan[k].magnitude>=channels){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Mapping.hx",lineNumber:46,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}))}if(m.chan[k].angle>=channels){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Mapping.hx",lineNumber:49,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}))}if(m.chan[k].magnitude==m.chan[k].angle){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Mapping.hx",lineNumber:52,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}))}}}else{m.couplingSteps=0}var tmp8;if(decodeState.validBits<0){tmp8=0}else if(decodeState.validBits<2){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<2)){break}}if(decodeState.validBits<0){tmp8=0}else{var z14=decodeState.acc&3;decodeState.acc=decodeState.acc>>>2;decodeState.validBits-=2;tmp8=z14}}else{var z15=decodeState.acc&3;decodeState.acc=decodeState.acc>>>2;decodeState.validBits-=2;tmp8=z15}if(tmp8!=0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Mapping.hx",lineNumber:61,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}))}if(m.submaps>1){var _g12=0;var _g3=channels;while(_g12<_g3){var j1=_g12++;var tmp9=m.chan[j1];var tmp10;if(decodeState.validBits<0){tmp10=0}else if(decodeState.validBits<4){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<4)){break}}if(decodeState.validBits<0){tmp10=0}else{var z16=decodeState.acc&15;decodeState.acc=decodeState.acc>>>4;decodeState.validBits-=4;tmp10=z16}}else{var z17=decodeState.acc&15;decodeState.acc=decodeState.acc>>>4;decodeState.validBits-=4;tmp10=z17}tmp9.mux=tmp10;if(m.chan[j1].mux>=m.submaps){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Mapping.hx",lineNumber:67,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"read"}))}}}else{var _g13=0;var _g4=channels;while(_g13<_g4){var j2=_g13++;m.chan[j2].mux=0}}var length=m.submaps;var this2=new Array(length);m.submapFloor=this2;var length1=m.submaps;var this3=new Array(length1);m.submapResidue=this3;var _g14=0;var _g5=m.submaps;while(_g14<_g5){var j3=_g14++;if(decodeState.validBits>=0){if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits>=0){var z18=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8}}else{var z19=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8}}var this4=m.submapFloor;var val;if(decodeState.validBits<0){val=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){val=0}else{var z20=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;val=z20}}else{var z21=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;val=z21}this4[j3]=val;var this5=m.submapResidue;var val1;if(decodeState.validBits<0){val1=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){val1=0}else{var z22=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;val1=z22}}else{var z23=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;val1=z23}this5[j3]=val1}return m};kha_audio2_ogg_vorbis_data_Mapping.prototype={couplingSteps:null,chan:null,submaps:null,submapFloor:null,submapResidue:null,doFloor:function(floors,i,n,target,finalY,step2Flag){var n2=n>>1;var s=this.chan[i].mux;var floor;var floor1=floors[this.submapFloor[s]];if(floor1.type==0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM,null,{fileName:"Mapping.hx",lineNumber:94,className:"kha.audio2.ogg.vorbis.data.Mapping",methodName:"doFloor"}))}else{var g=floor1.floor1;var lx=0;var ly=finalY[0]*g.floor1Multiplier;var _g1=1;var _g=g.values;while(_g1<_g){var q=_g1++;var j=g.sortedOrder[q];if(finalY[j]>=0){var hy=finalY[j]*g.floor1Multiplier;var hx=g.xlist[j];kha_audio2_ogg_vorbis_VorbisTools.drawLine(target,lx,ly,hx,hy,n2);lx=hx;ly=hy}}if(lx<n2){var _g11=lx;var _g2=n2;while(_g11<_g2){var j1=_g11++;var _g21=j1;var _g3=target;_g3[_g21]=_g3[_g21]*kha_audio2_ogg_vorbis_VorbisTools.INVERSE_DB_TABLE[ly]}}}},__class__:kha_audio2_ogg_vorbis_data_Mapping};var kha_audio2_ogg_vorbis_data_MappingChannel=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.MappingChannel"]=kha_audio2_ogg_vorbis_data_MappingChannel;kha_audio2_ogg_vorbis_data_MappingChannel.__name__=true;kha_audio2_ogg_vorbis_data_MappingChannel.prototype={magnitude:null,angle:null,mux:null,__class__:kha_audio2_ogg_vorbis_data_MappingChannel};var kha_audio2_ogg_vorbis_data_Mode=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Mode"]=kha_audio2_ogg_vorbis_data_Mode;kha_audio2_ogg_vorbis_data_Mode.__name__=true;kha_audio2_ogg_vorbis_data_Mode.read=function(decodeState){var m=new kha_audio2_ogg_vorbis_data_Mode;var tmp;if(decodeState.validBits<0){tmp=0}else if(decodeState.validBits<1){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<1)){break}}if(decodeState.validBits<0){tmp=0}else{var z=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;tmp=z}}else{var z1=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;tmp=z1}m.blockflag=tmp!=0;var tmp1;if(decodeState.validBits<0){tmp1=0}else if(decodeState.validBits<16){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<16)){break}}if(decodeState.validBits<0){tmp1=0}else{var z2=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;tmp1=z2}}else{var z3=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;tmp1=z3}m.windowtype=tmp1;var tmp2;if(decodeState.validBits<0){tmp2=0}else if(decodeState.validBits<16){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<16)){break}}if(decodeState.validBits<0){tmp2=0}else{var z4=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;tmp2=z4}}else{var z5=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;tmp2=z5}m.transformtype=tmp2;var tmp3;if(decodeState.validBits<0){tmp3=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){tmp3=0}else{var z6=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp3=z6}}else{var z7=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp3=z7}m.mapping=tmp3;if(m.windowtype!=0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Mode.hx",lineNumber:22,className:"kha.audio2.ogg.vorbis.data.Mode",methodName:"read"}))}if(m.transformtype!=0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Mode.hx",lineNumber:25,className:"kha.audio2.ogg.vorbis.data.Mode",methodName:"read"}))}return m};kha_audio2_ogg_vorbis_data_Mode.prototype={blockflag:null,mapping:null,windowtype:null,transformtype:null,__class__:kha_audio2_ogg_vorbis_data_Mode};var kha_audio2_ogg_vorbis_data_Page=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Page"]=kha_audio2_ogg_vorbis_data_Page;kha_audio2_ogg_vorbis_data_Page.__name__=true;kha_audio2_ogg_vorbis_data_Page.prototype={flag:null,clone:function(){var page=new kha_audio2_ogg_vorbis_data_Page;page.flag=this.flag;return page},start:function(decodeState){var tmp;var tmp1;var tmp2;decodeState.inputPosition+=1;if(decodeState.input.readByte()==79){decodeState.inputPosition+=1;tmp2=decodeState.input.readByte()!=103}else{tmp2=true}if(!tmp2){decodeState.inputPosition+=1;tmp1=decodeState.input.readByte()!=103}else{tmp1=true}if(!tmp1){decodeState.inputPosition+=1;tmp=decodeState.input.readByte()!=83}else{tmp=true}if(tmp){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN,null,{fileName:"VorbisDecodeState.hx",lineNumber:323,className:"kha.audio2.ogg.vorbis.VorbisDecodeState",methodName:"capturePattern"}))}this.startWithoutCapturePattern(decodeState)},startWithoutCapturePattern:function(decodeState){decodeState.inputPosition+=1;var version=decodeState.input.readByte();if(version!=0){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM_STRUCTURE_VERSION,""+version,{fileName:"Page.hx",lineNumber:34,className:"kha.audio2.ogg.vorbis.data.Page",methodName:"startWithoutCapturePattern"}))}decodeState.inputPosition+=1;this.flag=decodeState.input.readByte();decodeState.inputPosition+=4;var loc0=decodeState.input.readInt32();decodeState.inputPosition+=4;var loc1=decodeState.input.readInt32();decodeState.inputPosition+=4;decodeState.input.readInt32();decodeState.inputPosition+=4;decodeState.input.readInt32();decodeState.inputPosition+=4;decodeState.input.readInt32();decodeState.setup(loc0,loc1)},__class__:kha_audio2_ogg_vorbis_data_Page};var kha_audio2_ogg_vorbis_data_ProbedPage=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.ProbedPage"]=kha_audio2_ogg_vorbis_data_ProbedPage;kha_audio2_ogg_vorbis_data_ProbedPage.__name__=true;kha_audio2_ogg_vorbis_data_ProbedPage.prototype={pageStart:null,pageEnd:null,afterPreviousPageStart:null,firstDecodedSample:null,lastDecodedSample:null,__class__:kha_audio2_ogg_vorbis_data_ProbedPage};var kha_audio2_ogg_vorbis_data_ReaderError=function(type,message,posInfos){if(message==null){message=""}this.type=type;this.message=message;this.posInfos=posInfos};$hxClasses["kha.audio2.ogg.vorbis.data.ReaderError"]=kha_audio2_ogg_vorbis_data_ReaderError;kha_audio2_ogg_vorbis_data_ReaderError.__name__=true;kha_audio2_ogg_vorbis_data_ReaderError.prototype={type:null,message:null,posInfos:null,__class__:kha_audio2_ogg_vorbis_data_ReaderError};var kha_audio2_ogg_vorbis_data_ReaderErrorType=$hxClasses["kha.audio2.ogg.vorbis.data.ReaderErrorType"]={__ename__:true,__constructs__:["NEED_MORE_DATA","INVALID_API_MIXING","OUTOFMEM","FEATURE_NOT_SUPPORTED","TOO_MANY_CHANNELS","FILE_OPEN_FAILURE","SEEK_WITHOUT_LENGTH","UNEXPECTED_EOF","SEEK_INVALID","INVALID_SETUP","INVALID_STREAM","MISSING_CAPTURE_PATTERN","INVALID_STREAM_STRUCTURE_VERSION","CONTINUED_PACKET_FLAG_INVALID","INCORRECT_STREAM_SERIAL_NUMBER","INVALID_FIRST_PAGE","BAD_PACKET_TYPE","CANT_FIND_LAST_PAGE","SEEK_FAILED","OTHER"]};kha_audio2_ogg_vorbis_data_ReaderErrorType.NEED_MORE_DATA=["NEED_MORE_DATA",0];kha_audio2_ogg_vorbis_data_ReaderErrorType.NEED_MORE_DATA.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.NEED_MORE_DATA.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_API_MIXING=["INVALID_API_MIXING",1];kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_API_MIXING.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_API_MIXING.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.OUTOFMEM=["OUTOFMEM",2];kha_audio2_ogg_vorbis_data_ReaderErrorType.OUTOFMEM.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.OUTOFMEM.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.FEATURE_NOT_SUPPORTED=["FEATURE_NOT_SUPPORTED",3];kha_audio2_ogg_vorbis_data_ReaderErrorType.FEATURE_NOT_SUPPORTED.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.FEATURE_NOT_SUPPORTED.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.TOO_MANY_CHANNELS=["TOO_MANY_CHANNELS",4];kha_audio2_ogg_vorbis_data_ReaderErrorType.TOO_MANY_CHANNELS.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.TOO_MANY_CHANNELS.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.FILE_OPEN_FAILURE=["FILE_OPEN_FAILURE",5];kha_audio2_ogg_vorbis_data_ReaderErrorType.FILE_OPEN_FAILURE.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.FILE_OPEN_FAILURE.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_WITHOUT_LENGTH=["SEEK_WITHOUT_LENGTH",6];kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_WITHOUT_LENGTH.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_WITHOUT_LENGTH.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.UNEXPECTED_EOF=["UNEXPECTED_EOF",7];kha_audio2_ogg_vorbis_data_ReaderErrorType.UNEXPECTED_EOF.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.UNEXPECTED_EOF.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_INVALID=["SEEK_INVALID",8];kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_INVALID.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_INVALID.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP=["INVALID_SETUP",9];kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM=["INVALID_STREAM",10];kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN=["MISSING_CAPTURE_PATTERN",11];kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.MISSING_CAPTURE_PATTERN.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM_STRUCTURE_VERSION=["INVALID_STREAM_STRUCTURE_VERSION",12];kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM_STRUCTURE_VERSION.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_STREAM_STRUCTURE_VERSION.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.CONTINUED_PACKET_FLAG_INVALID=["CONTINUED_PACKET_FLAG_INVALID",13];kha_audio2_ogg_vorbis_data_ReaderErrorType.CONTINUED_PACKET_FLAG_INVALID.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.CONTINUED_PACKET_FLAG_INVALID.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.INCORRECT_STREAM_SERIAL_NUMBER=["INCORRECT_STREAM_SERIAL_NUMBER",14];kha_audio2_ogg_vorbis_data_ReaderErrorType.INCORRECT_STREAM_SERIAL_NUMBER.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.INCORRECT_STREAM_SERIAL_NUMBER.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE=["INVALID_FIRST_PAGE",15];kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_FIRST_PAGE.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.BAD_PACKET_TYPE=["BAD_PACKET_TYPE",16];kha_audio2_ogg_vorbis_data_ReaderErrorType.BAD_PACKET_TYPE.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.BAD_PACKET_TYPE.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE=["CANT_FIND_LAST_PAGE",17];kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.CANT_FIND_LAST_PAGE.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED=["SEEK_FAILED",18];kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.SEEK_FAILED.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER=["OTHER",19];kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER.toString=$estr;kha_audio2_ogg_vorbis_data_ReaderErrorType.OTHER.__enum__=kha_audio2_ogg_vorbis_data_ReaderErrorType;var kha_audio2_ogg_vorbis_data_Residue=function(){};$hxClasses["kha.audio2.ogg.vorbis.data.Residue"]=kha_audio2_ogg_vorbis_data_Residue;kha_audio2_ogg_vorbis_data_Residue.__name__=true;kha_audio2_ogg_vorbis_data_Residue.read=function(decodeState,codebooks){var r=new kha_audio2_ogg_vorbis_data_Residue;var tmp;if(decodeState.validBits<0){tmp=0}else if(decodeState.validBits<16){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<16)){break}}if(decodeState.validBits<0){tmp=0}else{var z=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;tmp=z}}else{var z1=decodeState.acc&65535;decodeState.acc=decodeState.acc>>>16;decodeState.validBits-=16;tmp=z1}r.type=tmp;if(r.type>2){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Residue.hx",lineNumber:29,className:"kha.audio2.ogg.vorbis.data.Residue",methodName:"read"}))}var this1=new Array(64);var residueCascade=this1;var tmp1;if(decodeState.validBits<0){tmp1=0}else if(decodeState.validBits<24){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<24)){break}}if(decodeState.validBits<0){tmp1=0}else{var z2=decodeState.acc&16777215;decodeState.acc=decodeState.acc>>>24;decodeState.validBits-=24;tmp1=z2}}else{var z3=decodeState.acc&16777215;decodeState.acc=decodeState.acc>>>24;decodeState.validBits-=24;tmp1=z3}r.begin=tmp1;var tmp2;if(decodeState.validBits<0){tmp2=0}else if(decodeState.validBits<24){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<24)){break}}if(decodeState.validBits<0){tmp2=0}else{var z4=decodeState.acc&16777215;decodeState.acc=decodeState.acc>>>24;decodeState.validBits-=24;tmp2=z4}}else{var z5=decodeState.acc&16777215;decodeState.acc=decodeState.acc>>>24;decodeState.validBits-=24;tmp2=z5}r.end=tmp2;var tmp3;if(decodeState.validBits<0){tmp3=0}else if(decodeState.validBits<24){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<24)){break}}if(decodeState.validBits<0){tmp3=0}else{var z6=decodeState.acc&16777215;decodeState.acc=decodeState.acc>>>24;decodeState.validBits-=24;tmp3=z6}}else{var z7=decodeState.acc&16777215;decodeState.acc=decodeState.acc>>>24;decodeState.validBits-=24;tmp3=z7}r.partSize=tmp3+1;var classifications;if(decodeState.validBits<0){classifications=0}else if(decodeState.validBits<6){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<6)){break}}if(decodeState.validBits<0){classifications=0}else{var z8=decodeState.acc&63;decodeState.acc=decodeState.acc>>>6;decodeState.validBits-=6;classifications=z8}}else{var z9=decodeState.acc&63;decodeState.acc=decodeState.acc>>>6;decodeState.validBits-=6;classifications=z9}var classifications1=r.classifications=classifications+1;var tmp4;if(decodeState.validBits<0){tmp4=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){tmp4=0}else{var z10=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp4=z10}}else{var z11=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;tmp4=z11}r.classbook=tmp4;var _g1=0;var _g=r.classifications;while(_g1<_g){var j=_g1++;var highBits=0;var lowBits;if(decodeState.validBits<0){lowBits=0}else if(decodeState.validBits<3){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<3)){break}}if(decodeState.validBits<0){lowBits=0}else{var z12=decodeState.acc&7;decodeState.acc=decodeState.acc>>>3;decodeState.validBits-=3;lowBits=z12}}else{var z13=decodeState.acc&7;decodeState.acc=decodeState.acc>>>3;decodeState.validBits-=3;lowBits=z13}var tmp5;if(decodeState.validBits<0){tmp5=0}else if(decodeState.validBits<1){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<1)){break}}if(decodeState.validBits<0){tmp5=0}else{var z14=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;tmp5=z14}}else{var z15=decodeState.acc&1;decodeState.acc=decodeState.acc>>>1;decodeState.validBits-=1;tmp5=z15}if(tmp5!=0){if(decodeState.validBits<0){highBits=0}else if(decodeState.validBits<5){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<5)){break}}if(decodeState.validBits<0){highBits=0}else{var z16=decodeState.acc&31;decodeState.acc=decodeState.acc>>>5;decodeState.validBits-=5;highBits=z16}}else{var z17=decodeState.acc&31;decodeState.acc=decodeState.acc>>>5;decodeState.validBits-=5;highBits=z17}}residueCascade[j]=highBits*8+lowBits}var length=r.classifications;var this2=new Array(length);r.residueBooks=this2;var _g11=0;var _g2=r.classifications;while(_g11<_g2){var j1=_g11++;var this3=r.residueBooks;var this4=new Array(8);this3[j1]=this4;var _g21=0;while(_g21<8){var k=_g21++;if((residueCascade[j1]&1<<k)!=0){var this5=r.residueBooks[j1];var val;if(decodeState.validBits<0){val=0}else if(decodeState.validBits<8){if(decodeState.validBits==0){decodeState.acc=0}while(true){if(decodeState.bytesInSeg==0&&(decodeState.lastSeg||decodeState.next()==0)){decodeState.validBits=-1;break}else{decodeState.bytesInSeg--;decodeState.inputPosition+=1;decodeState.acc=decodeState.acc+(decodeState.input.readByte()<<decodeState.validBits);decodeState.validBits+=8}if(!(decodeState.validBits<8)){break}}if(decodeState.validBits<0){val=0}else{var z18=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;val=z18}}else{var z19=decodeState.acc&255;decodeState.acc=decodeState.acc>>>8;decodeState.validBits-=8;val=z19}this5[k]=val;if(r.residueBooks[j1][k]>=codebooks.length){throw new js__$Boot_HaxeError(new kha_audio2_ogg_vorbis_data_ReaderError(kha_audio2_ogg_vorbis_data_ReaderErrorType.INVALID_SETUP,null,{fileName:"Residue.hx",lineNumber:55,className:"kha.audio2.ogg.vorbis.data.Residue",methodName:"read"}))}}else{r.residueBooks[j1][k]=-1}}}var el=codebooks[r.classbook].entries;var classwords=codebooks[r.classbook].dimensions;var this6=new Array(el);r.classdata=this6;var _g12=0;var _g3=el;while(_g12<_g3){var j2=_g12++;var temp=j2;var k1=classwords;var this7=r.classdata;var this8=new Array(classwords);var cd=this7[j2]=this8;while(--k1>=0){cd[k1]=temp%classifications1;temp=temp/classifications1|0}}return r};kha_audio2_ogg_vorbis_data_Residue.prototype={begin:null,end:null,partSize:null,classifications:null,classbook:null,classdata:null,residueBooks:null,type:null,decode:function(decodeState,header,residueBuffers,ch,n,doNotDecode,channelBuffers){var codebooks=header.codebooks;var classwords=codebooks[this.classbook].dimensions;var nRead=this.end-this.begin;var partSize=this.partSize;var partRead=_$UInt_UInt_$Impl_$.toFloat(nRead)/_$UInt_UInt_$Impl_$.toFloat(partSize)|0;var length=header.channel*partRead+1;var this1=new Array(length);var classifications=this1;var _g1=0;var _g=ch;while(_g1<_g){var i=_g1++;if(!doNotDecode[i]){var buffer=residueBuffers[i];var _g3=0;var _g2=buffer.length;while(_g3<_g2){var j=_g3++;buffer[j]=0}}}if(this.type==2&&ch!=1){var _g11=0;var _g4=ch;while(_g11<_g4){var j1=_g11++;if(!doNotDecode[j1]){break}else if(j1==ch-1){return}}var _g5=0;while(_g5<8){var pass=_g5++;var pcount=0;var classSet=0;if(ch==2){while(pcount<partRead){var z=this.begin+pcount*partSize;var cInter=z&1;var pInter=z>>>1;if(pass==0){var c=codebooks[this.classbook];if(decodeState.validBits<10){decodeState.prepHuffman()}var i1=c.fastHuffman[decodeState.acc&1023];var val;if(i1>=0){var l=c.codewordLengths[i1];decodeState.acc=decodeState.acc>>>l;decodeState.validBits-=l;if(decodeState.validBits<0){decodeState.validBits=0;val=-1}else{val=i1}}else{val=decodeState.decodeScalarRaw(c)}if(c.sparse){val=c.sortedValues[val]}var q=val;if(q==-1){return}var i2=classwords;while(--i2>=0){classifications[i2+pcount]=q%this.classifications;q=q/this.classifications|0}}var _g21=0;var _g12=classwords;while(_g21<_g12){var i3=_g21++;if(pcount>=partRead){break}var z1=this.begin+pcount*partSize;var c1=classifications[pcount];var b=this.residueBooks[c1][pass];if(b>=0){var book=codebooks[b];var result=book.decodeDeinterleaveRepeat(decodeState,residueBuffers,ch,cInter,pInter,n,partSize);if(result==null){return}else{cInter=result.cInter;pInter=result.pInter}}else{z1=z1+partSize;cInter=z1&1;pInter=z1>>>1}++pcount}}}else if(ch==1){while(pcount<partRead){var z2=this.begin+pcount*partSize;var cInter1=0;var pInter1=z2;if(pass==0){var c2=codebooks[this.classbook];if(decodeState.validBits<10){decodeState.prepHuffman()}var i4=c2.fastHuffman[decodeState.acc&1023];var val1;if(i4>=0){var l1=c2.codewordLengths[i4];decodeState.acc=decodeState.acc>>>l1;decodeState.validBits-=l1;if(decodeState.validBits<0){decodeState.validBits=0;val1=-1}else{val1=i4}}else{val1=decodeState.decodeScalarRaw(c2)}if(c2.sparse){val1=c2.sortedValues[val1]}var q1=val1;if(q1==-1){return}var i5=classwords;while(--i5>=0){classifications[i5+pcount]=q1%this.classifications;q1=q1/this.classifications|0}}var _g22=0;var _g13=classwords;while(_g22<_g13){var i6=_g22++;if(pcount>=partRead){break}var z3=this.begin+pcount*partSize;var b1=this.residueBooks[classifications[pcount]][pass];if(b1>=0){var book1=codebooks[b1];var result1=book1.decodeDeinterleaveRepeat(decodeState,residueBuffers,ch,cInter1,pInter1,n,partSize);if(result1==null){return}else{cInter1=result1.cInter;pInter1=result1.pInter}}else{z3=z3+partSize;cInter1=0;pInter1=z3}++pcount}}}else{while(pcount<partRead){var z4=this.begin+pcount*partSize;var cInter2=_$UInt_UInt_$Impl_$.toFloat(z4)%_$UInt_UInt_$Impl_$.toFloat(ch)|0;var pInter2=_$UInt_UInt_$Impl_$.toFloat(z4)/_$UInt_UInt_$Impl_$.toFloat(ch)|0;if(pass==0){var c3=codebooks[this.classbook];if(decodeState.validBits<10){decodeState.prepHuffman()}var i7=c3.fastHuffman[decodeState.acc&1023];var val2;if(i7>=0){var l2=c3.codewordLengths[i7];decodeState.acc=decodeState.acc>>>l2;decodeState.validBits-=l2;if(decodeState.validBits<0){decodeState.validBits=0;val2=-1}else{val2=i7}}else{val2=decodeState.decodeScalarRaw(c3)}if(c3.sparse){val2=c3.sortedValues[val2]}var q2=val2;if(q2==-1){return}var i8=classwords;while(--i8>=0){classifications[i8+pcount]=q2%this.classifications;q2=q2/this.classifications|0}}var _g23=0;var _g14=classwords;while(_g23<_g14){var i9=_g23++;if(pcount>=partRead){break}var z5=this.begin+pcount*partSize;var b2=this.residueBooks[classifications[pcount]][pass];if(b2>=0){var book2=codebooks[b2];var result2=book2.decodeDeinterleaveRepeat(decodeState,residueBuffers,ch,cInter2,pInter2,n,partSize);if(result2==null){return}else{cInter2=result2.cInter;pInter2=result2.pInter}}else{z5=z5+partSize;cInter2=_$UInt_UInt_$Impl_$.toFloat(z5)%_$UInt_UInt_$Impl_$.toFloat(ch)|0;pInter2=_$UInt_UInt_$Impl_$.toFloat(z5)/_$UInt_UInt_$Impl_$.toFloat(ch)|0}++pcount}}}}return}var _g6=0;while(_g6<8){var pass1=_g6++;var pcount1=0;var classSet1=0;while(pcount1<partRead){if(pass1==0){var _g24=0;var _g15=ch;while(_g24<_g15){var j2=_g24++;if(!doNotDecode[j2]){var c4=codebooks[this.classbook];if(decodeState.validBits<10){decodeState.prepHuffman()}var i10=c4.fastHuffman[decodeState.acc&1023];var val3;if(i10>=0){var l3=c4.codewordLengths[i10];decodeState.acc=decodeState.acc>>>l3;decodeState.validBits-=l3;if(decodeState.validBits<0){decodeState.validBits=0;val3=-1}else{val3=i10}}else{val3=decodeState.decodeScalarRaw(c4)}if(c4.sparse){val3=c4.sortedValues[val3]}var temp=val3;if(temp==-1){return}var i11=classwords;while(--i11>=0){classifications[j2*partRead+i11+pcount1]=temp%this.classifications;temp=temp/this.classifications|0}}}}var _g25=0;var _g16=classwords;while(_g25<_g16){var i12=_g25++;if(pcount1>=partRead){break}var _g41=0;var _g31=ch;while(_g41<_g31){var j3=_g41++;if(!doNotDecode[j3]){var c5=classifications[j3*partRead+pcount1];var b3=this.residueBooks[c5][pass1];if(b3>=0){var target=residueBuffers[j3];var offset=this.begin+pcount1*partSize;var n1=partSize;var book3=codebooks[b3];if(!book3.residueDecode(decodeState,target,offset,n1,this.type)){return}}}}++pcount1}}}},__class__:kha_audio2_ogg_vorbis_data_Residue};var kha_graphics1_Graphics=function(){};$hxClasses["kha.graphics1.Graphics"]=kha_graphics1_Graphics;kha_graphics1_Graphics.__name__=true;var kha_graphics2_Graphics=function(){this.transformations=[];this.transformations.push(new kha_math_FastMatrix3(1,0,0,0,1,0,0,0,1));this.opacities=[];this.opacities.push(1);this.myFontSize=12;this.pipe=null};$hxClasses["kha.graphics2.Graphics"]=kha_graphics2_Graphics;kha_graphics2_Graphics.__name__=true;kha_graphics2_Graphics.prototype={begin:function(clear,clearColor){if(clear==null){clear=true}},end:function(){},drawScaledImage:function(img,dx,dy,dw,dh){this.drawScaledSubImage(img,0,0,img.get_width(),img.get_height(),dx,dy,dw,dh)},drawScaledSubImage:function(image,sx,sy,sw,sh,dx,dy,dw,dh){},drawRect:function(x,y,width,height,strength){if(strength==null){strength=1}},fillRect:function(x,y,width,height){},drawString:function(text,x,y){},drawLine:function(x1,y1,x2,y2,strength){if(strength==null){strength=1}},set_color:function(color){return-16777216},set_font:function(font){return null},get_fontSize:function(){return this.myFontSize},set_fontSize:function(value){return this.myFontSize=value},get_opacity:function(){return this.opacities[this.opacities.length-1]},pipe:null,transformations:null,opacities:null,myFontSize:null,__class__:kha_graphics2_Graphics,__properties__:{get_opacity:"get_opacity",set_fontSize:"set_fontSize",get_fontSize:"get_fontSize",set_font:"set_font",set_color:"set_color"}};var kha_graphics2_Graphics1=function(canvas){this.canvas=canvas};$hxClasses["kha.graphics2.Graphics1"]=kha_graphics2_Graphics1;kha_graphics2_Graphics1.__name__=true;kha_graphics2_Graphics1.__interfaces__=[kha_graphics1_Graphics];kha_graphics2_Graphics1.prototype={canvas:null,__class__:kha_graphics2_Graphics1};var kha_graphics2_ImageScaleQuality=$hxClasses["kha.graphics2.ImageScaleQuality"]={__ename__:true,__constructs__:["Low","High"]};kha_graphics2_ImageScaleQuality.Low=["Low",0];kha_graphics2_ImageScaleQuality.Low.toString=$estr;kha_graphics2_ImageScaleQuality.Low.__enum__=kha_graphics2_ImageScaleQuality;kha_graphics2_ImageScaleQuality.High=["High",1];kha_graphics2_ImageScaleQuality.High.toString=$estr;kha_graphics2_ImageScaleQuality.High.__enum__=kha_graphics2_ImageScaleQuality;var kha_graphics2_truetype_VectorOfIntPointer=function(){};$hxClasses["kha.graphics2.truetype.VectorOfIntPointer"]=kha_graphics2_truetype_VectorOfIntPointer;kha_graphics2_truetype_VectorOfIntPointer.__name__=true;kha_graphics2_truetype_VectorOfIntPointer.prototype={value:null,__class__:kha_graphics2_truetype_VectorOfIntPointer};var kha_graphics2_truetype_Stbtt_$temp_$rect=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_temp_rect"]=kha_graphics2_truetype_Stbtt_$temp_$rect;kha_graphics2_truetype_Stbtt_$temp_$rect.__name__=true;kha_graphics2_truetype_Stbtt_$temp_$rect.prototype={x0:null,y0:null,x1:null,y1:null,__class__:kha_graphics2_truetype_Stbtt_$temp_$rect};var kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_temp_glyph_h_metrics"]=kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics;kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics.__name__=true;kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics.prototype={advanceWidth:null,leftSideBearing:null,__class__:kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics};var kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_temp_font_v_metrics"]=kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics;kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics.__name__=true;kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics.prototype={ascent:null,descent:null,lineGap:null,__class__:kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics};var kha_graphics2_truetype_Stbtt_$bakedchar=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_bakedchar"]=kha_graphics2_truetype_Stbtt_$bakedchar;kha_graphics2_truetype_Stbtt_$bakedchar.__name__=true;kha_graphics2_truetype_Stbtt_$bakedchar.prototype={x0:null,y0:null,x1:null,y1:null,xoff:null,yoff:null,xadvance:null,__class__:kha_graphics2_truetype_Stbtt_$bakedchar};var kha_graphics2_truetype_Stbtt_$fontinfo=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_fontinfo"]=kha_graphics2_truetype_Stbtt_$fontinfo;kha_graphics2_truetype_Stbtt_$fontinfo.__name__=true;kha_graphics2_truetype_Stbtt_$fontinfo.prototype={data:null,fontstart:null,numGlyphs:null,loca:null,head:null,glyf:null,hhea:null,hmtx:null,kern:null,index_map:null,indexToLocFormat:null,__class__:kha_graphics2_truetype_Stbtt_$fontinfo};var kha_graphics2_truetype_Stbtt_$vertex=function(){};$hxClasses["kha.graphics2.truetype.Stbtt_vertex"]=kha_graphics2_truetype_Stbtt_$vertex;kha_graphics2_truetype_Stbtt_$vertex.__name__=true;kha_graphics2_truetype_Stbtt_$vertex.prototype={x:null,y:null,cx:null,cy:null,type:null,__class__:kha_graphics2_truetype_Stbtt_$vertex};var kha_graphics2_truetype_Stbtt_$_$bitmap=function(){};$hxClasses["kha.graphics2.truetype.Stbtt__bitmap"]=kha_graphics2_truetype_Stbtt_$_$bitmap;kha_graphics2_truetype_Stbtt_$_$bitmap.__name__=true;kha_graphics2_truetype_Stbtt_$_$bitmap.prototype={w:null,h:null,stride:null,pixels:null,pixels_offset:null,__class__:kha_graphics2_truetype_Stbtt_$_$bitmap};var kha_graphics2_truetype_Stbtt_$_$edge=function(){};$hxClasses["kha.graphics2.truetype.Stbtt__edge"]=kha_graphics2_truetype_Stbtt_$_$edge;kha_graphics2_truetype_Stbtt_$_$edge.__name__=true;kha_graphics2_truetype_Stbtt_$_$edge.prototype={x0:null,y0:null,x1:null,y1:null,invert:null,__class__:kha_graphics2_truetype_Stbtt_$_$edge};var kha_graphics2_truetype_Stbtt_$_$active_$edge=function(){};$hxClasses["kha.graphics2.truetype.Stbtt__active_edge"]=kha_graphics2_truetype_Stbtt_$_$active_$edge;kha_graphics2_truetype_Stbtt_$_$active_$edge.__name__=true;kha_graphics2_truetype_Stbtt_$_$active_$edge.prototype={next:null,fx:null,fdx:null,fdy:null,direction:null,sy:null,ey:null,__class__:kha_graphics2_truetype_Stbtt_$_$active_$edge};var kha_graphics2_truetype_Stbtt_$_$point=function(){};$hxClasses["kha.graphics2.truetype.Stbtt__point"]=kha_graphics2_truetype_Stbtt_$_$point;kha_graphics2_truetype_Stbtt_$_$point.__name__=true;kha_graphics2_truetype_Stbtt_$_$point.prototype={x:null,y:null,__class__:kha_graphics2_truetype_Stbtt_$_$point};var kha_graphics2_truetype_StbTruetype=function(){};$hxClasses["kha.graphics2.truetype.StbTruetype"]=kha_graphics2_truetype_StbTruetype;kha_graphics2_truetype_StbTruetype.__name__=true;kha_graphics2_truetype_StbTruetype.stbtt__find_table=function(data,fontstart,tag){var pos=fontstart+4;var ch1=data.readU8(pos);var ch2=data.readU8(pos+1);var num_tables=ch2|ch1<<8;var tabledir=fontstart+12;var _g1=0;var _g=num_tables;while(_g1<_g){var i=_g1++;var loc=tabledir+16*i;var c0=HxOverrides.cca(tag,0);var c1=HxOverrides.cca(tag,1);var c2=HxOverrides.cca(tag,2);var c3=HxOverrides.cca(tag,3);if(data.readU8(loc)==c0&&data.readU8(loc+1)==c1&&data.readU8(loc+2)==c2&&data.readU8(loc+3)==c3){var pos1=loc+8;var ch11=data.readU8(pos1);var ch21=data.readU8(pos1+1);var ch3=data.readU8(pos1+2);var ch4=data.readU8(pos1+3);return ch4|ch3<<8|ch21<<16|ch11<<24}}return 0};kha_graphics2_truetype_StbTruetype.stbtt_InitFont=function(info,data,fontstart){var cmap;var t;var numTables;info.data=data;info.fontstart=fontstart;cmap=kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"cmap");info.loca=kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"loca");info.head=kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"head");info.glyf=kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"glyf");info.hhea=kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"hhea");info.hmtx=kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"hmtx");info.kern=kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"kern");if(cmap==0||info.loca==0||info.head==0||info.glyf==0||info.hhea==0||info.hmtx==0){return false}t=kha_graphics2_truetype_StbTruetype.stbtt__find_table(data,fontstart,"maxp");if(t!=0){var pos=t+4;var ch1=data.readU8(pos);var ch2=data.readU8(pos+1);info.numGlyphs=ch2|ch1<<8}else{info.numGlyphs=65535}var pos1=cmap+2;var ch11=data.readU8(pos1);var ch21=data.readU8(pos1+1);numTables=ch21|ch11<<8;info.index_map=0;var _g1=0;var _g=numTables;while(_g1<_g){var i=_g1++;var encoding_record=cmap+4+8*i;var ch12=data.readU8(encoding_record);var ch22=data.readU8(encoding_record+1);var _g2=ch22|ch12<<8;switch(_g2){case 0:var pos2=encoding_record+4;var ch13=data.readU8(pos2);var ch23=data.readU8(pos2+1);var ch3=data.readU8(pos2+2);var ch4=data.readU8(pos2+3);info.index_map=cmap+(ch4|ch3<<8|ch23<<16|ch13<<24);break;case 3:var pos3=encoding_record+2;var ch14=data.readU8(pos3);var ch24=data.readU8(pos3+1);var _g21=ch24|ch14<<8;switch(_g21){case 1:case 10:var pos4=encoding_record+4;var ch15=data.readU8(pos4);var ch25=data.readU8(pos4+1);var ch31=data.readU8(pos4+2);var ch41=data.readU8(pos4+3);info.index_map=cmap+(ch41|ch31<<8|ch25<<16|ch15<<24);break}break}}if(info.index_map==0){return false}var pos5=info.head+50;var ch16=data.readU8(pos5);var ch26=data.readU8(pos5+1);info.indexToLocFormat=ch26|ch16<<8;return true};kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex=function(info,unicode_codepoint){var data=info.data;var index_map=info.index_map;var ch1=data.readU8(index_map);var ch2=data.readU8(index_map+1);var format=ch2|ch1<<8;if(format==0){var pos=index_map+2;var ch11=data.readU8(pos);var ch21=data.readU8(pos+1);var bytes=ch21|ch11<<8;if(unicode_codepoint<bytes-6){return data.readU8(index_map+6+unicode_codepoint)}return 0}else if(format==6){var pos1=index_map+6;var ch12=data.readU8(pos1);var ch22=data.readU8(pos1+1);var first=ch22|ch12<<8;var pos2=index_map+8;var ch13=data.readU8(pos2);var ch23=data.readU8(pos2+1);var count=ch23|ch13<<8;if(unicode_codepoint>=first&&unicode_codepoint<first+count){var pos3=index_map+10+(unicode_codepoint-first)*2;var ch14=data.readU8(pos3);var ch24=data.readU8(pos3+1);return ch24|ch14<<8}return 0}else if(format==2){throw new js__$Boot_HaxeError("Error")}else if(format==4){var pos4=index_map+6;var ch15=data.readU8(pos4);var ch25=data.readU8(pos4+1);var segcount=(ch25|ch15<<8)>>1;var pos5=index_map+8;var ch16=data.readU8(pos5);var ch26=data.readU8(pos5+1);var searchRange=(ch26|ch16<<8)>>1;var pos6=index_map+10;var ch17=data.readU8(pos6);var ch27=data.readU8(pos6+1);var entrySelector=ch27|ch17<<8;var pos7=index_map+12;var ch18=data.readU8(pos7);var ch28=data.readU8(pos7+1);var rangeShift=(ch28|ch18<<8)>>1;var endCount=index_map+14;var search=endCount;if(unicode_codepoint>65535){return 0}var pos8=search+rangeShift*2;var ch19=data.readU8(pos8);var ch29=data.readU8(pos8+1);if(unicode_codepoint>=(ch29|ch19<<8)){search+=rangeShift*2}search-=2;while(entrySelector!=0){var end;searchRange>>=1;var pos9=search+searchRange*2;var ch110=data.readU8(pos9);var ch210=data.readU8(pos9+1);end=ch210|ch110<<8;if(unicode_codepoint>end){search+=searchRange*2}--entrySelector}search+=2;var offset;var start;var item=search-endCount>>1;var pos10=endCount+2*item;var ch111=data.readU8(pos10);var ch211=data.readU8(pos10+1);if(unicode_codepoint>(ch211|ch111<<8)){throw new js__$Boot_HaxeError("Error")}var pos11=index_map+14+segcount*2+2+2*item;var ch112=data.readU8(pos11);var ch212=data.readU8(pos11+1);start=ch212|ch112<<8;if(unicode_codepoint<start){return 0}var pos12=index_map+14+segcount*6+2+2*item;var ch113=data.readU8(pos12);var ch213=data.readU8(pos12+1);offset=ch213|ch113<<8;if(offset==0){var pos13=index_map+14+segcount*4+2+2*item;var ch114=data.readU8(pos13);var ch214=data.readU8(pos13+1);var n=ch214|ch114<<8;return unicode_codepoint+((n&32768)!=0?n-65536:n)}var pos14=offset+(unicode_codepoint-start)*2+index_map+14+segcount*6+2+2*item;var ch115=data.readU8(pos14);var ch215=data.readU8(pos14+1);return ch215|ch115<<8}else if(format==12||format==13){var pos15=index_map+12;var ch116=data.readU8(pos15);var ch216=data.readU8(pos15+1);var ch3=data.readU8(pos15+2);var ch4=data.readU8(pos15+3);var ngroups=ch4|ch3<<8|ch216<<16|ch116<<24;var low;var high;low=0;high=ngroups;while(low<high){var mid=low+(high-low>>1);var pos16=index_map+16+mid*12;var ch117=data.readU8(pos16);var ch217=data.readU8(pos16+1);var ch31=data.readU8(pos16+2);var ch41=data.readU8(pos16+3);var start_char=ch41|ch31<<8|ch217<<16|ch117<<24;var pos17=index_map+16+mid*12+4;var ch118=data.readU8(pos17);var ch218=data.readU8(pos17+1);var ch32=data.readU8(pos17+2);var ch42=data.readU8(pos17+3);var end_char=ch42|ch32<<8|ch218<<16|ch118<<24;if(unicode_codepoint<start_char){high=mid}else if(unicode_codepoint>end_char){low=mid+1}else{var pos18=index_map+16+mid*12+8;var ch119=data.readU8(pos18);var ch219=data.readU8(pos18+1);var ch33=data.readU8(pos18+2);var ch43=data.readU8(pos18+3);var start_glyph=ch43|ch33<<8|ch219<<16|ch119<<24;if(format==12){return start_glyph+unicode_codepoint-start_char}else{return start_glyph}}}return 0}throw new js__$Boot_HaxeError("Error")};kha_graphics2_truetype_StbTruetype.stbtt_setvertex=function(v,type,x,y,cx,cy){v.type=type;v.x=x;v.y=y;v.cx=cx;v.cy=cy};kha_graphics2_truetype_StbTruetype.stbtt__GetGlyfOffset=function(info,glyph_index){var g1;var g2;if(glyph_index>=info.numGlyphs){return-1}if(info.indexToLocFormat>=2){return-1}if(info.indexToLocFormat==0){var info1=info.glyf;var p=info.data;var pos=info.loca+glyph_index*2;var ch1=p.readU8(pos);var ch2=p.readU8(pos+1);g1=info1+(ch2|ch1<<8)*2;var info2=info.glyf;var p1=info.data;var pos1=info.loca+glyph_index*2+2;var ch11=p1.readU8(pos1);var ch21=p1.readU8(pos1+1);g2=info2+(ch21|ch11<<8)*2}else{var info3=info.glyf;var p2=info.data;var pos2=info.loca+glyph_index*4;var ch12=p2.readU8(pos2);var ch22=p2.readU8(pos2+1);var ch3=p2.readU8(pos2+2);var ch4=p2.readU8(pos2+3);g1=info3+(ch4|ch3<<8|ch22<<16|ch12<<24);var info4=info.glyf;var p3=info.data;var pos3=info.loca+glyph_index*4+4;var ch13=p3.readU8(pos3);var ch23=p3.readU8(pos3+1);var ch31=p3.readU8(pos3+2);var ch41=p3.readU8(pos3+3);g2=info4+(ch41|ch31<<8|ch23<<16|ch13<<24)}if(g1==g2){return-1}else{return g1}};kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBox=function(info,glyph_index,rect){var g=kha_graphics2_truetype_StbTruetype.stbtt__GetGlyfOffset(info,glyph_index);if(g<0){return false}var p=info.data;var pos=g+2;var ch1=p.readU8(pos);var ch2=p.readU8(pos+1);var n=ch2|ch1<<8;rect.x0=(n&32768)!=0?n-65536:n;var p1=info.data;var pos1=g+4;var ch11=p1.readU8(pos1);var ch21=p1.readU8(pos1+1);var n1=ch21|ch11<<8;rect.y0=(n1&32768)!=0?n1-65536:n1;var p2=info.data;var pos2=g+6;var ch12=p2.readU8(pos2);var ch22=p2.readU8(pos2+1);var n2=ch22|ch12<<8;rect.x1=(n2&32768)!=0?n2-65536:n2;var p3=info.data;var pos3=g+8;var ch13=p3.readU8(pos3);var ch23=p3.readU8(pos3+1);var n3=ch23|ch13<<8;rect.y1=(n3&32768)!=0?n3-65536:n3;return true};kha_graphics2_truetype_StbTruetype.stbtt__close_shape=function(vertices,num_vertices,was_off,start_off,sx,sy,scx,scy,cx,cy){if(start_off){if(was_off){kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],3,cx+scx>>1,cy+scy>>1,cx,cy)}kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],3,sx,sy,scx,scy)}else if(was_off){kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],3,sx,sy,cx,cy)}else{kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],2,sx,sy,0,0)}return num_vertices};kha_graphics2_truetype_StbTruetype.copyVertices=function(from,to,offset,count){var _g1=0;var _g=count;while(_g1<_g){var i=_g1++;to[offset+i]=from[i]}};kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphShape=function(info,glyph_index){var numberOfContours;var endPtsOfContours;var data=info.data;var vertices=null;var num_vertices=0;var g=kha_graphics2_truetype_StbTruetype.stbtt__GetGlyfOffset(info,glyph_index);if(g<0){return null}var ch1=data.readU8(g);var ch2=data.readU8(g+1);var n=ch2|ch1<<8;if((n&32768)!=0){numberOfContours=n-65536}else{numberOfContours=n}if(numberOfContours>0){var flags=0;var flagcount;var ins;var j=0;var m;var n1;var next_move=0;var off=0;var was_off=false;var start_off=false;var x;var y;var cx;var cy;var sx;var sy;var scx;var scy;var points;var pointsIndex=0;endPtsOfContours=data.sub(g+10,data.get_length()-(g+10));var pos=g+10+numberOfContours*2;var ch11=data.readU8(pos);var ch21=data.readU8(pos+1);ins=ch21|ch11<<8;points=data.sub(g+10+numberOfContours*2+2+ins,data.get_length()-(g+10+numberOfContours*2+2+ins));var pos1=numberOfContours*2-2;var ch12=endPtsOfContours.readU8(pos1);var ch22=endPtsOfContours.readU8(pos1+1);n1=1+(ch22|ch12<<8);m=n1+2*numberOfContours;var this1=new Array(m);vertices=this1;if(vertices==null){return null}else{var _g1=0;var _g=vertices.length;while(_g1<_g){var i=_g1++;vertices[i]=new kha_graphics2_truetype_Stbtt_$vertex}}next_move=0;flagcount=0;off=m-n1;var _g11=0;var _g2=n1;while(_g11<_g2){var i1=_g11++;if(flagcount==0){flags=points.readU8(pointsIndex++);if((flags&8)!=0){flagcount=points.readU8(pointsIndex++)}}else{--flagcount}vertices[off+i1].type=flags}x=0;var _g12=0;var _g3=n1;while(_g12<_g3){var i2=_g12++;flags=vertices[off+i2].type;if((flags&2)!=0){var dx=points.readU8(pointsIndex++);x+=(flags&16)!=0?dx:-dx}else if((flags&16)==0){var value;var ch13=points.readU8(pointsIndex);var ch23=points.readU8(pointsIndex+1);var n2=ch23|ch13<<8;if((n2&32768)!=0){value=n2-65536}else{value=n2}x+=value;pointsIndex+=2}vertices[off+i2].x=x}y=0;var _g13=0;var _g4=n1;while(_g13<_g4){var i3=_g13++;flags=vertices[off+i3].type;if((flags&4)!=0){var dy=points.readU8(pointsIndex++);y+=(flags&32)!=0?dy:-dy}else if((flags&32)==0){var value1;var ch14=points.readU8(pointsIndex);var ch24=points.readU8(pointsIndex+1);var n3=ch24|ch14<<8;if((n3&32768)!=0){value1=n3-65536}else{value1=n3}y+=value1;pointsIndex+=2}vertices[off+i3].y=y}num_vertices=0;scy=0;scx=scy;cy=scx;cx=cy;sy=cx;sx=sy;var i4=0;while(i4<n1){flags=vertices[off+i4].type;x=vertices[off+i4].x;y=vertices[off+i4].y;if(next_move==i4){if(i4!=0){num_vertices=kha_graphics2_truetype_StbTruetype.stbtt__close_shape(vertices,num_vertices,was_off,start_off,sx,sy,scx,scy,cx,cy)}start_off=(flags&1)==0;if(start_off){scx=x;scy=y;if((vertices[off+i4+1].type&1)==0){sx=x+vertices[off+i4+1].x>>1;sy=y+vertices[off+i4+1].y>>1}else{sx=vertices[off+i4+1].x;sy=vertices[off+i4+1].y;++i4}}else{sx=x;sy=y}kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],1,sx,sy,0,0);was_off=false;var pos2=j*2;var ch15=endPtsOfContours.readU8(pos2);var ch25=endPtsOfContours.readU8(pos2+1);next_move=1+(ch25|ch15<<8);++j}else if((flags&1)==0){if(was_off){kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],3,cx+x>>1,cy+y>>1,cx,cy)}cx=x;cy=y;was_off=true}else{if(was_off){kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],3,x,y,cx,cy)}else{kha_graphics2_truetype_StbTruetype.stbtt_setvertex(vertices[num_vertices++],2,x,y,0,0)}was_off=false}++i4}num_vertices=kha_graphics2_truetype_StbTruetype.stbtt__close_shape(vertices,num_vertices,was_off,start_off,sx,sy,scx,scy,cx,cy)}else if(numberOfContours==-1){var more=1;var comp=data.sub(g+10,data.get_length()-(g+10));var compIndex=0;num_vertices=0;vertices=null;while(more!=0){var flags1;var gidx;var comp_num_verts=0;var i5;var comp_verts=null;var tmp=null;var mtx0=1;var mtx1=0;var mtx2=0;var mtx3=1;var mtx4=0;var mtx5=0;var m1;var n4;var ch16=comp.readU8(compIndex);var ch26=comp.readU8(compIndex+1);var n5=ch26|ch16<<8;if((n5&32768)!=0){flags1=n5-65536}else{flags1=n5}compIndex+=2;var ch17=comp.readU8(compIndex);var ch27=comp.readU8(compIndex+1);var n6=ch27|ch17<<8;if((n6&32768)!=0){gidx=n6-65536}else{gidx=n6}compIndex+=2;if((flags1&2)!=0){if((flags1&1)!=0){var ch18=comp.readU8(compIndex);var ch28=comp.readU8(compIndex+1);var n7=ch28|ch18<<8;if((n7&32768)!=0){mtx4=n7-65536}else{mtx4=n7}compIndex+=2;var ch19=comp.readU8(compIndex);var ch29=comp.readU8(compIndex+1);var n8=ch29|ch19<<8;if((n8&32768)!=0){mtx5=n8-65536}else{mtx5=n8}compIndex+=2}else{var n9=comp.readU8(compIndex);if(n9>=128){mtx4=n9-256}else{mtx4=n9}++compIndex;var n10=comp.readU8(compIndex);if(n10>=128){mtx5=n10-256}else{mtx5=n10}++compIndex}}else{throw new js__$Boot_HaxeError("Error")}if((flags1&8)!=0){var ch110=comp.readU8(compIndex);var ch210=comp.readU8(compIndex+1);var n11=ch210|ch110<<8;mtx3=((n11&32768)!=0?n11-65536:n11)/16384;mtx0=mtx3;compIndex+=2;mtx2=0;mtx1=mtx2}else if((flags1&64)!=0){var ch111=comp.readU8(compIndex);var ch211=comp.readU8(compIndex+1);var n12=ch211|ch111<<8;mtx0=((n12&32768)!=0?n12-65536:n12)/16384;compIndex+=2;mtx2=0;mtx1=mtx2;var ch112=comp.readU8(compIndex);var ch212=comp.readU8(compIndex+1);var n13=ch212|ch112<<8;mtx3=((n13&32768)!=0?n13-65536:n13)/16384;compIndex+=2}else if((flags1&128)!=0){var ch113=comp.readU8(compIndex);var ch213=comp.readU8(compIndex+1);var n14=ch213|ch113<<8;mtx0=((n14&32768)!=0?n14-65536:n14)/16384;compIndex+=2;var ch114=comp.readU8(compIndex);var ch214=comp.readU8(compIndex+1);var n15=ch214|ch114<<8;mtx1=((n15&32768)!=0?n15-65536:n15)/16384;compIndex+=2;var ch115=comp.readU8(compIndex);var ch215=comp.readU8(compIndex+1);var n16=ch215|ch115<<8;mtx2=((n16&32768)!=0?n16-65536:n16)/16384;compIndex+=2;var ch116=comp.readU8(compIndex);var ch216=comp.readU8(compIndex+1);var n17=ch216|ch116<<8;mtx3=((n17&32768)!=0?n17-65536:n17)/16384;compIndex+=2}m1=Math.sqrt(mtx0*mtx0+mtx1*mtx1);n4=Math.sqrt(mtx2*mtx2+mtx3*mtx3);comp_verts=kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphShape(info,gidx);if(comp_verts==null){comp_num_verts=0}else{comp_num_verts=comp_verts.length}if(comp_num_verts>0){var _g14=0;var _g5=comp_num_verts;while(_g14<_g5){var i6=_g14++;var v=comp_verts[i6];var x1;var y1;x1=v.x;y1=v.y;v.x=m1*(mtx0*x1+mtx2*y1+mtx4)|0;v.y=n4*(mtx1*x1+mtx3*y1+mtx5)|0;x1=v.cx;y1=v.cy;v.cx=m1*(mtx0*x1+mtx2*y1+mtx4)|0;v.cy=n4*(mtx1*x1+mtx3*y1+mtx5)|0}var this2=new Array(num_vertices+comp_num_verts);tmp=this2;if(tmp==null){return null}if(num_vertices>0){kha_graphics2_truetype_StbTruetype.copyVertices(vertices,tmp,0,num_vertices)}kha_graphics2_truetype_StbTruetype.copyVertices(comp_verts,tmp,num_vertices,comp_num_verts);vertices=tmp;num_vertices+=comp_num_verts}more=flags1&32}}else if(numberOfContours<0){throw new js__$Boot_HaxeError("Error")}if(vertices==null){return null}if(vertices.length<num_vertices){throw new js__$Boot_HaxeError("Error")}if(num_vertices<vertices.length){var this3=new Array(num_vertices);var tmp1=this3;kha_graphics2_truetype_StbTruetype.copyVertices(vertices,tmp1,0,num_vertices);return tmp1}else{return vertices}};kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphHMetrics=function(info,glyph_index){var p=info.data;var pos=info.hhea+34;var ch1=p.readU8(pos);var ch2=p.readU8(pos+1);var numOfLongHorMetrics=ch2|ch1<<8;var metrics=new kha_graphics2_truetype_Stbtt_$temp_$glyph_$h_$metrics;if(glyph_index<numOfLongHorMetrics){var p1=info.data;var pos1=info.hmtx+4*glyph_index;var ch11=p1.readU8(pos1);var ch21=p1.readU8(pos1+1);var n=ch21|ch11<<8;metrics.advanceWidth=(n&32768)!=0?n-65536:n;var p2=info.data;var pos2=info.hmtx+4*glyph_index+2;var ch12=p2.readU8(pos2);var ch22=p2.readU8(pos2+1);var n1=ch22|ch12<<8;metrics.leftSideBearing=(n1&32768)!=0?n1-65536:n1}else{var p3=info.data;var pos3=info.hmtx+4*(numOfLongHorMetrics-1);var ch13=p3.readU8(pos3);var ch23=p3.readU8(pos3+1);var n2=ch23|ch13<<8;metrics.advanceWidth=(n2&32768)!=0?n2-65536:n2;var p4=info.data;var pos4=info.hmtx+4*numOfLongHorMetrics+2*(glyph_index-numOfLongHorMetrics);var ch14=p4.readU8(pos4);var ch24=p4.readU8(pos4+1);var n3=ch24|ch14<<8;metrics.leftSideBearing=(n3&32768)!=0?n3-65536:n3}return metrics};kha_graphics2_truetype_StbTruetype.stbtt_GetFontVMetrics=function(info){var metrics=new kha_graphics2_truetype_Stbtt_$temp_$font_$v_$metrics;var p=info.data;var pos=info.hhea+4;var ch1=p.readU8(pos);var ch2=p.readU8(pos+1);var n=ch2|ch1<<8;metrics.ascent=(n&32768)!=0?n-65536:n;var p1=info.data;var pos1=info.hhea+6;var ch11=p1.readU8(pos1);var ch21=p1.readU8(pos1+1);var n1=ch21|ch11<<8;metrics.descent=(n1&32768)!=0?n1-65536:n1;var p2=info.data;var pos2=info.hhea+8;var ch12=p2.readU8(pos2);var ch22=p2.readU8(pos2+1);var n2=ch22|ch12<<8;metrics.lineGap=(n2&32768)!=0?n2-65536:n2;return metrics};kha_graphics2_truetype_StbTruetype.stbtt_ScaleForPixelHeight=function(info,height){var p=info.data;var pos=info.hhea+4;var ch1=p.readU8(pos);var ch2=p.readU8(pos+1);var n=ch2|ch1<<8;var p1=info.data;var pos1=info.hhea+6;var ch11=p1.readU8(pos1);var ch21=p1.readU8(pos1+1);var n1=ch21|ch11<<8;var fheight=((n&32768)!=0?n-65536:n)-((n1&32768)!=0?n1-65536:n1);return height/fheight};kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBoxSubpixel=function(font,glyph,scale_x,scale_y,shift_x,shift_y){var rect=new kha_graphics2_truetype_Stbtt_$temp_$rect;if(!kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBox(font,glyph,rect)){rect.x0=0;rect.y0=0;rect.x1=0;rect.y1=0}else{var x0=rect.x0;var x1=rect.x1;var y0=rect.y0;var y1=rect.y1;rect.x0=Math.floor(x0*scale_x+shift_x);rect.y0=Math.floor(-y1*scale_y+shift_y);rect.x1=Math.ceil(x1*scale_x+shift_x);rect.y1=Math.ceil(-y0*scale_y+shift_y)}return rect};kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBox=function(font,glyph,scale_x,scale_y){return kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBoxSubpixel(font,glyph,scale_x,scale_y,0,0)};kha_graphics2_truetype_StbTruetype.stbtt__new_active=function(e,eIndex,off_x,start_point){var z=new kha_graphics2_truetype_Stbtt_$_$active_$edge;var dxdy=(e[eIndex].x1-e[eIndex].x0)/(e[eIndex].y1-e[eIndex].y0);if(z==null){return z}z.fdx=dxdy;z.fdy=dxdy!=0?1/dxdy:0;z.fx=e[eIndex].x0+dxdy*(start_point-e[eIndex].y0);z.fx-=off_x;z.direction=e[eIndex].invert?1:-1;z.sy=e[eIndex].y0;z.ey=e[eIndex].y1;z.next=null;return z};kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge=function(scanline,scanlineIndex,x,e,x0,y0,x1,y1){if(y0==y1){return}if(!(y0<y1)){throw new js__$Boot_HaxeError("Error")}if(!(e.sy<=e.ey)){throw new js__$Boot_HaxeError("Error")}if(y0>e.ey){return}if(y1<e.sy){return}if(y0<e.sy){x0+=(x1-x0)*(e.sy-y0)/(y1-y0);y0=e.sy}if(y1>e.ey){x1+=(x1-x0)*(e.ey-y1)/(y1-y0);y1=e.ey}if(x0==x){if(!(x1<=x+1)){throw new js__$Boot_HaxeError("Error")}}else if(x0==x+1){if(!(x1>=x)){throw new js__$Boot_HaxeError("Error")}}else if(x0<=x){if(!(x1<=x)){throw new js__$Boot_HaxeError("Error")}}else if(x0>=x+1){if(!(x1>=x+1)){throw new js__$Boot_HaxeError("Error")}}else if(!(x1>=x&&x1<=x+1)){throw new js__$Boot_HaxeError("Error")}if(x0<=x&&x1<=x){var _g=scanlineIndex+x;var _g1=scanline;_g1[_g]=_g1[_g]+e.direction*(y1-y0)}else if(!(x0>=x+1&&x1>=x+1)){if(!(x0>=x&&x0<=x+1&&x1>=x&&x1<=x+1)){throw new js__$Boot_HaxeError("Error")}var _g2=scanlineIndex+x;var _g11=scanline;_g11[_g2]=_g11[_g2]+e.direction*(y1-y0)*(1-(x0-x+(x1-x))/2)}};kha_graphics2_truetype_StbTruetype.stbtt__fill_active_edges_new=function(scanline,scanline_fill,scanline_fillIndex,len,e,y_top){var y_bottom=y_top+1;while(e!=null){if(!(e.ey>=y_top)){throw new js__$Boot_HaxeError("Error")}if(e.fdx==0){var x0=e.fx;if(x0<len){if(x0>=0){kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x0|0,e,x0,y_top,x0,y_bottom);kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline_fill,scanline_fillIndex-1,x0+1|0,e,x0,y_top,x0,y_bottom)}else{kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline_fill,scanline_fillIndex-1,0,e,x0,y_top,x0,y_bottom)}}}else{var x01=e.fx;var dx=e.fdx;var xb=x01+dx;var x_top;var x_bottom;var sy0;var sy1;var dy=e.fdy;if(!(e.sy<=y_bottom&&e.ey>=y_top)){throw new js__$Boot_HaxeError("Error")}if(e.sy>y_top){x_top=x01+dx*(e.sy-y_top);sy0=e.sy}else{x_top=x01;sy0=y_top}if(e.ey<y_bottom){x_bottom=x01+dx*(e.ey-y_top);sy1=e.ey}else{x_bottom=xb;sy1=y_bottom}if(x_top>=0&&x_bottom>=0&&x_top<len&&x_bottom<len){if((x_top|0)==(x_bottom|0)){var height;var x=x_top|0;height=sy1-sy0;if(!(x>=0&&x<len)){throw new js__$Boot_HaxeError("Error")}var _g=x;var _g1=scanline;_g1[_g]=_g1[_g]+e.direction*(1-(x_top-x+(x_bottom-x))/2)*height;var _g2=scanline_fillIndex+x;var _g11=scanline_fill;_g11[_g2]=_g11[_g2]+e.direction*height}else{var x1;var x11;var x2;var y_crossing;var step;var sign;var area;if(x_top>x_bottom){var t;sy0=y_bottom-(sy0-y_top);sy1=y_bottom-(sy1-y_top);t=sy0;sy0=sy1;sy1=t;t=x_bottom;x_bottom=x_top;x_top=t;dx=-dx;dy=-dy;t=x01;x01=xb;xb=t}x11=x_top|0;x2=x_bottom|0;y_crossing=(x11+1-x01)*dy+y_top;sign=e.direction;area=sign*(y_crossing-sy0);var _g3=x11;var _g12=scanline;_g12[_g3]=_g12[_g3]+area*(1-(x_top-x11+(x11+1-x11))/2);step=sign*dy;var _g13=x11+1;var _g4=x2;while(_g13<_g4){var x3=_g13++;var _g21=x3;var _g31=scanline;_g31[_g21]=_g31[_g21]+(area+step/2);area+=step}y_crossing+=dy*(x2-(x11+1));if(!(Math.abs(area)<=1.01)){throw new js__$Boot_HaxeError("Error")}var _g5=x2;var _g14=scanline;_g14[_g5]=_g14[_g5]+(area+sign*(1-(x2-x2+(x_bottom-x2))/2)*(sy1-y_crossing));var _g6=scanline_fillIndex+x2;var _g15=scanline_fill;_g15[_g6]=_g15[_g6]+sign*(sy1-sy0)}}else{var _g16=0;var _g7=len;while(_g16<_g7){var x4=_g16++;var y0=y_top;var x12=x4;var x21=x4+1;var x31=xb;var y3=y_bottom;var y1;var y2;y1=(x4-x01)/dx+y_top;y2=(x4+1-x01)/dx+y_top;if(x01<x12&&x31>x21){kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x01,y0,x12,y1);kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x12,y1,x21,y2);kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x21,y2,x31,y3)}else if(x31<x12&&x01>x21){kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x01,y0,x21,y2);kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x21,y2,x12,y1);kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x12,y1,x31,y3)}else if(x01<x12&&x31>x12){kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x01,y0,x12,y1);kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x12,y1,x31,y3)}else if(x31<x12&&x01>x12){kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x01,y0,x12,y1);kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x12,y1,x31,y3)}else if(x01<x21&&x31>x21){kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x01,y0,x21,y2);kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x21,y2,x31,y3)}else if(x31<x21&&x01>x21){kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x01,y0,x21,y2);kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x21,y2,x31,y3)}else{kha_graphics2_truetype_StbTruetype.stbtt__handle_clipped_edge(scanline,0,x4,e,x01,y0,x31,y3)}}}}e=e.next}};kha_graphics2_truetype_StbTruetype.stbtt__rasterize_sorted_edges=function(result,e,n,vsubsample,off_x,off_y){var active=null;var y;var j=0;var i;var scanline;var scanline2;var scanline2Index=0;var eIndex=0;if(result.w>64){var length=result.w*2+1;var this1=new Array(length);scanline=this1}else{var this2=new Array(129);scanline=this2}scanline2=scanline;scanline2Index=result.w;y=off_y;e[eIndex+n].y0=off_y+result.h+1;while(j<result.h){var scan_y_top=y+0;var scan_y_bottom=y+1;var step_value;var step_parent;step_value=active;step_parent=null;var _g1=0;var _g=result.w;while(_g1<_g){var i1=_g1++;scanline[i1]=0}var _g11=0;var _g2=result.w+1;while(_g11<_g2){var i2=_g11++;scanline2[scanline2Index+i2]=0}while(step_value!=null){var z=step_value;if(z.ey<=scan_y_top){if(step_parent==null){active=z.next;step_value=z.next}else{step_parent.next=z.next;step_value=z.next}if(z.direction==0){throw new js__$Boot_HaxeError("Error")}z.direction=0}else{step_parent=step_value;step_value=step_value.next}}while(e[eIndex].y0<=scan_y_bottom){if(e[eIndex].y0!=e[eIndex].y1){var z1=kha_graphics2_truetype_StbTruetype.stbtt__new_active(e,eIndex,off_x,scan_y_top);if(!(z1.ey>=scan_y_top)){throw new js__$Boot_HaxeError("Error")}z1.next=active;active=z1}++eIndex}if(active!=null){kha_graphics2_truetype_StbTruetype.stbtt__fill_active_edges_new(scanline,scanline2,scanline2Index+1,result.w,active,scan_y_top)}var sum=0;var _g12=0;var _g3=result.w;while(_g12<_g3){var i3=_g12++;var k;var m;sum+=scanline2[scanline2Index+i3];k=scanline[i3]+sum;k=Math.abs(k)*255+.5;m=k|0;if(m>255){m=255}result.pixels.writeU8(result.pixels_offset+j*result.stride+i3,m)}step_parent=null;step_value=active;while(step_value!=null){var z2=step_value;z2.fx+=z2.fdx;step_parent=step_value;step_value=step_value.next}++y;++j}};kha_graphics2_truetype_StbTruetype.STBTT__COMPARE=function(a,b){return a.y0<b.y0};kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_ins_sort=function(p,n){var i;var j;var _g1=1;var _g=n;while(_g1<_g){var i1=_g1++;var t=p[i1];var a=t;j=i1;while(j>0){var b=p[j-1];var c=kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(a,b);if(!c){break}p[j]=p[j-1];--j}if(i1!=j){p[j]=t}}};kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_quicksort=function(p,pIndex,n){while(n>12){var t;var c01;var c12;var c;var m;var i;var j;m=n>>1;c01=kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(p[pIndex],p[pIndex+m]);c12=kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(p[pIndex+m],p[pIndex+n-1]);if(c01!=c12){var z;c=kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(p[pIndex],p[pIndex+n-1]);if(c==c12){z=0}else{z=n-1}t=p[pIndex+z];p[pIndex+z]=p[pIndex+m];p[pIndex+m]=t}t=p[pIndex];p[pIndex]=p[pIndex+m];p[pIndex+m]=t;i=1;j=n-1;while(true){while(kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(p[pIndex+i],p[pIndex]))++i;while(kha_graphics2_truetype_StbTruetype.STBTT__COMPARE(p[pIndex],p[pIndex+j]))--j;if(i>=j){break}t=p[pIndex+i];p[pIndex+i]=p[pIndex+j];p[pIndex+j]=t;++i;--j}if(j<n-i){kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_quicksort(p,pIndex,j);pIndex+=i;n-=i}else{kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_quicksort(p,pIndex+i,n-i);n=j}}};kha_graphics2_truetype_StbTruetype.stbtt__sort_edges=function(p,n){kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_quicksort(p,0,n);kha_graphics2_truetype_StbTruetype.stbtt__sort_edges_ins_sort(p,n)};kha_graphics2_truetype_StbTruetype.stbtt__rasterize=function(result,pts,wcount,windings,scale_x,scale_y,shift_x,shift_y,off_x,off_y,invert){var y_scale_inv=invert?-scale_y:scale_y;var e;var n;var i;var j;var k;var m;var vsubsample=1;var ptsIndex=0;n=0;var _g1=0;var _g=windings;while(_g1<_g){var i1=_g1++;n+=wcount[i1]}var this1=new Array(n+1);e=this1;if(e==null){return}else{var _g11=0;var _g2=e.length;while(_g11<_g2){var i2=_g11++;e[i2]=new kha_graphics2_truetype_Stbtt_$_$edge}}n=0;m=0;var _g12=0;var _g3=windings;while(_g12<_g3){var i3=_g12++;var p=pts;var pIndex=ptsIndex+m;m+=wcount[i3];j=wcount[i3]-1;var _g31=0;var _g21=wcount[i3];while(_g31<_g21){var k1=_g31++;var a=k1;var b=j;if(p[pIndex+j].y==p[pIndex+k1].y){j=k1;continue}e[n].invert=false;if(invert?p[pIndex+j].y>p[pIndex+k1].y:p[pIndex+j].y<p[pIndex+k1].y){e[n].invert=true;a=j;b=k1}e[n].x0=p[pIndex+a].x*scale_x+shift_x;e[n].y0=(p[pIndex+a].y*y_scale_inv+shift_y)*vsubsample;e[n].x1=p[pIndex+b].x*scale_x+shift_x;e[n].y1=(p[pIndex+b].y*y_scale_inv+shift_y)*vsubsample;++n;j=k1}}kha_graphics2_truetype_StbTruetype.stbtt__sort_edges(e,n);kha_graphics2_truetype_StbTruetype.stbtt__rasterize_sorted_edges(result,e,n,vsubsample,off_x,off_y)};kha_graphics2_truetype_StbTruetype.stbtt__add_point=function(points,n,x,y){if(points==null){return}points[n].x=x;points[n].y=y};kha_graphics2_truetype_StbTruetype.stbtt__tesselate_curve=function(points,num_points,x0,y0,x1,y1,x2,y2,objspace_flatness_squared,n){var mx=(x0+2*x1+x2)/4;var my=(y0+2*y1+y2)/4;var dx=(x0+x2)/2-mx;var dy=(y0+y2)/2-my;if(n>16){return 1}if(dx*dx+dy*dy>objspace_flatness_squared){kha_graphics2_truetype_StbTruetype.stbtt__tesselate_curve(points,num_points,x0,y0,(x0+x1)/2,(y0+y1)/2,mx,my,objspace_flatness_squared,n+1);kha_graphics2_truetype_StbTruetype.stbtt__tesselate_curve(points,num_points,mx,my,(x1+x2)/2,(y1+y2)/2,x2,y2,objspace_flatness_squared,n+1)}else{kha_graphics2_truetype_StbTruetype.stbtt__add_point(points,num_points.value,x2,y2);num_points.value+=1}return 1};kha_graphics2_truetype_StbTruetype.stbtt_FlattenCurves=function(vertices,num_verts,objspace_flatness,contour_lengths,num_contours){var points=null;var num_points=0;var objspace_flatness_squared=objspace_flatness*objspace_flatness;var i;var n=0;var start=0;var pass;var _g1=0;var _g=num_verts;while(_g1<_g){var i1=_g1++;if(vertices[i1].type==1){++n}}num_contours.value=n;if(n==0){return null}var this1=new Array(n);contour_lengths.value=this1;if(contour_lengths.value==null){num_contours.value=0;return null}var _g2=0;while(_g2<2){var pass1=_g2++;var x=0;var y=0;if(pass1==1){var this2=new Array(num_points);points=this2;if(points==null){contour_lengths.value=null;num_contours.value=0;return null}else{var _g21=0;var _g11=points.length;while(_g21<_g11){var i2=_g21++;points[i2]=new kha_graphics2_truetype_Stbtt_$_$point}}}num_points=0;n=-1;var _g22=0;var _g12=num_verts;while(_g22<_g12){var i3=_g22++;var _g3=vertices[i3].type;switch(_g3){case 1:if(n>=0){contour_lengths.value[n]=num_points-start}++n;start=num_points;x=vertices[i3].x;y=vertices[i3].y;kha_graphics2_truetype_StbTruetype.stbtt__add_point(points,num_points++,x,y);break;case 2:x=vertices[i3].x;y=vertices[i3].y;kha_graphics2_truetype_StbTruetype.stbtt__add_point(points,num_points++,x,y);break;case 3:var num_points_reference={value:num_points};kha_graphics2_truetype_StbTruetype.stbtt__tesselate_curve(points,num_points_reference,x,y,vertices[i3].cx,vertices[i3].cy,vertices[i3].x,vertices[i3].y,objspace_flatness_squared,0);num_points=num_points_reference.value;x=vertices[i3].x;y=vertices[i3].y;break}}contour_lengths.value[n]=num_points-start}return points};kha_graphics2_truetype_StbTruetype.stbtt_Rasterize=function(result,flatness_in_pixels,vertices,num_verts,scale_x,scale_y,shift_x,shift_y,x_off,y_off,invert){var scale=scale_x>scale_y?scale_y:scale_x;var winding_count=0;var winding_lengths=null;var winding_count_reference={value:winding_count};var winding_lengths_reference=new kha_graphics2_truetype_VectorOfIntPointer;var windings=kha_graphics2_truetype_StbTruetype.stbtt_FlattenCurves(vertices,num_verts,flatness_in_pixels/scale,winding_lengths_reference,winding_count_reference);winding_count=winding_count_reference.value;winding_lengths=winding_lengths_reference.value;if(windings!=null){kha_graphics2_truetype_StbTruetype.stbtt__rasterize(result,windings,winding_lengths,winding_count,scale_x,scale_y,shift_x,shift_y,x_off,y_off,invert)}};kha_graphics2_truetype_StbTruetype.stbtt_MakeGlyphBitmapSubpixel=function(info,output,output_offset,out_w,out_h,out_stride,scale_x,scale_y,shift_x,shift_y,glyph){var ix0=0;var iy0=0;var vertices=kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphShape(info,glyph);var num_verts=vertices==null?0:vertices.length;var gbm=new kha_graphics2_truetype_Stbtt_$_$bitmap;var rect=kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBoxSubpixel(info,glyph,scale_x,scale_y,shift_x,shift_y);ix0=rect.x0;iy0=rect.y0;gbm.pixels=output;gbm.pixels_offset=output_offset;gbm.w=out_w;gbm.h=out_h;gbm.stride=out_stride;if(gbm.w!=0&&gbm.h!=0){kha_graphics2_truetype_StbTruetype.stbtt_Rasterize(gbm,.35,vertices,num_verts,scale_x,scale_y,shift_x,shift_y,ix0,iy0,true)}};kha_graphics2_truetype_StbTruetype.stbtt_MakeGlyphBitmap=function(info,output,output_offset,out_w,out_h,out_stride,scale_x,scale_y,glyph){kha_graphics2_truetype_StbTruetype.stbtt_MakeGlyphBitmapSubpixel(info,output,output_offset,out_w,out_h,out_stride,scale_x,scale_y,0,0,glyph)};kha_graphics2_truetype_StbTruetype.stbtt_BakeFontBitmap=function(data,offset,pixel_height,pixels,pw,ph,chars,chardata){var scale;var x;var y;var bottom_y;var f=new kha_graphics2_truetype_Stbtt_$fontinfo;if(!kha_graphics2_truetype_StbTruetype.stbtt_InitFont(f,data,offset)){return-1}var _g1=0;var _g=pw*ph;while(_g1<_g){var i=_g1++;pixels.writeU8(i,0)}y=1;x=y;bottom_y=1;scale=kha_graphics2_truetype_StbTruetype.stbtt_ScaleForPixelHeight(f,pixel_height);var i1=0;var _g2=0;while(_g2<chars.length){var index=chars[_g2];++_g2;var advance;var lsb;var x0;var y0;var x1;var y1;var gw;var gh;var g=kha_graphics2_truetype_StbTruetype.stbtt_FindGlyphIndex(f,index);var metrics=kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphHMetrics(f,g);advance=metrics.advanceWidth;lsb=metrics.leftSideBearing;var rect=kha_graphics2_truetype_StbTruetype.stbtt_GetGlyphBitmapBox(f,g,scale,scale);x0=rect.x0;y0=rect.y0;x1=rect.x1;y1=rect.y1;gw=x1-x0;gh=y1-y0;if(x+gw+1>=pw){y=bottom_y;x=1}if(y+gh+1>=ph){return-i1}if(x+gw>=pw){throw new js__$Boot_HaxeError("Error")}if(y+gh>=ph){throw new js__$Boot_HaxeError("Error")}kha_graphics2_truetype_StbTruetype.stbtt_MakeGlyphBitmap(f,pixels,x+y*pw,gw,gh,pw,scale,scale,g);chardata[i1].x0=x;chardata[i1].y0=y;chardata[i1].x1=x+gw;chardata[i1].y1=y+gh;chardata[i1].xadvance=scale*advance;chardata[i1].xoff=x0;chardata[i1].yoff=y0;x=x+gw+1;if(y+gh+1>bottom_y){bottom_y=y+gh+1}++i1}return bottom_y};var kha_graphics4_BlendingFactor=$hxClasses["kha.graphics4.BlendingFactor"]={__ename__:true,__constructs__:["Undefined","BlendOne","BlendZero","SourceAlpha","DestinationAlpha","InverseSourceAlpha","InverseDestinationAlpha","SourceColor","DestinationColor","InverseSourceColor","InverseDestinationColor"]};kha_graphics4_BlendingFactor.Undefined=["Undefined",0];kha_graphics4_BlendingFactor.Undefined.toString=$estr;kha_graphics4_BlendingFactor.Undefined.__enum__=kha_graphics4_BlendingFactor;kha_graphics4_BlendingFactor.BlendOne=["BlendOne",1];kha_graphics4_BlendingFactor.BlendOne.toString=$estr;kha_graphics4_BlendingFactor.BlendOne.__enum__=kha_graphics4_BlendingFactor;kha_graphics4_BlendingFactor.BlendZero=["BlendZero",2];kha_graphics4_BlendingFactor.BlendZero.toString=$estr;kha_graphics4_BlendingFactor.BlendZero.__enum__=kha_graphics4_BlendingFactor;kha_graphics4_BlendingFactor.SourceAlpha=["SourceAlpha",3];kha_graphics4_BlendingFactor.SourceAlpha.toString=$estr;kha_graphics4_BlendingFactor.SourceAlpha.__enum__=kha_graphics4_BlendingFactor;kha_graphics4_BlendingFactor.DestinationAlpha=["DestinationAlpha",4];kha_graphics4_BlendingFactor.DestinationAlpha.toString=$estr;kha_graphics4_BlendingFactor.DestinationAlpha.__enum__=kha_graphics4_BlendingFactor;kha_graphics4_BlendingFactor.InverseSourceAlpha=["InverseSourceAlpha",5];kha_graphics4_BlendingFactor.InverseSourceAlpha.toString=$estr;kha_graphics4_BlendingFactor.InverseSourceAlpha.__enum__=kha_graphics4_BlendingFactor;kha_graphics4_BlendingFactor.InverseDestinationAlpha=["InverseDestinationAlpha",6];kha_graphics4_BlendingFactor.InverseDestinationAlpha.toString=$estr;kha_graphics4_BlendingFactor.InverseDestinationAlpha.__enum__=kha_graphics4_BlendingFactor;kha_graphics4_BlendingFactor.SourceColor=["SourceColor",7];kha_graphics4_BlendingFactor.SourceColor.toString=$estr;kha_graphics4_BlendingFactor.SourceColor.__enum__=kha_graphics4_BlendingFactor;kha_graphics4_BlendingFactor.DestinationColor=["DestinationColor",8];kha_graphics4_BlendingFactor.DestinationColor.toString=$estr;kha_graphics4_BlendingFactor.DestinationColor.__enum__=kha_graphics4_BlendingFactor;kha_graphics4_BlendingFactor.InverseSourceColor=["InverseSourceColor",9];kha_graphics4_BlendingFactor.InverseSourceColor.toString=$estr;kha_graphics4_BlendingFactor.InverseSourceColor.__enum__=kha_graphics4_BlendingFactor;kha_graphics4_BlendingFactor.InverseDestinationColor=["InverseDestinationColor",10];kha_graphics4_BlendingFactor.InverseDestinationColor.toString=$estr;kha_graphics4_BlendingFactor.InverseDestinationColor.__enum__=kha_graphics4_BlendingFactor;var kha_graphics4_BlendingOperation=$hxClasses["kha.graphics4.BlendingOperation"]={__ename__:true,__constructs__:["Add","Subtract","ReverseSubtract","Min","Max"]};kha_graphics4_BlendingOperation.Add=["Add",0];kha_graphics4_BlendingOperation.Add.toString=$estr;kha_graphics4_BlendingOperation.Add.__enum__=kha_graphics4_BlendingOperation;kha_graphics4_BlendingOperation.Subtract=["Subtract",1];kha_graphics4_BlendingOperation.Subtract.toString=$estr;kha_graphics4_BlendingOperation.Subtract.__enum__=kha_graphics4_BlendingOperation;kha_graphics4_BlendingOperation.ReverseSubtract=["ReverseSubtract",2];kha_graphics4_BlendingOperation.ReverseSubtract.toString=$estr;kha_graphics4_BlendingOperation.ReverseSubtract.__enum__=kha_graphics4_BlendingOperation;kha_graphics4_BlendingOperation.Min=["Min",3];kha_graphics4_BlendingOperation.Min.toString=$estr;kha_graphics4_BlendingOperation.Min.__enum__=kha_graphics4_BlendingOperation;kha_graphics4_BlendingOperation.Max=["Max",4];kha_graphics4_BlendingOperation.Max.toString=$estr;kha_graphics4_BlendingOperation.Max.__enum__=kha_graphics4_BlendingOperation;var kha_graphics4_CompareMode=$hxClasses["kha.graphics4.CompareMode"]={__ename__:true,__constructs__:["Always","Never","Equal","NotEqual","Less","LessEqual","Greater","GreaterEqual"]};kha_graphics4_CompareMode.Always=["Always",0];kha_graphics4_CompareMode.Always.toString=$estr;kha_graphics4_CompareMode.Always.__enum__=kha_graphics4_CompareMode;kha_graphics4_CompareMode.Never=["Never",1];kha_graphics4_CompareMode.Never.toString=$estr;kha_graphics4_CompareMode.Never.__enum__=kha_graphics4_CompareMode;kha_graphics4_CompareMode.Equal=["Equal",2];kha_graphics4_CompareMode.Equal.toString=$estr;kha_graphics4_CompareMode.Equal.__enum__=kha_graphics4_CompareMode;kha_graphics4_CompareMode.NotEqual=["NotEqual",3];kha_graphics4_CompareMode.NotEqual.toString=$estr;kha_graphics4_CompareMode.NotEqual.__enum__=kha_graphics4_CompareMode;kha_graphics4_CompareMode.Less=["Less",4];kha_graphics4_CompareMode.Less.toString=$estr;kha_graphics4_CompareMode.Less.__enum__=kha_graphics4_CompareMode;kha_graphics4_CompareMode.LessEqual=["LessEqual",5];kha_graphics4_CompareMode.LessEqual.toString=$estr;kha_graphics4_CompareMode.LessEqual.__enum__=kha_graphics4_CompareMode;kha_graphics4_CompareMode.Greater=["Greater",6];kha_graphics4_CompareMode.Greater.toString=$estr;kha_graphics4_CompareMode.Greater.__enum__=kha_graphics4_CompareMode;kha_graphics4_CompareMode.GreaterEqual=["GreaterEqual",7];kha_graphics4_CompareMode.GreaterEqual.toString=$estr;kha_graphics4_CompareMode.GreaterEqual.__enum__=kha_graphics4_CompareMode;var kha_graphics4_ConstantLocation=function(){};$hxClasses["kha.graphics4.ConstantLocation"]=kha_graphics4_ConstantLocation;kha_graphics4_ConstantLocation.__name__=true;var kha_graphics4_CubeMap=function(size,format,renderTarget,depthStencilFormat){this.isDepthAttachment=false;this.depthTexture=null;this.texture=null;this.frameBuffer=null;this.myWidth=size;this.myHeight=size;this.format=format;this.renderTarget=renderTarget;this.depthStencilFormat=depthStencilFormat;if(renderTarget){this.createTexture()}};$hxClasses["kha.graphics4.CubeMap"]=kha_graphics4_CubeMap;kha_graphics4_CubeMap.__name__=true;kha_graphics4_CubeMap.__interfaces__=[kha_Resource,kha_Canvas];kha_graphics4_CubeMap.createRenderTarget=function(size,format,depthStencil,contextId){if(contextId==null){contextId=0}if(format==null){format=kha_graphics4_TextureFormat.RGBA32}if(depthStencil==null){depthStencil=0}return new kha_graphics4_CubeMap(size,format,true,depthStencil)};kha_graphics4_CubeMap.prototype={myWidth:null,myHeight:null,format:null,renderTarget:null,depthStencilFormat:null,graphics4:null,frameBuffer:null,texture:null,depthTexture:null,isDepthAttachment:null,createTexture:function(){if(kha_SystemImpl.gl==null){return}this.texture=kha_SystemImpl.gl.createTexture();kha_SystemImpl.gl.bindTexture(34067,this.texture);kha_SystemImpl.gl.texParameteri(34067,10240,9729);kha_SystemImpl.gl.texParameteri(34067,10241,9729);kha_SystemImpl.gl.texParameteri(34067,10242,33071);kha_SystemImpl.gl.texParameteri(34067,10243,33071);if(this.renderTarget){this.frameBuffer=kha_SystemImpl.gl.createFramebuffer();kha_SystemImpl.gl.bindFramebuffer(36160,this.frameBuffer);var _g=this.format;switch(_g[1]){case 0:var _g1=0;while(_g1<6){var i=_g1++;kha_SystemImpl.gl.texImage2D(34069+i,0,6408,this.myWidth,this.myHeight,0,6408,5121,null)}break;case 2:var _g2=0;while(_g2<6){var i1=_g2++;kha_SystemImpl.gl.texImage2D(34069+i1,0,kha_SystemImpl.gl2?34836:6408,this.myWidth,this.myHeight,0,6408,5126,null)}break;case 3:var _g3=0;while(_g3<6){var i2=_g3++;kha_SystemImpl.gl.texImage2D(34069+i2,0,kha_SystemImpl.gl2?33189:6402,this.myWidth,this.myHeight,0,6402,5123,null)}break;case 4:var _g4=0;while(_g4<6){var i3=_g4++;kha_SystemImpl.gl.texImage2D(34069+i3,0,kha_SystemImpl.gl2?34842:6408,this.myWidth,this.myHeight,0,6408,kha_SystemImpl.halfFloat.HALF_FLOAT_OES,null)}break;case 5:var _g5=0;while(_g5<6){var i4=_g5++;kha_SystemImpl.gl.texImage2D(34069+i4,0,kha_SystemImpl.gl2?33326:6406,this.myWidth,this.myHeight,0,6406,5126,null)}break;case 6:var _g6=0;while(_g6<6){var i5=_g6++;kha_SystemImpl.gl.texImage2D(34069+i5,0,kha_SystemImpl.gl2?33325:6406,this.myWidth,this.myHeight,0,6406,kha_SystemImpl.halfFloat.HALF_FLOAT_OES,null)}break;default:var _g7=0;while(_g7<6){var i6=_g7++;kha_SystemImpl.gl.texImage2D(34069+i6,0,6408,this.myWidth,this.myHeight,0,6408,5121,null)}}if(this.format==kha_graphics4_TextureFormat.DEPTH16){kha_SystemImpl.gl.texParameteri(34067,10240,9728);kha_SystemImpl.gl.texParameteri(34067,10241,9728);this.isDepthAttachment=true;if(!kha_SystemImpl.gl2){var colortex=kha_SystemImpl.gl.createTexture();kha_SystemImpl.gl.bindTexture(34067,colortex);var _g11=0;while(_g11<6){var i7=_g11++;kha_SystemImpl.gl.texImage2D(34069+i7,0,6408,this.myWidth,this.myHeight,0,6408,5121,null);kha_SystemImpl.gl.framebufferTexture2D(36160,36064,34069+i7,colortex,0)}kha_SystemImpl.gl.bindTexture(34067,this.texture)}}this.initDepthStencilBuffer(this.depthStencilFormat);kha_SystemImpl.gl.bindFramebuffer(36160,null)}kha_SystemImpl.gl.bindTexture(34067,null)},initDepthStencilBuffer:function(depthStencilFormat){switch(depthStencilFormat){case 0:break;case 1:case 5:this.depthTexture=kha_SystemImpl.gl.createTexture();kha_SystemImpl.gl.bindTexture(34067,this.depthTexture);if(depthStencilFormat==1){kha_SystemImpl.gl.texImage2D(34067,0,kha_SystemImpl.gl2?33190:6402,this.myWidth,this.myHeight,0,6402,5125,null)}else{kha_SystemImpl.gl.texImage2D(34067,0,kha_SystemImpl.gl2?33189:6402,this.myWidth,this.myHeight,0,6402,5123,null)}kha_SystemImpl.gl.texParameteri(34067,10240,9728);kha_SystemImpl.gl.texParameteri(34067,10241,9728);kha_SystemImpl.gl.texParameteri(34067,10242,33071);kha_SystemImpl.gl.texParameteri(34067,10243,33071);kha_SystemImpl.gl.bindFramebuffer(36160,this.frameBuffer);kha_SystemImpl.gl.framebufferTexture2D(36160,36096,34067,this.depthTexture,0);break;case 2:case 3:case 4:this.depthTexture=kha_SystemImpl.gl.createTexture();kha_SystemImpl.gl.bindTexture(34067,this.depthTexture);kha_SystemImpl.gl.texImage2D(34067,0,kha_SystemImpl.gl2?35056:34041,this.myWidth,this.myHeight,0,34041,kha_SystemImpl.depthTexture.UNSIGNED_INT_24_8_WEBGL,null);kha_SystemImpl.gl.texParameteri(34067,10240,9728);kha_SystemImpl.gl.texParameteri(34067,10241,9728);kha_SystemImpl.gl.texParameteri(34067,10242,33071);kha_SystemImpl.gl.texParameteri(34067,10243,33071);kha_SystemImpl.gl.bindFramebuffer(36160,this.frameBuffer);kha_SystemImpl.gl.framebufferTexture2D(36160,33306,34067,this.depthTexture,0);break}},set:function(stage){kha_SystemImpl.gl.activeTexture(33984+stage);kha_SystemImpl.gl.bindTexture(34067,this.texture)},setDepth:function(stage){kha_SystemImpl.gl.activeTexture(33984+stage);kha_SystemImpl.gl.bindTexture(34067,this.depthTexture)},get_width:function(){return this.myWidth},get_height:function(){return this.myHeight},get_g4:function(){if(this.graphics4==null){this.graphics4=new kha_js_graphics4_Graphics(this)}return this.graphics4},__class__:kha_graphics4_CubeMap,__properties__:{get_g4:"get_g4",get_height:"get_height",get_width:"get_width"}};var kha_graphics4_CullMode=$hxClasses["kha.graphics4.CullMode"]={__ename__:true,__constructs__:["Clockwise","CounterClockwise","None"]};kha_graphics4_CullMode.Clockwise=["Clockwise",0];kha_graphics4_CullMode.Clockwise.toString=$estr;kha_graphics4_CullMode.Clockwise.__enum__=kha_graphics4_CullMode;kha_graphics4_CullMode.CounterClockwise=["CounterClockwise",1];kha_graphics4_CullMode.CounterClockwise.toString=$estr;kha_graphics4_CullMode.CounterClockwise.__enum__=kha_graphics4_CullMode;kha_graphics4_CullMode.None=["None",2];kha_graphics4_CullMode.None.toString=$estr;kha_graphics4_CullMode.None.__enum__=kha_graphics4_CullMode;var kha_graphics4_FragmentShader=function(sources,files){this.sources=[];var _g=0;while(_g<sources.length){var source=sources[_g];++_g;this.sources.push(source.toString())}this.type=35632;this.shader=null;this.files=files};$hxClasses["kha.graphics4.FragmentShader"]=kha_graphics4_FragmentShader;kha_graphics4_FragmentShader.__name__=true;kha_graphics4_FragmentShader.fromSource=function(source){var shader=new kha_graphics4_FragmentShader([],["runtime-string"]);shader.sources.push(source);return shader};kha_graphics4_FragmentShader.prototype={sources:null,type:null,shader:null,files:null,__class__:kha_graphics4_FragmentShader};var kha_graphics4_GeometryShader=function(){};$hxClasses["kha.graphics4.GeometryShader"]=kha_graphics4_GeometryShader;kha_graphics4_GeometryShader.__name__=true;var kha_graphics4_Graphics=function(){};$hxClasses["kha.graphics4.Graphics"]=kha_graphics4_Graphics;kha_graphics4_Graphics.__name__=true;kha_graphics4_Graphics.prototype={begin:null,beginFace:null,end:null,clear:null,viewport:null,scissor:null,disableScissor:null,setVertexBuffer:null,setVertexBuffers:null,setIndexBuffer:null,setTexture:null,setTextureDepth:null,setImageTexture:null,setTextureParameters:null,setTexture3DParameters:null,setCubeMap:null,setCubeMapDepth:null,renderTargetsInvertedY:null,setPipeline:null,setBool:null,setInt:null,setFloat:null,setFloat2:null,setFloat3:null,setFloat4:null,setFloats:null,setMatrix:null,setMatrix3:null,drawIndexedVertices:null,drawIndexedVerticesInstanced:null,__class__:kha_graphics4_Graphics};var kha_graphics4_ImageShaderPainter=function(g4){this.myPipeline=null;this.bilinearMipmaps=false;this.bilinear=false;this.g=g4;kha_graphics4_ImageShaderPainter.bufferIndex=0;kha_graphics4_ImageShaderPainter.initShaders();this.initBuffers();this.projectionLocation=kha_graphics4_ImageShaderPainter.shaderPipeline.getConstantLocation("projectionMatrix");this.textureLocation=kha_graphics4_ImageShaderPainter.shaderPipeline.getTextureUnit("tex")};$hxClasses["kha.graphics4.ImageShaderPainter"]=kha_graphics4_ImageShaderPainter;kha_graphics4_ImageShaderPainter.__name__=true;kha_graphics4_ImageShaderPainter.initShaders=function(){if(kha_graphics4_ImageShaderPainter.structure==null){kha_graphics4_ImageShaderPainter.structure=kha_graphics4_Graphics2.createImageVertexStructure()}if(kha_graphics4_ImageShaderPainter.shaderPipeline==null){kha_graphics4_ImageShaderPainter.shaderPipeline=kha_graphics4_Graphics2.createImagePipeline(kha_graphics4_ImageShaderPainter.structure);kha_graphics4_ImageShaderPainter.shaderPipeline.compile()}};kha_graphics4_ImageShaderPainter.prototype={projectionMatrix:null,bilinear:null,bilinearMipmaps:null,g:null,myPipeline:null,projectionLocation:null,textureLocation:null,get_pipeline:function(){return this.myPipeline},setProjection:function(projectionMatrix){this.projectionMatrix=projectionMatrix},initBuffers:function(){if(kha_graphics4_ImageShaderPainter.rectVertexBuffer==null){kha_graphics4_ImageShaderPainter.rectVertexBuffer=new kha_graphics4_VertexBuffer(6e3,kha_graphics4_ImageShaderPainter.structure,kha_graphics4_Usage.DynamicUsage);kha_graphics4_ImageShaderPainter.rectVertices=kha_graphics4_ImageShaderPainter.rectVertexBuffer.lock();kha_graphics4_ImageShaderPainter.indexBuffer=new kha_graphics4_IndexBuffer(9e3,kha_graphics4_Usage.StaticUsage);var indices=kha_graphics4_ImageShaderPainter.indexBuffer.lock();var _g=0;while(_g<1500){var i=_g++;indices[i*3*2]=i*4;indices[i*3*2+1]=i*4+1;indices[i*3*2+2]=i*4+2;indices[i*3*2+3]=i*4;indices[i*3*2+4]=i*4+2;indices[i*3*2+5]=i*4+3}kha_graphics4_ImageShaderPainter.indexBuffer.unlock()}},drawBuffer:function(){kha_graphics4_ImageShaderPainter.rectVertexBuffer.unlock();this.g.setVertexBuffer(kha_graphics4_ImageShaderPainter.rectVertexBuffer);this.g.setIndexBuffer(kha_graphics4_ImageShaderPainter.indexBuffer);this.g.setPipeline(this.get_pipeline()==null?kha_graphics4_ImageShaderPainter.shaderPipeline:this.get_pipeline());this.g.setTexture(this.textureLocation,kha_graphics4_ImageShaderPainter.lastTexture);this.g.setTextureParameters(this.textureLocation,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,this.bilinear?kha_graphics4_TextureFilter.LinearFilter:kha_graphics4_TextureFilter.PointFilter,this.bilinear?kha_graphics4_TextureFilter.LinearFilter:kha_graphics4_TextureFilter.PointFilter,this.bilinearMipmaps?kha_graphics4_MipMapFilter.LinearMipFilter:kha_graphics4_MipMapFilter.NoMipFilter);this.g.setMatrix(this.projectionLocation,this.projectionMatrix);this.g.drawIndexedVertices(0,kha_graphics4_ImageShaderPainter.bufferIndex*2*3);this.g.setTexture(this.textureLocation,null);kha_graphics4_ImageShaderPainter.bufferIndex=0;kha_graphics4_ImageShaderPainter.rectVertices=kha_graphics4_ImageShaderPainter.rectVertexBuffer.lock()},end:function(){if(kha_graphics4_ImageShaderPainter.bufferIndex>0){this.drawBuffer()}kha_graphics4_ImageShaderPainter.lastTexture=null},__class__:kha_graphics4_ImageShaderPainter,__properties__:{get_pipeline:"get_pipeline"}};var kha_graphics4_ColoredShaderPainter=function(g4){this.myPipeline=null;this.g=g4;kha_graphics4_ColoredShaderPainter.bufferIndex=0;kha_graphics4_ColoredShaderPainter.triangleBufferIndex=0;kha_graphics4_ColoredShaderPainter.initShaders();this.initBuffers();this.projectionLocation=kha_graphics4_ColoredShaderPainter.shaderPipeline.getConstantLocation("projectionMatrix")};$hxClasses["kha.graphics4.ColoredShaderPainter"]=kha_graphics4_ColoredShaderPainter;kha_graphics4_ColoredShaderPainter.__name__=true;kha_graphics4_ColoredShaderPainter.initShaders=function(){if(kha_graphics4_ColoredShaderPainter.structure==null){kha_graphics4_ColoredShaderPainter.structure=kha_graphics4_Graphics2.createColoredVertexStructure()}if(kha_graphics4_ColoredShaderPainter.shaderPipeline==null){kha_graphics4_ColoredShaderPainter.shaderPipeline=kha_graphics4_Graphics2.createColoredPipeline(kha_graphics4_ColoredShaderPainter.structure);kha_graphics4_ColoredShaderPainter.shaderPipeline.compile()}};kha_graphics4_ColoredShaderPainter.prototype={projectionMatrix:null,g:null,myPipeline:null,projectionLocation:null,get_pipeline:function(){return this.myPipeline},setProjection:function(projectionMatrix){this.projectionMatrix=projectionMatrix},initBuffers:function(){if(kha_graphics4_ColoredShaderPainter.rectVertexBuffer==null){kha_graphics4_ColoredShaderPainter.rectVertexBuffer=new kha_graphics4_VertexBuffer(400,kha_graphics4_ColoredShaderPainter.structure,kha_graphics4_Usage.DynamicUsage);kha_graphics4_ColoredShaderPainter.rectVertices=kha_graphics4_ColoredShaderPainter.rectVertexBuffer.lock();kha_graphics4_ColoredShaderPainter.indexBuffer=new kha_graphics4_IndexBuffer(600,kha_graphics4_Usage.StaticUsage);var indices=kha_graphics4_ColoredShaderPainter.indexBuffer.lock();var _g=0;while(_g<100){var i=_g++;indices[i*3*2]=i*4;indices[i*3*2+1]=i*4+1;indices[i*3*2+2]=i*4+2;indices[i*3*2+3]=i*4;indices[i*3*2+4]=i*4+2;indices[i*3*2+5]=i*4+3}kha_graphics4_ColoredShaderPainter.indexBuffer.unlock();kha_graphics4_ColoredShaderPainter.triangleVertexBuffer=new kha_graphics4_VertexBuffer(300,kha_graphics4_ColoredShaderPainter.structure,kha_graphics4_Usage.DynamicUsage);kha_graphics4_ColoredShaderPainter.triangleVertices=kha_graphics4_ColoredShaderPainter.triangleVertexBuffer.lock();kha_graphics4_ColoredShaderPainter.triangleIndexBuffer=new kha_graphics4_IndexBuffer(300,kha_graphics4_Usage.StaticUsage);var triIndices=kha_graphics4_ColoredShaderPainter.triangleIndexBuffer.lock();var _g1=0;while(_g1<100){var i1=_g1++;triIndices[i1*3]=i1*3;triIndices[i1*3+1]=i1*3+1;triIndices[i1*3+2]=i1*3+2}kha_graphics4_ColoredShaderPainter.triangleIndexBuffer.unlock()}},setRectVertices:function(bottomleftx,bottomlefty,topleftx,toplefty,toprightx,toprighty,bottomrightx,bottomrighty){var baseIndex=kha_graphics4_ColoredShaderPainter.bufferIndex*7*4;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex]=bottomleftx;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+1]=bottomlefty;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+2]=-5;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+7]=topleftx;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+8]=toplefty;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+9]=-5;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+14]=toprightx;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+15]=toprighty;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+16]=-5;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+21]=bottomrightx;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+22]=bottomrighty;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+23]=-5},setRectColors:function(opacity,color){var baseIndex=kha_graphics4_ColoredShaderPainter.bufferIndex*7*4;var a=opacity*((color>>>24)*.00392156862745098);kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+3]=((color&16711680)>>>16)*.00392156862745098;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+4]=((color&65280)>>>8)*.00392156862745098;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+5]=(color&255)*.00392156862745098;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+6]=a;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+10]=((color&16711680)>>>16)*.00392156862745098;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+11]=((color&65280)>>>8)*.00392156862745098;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+12]=(color&255)*.00392156862745098;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+13]=a;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+17]=((color&16711680)>>>16)*.00392156862745098;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+18]=((color&65280)>>>8)*.00392156862745098;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+19]=(color&255)*.00392156862745098;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+20]=a;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+24]=((color&16711680)>>>16)*.00392156862745098;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+25]=((color&65280)>>>8)*.00392156862745098;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+26]=(color&255)*.00392156862745098;kha_graphics4_ColoredShaderPainter.rectVertices[baseIndex+27]=a},setTriVertices:function(x1,y1,x2,y2,x3,y3){var baseIndex=kha_graphics4_ColoredShaderPainter.triangleBufferIndex*7*3;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex]=x1;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+1]=y1;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+2]=-5;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+7]=x2;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+8]=y2;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+9]=-5;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+14]=x3;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+15]=y3;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+16]=-5},setTriColors:function(opacity,color){var baseIndex=kha_graphics4_ColoredShaderPainter.triangleBufferIndex*7*3;var a=opacity*((color>>>24)*.00392156862745098);kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+3]=((color&16711680)>>>16)*.00392156862745098;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+4]=((color&65280)>>>8)*.00392156862745098;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+5]=(color&255)*.00392156862745098;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+6]=a;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+10]=((color&16711680)>>>16)*.00392156862745098;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+11]=((color&65280)>>>8)*.00392156862745098;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+12]=(color&255)*.00392156862745098;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+13]=a;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+17]=((color&16711680)>>>16)*.00392156862745098;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+18]=((color&65280)>>>8)*.00392156862745098;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+19]=(color&255)*.00392156862745098;kha_graphics4_ColoredShaderPainter.triangleVertices[baseIndex+20]=a},drawBuffer:function(trisDone){if(!trisDone){if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex>0){this.drawTriBuffer(true)}}kha_graphics4_ColoredShaderPainter.rectVertexBuffer.unlock();this.g.setVertexBuffer(kha_graphics4_ColoredShaderPainter.rectVertexBuffer);this.g.setIndexBuffer(kha_graphics4_ColoredShaderPainter.indexBuffer);this.g.setPipeline(this.get_pipeline()==null?kha_graphics4_ColoredShaderPainter.shaderPipeline:this.get_pipeline());this.g.setMatrix(this.projectionLocation,this.projectionMatrix);this.g.drawIndexedVertices(0,kha_graphics4_ColoredShaderPainter.bufferIndex*2*3);kha_graphics4_ColoredShaderPainter.bufferIndex=0;kha_graphics4_ColoredShaderPainter.rectVertices=kha_graphics4_ColoredShaderPainter.rectVertexBuffer.lock()},drawTriBuffer:function(rectsDone){if(!rectsDone){if(kha_graphics4_ColoredShaderPainter.bufferIndex>0){this.drawBuffer(true)}}kha_graphics4_ColoredShaderPainter.triangleVertexBuffer.unlock();this.g.setVertexBuffer(kha_graphics4_ColoredShaderPainter.triangleVertexBuffer);this.g.setIndexBuffer(kha_graphics4_ColoredShaderPainter.triangleIndexBuffer);this.g.setPipeline(this.get_pipeline()==null?kha_graphics4_ColoredShaderPainter.shaderPipeline:this.get_pipeline());this.g.setMatrix(this.projectionLocation,this.projectionMatrix);this.g.drawIndexedVertices(0,kha_graphics4_ColoredShaderPainter.triangleBufferIndex*3);kha_graphics4_ColoredShaderPainter.triangleBufferIndex=0;kha_graphics4_ColoredShaderPainter.triangleVertices=kha_graphics4_ColoredShaderPainter.triangleVertexBuffer.lock()},fillRect:function(opacity,color,bottomleftx,bottomlefty,topleftx,toplefty,toprightx,toprighty,bottomrightx,bottomrighty){if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex>0){this.drawTriBuffer(true)}if(kha_graphics4_ColoredShaderPainter.bufferIndex+1>=100){this.drawBuffer(false)}this.setRectColors(opacity,color);this.setRectVertices(bottomleftx,bottomlefty,topleftx,toplefty,toprightx,toprighty,bottomrightx,bottomrighty);++kha_graphics4_ColoredShaderPainter.bufferIndex},fillTriangle:function(opacity,color,x1,y1,x2,y2,x3,y3){if(kha_graphics4_ColoredShaderPainter.bufferIndex>0){this.drawBuffer(true)}if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex+1>=100){this.drawTriBuffer(false)}this.setTriColors(opacity,color);this.setTriVertices(x1,y1,x2,y2,x3,y3);++kha_graphics4_ColoredShaderPainter.triangleBufferIndex},__class__:kha_graphics4_ColoredShaderPainter,__properties__:{get_pipeline:"get_pipeline"}};var kha_graphics4_TextShaderPainter=function(g4){this.bakedQuadCache=new kha_AlignedQuad;this.bilinear=false;this.myPipeline=null;this.g=g4;kha_graphics4_TextShaderPainter.bufferIndex=0;kha_graphics4_TextShaderPainter.initShaders();this.initBuffers();this.projectionLocation=kha_graphics4_TextShaderPainter.shaderPipeline.getConstantLocation("projectionMatrix");this.textureLocation=kha_graphics4_TextShaderPainter.shaderPipeline.getTextureUnit("tex")};$hxClasses["kha.graphics4.TextShaderPainter"]=kha_graphics4_TextShaderPainter;kha_graphics4_TextShaderPainter.__name__=true;kha_graphics4_TextShaderPainter.initShaders=function(){if(kha_graphics4_TextShaderPainter.structure==null){kha_graphics4_TextShaderPainter.structure=kha_graphics4_Graphics2.createTextVertexStructure()}if(kha_graphics4_TextShaderPainter.shaderPipeline==null){kha_graphics4_TextShaderPainter.shaderPipeline=kha_graphics4_Graphics2.createTextPipeline(kha_graphics4_TextShaderPainter.structure);kha_graphics4_TextShaderPainter.shaderPipeline.compile()}};kha_graphics4_TextShaderPainter.findIndex=function(charcode,fontGlyphs){var _g1=0;var _g=fontGlyphs.length;while(_g1<_g){var i=_g1++;if(fontGlyphs[i]==charcode){return i}}return 0};kha_graphics4_TextShaderPainter.prototype={projectionMatrix:null,font:null,g:null,myPipeline:null,projectionLocation:null,textureLocation:null,fontSize:null,bilinear:null,get_pipeline:function(){return this.myPipeline},setProjection:function(projectionMatrix){this.projectionMatrix=projectionMatrix},initBuffers:function(){if(kha_graphics4_TextShaderPainter.rectVertexBuffer==null){kha_graphics4_TextShaderPainter.rectVertexBuffer=new kha_graphics4_VertexBuffer(400,kha_graphics4_TextShaderPainter.structure,kha_graphics4_Usage.DynamicUsage);kha_graphics4_TextShaderPainter.rectVertices=kha_graphics4_TextShaderPainter.rectVertexBuffer.lock();kha_graphics4_TextShaderPainter.indexBuffer=new kha_graphics4_IndexBuffer(600,kha_graphics4_Usage.StaticUsage);var indices=kha_graphics4_TextShaderPainter.indexBuffer.lock();var _g=0;while(_g<100){var i=_g++;indices[i*3*2]=i*4;indices[i*3*2+1]=i*4+1;indices[i*3*2+2]=i*4+2;indices[i*3*2+3]=i*4;indices[i*3*2+4]=i*4+2;indices[i*3*2+5]=i*4+3}kha_graphics4_TextShaderPainter.indexBuffer.unlock()}},setRectVertices:function(bottomleftx,bottomlefty,topleftx,toplefty,toprightx,toprighty,bottomrightx,bottomrighty){var baseIndex=kha_graphics4_TextShaderPainter.bufferIndex*9*4;kha_graphics4_TextShaderPainter.rectVertices[baseIndex]=bottomleftx;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+1]=bottomlefty;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+2]=-5;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+9]=topleftx;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+10]=toplefty;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+11]=-5;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+18]=toprightx;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+19]=toprighty;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+20]=-5;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+27]=bottomrightx;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+28]=bottomrighty;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+29]=-5},setRectTexCoords:function(left,top,right,bottom){var baseIndex=kha_graphics4_TextShaderPainter.bufferIndex*9*4;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+3]=left;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+4]=bottom;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+12]=left;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+13]=top;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+21]=right;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+22]=top;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+30]=right;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+31]=bottom},setRectColors:function(opacity,color){var baseIndex=kha_graphics4_TextShaderPainter.bufferIndex*9*4;var a=opacity*((color>>>24)*.00392156862745098);kha_graphics4_TextShaderPainter.rectVertices[baseIndex+5]=((color&16711680)>>>16)*.00392156862745098;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+6]=((color&65280)>>>8)*.00392156862745098;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+7]=(color&255)*.00392156862745098;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+8]=a;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+14]=((color&16711680)>>>16)*.00392156862745098;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+15]=((color&65280)>>>8)*.00392156862745098;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+16]=(color&255)*.00392156862745098;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+17]=a;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+23]=((color&16711680)>>>16)*.00392156862745098;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+24]=((color&65280)>>>8)*.00392156862745098;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+25]=(color&255)*.00392156862745098;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+26]=a;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+32]=((color&16711680)>>>16)*.00392156862745098;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+33]=((color&65280)>>>8)*.00392156862745098;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+34]=(color&255)*.00392156862745098;kha_graphics4_TextShaderPainter.rectVertices[baseIndex+35]=a},drawBuffer:function(){kha_graphics4_TextShaderPainter.rectVertexBuffer.unlock();this.g.setVertexBuffer(kha_graphics4_TextShaderPainter.rectVertexBuffer);this.g.setIndexBuffer(kha_graphics4_TextShaderPainter.indexBuffer);this.g.setPipeline(this.get_pipeline()==null?kha_graphics4_TextShaderPainter.shaderPipeline:this.get_pipeline());this.g.setTexture(this.textureLocation,kha_graphics4_TextShaderPainter.lastTexture);this.g.setMatrix(this.projectionLocation,this.projectionMatrix);this.g.setTextureParameters(this.textureLocation,kha_graphics4_TextureAddressing.Clamp,kha_graphics4_TextureAddressing.Clamp,this.bilinear?kha_graphics4_TextureFilter.LinearFilter:kha_graphics4_TextureFilter.PointFilter,this.bilinear?kha_graphics4_TextureFilter.LinearFilter:kha_graphics4_TextureFilter.PointFilter,kha_graphics4_MipMapFilter.NoMipFilter);this.g.drawIndexedVertices(0,kha_graphics4_TextShaderPainter.bufferIndex*2*3);this.g.setTexture(this.textureLocation,null);kha_graphics4_TextShaderPainter.bufferIndex=0;kha_graphics4_TextShaderPainter.rectVertices=kha_graphics4_TextShaderPainter.rectVertexBuffer.lock()},setFont:function(font){this.font=js_Boot.__cast(font,kha_Kravur)},text:null,startString:function(text){this.text=text},charCodeAt:function(position){return HxOverrides.cca(this.text,position)},stringLength:function(){return this.text.length},endString:function(){this.text=null},bakedQuadCache:null,drawString:function(text,opacity,color,x,y,transformation,fontGlyphs){var font=this.font._get(this.fontSize,fontGlyphs);var tex=font.getTexture();if(kha_graphics4_TextShaderPainter.lastTexture!=null&&tex!=kha_graphics4_TextShaderPainter.lastTexture){this.drawBuffer()}kha_graphics4_TextShaderPainter.lastTexture=tex;var xpos=x;var ypos=y;this.startString(text);var _g1=0;var _g=this.stringLength();while(_g1<_g){var i=_g1++;var q=font.getBakedQuad(this.bakedQuadCache,kha_graphics4_TextShaderPainter.findIndex(this.charCodeAt(i),fontGlyphs),xpos,ypos);if(q!=null){if(kha_graphics4_TextShaderPainter.bufferIndex+1>=100){this.drawBuffer()}this.setRectColors(opacity,color);this.setRectTexCoords(q.s0*tex.get_width()/tex.get_realWidth(),q.t0*tex.get_height()/tex.get_realHeight(),q.s1*tex.get_width()/tex.get_realWidth(),q.t1*tex.get_height()/tex.get_realHeight());var p0_y;var p0_x;var value_y;var value_x=q.x0;value_y=q.y1;var w=transformation._02*value_x+transformation._12*value_y+transformation._22;var x1=(transformation._00*value_x+transformation._10*value_y+transformation._20)/w;var y1=(transformation._01*value_x+transformation._11*value_y+transformation._21)/w;p0_x=x1;p0_y=y1;var p1_y;var p1_x;var value_y1;var value_x1=q.x0;value_y1=q.y0;var w1=transformation._02*value_x1+transformation._12*value_y1+transformation._22;var x2=(transformation._00*value_x1+transformation._10*value_y1+transformation._20)/w1;var y2=(transformation._01*value_x1+transformation._11*value_y1+transformation._21)/w1;p1_x=x2;p1_y=y2;var p2_y;var p2_x;var value_y2;var value_x2=q.x1;value_y2=q.y0;var w2=transformation._02*value_x2+transformation._12*value_y2+transformation._22;var x3=(transformation._00*value_x2+transformation._10*value_y2+transformation._20)/w2;var y3=(transformation._01*value_x2+transformation._11*value_y2+transformation._21)/w2;p2_x=x3;p2_y=y3;var p3_y;var p3_x;var value_y3;var value_x3=q.x1;value_y3=q.y1;var w3=transformation._02*value_x3+transformation._12*value_y3+transformation._22;var x4=(transformation._00*value_x3+transformation._10*value_y3+transformation._20)/w3;var y4=(transformation._01*value_x3+transformation._11*value_y3+transformation._21)/w3;p3_x=x4;p3_y=y4;this.setRectVertices(p0_x,p0_y,p1_x,p1_y,p2_x,p2_y,p3_x,p3_y);xpos+=q.xadvance;++kha_graphics4_TextShaderPainter.bufferIndex}}this.endString()},end:function(){if(kha_graphics4_TextShaderPainter.bufferIndex>0){this.drawBuffer()}kha_graphics4_TextShaderPainter.lastTexture=null},__class__:kha_graphics4_TextShaderPainter,__properties__:{get_pipeline:"get_pipeline"}};var kha_graphics4_Graphics2=function(canvas){kha_graphics2_Graphics.call(this);this.set_color(-1);this.canvas=canvas;this.g=canvas.get_g4();this.imagePainter=new kha_graphics4_ImageShaderPainter(this.g);this.coloredPainter=new kha_graphics4_ColoredShaderPainter(this.g);this.textPainter=new kha_graphics4_TextShaderPainter(this.g);this.textPainter.fontSize=this.get_fontSize();this.setProjection();if(kha_graphics4_Graphics2.videoPipeline==null){kha_graphics4_Graphics2.videoPipeline=kha_graphics4_Graphics2.createImagePipeline(kha_graphics4_Graphics2.createImageVertexStructure());kha_graphics4_Graphics2.videoPipeline.fragmentShader=kha_Shaders.painter_video_frag;kha_graphics4_Graphics2.videoPipeline.vertexShader=kha_Shaders.painter_video_vert;kha_graphics4_Graphics2.videoPipeline.compile()}};$hxClasses["kha.graphics4.Graphics2"]=kha_graphics4_Graphics2;kha_graphics4_Graphics2.__name__=true;kha_graphics4_Graphics2.upperPowerOfTwo=function(v){--v;v|=v>>>1;v|=v>>>2;v|=v>>>4;v|=v>>>8;v|=v>>>16;return++v};kha_graphics4_Graphics2.createImageVertexStructure=function(){var structure=new kha_graphics4_VertexStructure;structure.add("vertexPosition",kha_graphics4_VertexData.Float3);structure.add("texPosition",kha_graphics4_VertexData.Float2);structure.add("vertexColor",kha_graphics4_VertexData.Float4);return structure};kha_graphics4_Graphics2.createImagePipeline=function(structure){var shaderPipeline=new kha_graphics4_PipelineState;shaderPipeline.fragmentShader=kha_Shaders.painter_image_frag;shaderPipeline.vertexShader=kha_Shaders.painter_image_vert;shaderPipeline.inputLayout=[structure];shaderPipeline.blendSource=kha_graphics4_BlendingFactor.BlendOne;shaderPipeline.blendDestination=kha_graphics4_BlendingFactor.InverseSourceAlpha;shaderPipeline.alphaBlendSource=kha_graphics4_BlendingFactor.BlendOne;shaderPipeline.alphaBlendDestination=kha_graphics4_BlendingFactor.InverseSourceAlpha;return shaderPipeline};kha_graphics4_Graphics2.createColoredVertexStructure=function(){var structure=new kha_graphics4_VertexStructure;structure.add("vertexPosition",kha_graphics4_VertexData.Float3);structure.add("vertexColor",kha_graphics4_VertexData.Float4);return structure};kha_graphics4_Graphics2.createColoredPipeline=function(structure){var shaderPipeline=new kha_graphics4_PipelineState;shaderPipeline.fragmentShader=kha_Shaders.painter_colored_frag;shaderPipeline.vertexShader=kha_Shaders.painter_colored_vert;shaderPipeline.inputLayout=[structure];shaderPipeline.blendSource=kha_graphics4_BlendingFactor.SourceAlpha;shaderPipeline.blendDestination=kha_graphics4_BlendingFactor.InverseSourceAlpha;shaderPipeline.alphaBlendSource=kha_graphics4_BlendingFactor.SourceAlpha;shaderPipeline.alphaBlendDestination=kha_graphics4_BlendingFactor.InverseSourceAlpha;return shaderPipeline};kha_graphics4_Graphics2.createTextVertexStructure=function(){var structure=new kha_graphics4_VertexStructure;structure.add("vertexPosition",kha_graphics4_VertexData.Float3);structure.add("texPosition",kha_graphics4_VertexData.Float2);structure.add("vertexColor",kha_graphics4_VertexData.Float4);return structure};kha_graphics4_Graphics2.createTextPipeline=function(structure){var shaderPipeline=new kha_graphics4_PipelineState;shaderPipeline.fragmentShader=kha_Shaders.painter_text_frag;shaderPipeline.vertexShader=kha_Shaders.painter_text_vert;shaderPipeline.inputLayout=[structure];shaderPipeline.blendSource=kha_graphics4_BlendingFactor.SourceAlpha;shaderPipeline.blendDestination=kha_graphics4_BlendingFactor.InverseSourceAlpha;shaderPipeline.alphaBlendSource=kha_graphics4_BlendingFactor.SourceAlpha;shaderPipeline.alphaBlendDestination=kha_graphics4_BlendingFactor.InverseSourceAlpha;return shaderPipeline};kha_graphics4_Graphics2.__super__=kha_graphics2_Graphics;kha_graphics4_Graphics2.prototype=$extend(kha_graphics2_Graphics.prototype,{myColor:null,myFont:null,projectionMatrix:null,imagePainter:null,coloredPainter:null,textPainter:null,canvas:null,g:null,setProjection:function(){var width=this.canvas.get_width();var height=this.canvas.get_height();if(js_Boot.__instanceof(this.canvas,kha_Framebuffer)){this.projectionMatrix=kha_math_FastMatrix4.orthogonalProjection(0,width,height,0,.1,1e3)}else{if(!kha_Image.get_nonPow2Supported()){width=kha_graphics4_Graphics2.upperPowerOfTwo(width);height=kha_graphics4_Graphics2.upperPowerOfTwo(height)}if(this.g.renderTargetsInvertedY()){this.projectionMatrix=kha_math_FastMatrix4.orthogonalProjection(0,width,0,height,.1,1e3)}else{this.projectionMatrix=kha_math_FastMatrix4.orthogonalProjection(0,width,height,0,.1,1e3)}}this.imagePainter.setProjection(this.projectionMatrix);this.coloredPainter.setProjection(this.projectionMatrix);this.textPainter.setProjection(this.projectionMatrix)},drawScaledSubImage:function(img,sx,sy,sw,sh,dx,dy,dw,dh){var _this=this.coloredPainter;if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex>0){_this.drawTriBuffer(false)}if(kha_graphics4_ColoredShaderPainter.bufferIndex>0){_this.drawBuffer(false)}this.textPainter.end();var p1_y;var p1_x;var _this1=this.transformations[this.transformations.length-1];var value_y;var value_x=dx;value_y=dy+dh;var w=_this1._02*value_x+_this1._12*value_y+_this1._22;var x=(_this1._00*value_x+_this1._10*value_y+_this1._20)/w;var y=(_this1._01*value_x+_this1._11*value_y+_this1._21)/w;p1_x=x;p1_y=y;var p2_y;var p2_x;var _this2=this.transformations[this.transformations.length-1];var value_y1;var value_x1=dx;value_y1=dy;var w1=_this2._02*value_x1+_this2._12*value_y1+_this2._22;var x1=(_this2._00*value_x1+_this2._10*value_y1+_this2._20)/w1;var y1=(_this2._01*value_x1+_this2._11*value_y1+_this2._21)/w1;p2_x=x1;p2_y=y1;var p3_y;var p3_x;var _this3=this.transformations[this.transformations.length-1];var value_y2;var value_x2=dx+dw;value_y2=dy;var w2=_this3._02*value_x2+_this3._12*value_y2+_this3._22;var x2=(_this3._00*value_x2+_this3._10*value_y2+_this3._20)/w2;var y2=(_this3._01*value_x2+_this3._11*value_y2+_this3._21)/w2;p3_x=x2;p3_y=y2;var p4_y;var p4_x;var _this4=this.transformations[this.transformations.length-1];var value_y3;var value_x3=dx+dw;value_y3=dy+dh;var w3=_this4._02*value_x3+_this4._12*value_y3+_this4._22;var x3=(_this4._00*value_x3+_this4._10*value_y3+_this4._20)/w3;var y3=(_this4._01*value_x3+_this4._11*value_y3+_this4._21)/w3;p4_x=x3;p4_y=y3;var _this5=this.imagePainter;var opacity=this.get_opacity();var color=this.get_color();var tex=img;if(kha_graphics4_ImageShaderPainter.bufferIndex+1>=1500||kha_graphics4_ImageShaderPainter.lastTexture!=null&&tex!=kha_graphics4_ImageShaderPainter.lastTexture){_this5.drawBuffer()}var left=sx/tex.get_realWidth();var top=sy/tex.get_realHeight();var right=(sx+sw)/tex.get_realWidth();var bottom=(sy+sh)/tex.get_realHeight();var baseIndex=kha_graphics4_ImageShaderPainter.bufferIndex*9*4;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex+3]=left;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex+4]=bottom;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex+12]=left;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex+13]=top;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex+21]=right;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex+22]=top;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex+30]=right;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex+31]=bottom;var r=((color&16711680)>>>16)*.00392156862745098;var g=((color&65280)>>>8)*.00392156862745098;var b=(color&255)*.00392156862745098;var a=(color>>>24)*.00392156862745098*opacity;var baseIndex1=kha_graphics4_ImageShaderPainter.bufferIndex*9*4;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+5]=r;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+6]=g;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+7]=b;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+8]=a;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+14]=r;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+15]=g;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+16]=b;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+17]=a;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+23]=r;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+24]=g;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+25]=b;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+26]=a;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+32]=r;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+33]=g;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+34]=b;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex1+35]=a;var baseIndex2=kha_graphics4_ImageShaderPainter.bufferIndex*9*4;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2]=p1_x;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2+1]=p1_y;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2+2]=-5;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2+9]=p2_x;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2+10]=p2_y;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2+11]=-5;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2+18]=p3_x;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2+19]=p3_y;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2+20]=-5;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2+27]=p4_x;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2+28]=p4_y;kha_graphics4_ImageShaderPainter.rectVertices[baseIndex2+29]=-5;++kha_graphics4_ImageShaderPainter.bufferIndex;kha_graphics4_ImageShaderPainter.lastTexture=tex},get_color:function(){return this.myColor},set_color:function(color){return this.myColor=color},drawRect:function(x,y,width,height,strength){if(strength==null){strength=1}this.imagePainter.end();this.textPainter.end();var _this=this.transformations[this.transformations.length-1];var value_y;var value_x=x-strength/2;value_y=y+strength/2;var w=_this._02*value_x+_this._12*value_y+_this._22;var x1=(_this._00*value_x+_this._10*value_y+_this._20)/w;var y1=(_this._01*value_x+_this._11*value_y+_this._21)/w;var p1=new kha_math_FastVector2(x1,y1);var _this1=this.transformations[this.transformations.length-1];var value_y1;var value_x1=x-strength/2;value_y1=y-strength/2;var w1=_this1._02*value_x1+_this1._12*value_y1+_this1._22;var x2=(_this1._00*value_x1+_this1._10*value_y1+_this1._20)/w1;var y2=(_this1._01*value_x1+_this1._11*value_y1+_this1._21)/w1;var p2=new kha_math_FastVector2(x2,y2);var _this2=this.transformations[this.transformations.length-1];var value_y2;var value_x2=x+width+strength/2;value_y2=y-strength/2;var w2=_this2._02*value_x2+_this2._12*value_y2+_this2._22;var x3=(_this2._00*value_x2+_this2._10*value_y2+_this2._20)/w2;var y3=(_this2._01*value_x2+_this2._11*value_y2+_this2._21)/w2;var p3=new kha_math_FastVector2(x3,y3);var _this3=this.transformations[this.transformations.length-1];var value_y3;var value_x3=x+width+strength/2;value_y3=y+strength/2;var w3=_this3._02*value_x3+_this3._12*value_y3+_this3._22;var x4=(_this3._00*value_x3+_this3._10*value_y3+_this3._20)/w3;var y4=(_this3._01*value_x3+_this3._11*value_y3+_this3._21)/w3;var p4=new kha_math_FastVector2(x4,y4);this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),p1.x,p1.y,p2.x,p2.y,p3.x,p3.y,p4.x,p4.y);var _this4=this.transformations[this.transformations.length-1];var value_y4;var value_x4=x-strength/2;value_y4=y+height+strength/2;var w4=_this4._02*value_x4+_this4._12*value_y4+_this4._22;var x5=(_this4._00*value_x4+_this4._10*value_y4+_this4._20)/w4;var y5=(_this4._01*value_x4+_this4._11*value_y4+_this4._21)/w4;p1=new kha_math_FastVector2(x5,y5);var _this5=this.transformations[this.transformations.length-1];var value_y5;var value_x5=x+strength/2;value_y5=y-strength/2;var w5=_this5._02*value_x5+_this5._12*value_y5+_this5._22;var x6=(_this5._00*value_x5+_this5._10*value_y5+_this5._20)/w5;var y6=(_this5._01*value_x5+_this5._11*value_y5+_this5._21)/w5;p3=new kha_math_FastVector2(x6,y6);var _this6=this.transformations[this.transformations.length-1];var value_y6;var value_x6=x+strength/2;value_y6=y+height+strength/2;var w6=_this6._02*value_x6+_this6._12*value_y6+_this6._22;var x7=(_this6._00*value_x6+_this6._10*value_y6+_this6._20)/w6;var y7=(_this6._01*value_x6+_this6._11*value_y6+_this6._21)/w6;p4=new kha_math_FastVector2(x7,y7);this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),p1.x,p1.y,p2.x,p2.y,p3.x,p3.y,p4.x,p4.y);var _this7=this.transformations[this.transformations.length-1];var value_y7;var value_x7=x-strength/2;value_y7=y+height-strength/2;var w7=_this7._02*value_x7+_this7._12*value_y7+_this7._22;var x8=(_this7._00*value_x7+_this7._10*value_y7+_this7._20)/w7;var y8=(_this7._01*value_x7+_this7._11*value_y7+_this7._21)/w7;p2=new kha_math_FastVector2(x8,y8);var _this8=this.transformations[this.transformations.length-1];var value_y8;var value_x8=x+width+strength/2;value_y8=y+height-strength/2;var w8=_this8._02*value_x8+_this8._12*value_y8+_this8._22;var x9=(_this8._00*value_x8+_this8._10*value_y8+_this8._20)/w8;var y9=(_this8._01*value_x8+_this8._11*value_y8+_this8._21)/w8;p3=new kha_math_FastVector2(x9,y9);var _this9=this.transformations[this.transformations.length-1];var value_y9;var value_x9=x+width+strength/2;value_y9=y+height+strength/2;var w9=_this9._02*value_x9+_this9._12*value_y9+_this9._22;var x10=(_this9._00*value_x9+_this9._10*value_y9+_this9._20)/w9;var y10=(_this9._01*value_x9+_this9._11*value_y9+_this9._21)/w9;p4=new kha_math_FastVector2(x10,y10);this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),p1.x,p1.y,p2.x,p2.y,p3.x,p3.y,p4.x,p4.y);var _this10=this.transformations[this.transformations.length-1];var value_y10;var value_x10=x+width-strength/2;value_y10=y+height+strength/2;var w10=_this10._02*value_x10+_this10._12*value_y10+_this10._22;var x11=(_this10._00*value_x10+_this10._10*value_y10+_this10._20)/w10;var y11=(_this10._01*value_x10+_this10._11*value_y10+_this10._21)/w10;p1=new kha_math_FastVector2(x11,y11);var _this11=this.transformations[this.transformations.length-1];var value_y11;var value_x11=x+width-strength/2;value_y11=y-strength/2;var w11=_this11._02*value_x11+_this11._12*value_y11+_this11._22;var x12=(_this11._00*value_x11+_this11._10*value_y11+_this11._20)/w11;var y12=(_this11._01*value_x11+_this11._11*value_y11+_this11._21)/w11;p2=new kha_math_FastVector2(x12,y12);var _this12=this.transformations[this.transformations.length-1];var value_y12;var value_x12=x+width+strength/2;value_y12=y-strength/2;var w12=_this12._02*value_x12+_this12._12*value_y12+_this12._22;var x13=(_this12._00*value_x12+_this12._10*value_y12+_this12._20)/w12;var y13=(_this12._01*value_x12+_this12._11*value_y12+_this12._21)/w12;p3=new kha_math_FastVector2(x13,y13);var _this13=this.transformations[this.transformations.length-1];var value_y13;var value_x13=x+width+strength/2;value_y13=y+height+strength/2;var w13=_this13._02*value_x13+_this13._12*value_y13+_this13._22;var x14=(_this13._00*value_x13+_this13._10*value_y13+_this13._20)/w13;var y14=(_this13._01*value_x13+_this13._11*value_y13+_this13._21)/w13;p4=new kha_math_FastVector2(x14,y14);this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),p1.x,p1.y,p2.x,p2.y,p3.x,p3.y,p4.x,p4.y)},fillRect:function(x,y,width,height){this.imagePainter.end();this.textPainter.end();var p1_y;var p1_x;var _this=this.transformations[this.transformations.length-1];var value_y;var value_x=x;value_y=y+height;var w=_this._02*value_x+_this._12*value_y+_this._22;var x1=(_this._00*value_x+_this._10*value_y+_this._20)/w;var y1=(_this._01*value_x+_this._11*value_y+_this._21)/w;p1_x=x1;p1_y=y1;var p2_y;var p2_x;var _this1=this.transformations[this.transformations.length-1];var value_y1;var value_x1=x;value_y1=y;var w1=_this1._02*value_x1+_this1._12*value_y1+_this1._22;var x2=(_this1._00*value_x1+_this1._10*value_y1+_this1._20)/w1;var y2=(_this1._01*value_x1+_this1._11*value_y1+_this1._21)/w1;p2_x=x2;p2_y=y2;var p3_y;var p3_x;var _this2=this.transformations[this.transformations.length-1];var value_y2;var value_x2=x+width;value_y2=y;var w2=_this2._02*value_x2+_this2._12*value_y2+_this2._22;var x3=(_this2._00*value_x2+_this2._10*value_y2+_this2._20)/w2;var y3=(_this2._01*value_x2+_this2._11*value_y2+_this2._21)/w2;p3_x=x3;p3_y=y3;var p4_y;var p4_x;var _this3=this.transformations[this.transformations.length-1];var value_y3;var value_x3=x+width;value_y3=y+height;var w3=_this3._02*value_x3+_this3._12*value_y3+_this3._22;var x4=(_this3._00*value_x3+_this3._10*value_y3+_this3._20)/w3;var y4=(_this3._01*value_x3+_this3._11*value_y3+_this3._21)/w3;p4_x=x4;p4_y=y4;this.coloredPainter.fillRect(this.get_opacity(),this.get_color(),p1_x,p1_y,p2_x,p2_y,p3_x,p3_y,p4_x,p4_y)},drawString:function(text,x,y){this.imagePainter.end();var _this=this.coloredPainter;if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex>0){_this.drawTriBuffer(false)}if(kha_graphics4_ColoredShaderPainter.bufferIndex>0){_this.drawBuffer(false)}this.textPainter.drawString(text,this.get_opacity(),this.get_color(),x,y,this.transformations[this.transformations.length-1],kha_graphics2_Graphics.fontGlyphs)},set_font:function(font){this.textPainter.setFont(font);return this.myFont=font},set_fontSize:function(value){return kha_graphics2_Graphics.prototype.set_fontSize.call(this,this.textPainter.fontSize=value)},drawLine:function(x1,y1,x2,y2,strength){if(strength==null){strength=1}this.imagePainter.end();this.textPainter.end();var vec;if(y2==y1){vec=new kha_math_FastVector2(0,-1)}else{vec=new kha_math_FastVector2(1,-(x2-x1)/(y2-y1))}vec.set_length(strength);var p1=new kha_math_FastVector2(x1+.5*vec.x,y1+.5*vec.y);var p2=new kha_math_FastVector2(x2+.5*vec.x,y2+.5*vec.y);var p3=new kha_math_FastVector2(p1.x-vec.x,p1.y-vec.y);var p4=new kha_math_FastVector2(p2.x-vec.x,p2.y-vec.y);var _this=this.transformations[this.transformations.length-1];var w=_this._02*p1.x+_this._12*p1.y+_this._22;var x=(_this._00*p1.x+_this._10*p1.y+_this._20)/w;var y=(_this._01*p1.x+_this._11*p1.y+_this._21)/w;p1=new kha_math_FastVector2(x,y);var _this1=this.transformations[this.transformations.length-1];var w1=_this1._02*p2.x+_this1._12*p2.y+_this1._22;var x3=(_this1._00*p2.x+_this1._10*p2.y+_this1._20)/w1;var y3=(_this1._01*p2.x+_this1._11*p2.y+_this1._21)/w1;p2=new kha_math_FastVector2(x3,y3);var _this2=this.transformations[this.transformations.length-1];var w2=_this2._02*p3.x+_this2._12*p3.y+_this2._22;var x4=(_this2._00*p3.x+_this2._10*p3.y+_this2._20)/w2;var y4=(_this2._01*p3.x+_this2._11*p3.y+_this2._21)/w2;p3=new kha_math_FastVector2(x4,y4);var _this3=this.transformations[this.transformations.length-1];var w3=_this3._02*p4.x+_this3._12*p4.y+_this3._22;var x5=(_this3._00*p4.x+_this3._10*p4.y+_this3._20)/w3;var y5=(_this3._01*p4.x+_this3._11*p4.y+_this3._21)/w3;p4=new kha_math_FastVector2(x5,y5);this.coloredPainter.fillTriangle(this.get_opacity(),this.get_color(),p1.x,p1.y,p2.x,p2.y,p3.x,p3.y);this.coloredPainter.fillTriangle(this.get_opacity(),this.get_color(),p3.x,p3.y,p2.x,p2.y,p4.x,p4.y)},begin:function(clear,clearColor){if(clear==null){clear=true}this.g.begin();if(clear){this.clear(clearColor)}this.setProjection()},clear:function(color){this.flush();this.g.clear(color==null?-16777216:color)},flush:function(){this.imagePainter.end();this.textPainter.end();var _this=this.coloredPainter;if(kha_graphics4_ColoredShaderPainter.triangleBufferIndex>0){_this.drawTriBuffer(false)}if(kha_graphics4_ColoredShaderPainter.bufferIndex>0){_this.drawBuffer(false)}},end:function(){this.flush();this.g.end()},__class__:kha_graphics4_Graphics2});var kha_graphics4_IndexBuffer=function(indexCount,usage,canRead){if(canRead==null){canRead=false}this.usage=usage;this.mySize=indexCount;this.buffer=kha_SystemImpl.gl.createBuffer();var this1=new Uint32Array(indexCount);this._data=this1};$hxClasses["kha.graphics4.IndexBuffer"]=kha_graphics4_IndexBuffer;kha_graphics4_IndexBuffer.__name__=true;kha_graphics4_IndexBuffer.prototype={buffer:null,_data:null,mySize:null,usage:null,lock:function(start,count){if(start==null){start=0}if(count==null){count=this.mySize}return this._data.subarray(start,start+count)},unlock:function(){kha_SystemImpl.gl.bindBuffer(34963,this.buffer);var glData=kha_SystemImpl.elementIndexUint==null?new Uint16Array(this._data):this._data;kha_SystemImpl.gl.bufferData(34963,glData,this.usage==kha_graphics4_Usage.DynamicUsage?35048:35044)},set:function(){kha_SystemImpl.gl.bindBuffer(34963,this.buffer)},count:function(){return this.mySize},__class__:kha_graphics4_IndexBuffer};var kha_graphics4_MipMapFilter=$hxClasses["kha.graphics4.MipMapFilter"]={__ename__:true,__constructs__:["NoMipFilter","PointMipFilter","LinearMipFilter"]};kha_graphics4_MipMapFilter.NoMipFilter=["NoMipFilter",0];kha_graphics4_MipMapFilter.NoMipFilter.toString=$estr;kha_graphics4_MipMapFilter.NoMipFilter.__enum__=kha_graphics4_MipMapFilter;kha_graphics4_MipMapFilter.PointMipFilter=["PointMipFilter",1];kha_graphics4_MipMapFilter.PointMipFilter.toString=$estr;kha_graphics4_MipMapFilter.PointMipFilter.__enum__=kha_graphics4_MipMapFilter;kha_graphics4_MipMapFilter.LinearMipFilter=["LinearMipFilter",2];kha_graphics4_MipMapFilter.LinearMipFilter.toString=$estr;kha_graphics4_MipMapFilter.LinearMipFilter.__enum__=kha_graphics4_MipMapFilter;var kha_graphics4_PipelineStateBase=function(){this.inputLayout=null;this.vertexShader=null;this.fragmentShader=null;this.geometryShader=null;this.tessellationControlShader=null;this.tessellationEvaluationShader=null;this.cullMode=kha_graphics4_CullMode.None;this.depthWrite=false;this.depthMode=kha_graphics4_CompareMode.Always;this.stencilMode=kha_graphics4_CompareMode.Always;this.stencilBothPass=kha_graphics4_StencilAction.Keep;this.stencilDepthFail=kha_graphics4_StencilAction.Keep;this.stencilFail=kha_graphics4_StencilAction.Keep;this.stencilReferenceValue=0;this.stencilReadMask=255;this.stencilWriteMask=255;this.blendSource=kha_graphics4_BlendingFactor.BlendOne;this.blendDestination=kha_graphics4_BlendingFactor.BlendZero;this.blendOperation=kha_graphics4_BlendingOperation.Add;this.alphaBlendSource=kha_graphics4_BlendingFactor.BlendOne;this.alphaBlendDestination=kha_graphics4_BlendingFactor.BlendZero;this.alphaBlendOperation=kha_graphics4_BlendingOperation.Add;this.colorWriteMaskRed=this.colorWriteMaskBlue=this.colorWriteMaskGreen=this.colorWriteMaskAlpha=true;this.conservativeRasterization=false};$hxClasses["kha.graphics4.PipelineStateBase"]=kha_graphics4_PipelineStateBase;kha_graphics4_PipelineStateBase.__name__=true;kha_graphics4_PipelineStateBase.prototype={inputLayout:null,vertexShader:null,fragmentShader:null,geometryShader:null,tessellationControlShader:null,tessellationEvaluationShader:null,cullMode:null,depthWrite:null,depthMode:null,stencilMode:null,stencilBothPass:null,stencilDepthFail:null,stencilFail:null,stencilReferenceValue:null,stencilReadMask:null,stencilWriteMask:null,blendSource:null,blendDestination:null,blendOperation:null,alphaBlendSource:null,alphaBlendDestination:null,alphaBlendOperation:null,colorWriteMaskRed:null,colorWriteMaskGreen:null,colorWriteMaskBlue:null,colorWriteMaskAlpha:null,conservativeRasterization:null,__class__:kha_graphics4_PipelineStateBase};var kha_graphics4_PipelineState=function(){this.program=null;kha_graphics4_PipelineStateBase.call(this);this.textures=[];this.textureValues=[]};$hxClasses["kha.graphics4.PipelineState"]=kha_graphics4_PipelineState;kha_graphics4_PipelineState.__name__=true;kha_graphics4_PipelineState.__super__=kha_graphics4_PipelineStateBase;kha_graphics4_PipelineState.prototype=$extend(kha_graphics4_PipelineStateBase.prototype,{program:null,textures:null,textureValues:null,delete:function(){if(this.program!=null){kha_SystemImpl.gl.deleteProgram(this.program)}},compile:function(){if(this.program!=null){kha_SystemImpl.gl.deleteProgram(this.program)}this.program=kha_SystemImpl.gl.createProgram();this.compileShader(this.vertexShader);this.compileShader(this.fragmentShader);kha_SystemImpl.gl.attachShader(this.program,this.vertexShader.shader);kha_SystemImpl.gl.attachShader(this.program,this.fragmentShader.shader);var index=0;var _g=0;var _g1=this.inputLayout;while(_g<_g1.length){var structure=_g1[_g];++_g;var _g2=0;var _g3=structure.elements;while(_g2<_g3.length){var element=_g3[_g2];++_g2;kha_SystemImpl.gl.bindAttribLocation(this.program,index,element.name);if(element.data==kha_graphics4_VertexData.Float4x4){index+=4}else{++index}}}kha_SystemImpl.gl.linkProgram(this.program);if(!kha_SystemImpl.gl.getProgramParameter(this.program,35714)){throw new js__$Boot_HaxeError("Could not link the shader program:\n"+kha_SystemImpl.gl.getProgramInfoLog(this.program))}},set:function(){kha_SystemImpl.gl.useProgram(this.program);var _g1=0;var _g=this.textureValues.length;while(_g1<_g){var index=_g1++;kha_SystemImpl.gl.uniform1i(this.textureValues[index],index)}kha_SystemImpl.gl.colorMask(this.colorWriteMaskRed,this.colorWriteMaskGreen,this.colorWriteMaskBlue,this.colorWriteMaskAlpha)},compileShader:function(shader){if(shader.shader!=null){return}var s=kha_SystemImpl.gl.createShader(shader.type);var highp=kha_SystemImpl.gl.getShaderPrecisionFormat(35632,36338);var highpSupported=highp.precision!=0;var files=shader.files;var _g1=0;var _g=files.length;while(_g1<_g){var i=_g1++;if(kha_SystemImpl.gl2){if(files[i].indexOf("-webgl2")>=0||files[i].indexOf("runtime-string")>=0){kha_SystemImpl.gl.shaderSource(s,shader.sources[i]);break}}else{if(!highpSupported&&(files[i].indexOf("-relaxed")>=0||files[i].indexOf("runtime-string")>=0)){kha_SystemImpl.gl.shaderSource(s,shader.sources[i]);break}if(highpSupported&&(files[i].indexOf("-relaxed")<0||files[i].indexOf("runtime-string")>=0)){kha_SystemImpl.gl.shaderSource(s,shader.sources[i]);break}}}kha_SystemImpl.gl.compileShader(s);if(!kha_SystemImpl.gl.getShaderParameter(s,35713)){throw new js__$Boot_HaxeError("Could not compile shader:\n"+kha_SystemImpl.gl.getShaderInfoLog(s))}shader.shader=s},getConstantLocation:function(name){var location=kha_SystemImpl.gl.getUniformLocation(this.program,name);var type=5126;var count=kha_SystemImpl.gl.getProgramParameter(this.program,35718);var _g1=0;var _g=count;while(_g1<_g){var i=_g1++;var info=kha_SystemImpl.gl.getActiveUniform(this.program,i);if(info.name==name||info.name==name+"[0]"){type=info.type;break}}return new kha_js_graphics4_ConstantLocation(location,type)},getTextureUnit:function(name){var index=this.findTexture(name);if(index<0){var location=kha_SystemImpl.gl.getUniformLocation(this.program,name);index=this.textures.length;this.textureValues.push(location);this.textures.push(name)}return new kha_js_graphics4_TextureUnit(index)},findTexture:function(name){var _g1=0;var _g=this.textures.length;while(_g1<_g){var index=_g1++;if(this.textures[index]==name){return index}}return-1},__class__:kha_graphics4_PipelineState});var kha_graphics4_StencilAction=$hxClasses["kha.graphics4.StencilAction"]={__ename__:true,__constructs__:["Keep","Zero","Replace","Increment","IncrementWrap","Decrement","DecrementWrap","Invert"]};kha_graphics4_StencilAction.Keep=["Keep",0];kha_graphics4_StencilAction.Keep.toString=$estr;kha_graphics4_StencilAction.Keep.__enum__=kha_graphics4_StencilAction;kha_graphics4_StencilAction.Zero=["Zero",1];kha_graphics4_StencilAction.Zero.toString=$estr;kha_graphics4_StencilAction.Zero.__enum__=kha_graphics4_StencilAction;kha_graphics4_StencilAction.Replace=["Replace",2];kha_graphics4_StencilAction.Replace.toString=$estr;kha_graphics4_StencilAction.Replace.__enum__=kha_graphics4_StencilAction;kha_graphics4_StencilAction.Increment=["Increment",3];kha_graphics4_StencilAction.Increment.toString=$estr;kha_graphics4_StencilAction.Increment.__enum__=kha_graphics4_StencilAction;kha_graphics4_StencilAction.IncrementWrap=["IncrementWrap",4];kha_graphics4_StencilAction.IncrementWrap.toString=$estr;kha_graphics4_StencilAction.IncrementWrap.__enum__=kha_graphics4_StencilAction;kha_graphics4_StencilAction.Decrement=["Decrement",5];kha_graphics4_StencilAction.Decrement.toString=$estr;kha_graphics4_StencilAction.Decrement.__enum__=kha_graphics4_StencilAction;kha_graphics4_StencilAction.DecrementWrap=["DecrementWrap",6];kha_graphics4_StencilAction.DecrementWrap.toString=$estr;kha_graphics4_StencilAction.DecrementWrap.__enum__=kha_graphics4_StencilAction;kha_graphics4_StencilAction.Invert=["Invert",7];kha_graphics4_StencilAction.Invert.toString=$estr;kha_graphics4_StencilAction.Invert.__enum__=kha_graphics4_StencilAction;var kha_graphics4_TessellationControlShader=function(){};$hxClasses["kha.graphics4.TessellationControlShader"]=kha_graphics4_TessellationControlShader;kha_graphics4_TessellationControlShader.__name__=true;var kha_graphics4_TessellationEvaluationShader=function(){};$hxClasses["kha.graphics4.TessellationEvaluationShader"]=kha_graphics4_TessellationEvaluationShader;kha_graphics4_TessellationEvaluationShader.__name__=true;var kha_graphics4_TextureAddressing=$hxClasses["kha.graphics4.TextureAddressing"]={__ename__:true,__constructs__:["Repeat","Mirror","Clamp"]};kha_graphics4_TextureAddressing.Repeat=["Repeat",0];kha_graphics4_TextureAddressing.Repeat.toString=$estr;kha_graphics4_TextureAddressing.Repeat.__enum__=kha_graphics4_TextureAddressing;kha_graphics4_TextureAddressing.Mirror=["Mirror",1];kha_graphics4_TextureAddressing.Mirror.toString=$estr;kha_graphics4_TextureAddressing.Mirror.__enum__=kha_graphics4_TextureAddressing;kha_graphics4_TextureAddressing.Clamp=["Clamp",2];kha_graphics4_TextureAddressing.Clamp.toString=$estr;kha_graphics4_TextureAddressing.Clamp.__enum__=kha_graphics4_TextureAddressing;var kha_graphics4_TextureFilter=$hxClasses["kha.graphics4.TextureFilter"]={__ename__:true,__constructs__:["PointFilter","LinearFilter","AnisotropicFilter"]};kha_graphics4_TextureFilter.PointFilter=["PointFilter",0];kha_graphics4_TextureFilter.PointFilter.toString=$estr;kha_graphics4_TextureFilter.PointFilter.__enum__=kha_graphics4_TextureFilter;kha_graphics4_TextureFilter.LinearFilter=["LinearFilter",1];kha_graphics4_TextureFilter.LinearFilter.toString=$estr;kha_graphics4_TextureFilter.LinearFilter.__enum__=kha_graphics4_TextureFilter;kha_graphics4_TextureFilter.AnisotropicFilter=["AnisotropicFilter",2];kha_graphics4_TextureFilter.AnisotropicFilter.toString=$estr;kha_graphics4_TextureFilter.AnisotropicFilter.__enum__=kha_graphics4_TextureFilter;var kha_graphics4_TextureFormat=$hxClasses["kha.graphics4.TextureFormat"]={__ename__:true,__constructs__:["RGBA32","L8","RGBA128","DEPTH16","RGBA64","A32","A16"]};kha_graphics4_TextureFormat.RGBA32=["RGBA32",0];kha_graphics4_TextureFormat.RGBA32.toString=$estr;kha_graphics4_TextureFormat.RGBA32.__enum__=kha_graphics4_TextureFormat;kha_graphics4_TextureFormat.L8=["L8",1];kha_graphics4_TextureFormat.L8.toString=$estr;kha_graphics4_TextureFormat.L8.__enum__=kha_graphics4_TextureFormat;kha_graphics4_TextureFormat.RGBA128=["RGBA128",2];kha_graphics4_TextureFormat.RGBA128.toString=$estr;kha_graphics4_TextureFormat.RGBA128.__enum__=kha_graphics4_TextureFormat;kha_graphics4_TextureFormat.DEPTH16=["DEPTH16",3];kha_graphics4_TextureFormat.DEPTH16.toString=$estr;kha_graphics4_TextureFormat.DEPTH16.__enum__=kha_graphics4_TextureFormat;kha_graphics4_TextureFormat.RGBA64=["RGBA64",4];kha_graphics4_TextureFormat.RGBA64.toString=$estr;kha_graphics4_TextureFormat.RGBA64.__enum__=kha_graphics4_TextureFormat;kha_graphics4_TextureFormat.A32=["A32",5];kha_graphics4_TextureFormat.A32.toString=$estr;kha_graphics4_TextureFormat.A32.__enum__=kha_graphics4_TextureFormat;kha_graphics4_TextureFormat.A16=["A16",6];kha_graphics4_TextureFormat.A16.toString=$estr;kha_graphics4_TextureFormat.A16.__enum__=kha_graphics4_TextureFormat;var kha_graphics4_TextureUnit=function(){};$hxClasses["kha.graphics4.TextureUnit"]=kha_graphics4_TextureUnit;kha_graphics4_TextureUnit.__name__=true;var kha_graphics4_Usage=$hxClasses["kha.graphics4.Usage"]={__ename__:true,__constructs__:["StaticUsage","DynamicUsage","ReadableUsage"]};kha_graphics4_Usage.StaticUsage=["StaticUsage",0];kha_graphics4_Usage.StaticUsage.toString=$estr;kha_graphics4_Usage.StaticUsage.__enum__=kha_graphics4_Usage;kha_graphics4_Usage.DynamicUsage=["DynamicUsage",1];kha_graphics4_Usage.DynamicUsage.toString=$estr;kha_graphics4_Usage.DynamicUsage.__enum__=kha_graphics4_Usage;kha_graphics4_Usage.ReadableUsage=["ReadableUsage",2];kha_graphics4_Usage.ReadableUsage.toString=$estr;kha_graphics4_Usage.ReadableUsage.__enum__=kha_graphics4_Usage;var kha_graphics4_VertexBuffer=function(vertexCount,structure,usage,instanceDataStepRate,canRead){if(canRead==null){canRead=false}if(instanceDataStepRate==null){instanceDataStepRate=0}this.usage=usage;this.instanceDataStepRate=instanceDataStepRate;this.mySize=vertexCount;this.myStride=0;var _g=0;var _g1=structure.elements;while(_g<_g1.length){var element=_g1[_g];++_g;var _g2=element.data;switch(_g2[1]){case 0:this.myStride+=4;break;case 1:this.myStride+=8;break;case 2:this.myStride+=12;break;case 3:this.myStride+=16;break;case 4:this.myStride+=64;break}}this.buffer=kha_SystemImpl.gl.createBuffer();var this1=new Float32Array(vertexCount*this.myStride/4|0);this._data=this1;this.sizes=[];this.offsets=[];this.sizes[structure.elements.length-1]=0;this.offsets[structure.elements.length-1]=0;var offset=0;var index=0;var _g3=0;var _g11=structure.elements;while(_g3<_g11.length){var element1=_g11[_g3];++_g3;var size;var _g21=element1.data;switch(_g21[1]){case 0:size=1;break;case 1:size=2;break;case 2:size=3;break;case 3:size=4;break;case 4:size=16;break}this.sizes[index]=size;this.offsets[index]=offset;var _g31=element1.data;switch(_g31[1]){case 0:offset+=4;break;case 1:offset+=8;break;case 2:offset+=12;break;case 3:offset+=16;break;case 4:offset+=64;break}++index}};$hxClasses["kha.graphics4.VertexBuffer"]=kha_graphics4_VertexBuffer;kha_graphics4_VertexBuffer.__name__=true;kha_graphics4_VertexBuffer.prototype={buffer:null,_data:null,mySize:null,myStride:null,sizes:null,offsets:null,usage:null,instanceDataStepRate:null,lock:function(start,count){if(start==null){start=0}if(count==null){count=this.mySize}return this._data.subarray(start*this.stride(),(start+count)*this.stride())},unlock:function(){kha_SystemImpl.gl.bindBuffer(34962,this.buffer);kha_SystemImpl.gl.bufferData(34962,this._data,this.usage==kha_graphics4_Usage.DynamicUsage?35048:35044)},stride:function(){return this.myStride},set:function(offset){var ext=kha_SystemImpl.gl2?true:kha_SystemImpl.gl.getExtension("ANGLE_instanced_arrays");kha_SystemImpl.gl.bindBuffer(34962,this.buffer);var attributesOffset=0;var _g1=0;var _g=this.sizes.length;while(_g1<_g){var i=_g1++;if(this.sizes[i]>4){var size=this.sizes[i];var addonOffset=0;while(size>0){kha_SystemImpl.gl.enableVertexAttribArray(offset+attributesOffset);kha_SystemImpl.gl.vertexAttribPointer(offset+attributesOffset,4,5126,false,this.myStride,this.offsets[i]+addonOffset);if(ext){if(kha_SystemImpl.gl2){kha_SystemImpl.gl.vertexAttribDivisor(offset+attributesOffset,this.instanceDataStepRate)}else{ext.vertexAttribDivisorANGLE(offset+attributesOffset,this.instanceDataStepRate)}}size-=4;addonOffset+=16;++attributesOffset}}else{kha_SystemImpl.gl.enableVertexAttribArray(offset+attributesOffset);kha_SystemImpl.gl.vertexAttribPointer(offset+attributesOffset,this.sizes[i],5126,false,this.myStride,this.offsets[i]);if(ext){if(kha_SystemImpl.gl2){kha_SystemImpl.gl.vertexAttribDivisor(offset+attributesOffset,this.instanceDataStepRate)}else{ext.vertexAttribDivisorANGLE(offset+attributesOffset,this.instanceDataStepRate)}}++attributesOffset}}return attributesOffset},__class__:kha_graphics4_VertexBuffer};var kha_graphics4_VertexData=$hxClasses["kha.graphics4.VertexData"]={__ename__:true,__constructs__:["Float1","Float2","Float3","Float4","Float4x4"]};kha_graphics4_VertexData.Float1=["Float1",0];kha_graphics4_VertexData.Float1.toString=$estr;kha_graphics4_VertexData.Float1.__enum__=kha_graphics4_VertexData;kha_graphics4_VertexData.Float2=["Float2",1];kha_graphics4_VertexData.Float2.toString=$estr;kha_graphics4_VertexData.Float2.__enum__=kha_graphics4_VertexData;kha_graphics4_VertexData.Float3=["Float3",2];kha_graphics4_VertexData.Float3.toString=$estr;kha_graphics4_VertexData.Float3.__enum__=kha_graphics4_VertexData;kha_graphics4_VertexData.Float4=["Float4",3];kha_graphics4_VertexData.Float4.toString=$estr;kha_graphics4_VertexData.Float4.__enum__=kha_graphics4_VertexData;kha_graphics4_VertexData.Float4x4=["Float4x4",4];kha_graphics4_VertexData.Float4x4.toString=$estr;kha_graphics4_VertexData.Float4x4.__enum__=kha_graphics4_VertexData;var kha_graphics4_VertexElement=function(name,data){this.name=name;this.data=data};$hxClasses["kha.graphics4.VertexElement"]=kha_graphics4_VertexElement;kha_graphics4_VertexElement.__name__=true;kha_graphics4_VertexElement.prototype={name:null,data:null,__class__:kha_graphics4_VertexElement};var kha_graphics4_VertexShader=function(sources,files){this.sources=[];var _g=0;while(_g<sources.length){var source=sources[_g];++_g;this.sources.push(source.toString())}this.type=35633;this.shader=null;this.files=files};$hxClasses["kha.graphics4.VertexShader"]=kha_graphics4_VertexShader;kha_graphics4_VertexShader.__name__=true;kha_graphics4_VertexShader.fromSource=function(source){var shader=new kha_graphics4_VertexShader([],["runtime-string"]);shader.sources.push(source);return shader};kha_graphics4_VertexShader.prototype={sources:null,type:null,shader:null,files:null,__class__:kha_graphics4_VertexShader};var kha_graphics4_VertexStructure=function(){this.elements=[];this.instanced=false};$hxClasses["kha.graphics4.VertexStructure"]=kha_graphics4_VertexStructure;kha_graphics4_VertexStructure.__name__=true;kha_graphics4_VertexStructure.prototype={elements:null,instanced:null,add:function(name,data){this.elements.push(new kha_graphics4_VertexElement(name,data))},size:function(){return this.elements.length},byteSize:function(){var byteSize=0;var _g1=0;var _g=this.elements.length;while(_g1<_g){var i=_g1++;byteSize+=this.dataByteSize(this.elements[i].data)}return byteSize},dataByteSize:function(data){switch(data[1]){case 0:return 4;case 1:return 8;case 2:return 12;case 3:return 16;case 4:return 64}},get:function(index){return this.elements[index]},__class__:kha_graphics4_VertexStructure};var kha_input_Gamepad=$hx_exports["kha"]["input"]["Gamepad"]=function(index,id){if(id==null){id="unknown"}if(index==null){index=0}this.index=index;this.axisListeners=[];this.buttonListeners=[];kha_input_Gamepad.instances[index]=this};$hxClasses["kha.input.Gamepad"]=kha_input_Gamepad;kha_input_Gamepad.__name__=true;kha_input_Gamepad.sendConnectEvent=function(index){kha_input_Gamepad.instances[index].connected=true;var _g=0;var _g1=kha_input_Gamepad.connectListeners;while(_g<_g1.length){var listener=_g1[_g];++_g;listener(index)}};kha_input_Gamepad.sendDisconnectEvent=function(index){kha_input_Gamepad.instances[index].connected=false;var _g=0;var _g1=kha_input_Gamepad.disconnectListeners;while(_g<_g1.length){var listener=_g1[_g];++_g;listener(index)}};kha_input_Gamepad.prototype={index:null,axisListeners:null,buttonListeners:null,connected:null,sendAxisEvent:function(axis,value){var _g=0;var _g1=this.axisListeners;while(_g<_g1.length){var listener=_g1[_g];++_g;listener(axis,value)}},sendButtonEvent:function(button,value){var _g=0;var _g1=this.buttonListeners;while(_g<_g1.length){var listener=_g1[_g];++_g;listener(button,value)}},__class__:kha_input_Gamepad};var kha_network_Controller=function(){this.__id=kha_network_ControllerBuilder.nextId++;this._inputBuffer=new haxe_io_Bytes(new ArrayBuffer(1))};$hxClasses["kha.network.Controller"]=kha_network_Controller;kha_network_Controller.__name__=true;kha_network_Controller.prototype={__id:null,_inputBufferIndex:null,_inputBuffer:null,_id:function(){return this.__id},__class__:kha_network_Controller};var kha_input_Keyboard=$hx_exports["kha"]["input"]["Keyboard"]=function(){kha_network_Controller.call(this);this.downListeners=[];this.upListeners=[];this.pressListeners=[];kha_input_Keyboard.instance=this};$hxClasses["kha.input.Keyboard"]=kha_input_Keyboard;kha_input_Keyboard.__name__=true;kha_input_Keyboard.get=function(num){if(num==null){num=0}return kha_SystemImpl.getKeyboard(num)};kha_input_Keyboard.__super__=kha_network_Controller;kha_input_Keyboard.prototype=$extend(kha_network_Controller.prototype,{notify:function(downListener,upListener,pressListener){if(downListener!=null){this.downListeners.push(downListener)}if(upListener!=null){this.upListeners.push(upListener)}if(pressListener!=null){this.pressListeners.push(pressListener)}},hide:function(){},downListeners:null,upListeners:null,pressListeners:null,sendDownEvent:function(code){if(kha_network_Session.the()!=null){var bytes=new haxe_io_Bytes(new ArrayBuffer(5));bytes.setInt32(0,0);bytes.b[4]=code&255;kha_network_Session.the().sendControllerUpdate(this._id(),bytes)}var _g=0;var _g1=this.downListeners;while(_g<_g1.length){var listener=_g1[_g];++_g;listener(code)}},sendUpEvent:function(code){if(kha_network_Session.the()!=null){var bytes=new haxe_io_Bytes(new ArrayBuffer(5));bytes.setInt32(0,1);bytes.b[4]=code&255;kha_network_Session.the().sendControllerUpdate(this._id(),bytes)}var _g=0;var _g1=this.upListeners;while(_g<_g1.length){var listener=_g1[_g];++_g;listener(code)}},sendPressEvent:function($char){if(kha_network_Session.the()!=null){var bytes=new haxe_io_Bytes(new ArrayBuffer(5));bytes.setInt32(0,2);var v=HxOverrides.cca($char,0);bytes.b[4]=v&255;kha_network_Session.the().sendControllerUpdate(this._id(),bytes)}var _g=0;var _g1=this.pressListeners;while(_g<_g1.length){var listener=_g1[_g];++_g;listener($char)}},__class__:kha_input_Keyboard});var kha_input_Mouse=$hx_exports["kha"]["input"]["Mouse"]=function(){kha_network_Controller.call(this);kha_input_Mouse.instance=this};$hxClasses["kha.input.Mouse"]=kha_input_Mouse;kha_input_Mouse.__name__=true;kha_input_Mouse.get=function(num){if(num==null){num=0}return kha_SystemImpl.getMouse(num)};kha_input_Mouse.__super__=kha_network_Controller;kha_input_Mouse.prototype=$extend(kha_network_Controller.prototype,{notify:function(downListener,upListener,moveListener,wheelListener,leaveListener){this.notifyWindowed(0,downListener,upListener,moveListener,wheelListener,leaveListener)},notifyWindowed:function(windowId,downListener,upListener,moveListener,wheelListener,leaveListener){if(downListener!=null){if(this.windowDownListeners==null){this.windowDownListeners=[]}while(this.windowDownListeners.length<=windowId)this.windowDownListeners.push([]);this.windowDownListeners[windowId].push(downListener)}if(upListener!=null){if(this.windowUpListeners==null){this.windowUpListeners=[]}while(this.windowUpListeners.length<=windowId)this.windowUpListeners.push([]);this.windowUpListeners[windowId].push(upListener)}if(moveListener!=null){if(this.windowMoveListeners==null){this.windowMoveListeners=[]}while(this.windowMoveListeners.length<=windowId)this.windowMoveListeners.push([]);this.windowMoveListeners[windowId].push(moveListener)}if(wheelListener!=null){if(this.windowWheelListeners==null){this.windowWheelListeners=[]}while(this.windowWheelListeners.length<=windowId)this.windowWheelListeners.push([]);this.windowWheelListeners[windowId].push(wheelListener)}if(leaveListener!=null){if(this.windowLeaveListeners==null){this.windowLeaveListeners=[]}while(this.windowLeaveListeners.length<=windowId)this.windowLeaveListeners.push([]);this.windowLeaveListeners[windowId].push(leaveListener)}},lock:function(){},unlock:function(){},canLock:function(){return false},windowDownListeners:null,windowUpListeners:null,windowMoveListeners:null,windowWheelListeners:null,windowLeaveListeners:null,sendLeaveEvent:function(windowId){if(kha_network_Session.the()!=null){var bytes=new haxe_io_Bytes(new ArrayBuffer(8));bytes.setInt32(0,0);bytes.setInt32(4,windowId);kha_network_Session.the().sendControllerUpdate(this._id(),bytes)}if(this.windowLeaveListeners!=null){var _g=0;var _g1=this.windowLeaveListeners[windowId];while(_g<_g1.length){var listener=_g1[_g];++_g;listener()}}},sendDownEvent:function(windowId,button,x,y){if(kha_network_Session.the()!=null){var bytes=new haxe_io_Bytes(new ArrayBuffer(20));bytes.setInt32(0,1);bytes.setInt32(4,windowId);bytes.setInt32(8,button);bytes.setInt32(12,x);bytes.setInt32(16,y);kha_network_Session.the().sendControllerUpdate(this._id(),bytes)}if(this.windowDownListeners!=null){var _g=0;var _g1=this.windowDownListeners[windowId];while(_g<_g1.length){var listener=_g1[_g];++_g;listener(button,x,y)}}},sendUpEvent:function(windowId,button,x,y){if(kha_network_Session.the()!=null){var bytes=new haxe_io_Bytes(new ArrayBuffer(20));bytes.setInt32(0,2);bytes.setInt32(4,windowId);bytes.setInt32(8,button);bytes.setInt32(12,x);bytes.setInt32(16,y);kha_network_Session.the().sendControllerUpdate(this._id(),bytes)}if(this.windowUpListeners!=null){var _g=0;var _g1=this.windowUpListeners[windowId];while(_g<_g1.length){var listener=_g1[_g];++_g;listener(button,x,y)}}},sendMoveEvent:function(windowId,x,y,movementX,movementY){if(kha_network_Session.the()!=null){var bytes=new haxe_io_Bytes(new ArrayBuffer(24));bytes.setInt32(0,3);bytes.setInt32(4,windowId);bytes.setInt32(8,x);bytes.setInt32(12,y);bytes.setInt32(16,movementX);bytes.setInt32(20,movementY);kha_network_Session.the().sendControllerUpdate(this._id(),bytes)}if(this.windowMoveListeners!=null){var _g=0;var _g1=this.windowMoveListeners[windowId];while(_g<_g1.length){var listener=_g1[_g];++_g;listener(x,y,movementX,movementY)}}},sendWheelEvent:function(windowId,delta){if(kha_network_Session.the()!=null){var bytes=new haxe_io_Bytes(new ArrayBuffer(12));bytes.setInt32(0,4);bytes.setInt32(4,windowId);bytes.setInt32(8,delta);kha_network_Session.the().sendControllerUpdate(this._id(),bytes)}if(this.windowWheelListeners!=null){var _g=0;var _g1=this.windowWheelListeners[windowId];while(_g<_g1.length){var listener=_g1[_g];++_g;listener(delta)}}},__class__:kha_input_Mouse});var kha_input_MouseImpl=function(){kha_input_Mouse.call(this)};$hxClasses["kha.input.MouseImpl"]=kha_input_MouseImpl;kha_input_MouseImpl.__name__=true;kha_input_MouseImpl.__super__=kha_input_Mouse;kha_input_MouseImpl.prototype=$extend(kha_input_Mouse.prototype,{lock:function(){kha_SystemImpl.lockMouse()},unlock:function(){kha_SystemImpl.unlockMouse()},canLock:function(){return kha_SystemImpl.canLockMouse()},__class__:kha_input_MouseImpl});var kha_input_Surface=$hx_exports["kha"]["input"]["Surface"]=function(){this.touchStartListeners=[];this.touchEndListeners=[];this.moveListeners=[];kha_input_Surface.instance=this};$hxClasses["kha.input.Surface"]=kha_input_Surface;kha_input_Surface.__name__=true;kha_input_Surface.prototype={touchStartListeners:null,touchEndListeners:null,moveListeners:null,sendTouchStartEvent:function(index,x,y){var _g=0;var _g1=this.touchStartListeners;while(_g<_g1.length){var listener=_g1[_g];++_g;listener(index,x,y)}},sendTouchEndEvent:function(index,x,y){var _g=0;var _g1=this.touchEndListeners;while(_g<_g1.length){var listener=_g1[_g];++_g;listener(index,x,y)}},sendMoveEvent:function(index,x,y){var _g=0;var _g1=this.moveListeners;while(_g<_g1.length){var listener=_g1[_g];++_g;listener(index,x,y)}},__class__:kha_input_Surface};var kha_internal_BytesBlob=function(bytes){this.bytes=bytes};$hxClasses["kha.internal.BytesBlob"]=kha_internal_BytesBlob;kha_internal_BytesBlob.__name__=true;kha_internal_BytesBlob.__interfaces__=[kha_Resource];kha_internal_BytesBlob.fromBytes=function(bytes){return new kha_internal_BytesBlob(bytes)};kha_internal_BytesBlob.alloc=function(size){return new kha_internal_BytesBlob(new haxe_io_Bytes(new ArrayBuffer(size)))};kha_internal_BytesBlob.readF32=function(i){var sign=(i&-2147483648)==0?1:-1;var exp=i>>23&255;var man=i&8388607;switch(exp){case 0:return 0;case 255:if(man!=0){return NaN}else if(sign>0){return Infinity}else{return-Infinity}break;default:return sign*((man+8388608)/8388608)*Math.pow(2,exp-127)}};kha_internal_BytesBlob.bit=function(value,position){var b=(value>>>position&1)==1;if(b){var a=3;++a;return true}else{var c=4;--c;return false}};kha_internal_BytesBlob.toText=function(chars,length){var value="";var _g1=0;var _g=length;while(_g1<_g){var i=_g1++;value+=String.fromCharCode(chars[i])}return value};kha_internal_BytesBlob.prototype={bytes:null,sub:function(start,length){return new kha_internal_BytesBlob(this.bytes.sub(start,length))},length:null,get_length:function(){return this.bytes.length},writeU8:function(position,value){this.bytes.b[position]=value&255},readU8:function(position){var $byte=this.bytes.b[position];++position;return $byte},readS8:function(position){var $byte=this.bytes.b[position];++position;var sign=($byte&128)==0?1:-1;$byte&=127;return sign*$byte},readU16BE:function(position){var first=this.bytes.b[position];var second=this.bytes.b[position+1];position+=2;return first*256+second},readU16LE:function(position){var first=this.bytes.b[position];var second=this.bytes.b[position+1];position+=2;return second*256+first},readU32LE:function(position){var fourth=this.bytes.b[position];var third=this.bytes.b[position+1];var second=this.bytes.b[position+2];var first=this.bytes.b[position+3];position+=4;return fourth+third*256+second*256*256+first*256*256*256},readU32BE:function(position){var fourth=this.bytes.b[position];var third=this.bytes.b[position+1];var second=this.bytes.b[position+2];var first=this.bytes.b[position+3];position+=4;return first+second*256+third*256*256+fourth*256*256*256},readS16BE:function(position){var first=this.bytes.b[position];var second=this.bytes.b[position+1];position+=2;var sign=(first&128)==0?1:-1;first&=127;if(sign==-1){return-32767+first*256+second}else{return first*256+second}},readS16LE:function(position){var first=this.bytes.b[position];var second=this.bytes.b[position+1];var sign=(second&128)==0?1:-1;second&=127;position+=2;if(sign==-1){return-32767+second*256+first}else{return second*256+first}},readS32LE:function(position){var fourth=this.bytes.b[position];var third=this.bytes.b[position+1];var second=this.bytes.b[position+2];var first=this.bytes.b[position+3];var sign=(first&128)==0?1:-1;first&=127;position+=4;if(sign==-1){return-2147483647+fourth+third*256+second*256*256+first*256*256*256}else{return fourth+third*256+second*256*256+first*256*256*256}},readS32BE:function(position){var fourth=this.bytes.b[position];var third=this.bytes.b[position+1];var second=this.bytes.b[position+2];var first=this.bytes.b[position+3];var sign=(fourth&128)==0?1:-1;fourth&=127;position+=4;if(sign==-1){return-2147483647+first+second*256+third*256*256+fourth*256*256*256}return first+second*256+third*256*256+fourth*256*256*256},readF32LE:function(position){return kha_internal_BytesBlob.readF32(this.readS32LE(position))},readF32BE:function(position){return kha_internal_BytesBlob.readF32(this.readS32BE(position))},toString:function(){return this.bytes.toString()},readUtf8Char:function(position){if(position.value>=this.get_length()){return-1}var c=this.readU8(position.value);++position.value;var value=0;if(!kha_internal_BytesBlob.bit(c,7)){value=c}else if(kha_internal_BytesBlob.bit(c,7)&&kha_internal_BytesBlob.bit(c,6)&&!kha_internal_BytesBlob.bit(c,5)){var a=c&31;var c2=this.readU8(position.value);++position.value;var b=c2&63;value=a<<6|b}else if(kha_internal_BytesBlob.bit(c,7)&&kha_internal_BytesBlob.bit(c,6)&&kha_internal_BytesBlob.bit(c,5)&&!kha_internal_BytesBlob.bit(c,4)){position.value+=2}else if(kha_internal_BytesBlob.bit(c,7)&&kha_internal_BytesBlob.bit(c,6)&&kha_internal_BytesBlob.bit(c,5)&&kha_internal_BytesBlob.bit(c,4)&&!kha_internal_BytesBlob.bit(c,3)){position.value+=3}return value},readUtf8Block:function(buffer,position){var bufferindex=0;if(position.value>=this.get_length()){return""}while(bufferindex<2e3){var c=this.readUtf8Char(position);if(c<0){break}buffer[bufferindex]=c;++bufferindex}return kha_internal_BytesBlob.toText(buffer,bufferindex)},readUtf8String:function(){var this1=new Array(2e3);var buffer=this1;var text="";var start=0;if(this.get_length()>=3&&this.bytes.b[0]==239&&this.bytes.b[1]==187&&this.bytes.b[2]==191){start=3}var position={value:start};while(position.value<this.get_length())text+=this.readUtf8Block(buffer,position);return text},toBytes:function(){return this.bytes},unload:function(){this.bytes=null},__class__:kha_internal_BytesBlob,__properties__:{get_length:"get_length"}};var kha_internal_HdrFormat=function(){};$hxClasses["kha.internal.HdrFormat"]=kha_internal_HdrFormat;kha_internal_HdrFormat.__name__=true;kha_internal_HdrFormat.readBuf=function(buf){var bytesRead=0;while(true){buf[bytesRead++]=kha_internal_HdrFormat.buffer[kha_internal_HdrFormat.fileOffset]&255;if(!(++kha_internal_HdrFormat.fileOffset<kha_internal_HdrFormat.bufferLength&&bytesRead<buf.length)){break}}return bytesRead};kha_internal_HdrFormat.readBufOffset=function(buf,offset,length){var bytesRead=0;while(true){buf[offset+bytesRead++]=kha_internal_HdrFormat.buffer[kha_internal_HdrFormat.fileOffset]&255;if(!(++kha_internal_HdrFormat.fileOffset<kha_internal_HdrFormat.bufferLength&&bytesRead<length)){break}}return bytesRead};kha_internal_HdrFormat.readPixelsRaw=function(buffer,data,offset,numpixels){var numExpected=4*numpixels;var numRead=kha_internal_HdrFormat.readBufOffset(data,offset,numExpected);if(numRead<numExpected){haxe_Log.trace("Error reading raw pixels: got "+numRead+" bytes, expected "+numExpected,{fileName:"HdrFormat.hx",lineNumber:43,className:"kha.internal.HdrFormat",methodName:"readPixelsRaw"});return}};kha_internal_HdrFormat.readPixelsRawRLE=function(buffer,data,offset,scanline_width,num_scanlines){var this1=new Uint8Array(4);var rgbe=this1;var scanline_buffer=null;var ptr;var ptr_end;var count;var this2=new Uint8Array(2);var buf=this2;var bufferLength=buffer.length;while(num_scanlines>0){if(kha_internal_HdrFormat.readBuf(rgbe)<rgbe.length){haxe_Log.trace("Error reading bytes: expected "+rgbe.length,{fileName:"HdrFormat.hx",lineNumber:59,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});return}if(rgbe[0]!=2||rgbe[1]!=2||(rgbe[2]&128)!=0){data[offset++]=rgbe[0]&255;data[offset++]=rgbe[1]&255;data[offset++]=rgbe[2]&255;data[offset++]=rgbe[3]&255;kha_internal_HdrFormat.readPixelsRaw(buffer,data,offset,scanline_width*num_scanlines-1);return}if(((rgbe[2]&255)<<8|rgbe[3]&255)!=scanline_width){haxe_Log.trace("Wrong scanline width "+((rgbe[2]&255)<<8|rgbe[3]&255)+", expected "+scanline_width,{fileName:"HdrFormat.hx",lineNumber:74,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});return}if(scanline_buffer==null){var this3=new Uint8Array(4*scanline_width);scanline_buffer=this3}ptr=0;var _g=0;while(_g<4){var i=_g++;ptr_end=(i+1)*scanline_width;while(ptr<ptr_end){if(kha_internal_HdrFormat.readBuf(buf)<buf.length){haxe_Log.trace("Error reading 2-byte buffer",{fileName:"HdrFormat.hx",lineNumber:88,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});return}if((buf[0]&255)>128){count=(buf[0]&255)-128;if(count==0||count>ptr_end-ptr){haxe_Log.trace("Bad scanline data",{fileName:"HdrFormat.hx",lineNumber:95,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});return}while(count-- >0)scanline_buffer[ptr++]=buf[1]&255}else{count=buf[0]&255;if(count==0||count>ptr_end-ptr){haxe_Log.trace("Bad scanline data",{fileName:"HdrFormat.hx",lineNumber:106,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});return}scanline_buffer[ptr++]=buf[1]&255;if(--count>0){if(kha_internal_HdrFormat.readBufOffset(scanline_buffer,ptr,count)<count){haxe_Log.trace("Error reading non-run data",{fileName:"HdrFormat.hx",lineNumber:112,className:"kha.internal.HdrFormat",methodName:"readPixelsRawRLE"});return}ptr+=count}}}}var _g1=0;var _g2=scanline_width;while(_g1<_g2){var i1=_g1++;data[offset]=scanline_buffer[i1]&255;data[offset+1]=scanline_buffer[i1+scanline_width]&255;data[offset+2]=scanline_buffer[i1+2*scanline_width]&255;data[offset+3]=scanline_buffer[i1+3*scanline_width]&255;offset+=4}--num_scanlines}};kha_internal_HdrFormat.readLine=function(){var buf="";while(true){var b=kha_internal_HdrFormat.buffer[kha_internal_HdrFormat.fileOffset];if(b==10){++kha_internal_HdrFormat.fileOffset;break}buf+=String.fromCharCode(b);if(!(++kha_internal_HdrFormat.fileOffset<kha_internal_HdrFormat.bufferLength)){break}}return buf};kha_internal_HdrFormat.parse=function(bytes){kha_internal_HdrFormat.buffer=haxe_io__$UInt8Array_UInt8Array_$Impl_$.fromBytes(bytes);kha_internal_HdrFormat.bufferLength=kha_internal_HdrFormat.buffer.length;kha_internal_HdrFormat.fileOffset=0;var width=0;var height=0;var exposure=1;var gamma=1;var rle=false;var _g=0;while(_g<20){var i=_g++;var line=kha_internal_HdrFormat.readLine();if(kha_internal_HdrFormat.formatPattern.match(line)){rle=true}else if(kha_internal_HdrFormat.exposurePattern.match(line)){exposure=parseFloat(kha_internal_HdrFormat.exposurePattern.matched(1))}else if(kha_internal_HdrFormat.widthHeightPattern.match(line)){height=Std.parseInt(kha_internal_HdrFormat.widthHeightPattern.matched(1));width=Std.parseInt(kha_internal_HdrFormat.widthHeightPattern.matched(2));break}}if(!rle){haxe_Log.trace("File is not run length encoded!",{fileName:"HdrFormat.hx",lineNumber:175,className:"kha.internal.HdrFormat",methodName:"parse"});return null}var this1=new Uint8Array(width*height*4);var data=this1;var scanline_width=width;var num_scanlines=height;kha_internal_HdrFormat.readPixelsRawRLE(kha_internal_HdrFormat.buffer,data,0,scanline_width,num_scanlines);var this2=new Float32Array(width*height*4);var floatData=this2;var offset=0;while(offset<data.length){var r=data[offset]/255;var g=data[offset+1]/255;var b=data[offset+2]/255;var e=data[offset+3];var f=Math.pow(2,e-128);r*=f;g*=f;b*=f;floatData[offset]=r;floatData[offset+1]=g;floatData[offset+2]=b;floatData[offset+3]=1;offset+=4}return{width:width,height:height,data:floatData}};var kha_js_AEAudioChannel=function(element){this.stopped=false;this.element=element};$hxClasses["kha.js.AEAudioChannel"]=kha_js_AEAudioChannel;kha_js_AEAudioChannel.__name__=true;kha_js_AEAudioChannel.__interfaces__=[kha_audio1_AudioChannel];kha_js_AEAudioChannel.prototype={element:null,stopped:null,play:function(){this.stopped=false;if(kha_SystemImpl.mobile){if(kha_SystemImpl.insideInputEvent){this.element.play();kha_SystemImpl.mobileAudioPlaying=true}else if(kha_SystemImpl.mobileAudioPlaying){this.element.play()}else{kha_js_AEAudioChannel.todo.push(this)}}else{this.element.play()}},get_length:function(){if(isFinite(this.element.duration)){return this.element.duration}else{return Infinity}},get_position:function(){return this.element.currentTime},set_volume:function(value){return this.element.volume=value},get_finished:function(){if(!this.stopped){return this.get_position()>=this.get_length()}else{return true}},__class__:kha_js_AEAudioChannel,__properties__:{get_finished:"get_finished",set_volume:"set_volume",get_position:"get_position",get_length:"get_length"}};var kha_js_AudioElementAudio=function(){};$hxClasses["kha.js.AudioElementAudio"]=kha_js_AudioElementAudio;kha_js_AudioElementAudio.__name__=true;kha_js_AudioElementAudio._compile=function(){};kha_js_AudioElementAudio.play=function(sound,loop){if(loop==null){loop=false}return kha_js_AudioElementAudio.stream(sound,loop)};kha_js_AudioElementAudio.stream=function(sound,loop){if(loop==null){loop=false}sound.element.loop=loop;var channel=new kha_js_AEAudioChannel(sound.element);channel.play();return channel};var kha_js_CanvasGraphics=function(canvas){this.bakedQuadCache=new kha_AlignedQuad;kha_graphics2_Graphics.call(this);this.canvas=canvas;kha_js_CanvasGraphics.instance=this;this.myColor=kha__$Color_Color_$Impl_$.fromBytes(0,0,0);canvas.save()};$hxClasses["kha.js.CanvasGraphics"]=kha_js_CanvasGraphics;kha_js_CanvasGraphics.__name__=true;kha_js_CanvasGraphics.__super__=kha_graphics2_Graphics;kha_js_CanvasGraphics.prototype=$extend(kha_graphics2_Graphics.prototype,{canvas:null,webfont:null,myColor:null,begin:function(clear,clearColor){if(clear==null){clear=true}if(clear){this.clear(clearColor)}},clear:function(color){if(color==null){color=0}this.canvas.strokeStyle="rgba("+((color&16711680)>>>16)+","+((color&65280)>>>8)+","+(color&255)+","+(color>>>24)*.00392156862745098+")";this.canvas.fillStyle="rgba("+((color&16711680)>>>16)+","+((color&65280)>>>8)+","+(color&255)+","+(color>>>24)*.00392156862745098+")";if((color>>>24)*.00392156862745098==0){this.canvas.clearRect(0,0,this.canvas.canvas.width,this.canvas.canvas.height)}else{this.canvas.fillRect(0,0,this.canvas.canvas.width,this.canvas.canvas.height)}this.set_color(this.myColor)},end:function(){},drawScaledSubImage:function(image,sx,sy,sw,sh,dx,dy,dw,dh){this.canvas.globalAlpha=this.get_opacity();try{if(dw<0||dh<0){this.canvas.save();this.canvas.translate(dx,dy);var x=0;var y=0;if(dw<0){this.canvas.scale(-1,1);x=-dw}if(dh<0){this.canvas.scale(1,-1);y=-dh}this.canvas.drawImage(js_Boot.__cast(image,kha_CanvasImage).image,sx,sy,sw,sh,x,y,dw,dh);this.canvas.restore()}else{this.canvas.drawImage(js_Boot.__cast(image,kha_CanvasImage).image,sx,sy,sw,sh,dx,dy,dw,dh)}}catch(ex){}this.canvas.globalAlpha=1},set_color:function(color){this.myColor=color;this.canvas.strokeStyle="rgba("+((color&16711680)>>>16)+","+((color&65280)>>>8)+","+(color&255)+","+(color>>>24)*.00392156862745098+")";this.canvas.fillStyle="rgba("+((color&16711680)>>>16)+","+((color&65280)>>>8)+","+(color&255)+","+(color>>>24)*.00392156862745098+")";return color},drawRect:function(x,y,width,height,strength){if(strength==null){strength=1}this.canvas.beginPath();var oldStrength=this.canvas.lineWidth;this.canvas.lineWidth=Math.round(strength);this.canvas.rect(x,y,width,height);this.canvas.stroke();this.canvas.lineWidth=oldStrength},fillRect:function(x,y,width,height){var tmp=this.get_opacity();this.canvas.globalAlpha=tmp*((this.myColor>>>24)*.00392156862745098);this.canvas.fillRect(x,y,width,height);this.canvas.globalAlpha=this.get_opacity()},bakedQuadCache:null,drawString:function(text,x,y){var image=this.webfont.getImage(this.get_fontSize(),this.myColor,kha_graphics2_Graphics.fontGlyphs);if(image.width>0){var xpos=x;var ypos=y;var _g1=0;var _g=text.length;while(_g1<_g){var i=_g1++;var q;if(kha_graphics2_Graphics.fontGlyphs!=null){q=this.webfont.kravur._get(this.get_fontSize(),kha_graphics2_Graphics.fontGlyphs).getBakedQuad(this.bakedQuadCache,kha_graphics2_Graphics.fontGlyphs.indexOf(HxOverrides.cca(text,i)),xpos,ypos)}else{q=this.webfont.kravur._get(this.get_fontSize()).getBakedQuad(this.bakedQuadCache,HxOverrides.cca(text,i)-32,xpos,ypos)}if(q!=null){if(q.s1-q.s0>0&&q.t1-q.t0>0&&q.x1-q.x0>0&&q.y1-q.y0>0){this.canvas.drawImage(image,q.s0*image.width,q.t0*image.height,(q.s1-q.s0)*image.width,(q.t1-q.t0)*image.height,q.x0,q.y0,q.x1-q.x0,q.y1-q.y0)}xpos+=q.xadvance}}}},set_font:function(font){this.webfont=js_Boot.__cast(font,kha_js_Font);return this.webfont},drawLine:function(x1,y1,x2,y2,strength){if(strength==null){strength=1}this.canvas.beginPath();var oldWith=this.canvas.lineWidth;this.canvas.lineWidth=Math.round(strength);this.canvas.moveTo(x1,y1);this.canvas.lineTo(x2,y2);this.canvas.moveTo(0,0);this.canvas.stroke();this.canvas.lineWidth=oldWith},__class__:kha_js_CanvasGraphics});var kha_js_Font=function(blob){this.images=new haxe_ds_IntMap;this.kravur=new kha_js_Font.Kravur(blob)};$hxClasses["kha.js.Font"]=kha_js_Font;kha_js_Font.__name__=true;kha_js_Font.__interfaces__=[kha_Resource];kha_js_Font.fromBytes=function(bytes){return new kha_js_Font(kha_internal_BytesBlob.fromBytes(bytes))};kha_js_Font.prototype={kravur:null,images:null,height:function(fontSize){return this.kravur._get(fontSize).getHeight()},width:function(fontSize,str){return this.kravur._get(fontSize).stringWidth(str)},widthOfCharacters:function(fontSize,characters,start,length){return this.kravur._get(fontSize).charactersWidth(characters,start,length)},baseline:function(fontSize){return this.kravur._get(fontSize).getBaselinePosition()},getImage:function(fontSize,color,glyphs){var imageIndex=glyphs==null?fontSize:fontSize*1e4+glyphs.length;if(!this.images.h.hasOwnProperty(imageIndex)){var this1=this.images;var v=new haxe_ds_IntMap;this1.h[imageIndex]=v}if(!this.images.h[imageIndex].h.hasOwnProperty(color)){var kravur=this.kravur._get(fontSize,glyphs);var canvas=window.document.createElement("canvas");canvas.width=kravur.width;canvas.height=kravur.height;var ctx=canvas.getContext("2d");ctx.fillStyle="black";ctx.fillRect(0,0,kravur.width,kravur.height);var imageData=ctx.getImageData(0,0,kravur.width,kravur.height);var bytes=js_Boot.__cast(kravur.getTexture(),kha_CanvasImage).bytes;var _g1=0;var _g=bytes.length;while(_g1<_g){var i=_g1++;imageData.data[i*4]=(color&16711680)>>>16;imageData.data[i*4+1]=(color&65280)>>>8;imageData.data[i*4+2]=color&255;imageData.data[i*4+3]=bytes.b[i]}ctx.putImageData(imageData,0,0);var img=window.document.createElement("img");img.src=canvas.toDataURL("image/png");this.images.h[imageIndex].h[color]=img;return img}return this.images.h[imageIndex].h[color]},unload:function(){this.kravur=null;this.images=null},__class__:kha_js_Font};var kha_js_MobileWebAudio=function(){};$hxClasses["kha.js.MobileWebAudio"]=kha_js_MobileWebAudio;kha_js_MobileWebAudio.__name__=true;kha_js_MobileWebAudio._init=function(){try{kha_js_MobileWebAudio._context=new AudioContext;return}catch(e){}try{this._context=new webkitAudioContext;return}catch(e1){}};kha_js_MobileWebAudio.play=function(sound,loop){if(loop==null){loop=false}var channel=new kha_js_MobileWebAudioChannel(sound,loop);channel.play();return channel};kha_js_MobileWebAudio.stream=function(sound,loop){if(loop==null){loop=false}return kha_js_MobileWebAudio.play(sound,loop)};var kha_js_MobileWebAudioChannel=function(sound,loop){this.stopped=false;this.paused=false;this.buffer=sound._buffer;this.loop=loop;this.createSource()};$hxClasses["kha.js.MobileWebAudioChannel"]=kha_js_MobileWebAudioChannel;kha_js_MobileWebAudioChannel.__name__=true;kha_js_MobileWebAudioChannel.__interfaces__=[kha_audio1_AudioChannel];kha_js_MobileWebAudioChannel.prototype={buffer:null,loop:null,source:null,gain:null,startTime:null,pauseTime:null,paused:null,stopped:null,createSource:function(){var _gthis=this;this.source=kha_js_MobileWebAudio._context.createBufferSource();this.source.loop=this.loop;this.source.buffer=this.buffer;this.source.onended=function(){_gthis.stopped=true};this.gain=kha_js_MobileWebAudio._context.createGain();this.source.connect(this.gain);this.gain.connect(kha_js_MobileWebAudio._context.destination)},play:function(){if(this.paused||this.stopped){this.createSource()}this.stopped=false;if(this.paused){this.paused=false;this.startTime=kha_js_MobileWebAudio._context.currentTime-this.pauseTime;this.source.start(0,this.pauseTime)}else{this.startTime=kha_js_MobileWebAudio._context.currentTime;this.source.start()}},set_volume:function(value){return this.gain.gain.value=value},get_finished:function(){return this.stopped},__class__:kha_js_MobileWebAudioChannel,__properties__:{get_finished:"get_finished",set_volume:"set_volume"}};var kha_js_MobileWebAudioSound=function(filename,done,failed){var _gthis=this;kha_Sound.call(this);var request=new XMLHttpRequest;request.open("GET",filename,true);request.responseType="arraybuffer";request.onerror=function(){failed({url:filename})};request.onload=function(){_gthis.compressedData=haxe_io_Bytes.ofData(request.response);_gthis.uncompressedData=null;kha_js_MobileWebAudio._context.decodeAudioData(_gthis.compressedData.b.bufferValue,function(buffer){_gthis._buffer=buffer;done(_gthis)},function(){failed({url:filename,error:"Audio format not supported"})})};request.send(null)};$hxClasses["kha.js.MobileWebAudioSound"]=kha_js_MobileWebAudioSound;kha_js_MobileWebAudioSound.__name__=true;kha_js_MobileWebAudioSound.__super__=kha_Sound;kha_js_MobileWebAudioSound.prototype=$extend(kha_Sound.prototype,{_buffer:null,uncompress:function(done){done()},__class__:kha_js_MobileWebAudioSound});var kha_js_Sound=function(filenames,done,failed){kha_Sound.call(this);this.done=done;this.failed=failed;kha_js_Sound.loading.push(this);this.element=window.document.createElement("audio");this.filenames=[];var _g=0;while(_g<filenames.length){var filename=filenames[_g];++_g;if(this.element.canPlayType("audio/ogg")!=""&&StringTools.endsWith(filename,".ogg")){this.filenames.push(filename)}if(this.element.canPlayType("audio/mp4")!=""&&StringTools.endsWith(filename,".mp4")){this.filenames.push(filename)}}this.element.addEventListener("error",$bind(this,this.errorListener),false);this.element.addEventListener("canplay",$bind(this,this.canPlayThroughListener),false);this.element.src=this.filenames[0];this.element.preload="auto";this.element.load()};$hxClasses["kha.js.Sound"]=kha_js_Sound;kha_js_Sound.__name__=true;kha_js_Sound.__super__=kha_Sound;kha_js_Sound.prototype=$extend(kha_Sound.prototype,{filenames:null,done:null,failed:null,element:null,errorListener:function(eventInfo){if(this.element.error.code==4){var _g1=0;var _g=this.filenames.length-1;while(_g1<_g){var i=_g1++;if(this.element.src==this.filenames[i]){this.element.src=this.filenames[i+1];return}}}this.failed({url:this.element.src});this.finishAsset()},canPlayThroughListener:function(eventInfo){this.finishAsset()},finishAsset:function(){this.element.removeEventListener("error",$bind(this,this.errorListener),false);this.element.removeEventListener("canplaythrough",$bind(this,this.canPlayThroughListener),false);this.done(this);HxOverrides.remove(kha_js_Sound.loading,this)},uncompress:function(done){done()},__class__:kha_js_Sound});var kha_js_Video=function(){kha_Video.call(this)};$hxClasses["kha.js.Video"]=kha_js_Video;kha_js_Video.__name__=true;kha_js_Video.fromFile=function(filenames,done){var video=new kha_js_Video;video.done=done;video.element=window.document.createElement("video");video.filenames=[];var _g=0;while(_g<filenames.length){var filename=filenames[_g];++_g;if(video.element.canPlayType("video/webm")!=""&&StringTools.endsWith(filename,".webm")){video.filenames.push(filename)}if(video.element.canPlayType("video/mp4")!=""&&StringTools.endsWith(filename,".mp4")){video.filenames.push(filename)}}video.element.addEventListener("error",$bind(video,video.errorListener),false);video.element.addEventListener("canplaythrough",$bind(video,video.canPlayThroughListener),false);video.element.preload="auto";video.element.src=video.filenames[0]};kha_js_Video.__super__=kha_Video;kha_js_Video.prototype=$extend(kha_Video.prototype,{filenames:null,element:null,done:null,texture:null,errorListener:function(eventInfo){if(this.element.error.code==4){var _g1=0;var _g=this.filenames.length-1;while(_g1<_g){var i=_g1++;if(this.element.src==this.filenames[i]){this.element.src=this.filenames[i+1];return}}}haxe_Log.trace("Error loading "+this.element.src,{fileName:"Video.hx",lineNumber:120,className:"kha.js.Video",methodName:"errorListener"});this.finishAsset()},canPlayThroughListener:function(eventInfo){this.finishAsset()},finishAsset:function(){this.element.removeEventListener("error",$bind(this,this.errorListener),false);this.element.removeEventListener("canplaythrough",$bind(this,this.canPlayThroughListener),false);if(kha_SystemImpl.gl!=null){this.texture=kha_Image.fromVideo(this)}this.done(this)},__class__:kha_js_Video});var kha_js_WebAudioSound=function(filename,done,failed){var _gthis=this;kha_Sound.call(this);var request=new XMLHttpRequest;request.open("GET",filename,true);request.responseType="arraybuffer";request.onerror=function(){failed({url:filename})};request.onload=function(){_gthis.compressedData=haxe_io_Bytes.ofData(request.response);_gthis.uncompressedData=null;done(_gthis)};request.send(null)};$hxClasses["kha.js.WebAudioSound"]=kha_js_WebAudioSound;kha_js_WebAudioSound.__name__=true;kha_js_WebAudioSound.__super__=kha_Sound;kha_js_WebAudioSound.prototype=$extend(kha_Sound.prototype,{superUncompress:function(done){kha_Sound.prototype.uncompress.call(this,done)},uncompress:function(done){var _gthis=this;kha_audio2_Audio._context.decodeAudioData(this.compressedData.b.bufferValue,function(buffer){var ch0=buffer.getChannelData(0);var len=ch0.length;var this1=new Float32Array(len*2);_gthis.uncompressedData=this1;if(buffer.numberOfChannels==1){var idx=0;var i=0;var lidx=len*2;var uncompressInner=function(){};uncompressInner=function(){var chk_len=idx+11025;var next_chk=chk_len>lidx?lidx:chk_len;while(idx<next_chk){_gthis.uncompressedData[idx]=ch0[i];_gthis.uncompressedData[idx+1]=ch0[i];idx+=2;i+=1}if(idx<lidx){window.setTimeout(uncompressInner,0)}else{_gthis.compressedData=null}};uncompressInner();window.setTimeout(done,250)}else{var ch1=buffer.getChannelData(1);var idx1=0;var i1=0;var lidx1=len*2;var uncompressInner1=function(){};uncompressInner1=function(){var chk_len1=idx1+11025;var next_chk1=chk_len1>lidx1?lidx1:chk_len1;while(idx1<next_chk1){_gthis.uncompressedData[idx1]=ch0[i1];_gthis.uncompressedData[idx1+1]=ch1[i1];idx1+=2;i1+=1}if(idx1<lidx1){window.setTimeout(uncompressInner1,0)}else{_gthis.compressedData=null}};uncompressInner1();window.setTimeout(done,250)}},function(){_gthis.superUncompress(done)})},__class__:kha_js_WebAudioSound});var kha_js_graphics4_ConstantLocation=function(value,type){this.value=value;this.type=type};$hxClasses["kha.js.graphics4.ConstantLocation"]=kha_js_graphics4_ConstantLocation;kha_js_graphics4_ConstantLocation.__name__=true;kha_js_graphics4_ConstantLocation.__interfaces__=[kha_graphics4_ConstantLocation];kha_js_graphics4_ConstantLocation.prototype={value:null,type:null,__class__:kha_js_graphics4_ConstantLocation};var kha_js_graphics4_Graphics=function(renderTarget){var this1=new Float32Array(9);this.matrix3Cache=this1;var this11=new Float32Array(16);this.matrixCache=this11;this.isDepthAttachment=false;this.isCubeMap=false;this.colorMaskAlpha=true;this.colorMaskBlue=true;this.colorMaskGreen=true;this.colorMaskRed=true;this.depthMask=false;this.depthTest=false;this.renderTarget=renderTarget;this.init();if(kha_SystemImpl.gl2){this.instancedExtension=true}else{this.instancedExtension=kha_SystemImpl.gl.getExtension("ANGLE_instanced_arrays");this.blendMinMaxExtension=kha_SystemImpl.gl.getExtension("EXT_blend_minmax")}};$hxClasses["kha.js.graphics4.Graphics"]=kha_js_graphics4_Graphics;kha_js_graphics4_Graphics.__name__=true;kha_js_graphics4_Graphics.__interfaces__=[kha_graphics4_Graphics];kha_js_graphics4_Graphics.getBlendFunc=function(factor){switch(factor[1]){case 0:case 2:return 0;case 1:return 1;case 3:return 770;case 4:return 772;case 5:return 771;case 6:return 773;case 7:return 768;case 8:return 774;case 9:return 769;case 10:return 775}};kha_js_graphics4_Graphics.getBlendOp=function(op){switch(op[1]){case 0:return 32774;case 1:return 32778;case 2:return 32779;case 3:return 32775;case 4:return 32776}};kha_js_graphics4_Graphics.prototype={depthTest:null,depthMask:null,colorMaskRed:null,colorMaskGreen:null,colorMaskBlue:null,colorMaskAlpha:null,indicesCount:null,renderTarget:null,renderTargetFrameBuffer:null,renderTargetTexture:null,isCubeMap:null,isDepthAttachment:null,instancedExtension:null,blendMinMaxExtension:null,init:function(){if(this.renderTarget==null){return}this.isCubeMap=js_Boot.__instanceof(this.renderTarget,kha_graphics4_CubeMap);if(this.isCubeMap){var cubeMap=js_Boot.__cast(this.renderTarget,kha_graphics4_CubeMap);this.renderTargetFrameBuffer=cubeMap.frameBuffer;this.renderTargetTexture=cubeMap.texture;this.isDepthAttachment=cubeMap.isDepthAttachment}else{var image=js_Boot.__cast(this.renderTarget,kha_WebGLImage);this.renderTargetFrameBuffer=image.frameBuffer;this.renderTargetTexture=image.texture}},begin:function(additionalRenderTargets){kha_SystemImpl.gl.enable(3042);kha_SystemImpl.gl.blendFunc(770,771);if(this.renderTarget==null){kha_SystemImpl.gl.bindFramebuffer(36160,null);kha_SystemImpl.gl.viewport(0,0,kha_System.windowWidth(),kha_System.windowHeight())}else{kha_SystemImpl.gl.bindFramebuffer(36160,this.renderTargetFrameBuffer);kha_SystemImpl.gl.viewport(0,0,this.renderTarget.get_width(),this.renderTarget.get_height());if(additionalRenderTargets!=null){kha_SystemImpl.gl.framebufferTexture2D(36160,kha_SystemImpl.drawBuffers.COLOR_ATTACHMENT0_WEBGL,3553,this.renderTargetTexture,0);var _g1=0;var _g=additionalRenderTargets.length;while(_g1<_g){var i=_g1++;kha_SystemImpl.gl.framebufferTexture2D(36160,kha_SystemImpl.drawBuffers.COLOR_ATTACHMENT0_WEBGL+i+1,3553,js_Boot.__cast(additionalRenderTargets[i],kha_WebGLImage).texture,0)}var attachments=[kha_SystemImpl.drawBuffers.COLOR_ATTACHMENT0_WEBGL];var _g11=0;var _g2=additionalRenderTargets.length;while(_g11<_g2){var i1=_g11++;attachments.push(kha_SystemImpl.drawBuffers.COLOR_ATTACHMENT0_WEBGL+i1+1)}if(kha_SystemImpl.gl2){kha_SystemImpl.gl.drawBuffers(attachments)}else{kha_SystemImpl.drawBuffers.drawBuffersWEBGL(attachments)}}}},beginFace:function(face){kha_SystemImpl.gl.enable(3042);kha_SystemImpl.gl.blendFunc(770,771);kha_SystemImpl.gl.bindFramebuffer(36160,this.renderTargetFrameBuffer);kha_SystemImpl.gl.framebufferTexture2D(36160,this.isDepthAttachment?36096:36064,34069+face,this.renderTargetTexture,0);kha_SystemImpl.gl.viewport(0,0,this.renderTarget.get_width(),this.renderTarget.get_height())},end:function(){},clear:function(color,depth,stencil){var clearMask=0;if(color!=null){clearMask|=16384;kha_SystemImpl.gl.colorMask(true,true,true,true);kha_SystemImpl.gl.clearColor(((color&16711680)>>>16)*.00392156862745098,((color&65280)>>>8)*.00392156862745098,(color&255)*.00392156862745098,(color>>>24)*.00392156862745098)}if(depth!=null){clearMask|=256;kha_SystemImpl.gl.enable(2929);kha_SystemImpl.gl.depthMask(true);kha_SystemImpl.gl.clearDepth(depth)}if(stencil!=null){clearMask|=1024;kha_SystemImpl.gl.enable(2960);kha_SystemImpl.gl.stencilMask(255);kha_SystemImpl.gl.clearStencil(stencil)}kha_SystemImpl.gl.clear(clearMask);kha_SystemImpl.gl.colorMask(this.colorMaskRed,this.colorMaskGreen,this.colorMaskBlue,this.colorMaskAlpha);if(this.depthTest){kha_SystemImpl.gl.enable(2929)}else{kha_SystemImpl.gl.disable(2929)}kha_SystemImpl.gl.depthMask(this.depthMask)},viewport:function(x,y,width,height){var h=this.renderTarget==null?kha_System.windowHeight(0):this.renderTarget.get_height();kha_SystemImpl.gl.viewport(x,h-y-height,width,height)},setDepthMode:function(write,mode){switch(mode[1]){case 0:if(write){kha_SystemImpl.gl.enable(2929)}else{kha_SystemImpl.gl.disable(2929)}this.depthTest=write;kha_SystemImpl.gl.depthFunc(519);break;case 1:kha_SystemImpl.gl.enable(2929);this.depthTest=true;kha_SystemImpl.gl.depthFunc(512);break;case 2:kha_SystemImpl.gl.enable(2929);this.depthTest=true;kha_SystemImpl.gl.depthFunc(514);break;case 3:kha_SystemImpl.gl.enable(2929);this.depthTest=true;kha_SystemImpl.gl.depthFunc(517);break;case 4:kha_SystemImpl.gl.enable(2929);this.depthTest=true;kha_SystemImpl.gl.depthFunc(513);break;case 5:kha_SystemImpl.gl.enable(2929);this.depthTest=true;kha_SystemImpl.gl.depthFunc(515);break;case 6:kha_SystemImpl.gl.enable(2929);this.depthTest=true;kha_SystemImpl.gl.depthFunc(516);break;case 7:kha_SystemImpl.gl.enable(2929);this.depthTest=true;kha_SystemImpl.gl.depthFunc(518);break}kha_SystemImpl.gl.depthMask(write);this.depthMask=write},setBlendingMode:function(source,destination,operation,alphaSource,alphaDestination,alphaOperation){if(source==kha_graphics4_BlendingFactor.BlendOne&&destination==kha_graphics4_BlendingFactor.BlendZero){kha_SystemImpl.gl.disable(3042)}else{kha_SystemImpl.gl.enable(3042);kha_SystemImpl.gl.blendFuncSeparate(kha_js_graphics4_Graphics.getBlendFunc(source),kha_js_graphics4_Graphics.getBlendFunc(destination),kha_js_graphics4_Graphics.getBlendFunc(alphaSource),kha_js_graphics4_Graphics.getBlendFunc(alphaDestination));kha_SystemImpl.gl.blendEquationSeparate(kha_js_graphics4_Graphics.getBlendOp(operation),kha_js_graphics4_Graphics.getBlendOp(alphaOperation))}},setVertexBuffer:function(vertexBuffer){js_Boot.__cast(vertexBuffer,kha_graphics4_VertexBuffer).set(0)},setVertexBuffers:function(vertexBuffers){var offset=0;var _g=0;while(_g<vertexBuffers.length){var vertexBuffer=vertexBuffers[_g];++_g;offset+=js_Boot.__cast(vertexBuffer,kha_graphics4_VertexBuffer).set(offset)}},setIndexBuffer:function(indexBuffer){this.indicesCount=indexBuffer.count();js_Boot.__cast(indexBuffer,kha_graphics4_IndexBuffer).set()},setTexture:function(stage,texture){if(texture==null){kha_SystemImpl.gl.activeTexture(33984+js_Boot.__cast(stage,kha_js_graphics4_TextureUnit).value);kha_SystemImpl.gl.bindTexture(3553,null)}else{js_Boot.__cast(texture,kha_WebGLImage).set(js_Boot.__cast(stage,kha_js_graphics4_TextureUnit).value)}},setTextureDepth:function(stage,texture){js_Boot.__cast(texture,kha_WebGLImage).setDepth(js_Boot.__cast(stage,kha_js_graphics4_TextureUnit).value)},setImageTexture:function(unit,texture){},setTextureParameters:function(texunit,uAddressing,vAddressing,minificationFilter,magnificationFilter,mipmapFilter){kha_SystemImpl.gl.activeTexture(33984+js_Boot.__cast(texunit,kha_js_graphics4_TextureUnit).value);switch(uAddressing[1]){case 0:kha_SystemImpl.gl.texParameteri(3553,10242,10497);break;case 1:kha_SystemImpl.gl.texParameteri(3553,10242,33648);break;case 2:kha_SystemImpl.gl.texParameteri(3553,10242,33071);break}switch(vAddressing[1]){case 0:kha_SystemImpl.gl.texParameteri(3553,10243,10497);break;case 1:kha_SystemImpl.gl.texParameteri(3553,10243,33648);break;case 2:kha_SystemImpl.gl.texParameteri(3553,10243,33071);break}switch(minificationFilter[1]){case 0:switch(mipmapFilter[1]){case 0:kha_SystemImpl.gl.texParameteri(3553,10241,9728);break;case 1:kha_SystemImpl.gl.texParameteri(3553,10241,9984);break;case 2:kha_SystemImpl.gl.texParameteri(3553,10241,9986);break}break;case 1:case 2:switch(mipmapFilter[1]){case 0:kha_SystemImpl.gl.texParameteri(3553,10241,9729);break;case 1:kha_SystemImpl.gl.texParameteri(3553,10241,9985);break;case 2:kha_SystemImpl.gl.texParameteri(3553,10241,9987);break}if(minificationFilter==kha_graphics4_TextureFilter.AnisotropicFilter){kha_SystemImpl.gl.texParameteri(3553,kha_SystemImpl.anisotropicFilter.TEXTURE_MAX_ANISOTROPY_EXT,4)}break}switch(magnificationFilter[1]){case 0:kha_SystemImpl.gl.texParameteri(3553,10240,9728);break;case 1:case 2:kha_SystemImpl.gl.texParameteri(3553,10240,9729);break}},setTexture3DParameters:function(texunit,uAddressing,vAddressing,wAddressing,minificationFilter,magnificationFilter,mipmapFilter){},setCubeMap:function(stage,cubeMap){if(cubeMap==null){kha_SystemImpl.gl.activeTexture(33984+js_Boot.__cast(stage,kha_js_graphics4_TextureUnit).value);kha_SystemImpl.gl.bindTexture(34067,null)}else{cubeMap.set(js_Boot.__cast(stage,kha_js_graphics4_TextureUnit).value)}},setCubeMapDepth:function(stage,cubeMap){cubeMap.setDepth(js_Boot.__cast(stage,kha_js_graphics4_TextureUnit).value)},setCullMode:function(mode){switch(mode[1]){case 0:kha_SystemImpl.gl.enable(2884);kha_SystemImpl.gl.cullFace(1029);break;case 1:kha_SystemImpl.gl.enable(2884);kha_SystemImpl.gl.cullFace(1028);break;case 2:kha_SystemImpl.gl.disable(2884);break}},setPipeline:function(pipe){this.setCullMode(pipe.cullMode);this.setDepthMode(pipe.depthWrite,pipe.depthMode);this.setStencilParameters(pipe.stencilMode,pipe.stencilBothPass,pipe.stencilDepthFail,pipe.stencilFail,pipe.stencilReferenceValue,pipe.stencilReadMask,pipe.stencilWriteMask);this.setBlendingMode(pipe.blendSource,pipe.blendDestination,pipe.blendOperation,pipe.alphaBlendSource,pipe.alphaBlendDestination,pipe.alphaBlendOperation);pipe.set();this.colorMaskRed=pipe.colorWriteMaskRed;this.colorMaskGreen=pipe.colorWriteMaskGreen;this.colorMaskBlue=pipe.colorWriteMaskBlue;this.colorMaskAlpha=pipe.colorWriteMaskAlpha},setBool:function(location,value){kha_SystemImpl.gl.uniform1i(js_Boot.__cast(location,kha_js_graphics4_ConstantLocation).value,value?1:0)},setInt:function(location,value){kha_SystemImpl.gl.uniform1i(js_Boot.__cast(location,kha_js_graphics4_ConstantLocation).value,value)},setFloat:function(location,value){kha_SystemImpl.gl.uniform1f(js_Boot.__cast(location,kha_js_graphics4_ConstantLocation).value,value)},setFloat2:function(location,value1,value2){kha_SystemImpl.gl.uniform2f(js_Boot.__cast(location,kha_js_graphics4_ConstantLocation).value,value1,value2)},setFloat3:function(location,value1,value2,value3){kha_SystemImpl.gl.uniform3f(js_Boot.__cast(location,kha_js_graphics4_ConstantLocation).value,value1,value2,value3)},setFloat4:function(location,value1,value2,value3,value4){kha_SystemImpl.gl.uniform4f(js_Boot.__cast(location,kha_js_graphics4_ConstantLocation).value,value1,value2,value3,value4)},setFloats:function(location,values){var webglLocation=js_Boot.__cast(location,kha_js_graphics4_ConstantLocation);var _g=webglLocation.type;switch(_g){case 35664:kha_SystemImpl.gl.uniform2fv(webglLocation.value,values);break;case 35665:kha_SystemImpl.gl.uniform3fv(webglLocation.value,values);break;case 35666:kha_SystemImpl.gl.uniform4fv(webglLocation.value,values);break;case 35676:kha_SystemImpl.gl.uniformMatrix4fv(webglLocation.value,false,values);break;default:kha_SystemImpl.gl.uniform1fv(webglLocation.value,values)}},matrixCache:null,setMatrix:function(location,matrix){this.matrixCache[0]=matrix._00;this.matrixCache[1]=matrix._01;this.matrixCache[2]=matrix._02;this.matrixCache[3]=matrix._03;this.matrixCache[4]=matrix._10;this.matrixCache[5]=matrix._11;this.matrixCache[6]=matrix._12;this.matrixCache[7]=matrix._13;this.matrixCache[8]=matrix._20;this.matrixCache[9]=matrix._21;this.matrixCache[10]=matrix._22;this.matrixCache[11]=matrix._23;this.matrixCache[12]=matrix._30;this.matrixCache[13]=matrix._31;this.matrixCache[14]=matrix._32;this.matrixCache[15]=matrix._33;kha_SystemImpl.gl.uniformMatrix4fv(js_Boot.__cast(location,kha_js_graphics4_ConstantLocation).value,false,this.matrixCache)},matrix3Cache:null,setMatrix3:function(location,matrix){this.matrix3Cache[0]=matrix._00;this.matrix3Cache[1]=matrix._01;this.matrix3Cache[2]=matrix._02;this.matrix3Cache[3]=matrix._10;this.matrix3Cache[4]=matrix._11;this.matrix3Cache[5]=matrix._12;this.matrix3Cache[6]=matrix._20;this.matrix3Cache[7]=matrix._21;this.matrix3Cache[8]=matrix._22;kha_SystemImpl.gl.uniformMatrix3fv(js_Boot.__cast(location,kha_js_graphics4_ConstantLocation).value,false,this.matrix3Cache)},drawIndexedVertices:function(start,count){if(count==null){count=-1}if(start==null){start=0}var type=kha_SystemImpl.elementIndexUint==null?5123:5125;var size=type==5123?2:4;kha_SystemImpl.gl.drawElements(4,count==-1?this.indicesCount:count,type,start*size)},convertStencilAction:function(action){switch(action[1]){case 0:return 7680;case 1:return 0;case 2:return 7681;case 3:return 7682;case 4:return 34055;case 5:return 7683;case 6:return 34056;case 7:return 5386}},setStencilParameters:function(compareMode,bothPass,depthFail,stencilFail,referenceValue,readMask,writeMask){if(writeMask==null){writeMask=255}if(readMask==null){readMask=255}if(compareMode==kha_graphics4_CompareMode.Always&&bothPass==kha_graphics4_StencilAction.Keep&&depthFail==kha_graphics4_StencilAction.Keep&&stencilFail==kha_graphics4_StencilAction.Keep){kha_SystemImpl.gl.disable(2960)}else{kha_SystemImpl.gl.enable(2960);var stencilFunc=0;switch(compareMode[1]){case 0:stencilFunc=519;break;case 1:stencilFunc=512;break;case 2:stencilFunc=514;break;case 3:stencilFunc=517;break;case 4:stencilFunc=513;break;case 5:stencilFunc=515;break;case 6:stencilFunc=516;break;case 7:stencilFunc=518;break}kha_SystemImpl.gl.stencilMask(writeMask);kha_SystemImpl.gl.stencilOp(this.convertStencilAction(stencilFail),this.convertStencilAction(depthFail),this.convertStencilAction(bothPass));kha_SystemImpl.gl.stencilFunc(stencilFunc,referenceValue,readMask)}},scissor:function(x,y,width,height){kha_SystemImpl.gl.enable(3089);if(this.renderTarget==null){kha_SystemImpl.gl.scissor(x,kha_System.windowHeight(0)-y-height,width,height)}else{kha_SystemImpl.gl.scissor(x,y,width,height)}},disableScissor:function(){kha_SystemImpl.gl.disable(3089)},renderTargetsInvertedY:function(){return true},drawIndexedVerticesInstanced:function(instanceCount,start,count){if(count==null){count=-1}if(start==null){start=0}if(this.instancedRenderingAvailable()){var type=kha_SystemImpl.elementIndexUint==null?5123:5125;var typeSize=kha_SystemImpl.elementIndexUint==null?2:4;if(kha_SystemImpl.gl2){kha_SystemImpl.gl.drawElementsInstanced(4,count==-1?this.indicesCount:count,type,start*typeSize,instanceCount)}else{this.instancedExtension.drawElementsInstancedANGLE(4,count==-1?this.indicesCount:count,type,start*typeSize,instanceCount)}}},instancedRenderingAvailable:function(){return this.instancedExtension},__class__:kha_js_graphics4_Graphics};var kha_js_graphics4_Graphics2=function(canvas){kha_graphics4_Graphics2.call(this,canvas)};$hxClasses["kha.js.graphics4.Graphics2"]=kha_js_graphics4_Graphics2;kha_js_graphics4_Graphics2.__name__=true;kha_js_graphics4_Graphics2.__super__=kha_graphics4_Graphics2;kha_js_graphics4_Graphics2.prototype=$extend(kha_graphics4_Graphics2.prototype,{begin:function(clear,clearColor){if(clear==null){clear=true}kha_SystemImpl.gl.colorMask(true,true,true,true);kha_SystemImpl.gl.disable(2929);kha_SystemImpl.gl.depthFunc(519);kha_graphics4_Graphics2.prototype.begin.call(this,clear,clearColor)},__class__:kha_js_graphics4_Graphics2});var kha_js_graphics4_TextureUnit=function(value){this.value=value};$hxClasses["kha.js.graphics4.TextureUnit"]=kha_js_graphics4_TextureUnit;kha_js_graphics4_TextureUnit.__name__=true;kha_js_graphics4_TextureUnit.__interfaces__=[kha_graphics4_TextureUnit];kha_js_graphics4_TextureUnit.prototype={value:null,__class__:kha_js_graphics4_TextureUnit};var kha_vr_VrInterface=function(){};$hxClasses["kha.vr.VrInterface"]=kha_vr_VrInterface;kha_vr_VrInterface.__name__=true;kha_vr_VrInterface.prototype={IsVrEnabled:function(){return false},__class__:kha_vr_VrInterface};var kha_js_vr_VrInterface=function(){this.vrHeight=0;this.vrWidth=0;this.height=0;this.width=0;this.vrEnabled=false;kha_vr_VrInterface.call(this);var displayEnabled=false;if(displayEnabled){this.vrEnabled=true;this.getVRDisplays();haxe_Log.trace("Display enabled.",{fileName:"VrInterface.hx",lineNumber:39,className:"kha.js.vr.VrInterface",methodName:"new"})}};$hxClasses["kha.js.vr.VrInterface"]=kha_js_vr_VrInterface;kha_js_vr_VrInterface.__name__=true;kha_js_vr_VrInterface.__super__=kha_vr_VrInterface;kha_js_vr_VrInterface.prototype=$extend(kha_vr_VrInterface.prototype,{vrEnabled:null,vrDisplay:null,frameData:null,width:null,height:null,vrWidth:null,vrHeight:null,getVRDisplays:function(){var _gthis=this;var vrDisplayInstance=navigator.getVRDisplays();vrDisplayInstance.then(function(displays){if(displays.length>0){_gthis.frameData=new VRFrameData;_gthis.vrDisplay=displays[0];_gthis.vrDisplay.depthNear=.1;_gthis.vrDisplay.depthFar=1024;var leftEye=_gthis.vrDisplay.getEyeParameters("left");var rightEye=_gthis.vrDisplay.getEyeParameters("right");_gthis.width=kha_SystemImpl.khanvas.width;_gthis.height=kha_SystemImpl.khanvas.height;_gthis.vrWidth=Math.max(leftEye.renderWidth,rightEye.renderWidth)*2|0;_gthis.vrHeight=Math.max(leftEye.renderHeight,rightEye.renderHeight)|0}else{haxe_Log.trace("There are no VR displays connected.",{fileName:"VrInterface.hx",lineNumber:59,className:"kha.js.vr.VrInterface",methodName:"getVRDisplays"})}})},IsVrEnabled:function(){return this.vrEnabled},__class__:kha_js_vr_VrInterface});var kha_math_FastVector2=function(x,y){if(y==null){y=0}if(x==null){x=0}this.x=x;this.y=y};$hxClasses["kha.math.FastVector2"]=kha_math_FastVector2;kha_math_FastVector2.__name__=true;kha_math_FastVector2.prototype={x:null,y:null,get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},set_length:function(length){var currentLength=this.get_length();if(currentLength==0){return 0}var mul=length/currentLength;this.x*=mul;this.y*=mul;return length},__class__:kha_math_FastVector2,__properties__:{set_length:"set_length",get_length:"get_length"}};var kha_math_FastVector3=function(x,y,z){if(z==null){z=0}if(y==null){y=0}if(x==null){x=0}this.x=x;this.y=y;this.z=z};$hxClasses["kha.math.FastVector3"]=kha_math_FastVector3;kha_math_FastVector3.__name__=true;kha_math_FastVector3.prototype={x:null,y:null,z:null,__class__:kha_math_FastVector3};var kha_network_ControllerBuilder=function(){};$hxClasses["kha.network.ControllerBuilder"]=kha_network_ControllerBuilder;kha_network_ControllerBuilder.__name__=true;var kha_network_Session=function(){this.controllers=new haxe_ds_IntMap};$hxClasses["kha.network.Session"]=kha_network_Session;kha_network_Session.__name__=true;kha_network_Session.the=function(){return kha_network_Session.instance};kha_network_Session.prototype={controllers:null,sendControllerUpdate:function(id,bytes){if(this.controllers.h.hasOwnProperty(id)){if(this.controllers.h[id]._inputBuffer.length<this.controllers.h[id]._inputBufferIndex+4+bytes.length){var newBuffer=new haxe_io_Bytes(new ArrayBuffer(this.controllers.h[id]._inputBufferIndex+4+bytes.length));newBuffer.blit(0,this.controllers.h[id]._inputBuffer,0,this.controllers.h[id]._inputBufferIndex);this.controllers.h[id]._inputBuffer=newBuffer}this.controllers.h[id]._inputBuffer.setInt32(this.controllers.h[id]._inputBufferIndex,bytes.length);this.controllers.h[id]._inputBuffer.blit(this.controllers.h[id]._inputBufferIndex+4,bytes,0,bytes.length);this.controllers.h[id]._inputBufferIndex+=4+bytes.length}},__class__:kha_network_Session};var zui_Canvas=function(){};$hxClasses["zui.Canvas"]=zui_Canvas;zui_Canvas.__name__=true;zui_Canvas.draw=function(ui,canvas,g){if(zui_Canvas.screenW==-1){zui_Canvas.screenW=kha_System.windowWidth();zui_Canvas.screenH=kha_System.windowHeight()}zui_Canvas.events=[];ui.begin(g);ui.g=g;var _g=0;var _g1=canvas.elements;while(_g<_g1.length){var elem=_g1[_g];++_g;zui_Canvas.drawElement(ui,canvas,elem)}ui.end();return zui_Canvas.events};zui_Canvas.drawElement=function(ui,canvas,element){ui._x=canvas.x+element.x;ui._y=canvas.y+element.y;ui._w=element.width;var cw=canvas.width;var ch=canvas.height;var _g=element.anchor;switch(_g){case 1:ui._x-=(cw-zui_Canvas.screenW)/2;break;case 2:ui._x-=cw-zui_Canvas.screenW;break;case 3:ui._y-=(ch-zui_Canvas.screenH)/2;break;case 4:ui._x-=(cw-zui_Canvas.screenW)/2;ui._y-=(ch-zui_Canvas.screenH)/2;break;case 5:ui._x-=cw-zui_Canvas.screenW;ui._y-=(ch-zui_Canvas.screenH)/2;break;case 6:ui._y-=ch-zui_Canvas.screenH;break;case 7:ui._x-=(cw-zui_Canvas.screenW)/2;ui._y-=ch-zui_Canvas.screenH;break;case 8:ui._x-=cw-zui_Canvas.screenW;ui._y-=ch-zui_Canvas.screenH;break}var _g1=element.type;switch(_g1){case 0:var size=ui.fontSize;var tcol=ui.t.TEXT_COL;ui.fontSize=element.height;ui.t.TEXT_COL=element.color;ui.text(element.text);ui.fontSize=size;ui.t.TEXT_COL=tcol;break;case 1:var image=zui_Canvas.getAsset(canvas,element.asset);if(image!=null){ui.imageScrollAlign=false;var tint=element.color!=null?element.color:-1;if(ui.image(image,tint,element.height)==3){var e=element.event;if(e!=null&&e!=""){zui_Canvas.events.push(e)}}ui.imageScrollAlign=true}break;case 2:if(ui.button(element.text)){var e1=element.event;if(e1!=null&&e1!=""){zui_Canvas.events.push(e1)}}break}if(element.children!=null){var _g2=0;var _g3=element.children;while(_g2<_g3.length){var c=_g3[_g2];++_g2;zui_Canvas.drawElement(ui,canvas,c)}}};zui_Canvas.getAsset=function(canvas,asset){var _g=0;var _g1=canvas.assets;while(_g<_g1.length){var a=_g1[_g];++_g;if(a.name==asset){return zui_Canvas.assetMap.h[a.id]}}return null};var zui_Themes=function(){};$hxClasses["zui.Themes"]=zui_Themes;zui_Themes.__name__=true;var zui_Zui=function(ops){this.restoreY=-1;this.restoreX=-1;this.checkSelectImage=null;this.elementsBaked=false;this.tabScroll=0;this.tabHandle=null;this.tabNames=null;this.tooltipTime=0;this.tooltipShown=false;this.tooltipY=0;this.tooltipX=0;this.tooltipText="";this.comboToSubmit=0;this.submitComboHandle=null;this.comboSelectedWindow=null;this.comboSelectedHandle=null;this.tabPressedHandle=null;this.textToSubmit="";this.submitTextHandle=null;this.textSelectedHandle=null;this.scrollEnabled=true;this.scrollingHandle=null;this.windowEnded=true;this.imageScrollAlign=true;this.scrollAlign=0;this.curRatio=-1;this.highlightEnd=0;this.highlightStart=0;this.key=null;this.isKeyDown=false;this.inputWheelDelta=0;this.inputEnabled=true;this.inputRegistered=false;this.isReleased=false;this.isHovered=false;this.isPushed=false;this.isStarted=false;this.isTyping=false;this.isScrolling=false;if(ops.theme==null){ops.theme=zui_Themes.dark}this.t=ops.theme;if(ops.khaWindowId==null){ops.khaWindowId=0}if(ops.scaleFactor==null){ops.scaleFactor=1}if(ops.scaleTexture==null){ops.scaleTexture=1}if(ops.autoNotifyInput==null){ops.autoNotifyInput=true}this.ops=ops;this.setScale(ops.scaleFactor);if(ops.autoNotifyInput){this.registerInput()}};$hxClasses["zui.Zui"]=zui_Zui;zui_Zui.__name__=true;zui_Zui.prototype={isScrolling:null,isTyping:null,isStarted:null,isPushed:null,isHovered:null,isReleased:null,inputRegistered:null,inputEnabled:null,inputX:null,inputY:null,inputInitialX:null,inputInitialY:null,inputDX:null,inputDY:null,inputWheelDelta:null,inputStarted:null,inputReleased:null,inputDown:null,inputDownR:null,isKeyDown:null,key:null,char:null,highlightStart:null,highlightEnd:null,ratios:null,curRatio:null,xBeforeSplit:null,wBeforeSplit:null,globalG:null,g:null,t:null,SCALE:null,ops:null,fontSize:null,fontOffsetY:null,arrowOffsetX:null,arrowOffsetY:null,titleOffsetX:null,buttonOffsetY:null,checkOffsetX:null,checkOffsetY:null,checkSelectOffsetX:null,checkSelectOffsetY:null,radioOffsetX:null,radioOffsetY:null,radioSelectOffsetX:null,radioSelectOffsetY:null,scrollAlign:null,imageScrollAlign:null,_x:null,_y:null,_w:null,_h:null,_windowX:null,_windowY:null,_windowW:null,_windowH:null,currentWindow:null,windowEnded:null,scrollingHandle:null,scrollEnabled:null,textSelectedHandle:null,textSelectedCurrentText:null,submitTextHandle:null,textToSubmit:null,tabPressedHandle:null,comboSelectedHandle:null,comboSelectedWindow:null,comboSelectedAlign:null,comboSelectedTexts:null,comboSelectedLabel:null,comboSelectedX:null,comboSelectedY:null,comboSelectedW:null,submitComboHandle:null,comboToSubmit:null,tooltipText:null,tooltipX:null,tooltipY:null,tooltipShown:null,tooltipTime:null,tabNames:null,tabHandle:null,tabScroll:null,elementsBaked:null,checkSelectImage:null,setScale:function(factor){this.ops.scaleFactor=factor;this.SCALE=this.ops.scaleFactor*this.ops.scaleTexture;this.fontSize=this.t.FONT_SIZE*this.ops.scaleFactor|0;var fontHeight=this.ops.font.height(this.fontSize);this.fontOffsetY=(this.t.ELEMENT_H*this.SCALE-fontHeight)/2;this.arrowOffsetY=(this.t.ELEMENT_H*this.SCALE-this.t.ARROW_SIZE*this.SCALE)/2;this.arrowOffsetX=this.arrowOffsetY;this.titleOffsetX=(this.arrowOffsetX*2+this.t.ARROW_SIZE*this.SCALE)/this.SCALE;this.buttonOffsetY=(this.t.ELEMENT_H*this.SCALE-this.t.BUTTON_H*this.SCALE)/2;this.checkOffsetY=(this.t.ELEMENT_H*this.SCALE-this.t.CHECK_SIZE*this.SCALE)/2;this.checkOffsetX=this.checkOffsetY;this.checkSelectOffsetY=(this.t.CHECK_SIZE*this.SCALE-this.t.CHECK_SELECT_SIZE*this.SCALE)/2;this.checkSelectOffsetX=this.checkSelectOffsetY;this.radioOffsetY=(this.t.ELEMENT_H*this.SCALE-this.t.CHECK_SIZE*this.SCALE)/2;this.radioOffsetX=this.radioOffsetY;this.radioSelectOffsetY=(this.t.CHECK_SIZE*this.SCALE-this.t.CHECK_SELECT_SIZE*this.SCALE)/2;this.radioSelectOffsetX=this.radioSelectOffsetY;this.elementsBaked=false},bakeElements:function(){if(this.checkSelectImage!=null){this.checkSelectImage.unload();this.checkSelectImage=null}this.checkSelectImage=kha_Image.createRenderTarget(this.t.CHECK_SELECT_SIZE*this.SCALE|0,this.t.CHECK_SELECT_SIZE*this.SCALE|0,null,0,1,this.ops.khaWindowId);var g=this.checkSelectImage.get_g2();g.begin(true,0);g.set_color(this.t.ACCENT_SELECT_COL);g.drawLine(0,0,this.checkSelectImage.get_width(),this.checkSelectImage.get_height(),2*this.SCALE);g.drawLine(this.checkSelectImage.get_width(),0,0,this.checkSelectImage.get_height(),2*this.SCALE);g.end();this.elementsBaked=true},registerInput:function(){kha_input_Mouse.get().notifyWindowed(this.ops.khaWindowId,$bind(this,this.onMouseDown),$bind(this,this.onMouseUp),$bind(this,this.onMouseMove),$bind(this,this.onMouseWheel));kha_input_Keyboard.get().notify($bind(this,this.onKeyDown),$bind(this,this.onKeyUp),$bind(this,this.onKeyPress));this.inputRegistered=true},begin:function(g){if(!this.elementsBaked){this.bakeElements()}this.globalG=g;this._x=0;this._y=0;this._w=0;this._h=0},end:function(last){if(last==null){last=true}if(!this.windowEnded){this.endWindow()}if(this.comboSelectedHandle!=null){this.drawCombo()}if(last){this.endInput()}if(this.tabPressedHandle!=null){var end=this.tabPressedHandle.text.length;this.highlightStart=0<end?0:end;this.highlightEnd=0<end?end:0;this.tabPressedHandle=null}},endInput:function(){this.isKeyDown=false;this.inputStarted=false;this.inputReleased=false;this.inputDX=0;this.inputDY=0;this.inputWheelDelta=0},beginLayout:function(g,x,y,w){if(!this.elementsBaked){this.bakeElements()}this.currentWindow=null;this.g=g;this._windowX=0;this._windowY=0;this._windowW=w;this._x=x;this._y=y;this._w=w},endLayout:function(last){if(last==null){last=true}if(last){this.endInput()}},endWindow:function(){var handle=this.currentWindow;if(handle.redraws>0||this.isScrolling||this.isTyping){if(this.tabNames!=null){this.drawTabs()}if(handle.dragEnabled){this.g.set_color(this.t.SEPARATOR_COL);this.g.fillRect(0,0,this._windowW,15)}var fullHeight=this._y-handle.scrollOffset;if(fullHeight<this._windowH||handle.layout==1||!this.scrollEnabled){handle.scrollEnabled=false;handle.scrollOffset=0}else{handle.scrollEnabled=true;if(this.tabScroll<0){handle.scrollOffset=this.tabScroll;this.tabScroll=0}var amountToScroll=fullHeight-this._windowH;var amountScrolled=-handle.scrollOffset;var ratio=amountScrolled/amountToScroll;var barH=this._windowH*Math.abs(this._windowH/fullHeight);barH=Math.max(barH,this.t.ELEMENT_H*this.SCALE);var totalScrollableArea=this._windowH-barH;var e=amountToScroll/totalScrollableArea;var barY=totalScrollableArea*ratio;if(this.inputStarted&&this.getInputInRect(this._windowX+this._windowW-(this.t.SCROLL_W*this.SCALE|0),barY+this._windowY,this.t.SCROLL_W*this.SCALE|0,barH)){handle.scrolling=true;this.scrollingHandle=handle;this.isScrolling=true}if(handle.scrolling){this.scroll(this.inputDY*e,fullHeight)}else if(this.inputWheelDelta!=0){this.scroll(this.inputWheelDelta*(this.t.ELEMENT_H*this.SCALE),fullHeight)}if(handle.scrollOffset>0){handle.scrollOffset=0}else if(fullHeight+handle.scrollOffset<this._windowH){handle.scrollOffset=this._windowH-fullHeight}this.g.set_color(this.t.WINDOW_BG_COL);this.g.fillRect(this._windowW-(this.t.SCROLL_W*this.SCALE|0),this._windowY,this.t.SCROLL_W*this.SCALE|0,this._windowH);this.g.set_color(this.t.ACCENT_COL);this.g.fillRect(this._windowW-(this.t.SCROLL_W*this.SCALE|0)-this.scrollAlign,barY,this.t.SCROLL_W*this.SCALE|0,barH)}handle.lastMaxX=this._x;handle.lastMaxY=this._y;if(handle.layout==0){handle.lastMaxX+=this._windowW}else{handle.lastMaxY+=this._windowH}handle.redraws--;this.g.end()}this.windowEnded=true;this.globalG.begin(false);this.globalG.set_color(this.t.WINDOW_TINT_COL);this.globalG.drawScaledImage(handle.texture,this._windowX,this._windowY,handle.texture.get_width()/this.ops.scaleTexture,handle.texture.get_height()/this.ops.scaleTexture);if(this.tooltipText!=""){if(!this.tooltipShown){this.tooltipShown=true;this.tooltipX=this.inputX;this.tooltipTime=kha_Scheduler.time()}if(kha_Scheduler.time()-this.tooltipTime>this.t.TOOLTIP_DELAY){this.drawTooltip()}}else{this.tooltipShown=false}this.globalG.end()},scroll:function(delta,fullHeight){this.currentWindow.scrollOffset-=delta},restoreX:null,restoreY:null,drawTabs:function(){this.inputX=this.restoreX;this.inputY=this.restoreY;if(this.currentWindow==null){return}var tabX=0;var origy=this._y;this._y=this.currentWindow.dragEnabled?15:0;this.g.set_color(this.t.WINDOW_BG_COL);this.g.fillRect(0,this._y,this._windowW,this.buttonOffsetY+this.t.BUTTON_H*this.SCALE);this.g.set_color(this.t.ACCENT_COL);this.g.fillRect(this.buttonOffsetY,this._y+this.buttonOffsetY+this.t.BUTTON_H*this.SCALE,this._windowW-this.buttonOffsetY*2,this.t.LINE_STRENGTH*this.SCALE);var _g1=0;var _g=this.tabNames.length;while(_g1<_g){var i=_g1++;this._x=tabX;this._w=this.ops.font.width(this.fontSize,this.tabNames[i])+this.buttonOffsetY*2+14*this.SCALE|0;var released=this.getReleased();var pushed=this.getPushed();var hover=this.getHover();if(released){var h=this.tabHandle.nest(this.tabHandle.position);h.scrollOffset=this.currentWindow.scrollOffset;h=this.tabHandle.nest(i);this.tabScroll=h.scrollOffset;this.tabHandle.position=i;this.currentWindow.redraws=3}var selected=this.tabHandle.position==i;this.g.set_color(pushed?this.t.ACCENT_HOVER_COL:hover?this.t.ACCENT_HOVER_COL:this.t.ACCENT_COL);tabX+=this._w+5;var g=this.g;var x=this._x+this.buttonOffsetY;var y=this._y+this.buttonOffsetY;var w=this._w;var h1=this.t.BUTTON_H*this.SCALE;var strength=0;if(strength==0){strength=this.t.LINE_STRENGTH*this.SCALE}if(!selected){g.fillRect(x,y,w,h1)}else{g.drawRect(x,y,w,h1,strength)}this.g.set_color(this.t.BUTTON_TEXT_COL);this.drawString(this.g,this.tabNames[i],this.t.TEXT_OFFSET,0,0);if(selected){this.g.set_color(this.t.WINDOW_BG_COL);this.g.fillRect(this._x+this.buttonOffsetY+1,this._y+this.buttonOffsetY+this.t.BUTTON_H*this.SCALE,this._w-1,this.t.LINE_STRENGTH*this.SCALE)}}this._x=0;this._y=origy;this._w=(!this.currentWindow.scrollEnabled?this._windowW:this._windowW-(this.t.SCROLL_W*this.SCALE|0))|0},image:function(image,tint,h){if(tint==null){tint=-1}var iw=image.get_width()*this.SCALE;var ih=image.get_height()*this.SCALE;var w=Math.min(iw,this._w);var x=this._x;if(this.imageScrollAlign){w=Math.min(iw,this._w-this.buttonOffsetY*2);x+=this.buttonOffsetY;var scroll=this.currentWindow!=null&&this.currentWindow.scrollEnabled;if(!scroll){var r=this.curRatio==-1?1:this.ratios[this.curRatio];w-=(this.t.SCROLL_W*this.SCALE|0)*r;x+=(this.t.SCROLL_W*this.SCALE|0)*r/2}}var ratio=h==null?w/iw:h/ih;if(h==null){h=ih*ratio}else{w=iw*ratio}if(!this.isVisible(h)){this.endElement(h);return 0}var started=this.getStarted(h);var down=this.getPushed(h);var released=this.getReleased(h);this.g.set_color(tint);var h_float=h;this.g.drawScaledImage(image,x,this._y,w,h_float);this.endElement(h);if(started){return 1}else if(released){return 3}else if(down){return 2}else{return 0}},text:function(text,align,bg){if(bg==null){bg=0}if(align==null){align=0}if(!this.isVisible(this.t.ELEMENT_H*this.SCALE)){this.endElement();return}this.getReleased();if(bg!=0){this.g.set_color(bg);this.g.fillRect(this._x+this.buttonOffsetY,this._y+this.buttonOffsetY,this._w-this.buttonOffsetY*2,this.t.BUTTON_H*this.SCALE)}this.g.set_color(this.t.TEXT_COL);this.drawString(this.g,text,this.t.TEXT_OFFSET,0,align);this.endElement()},deselectText:function(){this.submitTextHandle=this.textSelectedHandle;this.textToSubmit=this.textSelectedCurrentText;this.textSelectedHandle=null;this.isTyping=false;if(this.currentWindow!=null){this.currentWindow.redraws=2}if(kha_input_Keyboard.get()!=null){kha_input_Keyboard.get().hide()}this.highlightStart=0;this.highlightEnd=0},button:function(text,align){if(align==null){align=1}if(!this.isVisible(this.t.ELEMENT_H*this.SCALE)){this.endElement();return false}var released=this.getReleased();var pushed=this.getPushed();var hover=this.getHover();this.g.set_color(pushed?this.t.BUTTON_PRESSED_COL:hover?this.t.BUTTON_HOVER_COL:this.t.BUTTON_COL);var g=this.g;var x=this._x+this.buttonOffsetY;var y=this._y+this.buttonOffsetY;var w=this._w-this.buttonOffsetY*2;var h=this.t.BUTTON_H*this.SCALE;var strength=0;if(strength==0){strength=this.t.LINE_STRENGTH*this.SCALE}if(this.t.FILL_BUTTON_BG){g.fillRect(x,y,w,h)}else{g.drawRect(x,y,w,h,strength)}this.g.set_color(this.t.BUTTON_TEXT_COL);this.drawString(this.g,text,this.t.TEXT_OFFSET,0,align);this.endElement();return released},drawCombo:function(){var _g=this.g;this.globalG.set_color(-14540254);var elementSize=this.t.ELEMENT_H*this.SCALE+this.t.ELEMENT_OFFSET*this.SCALE;this.globalG.begin(false);this.globalG.fillRect(this.comboSelectedX,this.comboSelectedY,this.comboSelectedW,(this.comboSelectedTexts.length+1)*elementSize);this.beginLayout(this.globalG,this.comboSelectedX,this.comboSelectedY,this.comboSelectedW);this.inputEnabled=true;var _g1=0;var _g2=this.comboSelectedTexts.length;while(_g1<_g2){var i=_g1++;if(this.button(this.comboSelectedTexts[i],this.comboSelectedAlign)){this.comboToSubmit=i;this.submitComboHandle=this.comboSelectedHandle;if(this.comboSelectedWindow!=null){this.comboSelectedWindow.redraws=2}break}}this.text(this.comboSelectedLabel);if(this.inputReleased&&!zui_Zui.comboFirst){this.comboSelectedHandle=null;zui_Zui.comboFirst=true}else{zui_Zui.comboFirst=false}this.inputEnabled=this.comboSelectedHandle==null;this.endLayout(false);this.globalG.end();this.g=_g},drawTooltip:function(){this.globalG.set_color(-1052689);var lines=this.tooltipText.split("\n");var tooltipW=0;var _g=0;while(_g<lines.length){var line=lines[_g];++_g;var lineTooltipW=this.ops.font.width(this.fontSize,line);if(lineTooltipW>tooltipW){tooltipW=lineTooltipW}}this.tooltipX=Math.min(this.tooltipX,kha_System.windowWidth()-tooltipW-20);this.globalG.fillRect(this.tooltipX,this.tooltipY,tooltipW+20,this.t.ELEMENT_H*this.SCALE*lines.length*.6);this.globalG.set_font(this.ops.font);this.globalG.set_fontSize(this.fontSize);this.globalG.set_color(-15658735);var _g1=0;var _g2=lines.length;while(_g1<_g2){var i=_g1++;this.globalG.drawString(lines[i],this.tooltipX+5,this.tooltipY+i*this.fontSize)}},drawString:function(g,text,xOffset,yOffset,align){if(align==null){align=0}if(yOffset==null){yOffset=0}var maxChars=this._w/(this.fontSize/2|0)|0;if(text.length>maxChars){text=text.substring(0,maxChars)+".."}if(xOffset==null){xOffset=this.t.TEXT_OFFSET}xOffset*=this.SCALE;g.set_font(this.ops.font);g.set_fontSize(this.fontSize);if(align==1){xOffset=this._w/2-this.ops.font.width(this.fontSize,text)/2}else if(align==2){xOffset=this._w-this.ops.font.width(this.fontSize,text)-this.t.TEXT_OFFSET}g.drawString(text,this._x+xOffset,this._y+this.fontOffsetY+yOffset)},endElement:function(elementSize){if(this.currentWindow==null){this._y+=this.t.ELEMENT_H*this.SCALE+this.t.ELEMENT_OFFSET*this.SCALE;return}if(this.currentWindow.layout==0){if(this.curRatio==-1||this.ratios!=null&&this.curRatio==this.ratios.length-1){if(elementSize==null){elementSize=this.t.ELEMENT_H*this.SCALE+this.t.ELEMENT_OFFSET*this.SCALE}this._y+=elementSize;if(this.ratios!=null&&this.curRatio==this.ratios.length-1){this.curRatio=-1;this.ratios=null;this._x=this.xBeforeSplit;this._w=this.wBeforeSplit}}else{this.curRatio++;this._x+=this._w;this._w=this.wBeforeSplit*this.ratios[this.curRatio]|0}}else{this._x+=this._w+this.t.ELEMENT_OFFSET*this.SCALE}},isVisible:function(elemH){if(this.currentWindow==null){return true}if(this._y+elemH>0){return this._y<this.currentWindow.texture.get_height()}else{return false}},getReleased:function(elemH){if(elemH==null){elemH=-1}this.isReleased=this.inputEnabled&&this.inputReleased&&this.getHover(elemH)&&this.getInitialHover(elemH);return this.isReleased},getPushed:function(elemH){if(elemH==null){elemH=-1}this.isPushed=this.inputEnabled&&this.inputDown&&this.getHover(elemH)&&this.getInitialHover(elemH);return this.isPushed},getStarted:function(elemH){if(elemH==null){elemH=-1}this.isStarted=this.inputEnabled&&this.inputStarted&&this.getHover(elemH);return this.isStarted},getInitialHover:function(elemH){if(elemH==null){elemH=-1}if(elemH==-1){elemH=this.t.ELEMENT_H*this.SCALE}if(this.inputEnabled&&this.inputInitialX>=this._windowX+this._x&&this.inputInitialX<this._windowX+this._x+this._w&&this.inputInitialY>=this._windowY+this._y){return this.inputInitialY<this._windowY+this._y+elemH}else{return false}},getHover:function(elemH){if(elemH==null){elemH=-1}if(elemH==-1){elemH=this.t.ELEMENT_H*this.SCALE}this.isHovered=this.inputEnabled&&this.inputX>=this._windowX+this._x&&this.inputX<this._windowX+this._x+this._w&&this.inputY>=this._windowY+this._y&&this.inputY<this._windowY+this._y+elemH;return this.isHovered},getInputInRect:function(x,y,w,h,scale){if(scale==null){scale=1}if(this.inputEnabled&&this.inputX>=x*scale&&this.inputX<(x+w)*scale&&this.inputY>=y*scale){return this.inputY<(y+h)*scale}else{return false}},onMouseDown:function(button,x,y){this.inputStarted=true;if(button==0){this.inputDown=true}else{this.inputDownR=true}var sx=x*this.ops.scaleTexture|0;var sy=y*this.ops.scaleTexture|0;this.setInputPosition(sx,sy);this.inputInitialX=sx;this.inputInitialY=sy},onMouseUp:function(button,x,y){if(this.isScrolling){this.isScrolling=false;if(this.scrollingHandle!=null){this.scrollingHandle.scrolling=false}if(x==this.inputInitialX&&y==this.inputInitialY){this.inputReleased=true}}else{this.inputReleased=true}if(button==0){this.inputDown=false}else{this.inputDownR=false}this.setInputPosition(x*this.ops.scaleTexture|0,y*this.ops.scaleTexture|0);this.deselectText()},onMouseMove:function(x,y,movementX,movementY){this.setInputPosition(x*this.ops.scaleTexture|0,y*this.ops.scaleTexture|0)},onMouseWheel:function(delta){this.inputWheelDelta=delta},setInputPosition:function(x,y){this.inputDX+=x-this.inputX;this.inputDY+=y-this.inputY;this.inputX=x;this.inputY=y},onKeyDown:function(code){this.isKeyDown=true;this.key=code;if(code==32){this["char"]=" "}},onKeyUp:function(code){},onKeyPress:function($char){this.isKeyDown=true;this["char"]=$char},__class__:zui_Zui};var zui_Handle=function(ops){this.dragEnabled=false;this.lastMaxY=0;this.lastMaxX=0;this.layout=0;this.scrollEnabled=false;this.scrollOffset=0;this.scrolling=false;this.redraws=2;this.texture=null;this.text="";this.value=0;this.color=-1;this.position=0;this.selected=false;if(ops!=null){if(ops.selected!=null){this.selected=ops.selected}if(ops.position!=null){this.position=ops.position}if(ops.value!=null){this.value=ops.value}if(ops.text!=null){this.text=ops.text}if(ops.color!=null){this.color=ops.color}if(ops.layout!=null){this.layout=ops.layout}}};$hxClasses["zui.Handle"]=zui_Handle;zui_Handle.__name__=true;zui_Handle.prototype={selected:null,position:null,color:null,value:null,text:null,texture:null,redraws:null,scrolling:null,scrollOffset:null,scrollEnabled:null,layout:null,lastMaxX:null,lastMaxY:null,dragEnabled:null,children:null,nest:function(i,ops){if(this.children==null){this.children=[]}while(this.children.length<=i)this.children.push(null);if(this.children[i]==null){this.children[i]=new zui_Handle(ops)}return this.children[i]},__class__:zui_Handle};var $_,$fid=0;function $bind(o,m){if(m==null)return null;if(m.__id__==null)m.__id__=$fid++;var f;if(o.hx__closures__==null)o.hx__closures__={};else f=o.hx__closures__[m.__id__];if(f==null){f=function(){return f.method.apply(f.scope,arguments)};f.scope=o;f.method=m;o.hx__closures__[m.__id__]=f}return f}$hxClasses["Math"]=Math;String.prototype.__class__=$hxClasses["String"]=String;String.__name__=true;$hxClasses["Array"]=Array;Array.__name__=true;Date.prototype.__class__=$hxClasses["Date"]=Date;Date.__name__=["Date"];var Int=$hxClasses["Int"]={__name__:["Int"]};var Dynamic=$hxClasses["Dynamic"]={__name__:["Dynamic"]};var Float=$hxClasses["Float"]=Number;Float.__name__=["Float"];var Bool=$hxClasses["Bool"]=Boolean;Bool.__ename__=["Bool"];var Class=$hxClasses["Class"]={__name__:["Class"]};var Enum={};var __map_reserved={};var ArrayBuffer=$global.ArrayBuffer||js_html_compat_ArrayBuffer;if(ArrayBuffer.prototype.slice==null){ArrayBuffer.prototype.slice=js_html_compat_ArrayBuffer.sliceImpl}var DataView=$global.DataView||js_html_compat_DataView;var Float32Array=$global.Float32Array||js_html_compat_Float32Array._new;var Uint8Array=$global.Uint8Array||js_html_compat_Uint8Array._new;arm_FirstPersonController.rotationSpeed=1;arm_GunController.__meta__={fields:{fireFreq:{prop:null}}};armory_renderpath_HosekWilkieData.datasetRGB1=[-1.099459,-.1335146,-4.083223,5.919603,-.1104166,1.600158,-1326538e-12,4.917807,.5127716,-1.169858,-.1832793,.9694744,.09495762,-.04738918,.2194171,.1095749,3.603604,.3815119,-.9665225,-.1403888,5.194457,-1.107607,-.8135181,4.969661,-.2300508,-2.48935,1.279158,-1.292508,-.1299552,-2.071404,-.04752482,1.215598,-1.904179,.3027985,8.707768,.06332446,-.9264666,-.169678,4.57407,-.4232936,-7.575833,5.079755,-.2576343,-4.506805,.6908129,-1.139072,-.1796056,1.923311,6.788529,-2.364389,-1.064041,.171701,1.534681,.501581,-1.107257,-.1384411,-4.285744,5.713157,-.1015992,1.372638,.06555893,5.127514,.6550471,-1.187337,-.1969013,.8551048,.05289708,-.07626406,.01733153,.1779454,3.801038,.4742709,-.9685321,-.1553308,4.732492,-1.178935,-.7852791,4.604492,-.2666518,-2.367663,1.177527,-1.252817,-.05129949,-2.800433,-.01295992,1.308964,-2.204331,.7276011,8.699265,.1188388,-.9459509,-.2322133,4.375041,-.1712018,-7.451681,5.078019,-.4223538,-4.595561,1.074719,-1.125092,-.179675,1.626399,6.989743,-2.406382,-.9060383,.2961611,1.337715,.543814,-1.135338,-.171616,-1.499253,2.373491,-.1654023,.9566404,.1113453,4.528473,.6579439,-1.13278,-.1456214,-1.736672,1.756589,-.1087003,.3757927,.252507,7.178513,.5003814,-1.167176,-.2927225,5.727667,-3.139244,-.6425204,2.822634,-.1457812,-6.78708,1.017072,-1.042529,.04110823,-4.000629,4.362364,1.09054,-1.338674,.8246964,10.95249,.2912211,-1.061598,-.2096143,3.803155,-7.977069,-3.63788,3.707671,-.1903128,-3.397953,.99715,-1.07356,-.2077964,1.492052,16.26322,-5.015304,-.4059889,.2659782,.639538,.5634436,-1.172794,-.2111186,-1.360013,1.60408,-.08473723,.7217312,.154803,4.25701,.6328974,-1.238374,-.2670827,.3247678,.5466311,-.7425952,.527644,.02678026,5.484169,.6814734,-1.176923,-.2574586,2.304045,-2.797678,1.464405,1.998552,.2550559,-4.199772,.7544892,-1.003284,.01943984,-2.145066,10.30924,-15.25413,-2.02301,.5448699,8.159497,.5539148,-1.060017,-.2037206,2.483018,-4.595459,6.526991,4.031804,.1206513,-2.586527,.7875752,-1.081141,-.2123302,1.092275,2.683841,-4.166938,-1.396582,.4371205,1.030233,.6664862,-1.222392,-.2651924,-.4625037,.3521964,.02148855,.5078494,.179159,3.852516,.5998216,-1.42461,-.4710155,-.1826815,1.786277,-1.952442,.5277612,-.01773629,2.415874,.6701272,-1.130655,-.1358609,.9171203,-4.660394,6.251162,1.904529,.2639668,1.85613,.822844,-.9739015,-.06674749,-.4768897,12.48589,-19.94688,-2.353043,.5885575,1.287251,.4830135,-1.082178,-.1974495,1.050245,-4.792855,8.663406,3.246969,.1556731,.8117442,.8050376,-1.063354,-.1727108,.9681592,2.736077,-4.969269,-.836057,.5994612,1.024039,.6786935,-1.261936,-.3053676,-.4262222,.4000196,-.02059388,.4721802,.1480028,3.505343,.6121337,-1.681088,-.6971919,-.1105652,.7437426,-.6594399,.2254221,.08710195,1.263913,.5681865,-.9453001,.03460388,.6067038,-1.985128,3.457236,2.655483,-.01162354,3.304716,1.00195,-1.086609,-.2029011,-.639917,6.926885,-15.12189,-3.793051,.945612,.2222222,.2893725,-1.041259,-.138879,1.147331,6.282086,3.679836,4.398314,-.1355232,1.031134,.9273509,-1.063473,-.1916051,.6556979,-.003371891,-3.699664,-1.926783,.7371154,1.179975,.6367068,-1.33639,-.3778927,-.7259477,.2270247,.4627513,.1366459,.2637347,3.292059,.4998211,-2.119878,-1.055472,.5422052,.7826648,-1.286065,.9517905,-.1432358,-.2379816,.5910513,-.7761432,.2124336,-.6845184,-.9812342,4.347257,.967198,.377315,5.789529,.9646598,-1.118734,-.3513815,.5500918,.9449627,-12.6207,-1.82528,.473126,-3.326892,.3568768,-1.026437,-.08257946,.3221701,11.98372,1.55513,2.560304,.1406465,2.912858,.8643181,-1.069949,-.2029607,.5825042,-.002398595,-3.278335,-1.349882,.7208433,.8505164,.6625391,-1.392309,-.4454945,-.5664,.6283393,-.3761727,.6949802,.07748178,3.192797,.5968661,-2.713405,-1.395112,.202923,.1877272,-.3715859,-.1652929,.2385861,-.4150768,.1375467,-.9588644,.024339,-1.527493,-.9632874,5.496269,1.094931,.2004044,6.084554,1.369604,-.8028546,-.2473563,1.617898,2.073591,-11.49446,-.8394131,.2726847,-4.634538,.1367293,-1.198326,-.1804865,-.3565414,4.0732,1.662086,1.23977,.3367978,2.997402,.9360383,-1.013531,-.185906,.5799857,13.31883,-4.346873,-1.11382,.5275714,.8045177,.6496373,-1.530103,-.6107468,-.3841771,1.881508,-1.464807,.665469,-5950797e-12,2.738912,.8101012,-2.415469,-1.057499,-.4161968,-2.357548,.6300296,.6224915,.01545048,2.038561,-.1339415,-3.096796,-1.465688,-1.199232,4.567061,3.26098,-.9794907,.8950491,2.049235,1.331015,.2713904,.2852852,1.20209,-8.206784,-5.805762,1.804431,-.6090648,-1.990902,.3288858,-1.45658,-.345596,-.06409257,16.67697,-2.311094,-.9771104,.6759863,1.245136,.7911932,-.9860389,-.2099564,.294665,-.0035478,-2.268313,-.06205647,.4705185,.8657995,.6856284,-1.971736,-.9414047,-.3400557,1.468763,-1.474284,.5501062,-110975e-10,2.35637,.9001702,-1.589845,-.7797079,-.558224,-.8137376,.5846617,.1129459,-.02658005,2.707248,-.2112486,-6.940173,-2.823963,-1.620848,1.090696,2.39173,1.370047,.5890462,1.7284,1.331253,1.293144,-.001919778,1.644206,-.8666967,-7.161953,-1.385018,-.1505374,-1.388643,.2530122,-1.48888,-.2495496,-.2377137,11.67714,-.8617124,1.053828,.1992744,.3633564,.8553304,-1.060891,-.4035829,.2823207,-.002369798,-1.876577,-.5950265,.4241017,.3140802,.6631669,-1.101204,-.1351353,-4.030882,6.096353,-.1148599,1.606507,-1555474e-12,4.436084,.5973715,-1.154597,-.1923378,.8512132,.2934895,-.06522777,.1389077,.09091469,3.133307,.2108541,-1.031588,-.1546804,5.266214,-.949139,-.7184867,4.875626,-.1911907,-2.865642,1.087895,-1.159454,-.09546699,-1.508146,-.02031411,1.040653,-2.333508,.2540592,8.594981,.0931677,-1.03594,-.2021151,4.719343,-.9019318,-7.858046,3.901234,-.2233137,-4.344739,.6550733,-1.096669,-.1558196,2.057553,6.274495,-2.678352,-1.814927,.1550676,1.903276,.4998989,-1.114209,-.1473531,-7.602914,8.973685,-.04980074,1.289198,.08366906,4.557987,.6118757,-1.149397,-.1981628,4.914096,-3.498986,-.0625709,.1667401,.104898,2.284689,.5935965,-1.056121,-.1456172,.4272656,2.912649,-.5501745,4.406542,-.138768,1.245555,.9733011,-1.125047,-.04003662,1.058457,-3.462236,.4395278,-2.395805,.5177589,4.866247,.4253189,-1.051444,-.2804541,3.364668,3.293787,-10.15741,3.807407,-.3592377,-3.367415,.7900825,-1.093847,-.1436965,2.38478,5.78707,-2.445987,-1.311171,.2326563,1.158439,.5555416,-1.134824,-.1680468,-3.32562,4.458596,-.1135063,1.1045,.07794544,4.609952,.6854854,-1.143017,-.1565926,.3014687,-.1763027,-.03557925,-.2342406,.2528705,5.884085,.4750602,-1.136801,-.2907502,3.682423,-.4061202,-.8728159,4.00151,-.1522202,-5.528713,1.044847,-1.063652,.07808107,-1.983678,.3648078,2.102276,-3.06505,.8431951,10.3883,.2662834,-1.061015,-.2859814,4.223615,-2.290138,-8.31401,4.405718,-.4613627,-4.50291,1.008383,-1.106302,-.1697123,2.087196,8.238929,-2.992416,-1.821776,.3434859,.7755179,.534119,-1.17111,-.2106304,-1.614361,2.378103,-.1625969,.8504483,.1059312,4.046256,.6618227,-1.20048,-.2235733,1.01439,-1.174074,-.444018,.2262406,.1665868,5.461829,.567631,-1.223587,-.3502622,1.699106,.6724266,1.268567,2.135102,.0008039374,-5.221111,.944569,-.9452673,.1468459,-1.335034,4.346628,-12.85652,-1.807046,.8175243,9.301065,.3656798,-1.134681,-.3310951,3.571244,-2.208948,6.04158,3.107577,-.3112127,-4.186351,.9188333,-1.083237,-.1831394,2.062654,1.385424,-5.00495,-1.332669,.3627352,.332315,.6191181,-1.211527,-.2590617,-.1660874,.3627905,-.1039258,.4697924,.1671653,3.507497,.6022506,-1.433017,-.4733592,.1724445,.9953236,-1.874457,.4432099,.0171581,2.339272,.644147,-1.08492,-.1587903,.8999585,-2.537516,5.877859,2.014554,.09689141,.3177242,.9030399,-1.008242,.00279303,-.3507469,10.283,-20.80454,-2.781026,.899509,3.366951,.3473867,-1.103151,-.2799598,2.525791,-4.255704,9.903388,3.722668,-.3603941,-1.303292,.9369454,-1.102235,-.2025061,2.08566,1.686787,-5.010957,-1.656458,.4584029,-.2751759,.6184162,-1.25613,-.3104904,.163935,.1315502,-.7297583,.477848,.1259265,3.012108,.6202728,-1.620114,-.655267,-.2877157,1.094371,.2818914,.369683,.09428521,1.450951,.5681308,-.9686204,-.03755647,1.46998,-3.103414,2.856583,1.883209,-.05746099,1.286383,1.001751,-1.089377,-.1023062,-1.498891,10.66455,-17.20184,-2.759314,1.061258,2.910211,.2624701,-1.044681,-.2156857,3.230136,-.5863862,6.09664,3.550019,-.4255773,-1.500033,.9687696,-1.133658,-.2505101,1.71784,.008480428,-5.011789,-1.740989,.498343,-.2081829,.6088641,-1.335366,-.3863319,-.5279971,.3638324,.3230699,.08339707,.2483293,2.678646,.4998346,-2.004511,-.9957121,1.250807,.01625025,-.3410754,.7858244,-.09506757,.02651876,.5788643,-.8714157,.1192051,-.8486879,-.3702497,1.818277,1.103427,.2454866,3.841575,.984735,-1.042618,-.2285793,.3620175,2.983368,-9.776844,-1.971587,.6691674,-.7901947,.32132,-1.099112,-.1869868,2.044065,2.062964,1.265668,2.71013,-.1099443,.2179353,.9024108,-1.106985,-.2396881,1.809807,8.523319,-5.011788,-1.590086,.3248449,-.1003187,.6550606,-1.421285,-.4767024,-.3885004,.827459,-.3644229,.6999513,.0519671,2.578431,.624631,-2.611217,-1.398846,.4527425,-.5932142,.2224617,-.5593581,.3389633,-.7767112,.06536004,-.9881543,.04684782,-.8616613,.8799807,4.00313,1.739543,-.08098378,5.524802,1.499673,-.7544759,-.2314808,.812577,-.7724135,-9.577645,-1.629433,.6790832,-4.193895,-.02526624,-1.273719,-.218703,1.401798,5.231832,.7405093,1.775166,-.07269476,1.996087,1.05745,-1.046864,-.2247559,1.679449,11.40057,-4.948829,-1.182664,.3241038,-.2470012,.61159,-1.514607,-.598543,-.187761,1.75693,-1.314206,.611581,-597046e-11,2.412975,.8124304,-2.308414,-1.083797,-.1179959,-1.728246,.7784742,.5494505,.006203168,.9326251,-.1419518,-3.230837,-1.43867,-.9868286,2.974393,1.949339,-.6337857,.8160271,3.278606,1.354373,.5149378,.2754789,1.040965,-4.501186,-3.399057,.9661861,-.4736173,-4.037574,.2794847,-1.62187,-.3192763,.8786242,9.785565,-2.727652,.01903691,.5521261,2.138764,.8419871,-.9951701,-.2550607,1.498952,-.002737197,-3.101832,-.5921329,.2864422,-.4405218,.663141,-1.902954,-.9056918,-.206957,1.191499,-1.092577,.5849556,-9649602e-12,2.048407,.9001527,-1.271627,-.7193923,-.01136606,-.1167951,.003286175,-.05262827,-.02473874,1.716125,-.2187133,-7.647175,-3.114129,-1.490128,-.5266488,3.06309,1.474262,.5481458,2.052174,1.353089,2.191403,.342112,1.44651,2.170943,-7.768187,-1.471207,-.1456708,-1.753574,.2310576,-1.932296,-.3814739,.6245422,6.748294,-.3060171,1.067747,.2500671,-.1252596,.8614611,-.9471101,-.405264,1.300174,-.003951536,-1.908284,-.5385721,.2133578,-.6250292,.6658012];armory_renderpath_HosekWilkieData.datasetRGBRad1=[1.962684,1.159831,4.450588,5.079633,4.437388,4.324573,1.946487,1.287515,3.703696,8.782833,3.440437,5.160333,1.88217,1.335878,2.648641,13.58368,3.105473,5.907387,1.738159,1.624289,-.008786695,21.18253,2.770255,7.055672,1.571896,2.301786,-4.028545,29.66806,1.630876,8.711031,1.475048,2.679086,-6.311315,33.77896,2.140975,9.385283,1.326174,3.378759,-9.831444,39.42061,2.852702,10.82542,1.153344,3.967771,-12.65181,41.95016,7.468239,12.2135,.9746081,4.051626,-12.98454,37.54964,17.49232,14.20619,.8448016,3.181809,-8.757338,21.97962,35.24033,16.39549,2.029623,1.364434,4.201529,5.415099,9.825839,10.63328,2.023126,1.494728,3.420413,9.072178,9.205157,11.86639,1.956307,1.648665,2.039712,14.30239,9.039526,13.30453,1.825053,1.985022,-.8036307,22.02493,9.415361,15.17659,1.650367,2.593201,-4.469328,29.69817,9.410977,17.4485,1.555202,2.962925,-6.60817,33.29887,10.64559,18.50816,1.412478,3.439403,-9.196616,36.85077,13.45341,20.03128,1.25299,3.820805,-11.15338,37.21593,20.14916,21.8232,1.091952,3.663027,-10.3133,29.78985,32.96835,23.7545,.9501691,2.664579,-5.545167,12.81159,51.54768,25.74284];armory_renderpath_HosekWilkieData.datasetRGB2=[-1.14053,-.1982747,-7.51273,8.403899,-.05699038,.9015907,.03392161,4.772522,.5111184,-1.165117,-.1852955,2.963684,-2.262274,-.1571683,.6339974,.04977879,7.243307,.4220053,-1.169936,-.3357429,1.911291,-.2391074,-.4791643,1.446113,-.09178108,-4.700239,.8096219,-1.060246,-.1051633,.5013829,2.832309,-.3707855,1.523131,.09163749,5.604183,.7208566,-1.089753,-.2382167,2.360312,-5.902562,-8.799894,1.377692,-.06131633,-1.415472,.6124057,-1.075481,-.1242391,1.425781,8.810319,-2.922646,1.48652,.0327058,3.889783,.4999482,-1.149342,-.2076337,-7.446587,8.014559,-.04866227,.8203043,.06386483,4.894198,.5452051,-1.120531,-.1513311,2.735504,-2.417591,-.1361114,.4296342,.09427488,8.171403,.4102448,-1.226964,-.3516378,1.308298,-.05097487,-.4846783,1.654619,-.113494,-3.347854,1.131147,-.9664377,.02767589,.1658235,2.407439,-.1300304,.9170958,.2742895,6.642633,.2550064,-1.153358,-.3126223,2.078934,-5.857733,-8.659848,1.758505,-.09616094,-1.230863,.9663832,-1.05385,-.1330743,1.481738,10.49485,-3.528854,.9142363,.124488,2.644615,.5001048,-1.173687,-.2360362,-3.741454,4.088507,-.07528205,.6645237,.07718265,4.65122,.5586318,-1.213757,-.2589561,.7132551,-.4259327,-.1980821,.3627815,.0466656,5.807984,.5847377,-1.108794,-.225987,1.574179,-.3753731,-.5984743,1.659414,-.01681021,.6785219,.8647325,-1.060896,-.0134669,-.7529656,1.711319,-.9792435,.2022433,.3826487,5.725157,.5290714,-1.085145,-.2840715,2.088029,-4.935097,-9.056542,1.976149,-.03912485,-.8636064,.7452125,-1.077983,-.1416633,1.100848,10.15875,-2.943712,.5255135,.2164224,2.941143,.6699937,-1.223293,-.2867444,-1.624136,1.668299,-.09537589,.5015947,.1130741,4.244812,.5082152,-1.325342,-.4280991,.470549,.06926592,-.4572587,.5344144,-.02554192,3.093939,.6639401,-1.113581,-.1192133,.4011536,.7011889,.2052842,.9880724,.01807533,4.69016,.857624,-1.016063,-.1038138,-.2280391,.7898918,-11.27333,.2074545,.5388182,1.364263,.4660455,-1.099582,-.2228607,1.332648,5.135188,1.653152,1.41702,-.1087532,1.809275,.8080874,-1.064357,-.1520775,.8207368,-.001323565,-5.009523,.3946298,.4337902,2.593198,.6719172,-1.278702,-.3512866,-.4511055,.389576,-.2429672,.4270577,.1135348,3.71913,.4998867,-1.580069,-.7095475,-.3198904,1.715748,-1.185915,.4523161,-.01026159,.7927188,.553835,-.9474023,.1173703,.4881381,-2.618684,3.251661,1.213931,-.01736274,8.000768,1.025998,-1.129091,-.3287694,-.3524077,3.352892,-14.16073,-.8485617,.6560766,-2.820937,.3111303,-1.030884,-.1137581,1.109855,8.082276,1.519214,2.112433,-.1592299,3.675905,.8703367,-1.075192,-.1627166,.351491,1.168164,-4.255822,-.6015348,.6265776,2.884818,.6548384,-1.316017,-.3889652,-.5030854,.4488704,-.31868,.4570763,.08909201,3.659274,.5011746,-1.731876,-.8493806,.1194871,2.002781,-2.006547,.4872233,-.02854606,.2662137,.4611629,-.927368,.1380954,-.3302179,-3.553265,4.633345,.9696729,.08799775,8.291129,1.094451,-1.099377,-.3325392,.2501063,2.613712,-13.28142,-.5579527,.4992081,-3.504402,.3022924,-1.04842,-.1227773,.5845373,11.05869,.03813151,1.330409,.01978131,3.95943,.8396439,-1.063233,-.1560639,.2840033,.8751565,-3.41182,-.1436564,.584658,2.899292,.6799095,-1.376715,-.4541567,-1.445491,1.569898,-.1390627,.555827,.04109877,3.349451,.5516123,-1.953391,-1.035869,1.690563,-.196469,-.7787096,.5799605,.02945626,.04217906,.2451373,-1.012422,.07136451,-1.862534,-.7228653,.1947997,.2091805,.06399233,7.928994,1.290733,-.9706708,-.288095,1.107797,-2.731734,-8.445995,.4296774,.5117648,-3.824277,.1761207,-1.110611,-.1789409,.2108488,20.7143,-1.763174,.09554695,-.02943103,3.422079,.8815496,-1.048334,-.1614087,.2475184,.02146938,-2.983901,.2538224,.560137,2.461925,.6777394,-1.393719,-.5002724,-2.40894,2.680983,-.1362825,.7395067,-3300343e-12,3.260889,.8132057,-2.128663,-1.151182,2.923026,-1.931838,-.442617,.2309983,-.00548589,.3279529,-.2229467,-1.618022,-.376649,-3.163544,1.611608,-.3967476,.393368,.3006742,6.835177,1.613765,-.5669064,-.1481749,2.071817,-8.157422,-5.988088,.2387202,.1447191,-4.296385,.05011258,-1.241724,-.2519348,-.1908609,29.52235,-3.33366,-.01837651,.1022249,2.92932,.8867262,-1.02167,-.1667327,.1789771,-.002178108,-2.641572,-.05641484,.5303758,2.138196,.678035,-1.669332,-.7588708,-2.993557,3.17876,-.08066442,.6544672,-808988e-11,2.628924,.9001272,-1.755806,-.8735348,3.258881,-2.504785,-.3300791,.1180565,-.009315982,1.785154,-.3205824,-3.720277,-1.73335,-3.332272,1.515869,.1734218,.8011956,.199544,3.817666,1.638502,.4724641,.3209828,2.051443,-5.105574,-6.509139,-.4232041,.2598931,-2.151756,-.00349391,-1.5256,-.4897606,-.09891121,23.46818,-2.278152,.1681219,-.04469389,1.051,.9294666,-.9908649,-.2008182,.1605143,-.002463113,-2.477349,-.1218647,.4750121,1.460813,.6661364,-2.122119,-1.125475,-3.066599,3.145078,-.05411593,.5133628,-7823408e-12,2.268448,.9001416,-1.528158,-.9370249,2.567559,-1.591439,-.363446,.1763256,.001119624,1.811848,-.2637929,-6.524387,-2.673507,-2.940472,-.6025609,.7852067,1.073499,-.03540435,3.517416,1.490466,.8886026,-.09681828,1.430554,4.993717,-6.071355,-.6053986,.5092997,-1.27301,.07491329,-1.481997,-.5897282,.2659264,1.267239,-.5741291,.05983011,-.2217312,-.3016452,.926083,-1.010943,-.2075134,.05066749,14.70708,-3.780501,.07253223,.4045458,1.320164,.6559925,-1.129907,-.1884011,-8.04767,9.035776,-.05539419,.8823349,.03197135,4.839388,.5042822,-1.133821,-.1510781,3.362822,-2.453381,-.1463925,.4728708,.0595814,7.6363,.4805162,-1.176518,-.3549902,1.729044,-.2160966,-.5075865,1.675584,-.08906902,-5.386842,.5452218,-1.043563,-.07520975,.8750644,2.510518,.007584882,.936125,.07889083,6.066644,.5813108,-1.081304,-.2222253,2.517638,-4.45382,-8.663691,.8662558,-.04802657,-.8965449,.4886656,-1.083774,-.1375469,1.685818,5.63112,-3.100752,.4045941,.02346895,3.390321,.5008309,-1.143158,-.2058334,-9.660198,10.62394,-.04434119,.8607615,.03177325,4.416481,.5918162,-1.146773,-.1727385,4.626048,-4.684602,-.08307137,.1619616,.1484866,7.572868,.2681126,-1.151324,-.3099303,.4125596,2.340752,-.4214444,1.987375,-.191341,-3.845978,1.337311,-1.034258,-.007778759,.7050094,-.8036369,.313857,.2469452,.355997,7.485917,.04790329,-1.096568,-.2673169,2.575654,-.8057121,-8.884928,1.41617,-.2091315,-1.543494,1.065445,-1.083304,-.1528265,1.697727,2.503702,-2.885296,-.12985,.154887,2.479652,.5066496,-1.165736,-.2329945,-5.967964,6.705959,-.05931355,.7485638,.03913878,4.221591,.6183926,-1.212422,-.254591,2.418626,-2.266104,-.1102014,.01363887,.1055411,5.648062,.4557412,-1.070436,-.2163341,.7098718,.7843075,-.432393,2.109823,-.095897,-.1985193,1.060428,-1.104879,-.03013622,.02976276,1.069707,.141,-.488002,.4452288,6.41859,.3195986,-1.048969,-.2655317,2.689426,-3.941038,-9.506461,1.837119,-.1892124,-1.562146,.9043414,-1.106145,-.1601642,1.544544,7.388492,-2.9246,-.4328453,.1763161,2.523111,.5851902,-1.203666,-.2776587,-2.084286,2.45084,-.08746613,.5258507,.07983316,3.860055,.5486167,-1.340448,-.423059,.3462849,.4707607,-.2512626,.1530746,.02724218,3.035216,.5876133,-1.014554,-.116879,.9477794,-1.061218,-.419673,2.058832,-.05989624,3.058168,.9763861,-1.137388,-.0985403,-.2984893,3.64782,-.6585571,-1.47918,.6102932,3.265914,.3480333,-1.021816,-.2344957,2.463671,-7.240685,-8.862697,2.514058,-.2122768,-.03313968,.9028136,-1.126581,-.1874347,1.454154,10.34398,-3.237393,-.8654927,.2457248,1.845769,.6002482,-1.263727,-.3439354,-.1786388,.3980166,-.3349517,.3825166,.1029225,3.331096,.4998955,-1.53001,-.6879698,.2380415,1.608216,-1.682679,.354636,-.00391522,.4517655,.5128605,-.9685659,.09480403,.06076844,-3.217561,4.568074,1.069299,.02083638,7.301088,1.072165,-1.113925,-.3112382,.3954133,5.105907,-14.56866,-.4917378,.5289909,-2.678374,.3014709,-1.046864,-.1215754,1.778308,4.661489,.2565583,1.35368,-.1175767,3.415972,.8457746,-1.10448,-.1940913,1.343668,-.001759206,-5.009204,-.4186951,.312571,1.628183,.6720408,-1.286902,-.3781238,-.08977253,.3545393,-.4866515,.3843664,.08281675,3.122231,.5046991,-1.712597,-.8549112,.4809286,1.515398,-2.212211,.2539029,.02335997,-.06089466,.4268444,-.8807283,.1646097,-.4437898,-3.188247,5.984417,1.334779,-.04026975,7.546431,1.175751,-1.147253,-.3538199,.6101836,4.43778,-15.59813,-1.103222,.6242039,-3.091472,.217429,-1.03823,-.1213475,1.547505,5.893176,1.368738,1.663127,-.137713,3.185279,.8736453,-1.101026,-.1874907,1.272667,3.596524,-5.007243,-.6352483,.3048985,1.931613,.6788844,-1.342753,-.4384971,-1.213491,1.621399,-.1551441,.5614218,.02591739,2.958967,.5782132,-1.937684,-1.066019,1.913336,-.7347719,-.5916167,.158759,.1092568,-.6275002,.1599071,-.9302391,.1486187,-1.603835,.1783713,1.100461,1.174181,-.1602361,7.868331,1.468971,-1.053631,-.372705,1.114117,-.9603286,-10.62469,-1.16214,.7952797,-4.478765,-.04440862,-1.083629,-.1261405,1.229344,11.27825,.131901,1.624729,-.2825898,3.661082,1.036911,-1.09395,-.2067455,1.258035,7.548645,-4.598387,-.8944932,.3292634,1.311304,.6291871,-1.385867,-.5068139,-1.48649,1.969049,-.1698025,.6629167,-5289365e-12,2.760315,.8644368,-2.107367,-1.175639,2.313241,-1.001653,-.4843139,.1124485,3901494e-11,-.3502469,-.320478,-1.475244,-.2833055,-2.085824,1.192563,-.76452,.8380081,.220358,7.157885,1.753702,-.6644372,-.2549735,1.600273,-8.589034,-6.144718,-.7599731,.289837,-5.770923,-.09656242,-1.211687,-.1653494,.83934,27.92988,-3.395461,.9933752,-.03976877,3.776659,.9546526,-1.063757,-.2037563,1.117207,-.001252806,-3.33233,-.6971409,.3388719,1.311398,.6635171,-1.678889,-.7992295,-2.421687,2.871029,-.07662842,.6046208,-7598099e-12,2.002314,.9001307,-1.692144,-.880425,3.060895,-2.000009,-.3183563,.08385862,-.006326713,1.206639,-.3369967,-3.676795,-1.719207,-2.534697,1.005285,.1550407,1.07291,.1318094,3.717018,1.689191,.5424542,.3263528,1.551055,-3.841058,-6.598996,-1.201779,.3530669,-2.542945,-.06482523,-1.553849,-.457686,.9324676,19.50982,-2.344516,1.12102,-.1221537,.7285496,.9582816,-1.02065,-.2215797,1.009774,-.002056855,-2.740338,-.8122355,.3328967,.8982766,.6594676,-2.24736,-1.221267,-3.072346,3.385139,-.04387559,.5084887,-7418833e-12,1.750107,.9001401,-1.248499,-.8442718,3.062611,-2.020314,-.2815341,.05254745,.003345008,1.433225,-.2835911,-7.004119,-2.927978,-2.649852,.7971894,.5466893,1.442667,-.06063912,2.806194,1.547429,1.434882,.09114639,1.170089,.03512808,-5.861915,-1.411843,.5400486,-.7746522,.02386984,-1.559053,-.5502302,1.200396,13.47741,-2.344397,.8868907,-.3292661,-1.362105,.9217826,-1.044436,-.2360719,.7054471,-.002904518,-2.092829,-.5119668,.4174861,.9687435,.6588427];armory_renderpath_HosekWilkieData.datasetRGBRad2=[1.59033,1.355401,1.151412,13.59116,5.857714,8.090833,1.55254,1.51004,.1276413,16.04643,5.912162,8.350009,1.470871,1.880464,-1.865398,20.30808,5.471461,9.109834,1.356563,2.373866,-4.653245,25.70922,5.686009,10.0948,1.244232,2.851519,-7.130942,29.93449,6.38212,11.14578,1.173693,3.120604,-8.491886,31.87393,7.290615,11.80066,1.091845,3.368888,-9.722083,32.68508,10.32424,12.36508,.9858985,3.500541,-10.26328,30.92956,16.10881,13.31222,.8864993,3.172888,-8.68755,23.62161,26.21851,14.74967,.7946973,2.189355,-4.207953,9.399091,40.62849,16.81753,1.711696,1.657311,.9328021,13.1788,15.06751,18.63556,1.666968,1.849993,-.2088601,15.86653,14.8688,19.40719,1.584846,2.170022,-2.019597,19.70826,14.90684,20.45055,1.469412,2.524017,-4.197267,23.65249,16.64588,21.34477,1.369714,2.843548,-6.059031,26.34993,18.81361,22.32186,1.310477,2.984444,-6.831686,26.8234,21.23267,22.59755,1.222552,3.176523,-7.731496,26.7176,24.84358,23.36863,1.115781,3.130635,-7.581744,23.36531,31.71048,24.13859,1.013181,2.699342,-5.602709,15.00158,42.17613,25.15957,.8976323,1.726948,-1.29612,1.183675,55.03215,26.43066];armory_renderpath_HosekWilkieData.datasetRGB3=[-1.372629,-.4905585,-41.00789,41.22169,-.00738936,.4839359,.006474757,3.471755,.5092936,-1.523025,-.6497084,6.249857,-5.662543,-.01908402,.551281,-2181049e-11,2.507663,.4339598,-1.035567,-.0747874,.922103,-2.140047,-.02374146,.3795517,-.01769134,7.479831,.7729303,-1.271086,-.558819,.6908023,2.096832,-.2453967,1.410648,.04475036,-4.719115,.5741186,-.9712598,-.07033926,.9167274,-.9502097,.3004684,.4547054,-.05929017,5.266196,.7204135,-1.087457,-.1888896,.8156686,.3101712,-2.155419,1.422205,.09692261,3.122404,.499943,-1.42528,-.5413508,-34.54883,34.81142,-.008686975,.4914268,-2479243e-12,3.239879,.6094201,-1.688557,-.8070865,7.018459,-6.244574,-.02149341,.3993971,.01252502,1.630662,.109786,-.8664152,.07869125,-.5236535,-1.21896,-.02059093,.6684898,-.05584112,8.602299,1.410496,-1.319763,-.5985323,1.253918,1.914706,-.3216739,.9011213,.1324845,-5.252749,.06231252,-.9706008,-.05914059,.569315,-1.175362,.5221644,.7518213,-.08247655,5.875635,.9850863,-1.08533,-.1956105,.8019605,.5338101,-3.423464,1.110444,.1507923,2.864942,.4999481,-1.431967,-.5478935,-32.86288,33.05288,-.008380797,.477205,-3044274e-12,3.289973,.5976303,-1.801361,-.9315889,5.391756,-4.588592,-.02040076,.4144684,.01814534,1.051795,.1145651,-.7905357,.1451332,-.1605661,-1.592174,.0004561348,.3380323,-.07770275,8.775384,1.489512,-1.308575,-.5539232,.9184133,2.011479,-.3842472,1.432274,.1637153,-4.408856,.05272957,-.9829872,-.08183048,.4464556,-1.442716,1.029641,-.06991617,.008702356,5.706417,.9116452,-1.08713,-.2038013,.7260801,.9164376,-5.006183,1.511271,.1257134,2.715439,.6201652,-1.448662,-.5799075,-28.33268,28.58023,-.009134061,.4404783,-2709026e-12,3.029357,.5540071,-2.061772,-1.14519,7.918478,-7.212525,-.0202076,.2962715,.0468967,.8517209,.2334587,-.6413755,.1780425,-2.412919,1.064484,-.01949986,.6769741,-.175276,7.262714,1.325869,-1.304871,-.3975581,1.219002,.7285178,-.2710105,.7779727,.3247139,-.8818168,.1839517,-1.001104,-.1994801,.3676742,-1.409737,.2901555,.250694,.002468899,3.398923,.8584645,-1.111552,-.2487204,.7410842,1.703749,-5.007855,1.057763,.1354511,2.088715,.6600013,-1.547227,-.6679466,-18.61465,18.84045,-.0124221,.4157339,-2432805e-12,2.812423,.5446957,-2.04389,-1.149081,2.304118,-1.715757,-.02433628,.2816836,.07185458,1.06486,.2706789,-.904072,-.08274472,-.2555676,-.6326215,-.0277088,.6676024,-.2513532,5.903839,1.241452,-1.000013,-.1010774,.3699166,.8774526,-.3042007,.6951053,.4361813,.6793421,.2573892,-1.171332,-.3768188,.3701377,-1.470757,.5525942,.02991456,.01581823,2.365233,.8214514,-1.068667,-.232633,.6725059,2.243733,-4.61437,1.033677,.1376291,2.013334,.6865304,-1.592991,-.7246948,-25.98204,26.2196,-.008365176,.4207571,-2742772e-12,2.623735,.587319,-2.271349,-1.280884,6.308739,-5.75835,-.01977049,.3671835,.06698038,1.150597,.1759218,-.636862,-.007436052,-2.230026,1.640997,-.01548497,.3145331,-.2492644,5.083843,1.260215,-1.177925,-.09628114,.3051152,-.03749544,-.2713209,1.164226,.4559969,2.175429,.2874284,-1.0785,-.3801779,.4788906,-.4795969,.5977621,-.4488535,.03386874,1.538143,.8062054,-1.108028,-.2596892,.5162202,1.557081,-4.265039,1.182535,.1563762,2.095084,.6883383,-1.668427,-.7908511,-27.7969,27.99746,-.007186935,.3757766,-3326858e-12,2.563421,.5439687,-2.156175,-1.220004,3.585732,-3.235988,-.01086239,.1846143,.1046017,1.234427,.2842191,-1.117051,-.4101627,-.846373,.7671472,-.02226609,.8574943,-.3434124,4.475715,1.154824,-.744484,.2312078,-.5393724,.1574213,-.1763914,.2751692,.55642,2.217672,.3483932,-1.273036,-.5275562,.4902512,-.04498436,.4339366,.2386682,.02380879,1.413444,.7855923,-1.084192,-.2936753,.4719432,1.384436,-3.257789,.6119543,.1681884,1.650441,.6936631,-1.84849,-.951267,-30.05251,30.24315,-.005635304,.344778,-2782999e-12,2.309422,.5643559,-2.300008,-1.252335,-1.218876,1.49373,-.0061071,.0797486,.1023449,1.505934,.2360948,-1.483705,-.8547575,-.7797146,.6447971,-.02678052,1.091263,-.3344889,3.830416,1.189425,-.5348005,.3982733,-.4071573,.3265569,-.08658789,-.2370892,.5369097,1.478279,.3143303,-1.320401,-.6043247,.3019196,-.07732911,.4768381,.6745764,.03694098,1.158234,.8169056,-1.10104,-.3420019,.3775661,1.769338,-2.990515,.1649529,.1970125,1.453355,.6759757,-2.251946,-1.229349,-32.71808,32.83114,-.004252027,.3372289,-3001937e-12,2.154046,.5842674,-1.867834,-.9531252,-12.29365,12.69149,-.006844772,.1185107,.07539587,1.846381,.1899412,-3.398629,-2.180862,2.335213,-3.382823,-.008613985,.8431602,-.2393567,3.11246,1.218556,.5708381,.940603,-.6890113,2.746233,-.05772068,.1096005,.3491978,.7281453,.3212049,-1.705909,-.8517224,.113116,-2.141434,.4274043,.33976,.178649,.9026101,.78828,-1.012865,-.3495551,.3369038,3.724205,-3.089586,.1266964,.146179,1.170199,.6931052,-2.890318,-1.665573,-34.93756,35.00369,-.002984251,.2622419,-425936e-11,1.947681,.6905752,-1.956022,-1.0629,-19.19714,19.75164,-.008865396,.216554,.05475637,1.761134,.003164249,-5.612198,-3.101371,4.098034,-6.144001,.009944958,.2905472,-.170711,3.199107,1.33766,.8353756,.4855943,-1.243589,5.147385,-.07013963,.938041,.2335714,.1727744,.2802696,-1.524329,-.7388547,.3259025,-4.050634,.4058549,-.2591384,.1898299,.3556071,.7884126,-1.070371,-.4207858,.1739862,5.29341,-3.136757,.2323856,.1673706,1.007227,.6844287,-1.34172,-.4834889,-46.33447,46.82148,-.006137296,.4599216,.007047323,2.895798,.4999398,-1.529104,-.6498631,15.34103,-14.50675,-.01531439,.3280082,.01682926,1.901587,.5013227,-1.014776,-.1454495,-4.071085,2.954982,-.02630348,.5681531,-.03016505,6.773854,.5003504,-1.172413,-.402632,2.960428,.202071,-.2004947,.9375572,.05998168,-4.945934,.4502898,-.9898161,-.05772814,.4470024,-.5786656,.1158168,.346804,-.0504336,6.867947,.8012363,-1.085111,-.1882675,1.223748,.3565495,-3.688357,.5653723,.06727646,2.69013,.49994,-1.389119,-.529025,-40.55774,41.05972,-.007062577,.456006,-1736334e-12,2.775512,.6671455,-1.584641,-.7200619,12.48067,-11.56028,-.01659568,.3050029,.01099895,1.438927,-.02138015,-.9826068,-.08887254,-2.960031,1.808816,-.02478159,.6035733,-.04868441,7.347705,1.584739,-1.150423,-.4073793,2.412991,.487084,-.2337902,.8295114,.1129914,-5.150045,-.09016643,-1.016933,-.06311501,.5218937,-.571643,.1250993,.3601524,-.05497586,7.060139,1.018333,-1.073151,-.1845444,1.155394,.3004486,-3.431711,.4657031,.09401223,2.68862,.4999544,-1.391257,-.5365815,-42.55881,42.99132,-.005838466,.4229134,-2760038e-12,2.775531,.6234597,-1.780062,-.922888,13.76172,-12.60946,-.01507526,.3117435,.02205045,.6093731,.03463446,-.7388169,.127567,-3.999528,2.223993,-.01856853,.543931,-.08834054,8.037139,1.645951,-1.322387,-.5320143,2.659359,1.086712,-.2129712,.8704649,.1800315,-4.967241,-.138372,-.9378288,-.01599895,.3607555,-1.980561,.3791456,.1212268,-.02845992,6.825542,1.059139,-1.100832,-.2172313,1.211561,2.002721,-5.010011,.5717583,.06777702,2.160006,.5676392,-1.409373,-.5708751,-30.34974,30.79809,-.007280715,.3723304,-2436279e-12,2.577348,.5913377,-1.954312,-1.11651,5.399148,-4.299553,-.01724739,.3742824,.04187077,.1044883,.1232727,-.6772215,.2001396,-.3670523,-1.014628,-.003497152,.4099858,-.1584633,7.7504,1.514559,-1.2916,-.4977437,.9641914,1.56242,-.3227782,.9055427,.3046444,-3.385619,.009546291,-.9750857,-.0877056,.9054256,-1.429236,.8974777,-.1217961,-.05194608,4.909409,.9589153,-1.088007,-.1959301,.9745799,1.260761,-5.008864,.7271248,.1096661,2.717295,.6340731,-1.45605,-.6223072,-22.28088,22.69604,-.009340812,.4118308,-2418083e-12,2.442117,.5589638,-2.176449,-1.302416,2.222836,-1.22273,-.01728051,.1323513,.07027731,.04835745,.2093351,-.5789641,.2215407,.2142291,-1.201725,-.01185728,.8122982,-.238042,6.706841,1.404146,-1.307463,-.4515174,.6447827,1.223841,-.2902391,.4986588,.4073652,-1.706696,.1060885,-.9698678,-.1307094,.9389347,-1.522852,.7768797,-.1368595,-.03857426,3.676935,.8980966,-1.104349,-.2380323,1.047043,1.865421,-5.011664,.7014954,.09622701,1.89136,.6687354,-1.502249,-.6724523,-28.88092,29.3036,-.006685766,.3685464,-2469442e-12,2.310797,.5566754,-2.217125,-1.364924,4.048243,-3.111333,-.01317747,.1921948,.08627702,.001981769,.2213689,-.6215757,.1687995,-.5949131,-.1551293,.0003356129,.6897657,-.2855053,6.271042,1.363084,-1.216317,-.3489429,.7566226,.5409809,-.2830843,.6191825,.4755163,-.9131387,.1383909,-1.030437,-.2034064,.8335995,-1.050947,.8689093,-.367231,-.04056183,3.111269,.8856842,-1.078984,-.2070549,.9683145,1.497022,-5.007653,.7702541,.1285822,2.225188,.6587911,-1.559291,-.7374039,-35.96311,36.3447,-.004667132,.3277964,-2487945e-12,2.215652,.5764681,-2.356929,-1.444755,6.244526,-5.540162,-.00879451,.17921,.09578517,.3737676,.1922194,-.6589752,-.0292691,-1.831779,1.869962,-.002030095,.7552089,-.3168157,4.632196,1.294054,-1.161046,-.1472506,.6494138,-.8327174,-.2320724,.3391212,.5269637,.9376341,.2458573,-1.034427,-.3062504,.8975634,.3203531,.8565142,-.1250162,-.04094017,1.861304,.8223468,-1.109954,-.2740277,1.063811,.7077398,-4.695734,.5621696,.1248956,1.297723,.678972,-1.788293,-.9368751,-43.8298,44.24963,-.00365253,.3094331,-2810503e-12,1.904402,.5861599,-2.268206,-1.312676,2.863082,-2.373727,-.00514498,.1711072,.09316041,.9309598,.1791683,-1.376966,-.7418582,-1.349589,1.563419,-.003124219,.6967139,-.3061887,3.602731,1.255669,-.601754,.2815928,.5424052,-.688545,-.1620001,.2980046,.4995571,.7371203,.2812466,-1.278853,-.5245326,.787052,.3125067,.7748105,-.07788581,.003490956,1.283748,.813019,-1.05093,-.2786331,1.056344,1.053002,-4.047789,.4432174,.1169077,.9532621,.6806764,-2.084927,-1.203954,-48.81638,49.2016,-.002896045,.2882977,-3073517e-12,1.702211,.637418,-2.328567,-1.238023,-1.891019,2.45152,-.005847581,.2084702,.0784813,1.211048,.08095008,-2.634632,-1.78946,-.1370558,-.3326435,.002783737,.5239451,-.2548881,2.896327,1.324116,.06882616,.5997821,.1535398,1.375209,-.1267285,.4239743,.4013122,.1794675,.2395382,-1.430918,-.6439041,.832598,-1.705612,.7236426,-.05567593,.06408718,.6836524,.8388887,-1.037956,-.3215402,.9457349,3.178114,-4.152156,.2230992,.1156198,.7606223,.6656923,-2.967314,-1.728778,-37.30988,37.55578,-.002588835,.2927966,-3935038e-12,1.592161,.6868694,-2.123311,-1.175148,-13.14988,13.86882,-.007828537,.1852026,.05481038,1.294309,.02428177,-5.443597,-3.156344,2.110838,-3.421556,.0118189,.1196951,-.1742902,2.404353,1.272805,1.029898,.5912521,-.3983531,3.286069,-.09252065,1.331381,.2560642,.8001754,.3624178,-1.547574,-.7881604,1.020902,-2.897069,.521347,-.9242315,.1185594,-1.150721,.7317211,-.9621043,-.1991406,.6531287,3.925839,-3.596904,.6317332,.1531334,1.457846,.6966285];armory_renderpath_HosekWilkieData.datasetRGBRad3=[.9926518,1.999494,-4.136109,18.5627,13.51028,13.90238,.9634366,2.119694,-4.614523,19.19701,13.76644,14.18731,.9446537,2.17161,-4.915556,19.1824,15.37135,14.0053,.9073074,2.330536,-5.577596,19.61615,16.88365,14.46955,.8739124,2.388682,-5.842995,19.23265,18.87735,14.85698,.8563688,2.391534,-5.769133,18.28709,20.97209,14.69587,.8270533,2.34279,-5.558071,16.84993,23.56498,15.05975,.7908339,2.190341,-4.852571,13.74862,28.06846,15.48444,.7403619,1.783998,-2.983854,7.622563,35.0761,16.15805,.6840111,1.154457,-.239383,-.7896893,42.82765,17.79469,1.1683,1.860993,-2.129074,12.51952,30.32499,29.38716,1.150338,1.918813,-2.413527,12.74862,30.87134,29.51432,1.114719,1.964689,-2.625423,12.47837,32.37949,29.43596,1.077948,2.006292,-2.846934,11.90195,34.59293,29.37492,1.035143,1.986681,-2.752584,10.60972,37.22185,29.18594,1.015992,1.992054,-2.812626,10.01416,38.473,29.24624,.9756887,1.939897,-2.533281,8.319176,40.83907,29.25586,.9264164,1.716454,-1.597044,4.739725,45.07683,28.78915,.8595191,1.346034,-.02801895,-.6582906,50.17523,28.52953,.7754116,.7709245,2.200201,-7.487661,54.36622,28.93432];armory_renderpath_HosekWilkieData.datasetsRGB=[armory_renderpath_HosekWilkieData.datasetRGB1,armory_renderpath_HosekWilkieData.datasetRGB2,armory_renderpath_HosekWilkieData.datasetRGB3];armory_renderpath_HosekWilkieData.datasetsRGBRad=[armory_renderpath_HosekWilkieData.datasetRGBRad1,armory_renderpath_HosekWilkieData.datasetRGBRad2,armory_renderpath_HosekWilkieData.datasetRGBRad3];armory_system_Event.events=new haxe_ds_StringMap;armory_trait_SimpleRotateObject.__meta__={fields:{speed:{prop:null}}};armory_trait_physics_bullet_RigidBody.nextId=0;haxe_Unserializer.DEFAULT_RESOLVER=new haxe__$Unserializer_DefaultResolver;haxe_Unserializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";haxe_ds_ObjectMap.count=0;haxe_io_FPHelper.i64tmp=function($this){var $r;var this1=new haxe__$Int64__$_$_$Int64(0,0);$r=this1;return $r}(this);haxe_zip_InflateImpl.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1];haxe_zip_InflateImpl.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];haxe_zip_InflateImpl.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];haxe_zip_InflateImpl.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];haxe_zip_InflateImpl.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];iron_App.traitInits=[];iron_App.traitUpdates=[];iron_App.traitLateUpdates=[];iron_App.traitRenders=[];iron_App.traitRenders2D=[];iron_App.pauseUpdates=false;iron_App.lastw=-1;iron_App.lasth=-1;iron_math_Mat4.helpVec=new iron_math_Vec4;iron_math_Mat4.helpMat=iron_math_Mat4.identity();iron_Scene.uidCounter=0;iron_Scene.framePassed=true;iron_data_Data.cachedSceneRaws=new haxe_ds_StringMap;iron_data_Data.cachedMeshes=new haxe_ds_StringMap;iron_data_Data.cachedLamps=new haxe_ds_StringMap;iron_data_Data.cachedCameras=new haxe_ds_StringMap;iron_data_Data.cachedMaterials=new haxe_ds_StringMap;iron_data_Data.cachedParticles=new haxe_ds_StringMap;iron_data_Data.cachedWorlds=new haxe_ds_StringMap;iron_data_Data.cachedShaders=new haxe_ds_StringMap;iron_data_Data.cachedBlobs=new haxe_ds_StringMap;iron_data_Data.cachedImages=new haxe_ds_StringMap;iron_data_Data.cachedSounds=new haxe_ds_StringMap;iron_data_Data.dataPath="./data/";iron_data_Data.loadingMeshes=new haxe_ds_StringMap;iron_data_Data.loadingLamps=new haxe_ds_StringMap;iron_data_Data.loadingCameras=new haxe_ds_StringMap;iron_data_Data.loadingMaterials=new haxe_ds_StringMap;iron_data_Data.loadingParticles=new haxe_ds_StringMap;iron_data_Data.loadingWorlds=new haxe_ds_StringMap;iron_data_Data.loadingShaders=new haxe_ds_StringMap;iron_data_Data.loadingSceneRaws=new haxe_ds_StringMap;iron_data_Data.assetsLoaded=0;iron_data_Data.loadingBlobs=new haxe_ds_StringMap;iron_data_Data.loadingImages=new haxe_ds_StringMap;iron_data_Data.loadingSounds=new haxe_ds_StringMap;iron_data_ConstData.skydomeIndices=[0,1,2,0,3,4,3,5,6,5,7,8,7,9,10,9,11,12,13,14,15,11,16,17,13,18,2,14,2,19,2,1,20,1,4,21,4,6,22,6,8,23,8,10,24,10,12,25,14,26,15,17,27,25,22,23,28,24,29,28,24,25,30,26,31,15,25,27,32,26,19,33,19,20,34,20,21,35,21,22,36,33,34,37,34,35,38,35,36,39,36,28,40,28,29,41,30,42,41,31,43,15,30,32,44,31,33,45,40,41,46,42,47,46,43,48,15,42,44,49,43,45,50,45,37,51,37,38,52,39,53,52,39,40,54,50,51,55,51,52,56,53,57,56,53,54,58,46,59,58,46,47,60,48,61,15,47,49,62,48,50,63,59,64,65,59,60,66,61,67,15,60,62,68,61,63,69,63,55,70,56,71,70,56,57,72,57,58,65,70,71,73,71,72,74,72,65,75,64,76,75,64,66,77,67,78,15,68,79,77,67,69,80,69,70,81,76,77,82,78,83,15,77,79,84,80,85,83,80,81,86,81,73,87,74,88,87,74,75,89,76,90,89,87,88,91,88,89,92,90,93,92,90,82,94,83,95,15,82,84,96,83,85,97,86,98,97,86,87,99,95,100,15,96,101,102,95,97,103,97,98,104,98,99,105,91,106,105,91,92,107,93,108,107,93,94,102,105,106,109,106,107,110,108,111,110,108,102,112,100,113,15,102,101,114,100,103,115,103,104,116,104,105,117,114,118,119,113,115,120,115,116,121,117,122,121,109,123,122,109,110,124,111,125,124,111,112,119,113,126,15,123,124,127,125,128,127,125,119,129,126,130,15,119,118,131,126,120,132,121,133,132,121,122,134,122,123,135,130,132,136,132,133,137,133,134,138,134,135,139,135,127,140,128,141,140,128,129,142,130,143,15,129,131,144,139,140,145,141,146,145,141,142,147,143,148,15,142,144,149,143,136,150,137,151,150,138,152,151,138,139,153,150,151,154,152,155,154,153,156,155,153,145,157,146,158,157,146,147,159,148,160,15,147,149,161,148,150,162,158,163,164,158,159,165,160,166,15,161,167,165,160,162,168,162,154,169,155,170,169,156,171,170,156,157,164,169,170,172,171,173,172,171,164,174,163,175,174,163,165,176,166,177,15,165,167,178,166,168,179,168,169,180,176,181,182,177,183,15,176,178,184,177,179,185,179,180,186,172,187,186,173,188,187,173,174,189,175,182,189,187,190,191,188,192,190,188,189,193,182,194,193,182,181,195,183,196,15,181,184,197,183,185,198,185,186,191,194,195,199,196,200,15,195,197,201,196,198,202,198,191,203,190,204,203,192,205,204,192,193,206,194,207,206,205,208,209,205,206,210,207,211,210,207,199,212,200,213,15,199,201,214,202,215,213,202,203,216,204,209,216,213,217,15,214,218,219,215,220,217,215,216,221,209,222,221,209,208,223,208,210,224,211,225,224,211,212,219,223,226,227,223,224,228,225,229,228,225,219,230,217,231,15,218,232,230,220,233,231,220,221,234,222,227,234,230,232,235,231,233,236,233,234,237,227,238,237,227,226,239,226,228,240,229,241,240,229,230,242,231,243,15,239,240,244,241,245,244,241,242,246,243,247,15,235,248,246,243,236,249,237,250,249,238,251,250,239,252,251,249,250,253,250,251,254,252,255,254,252,244,256,245,257,256,245,246,258,247,259,15,248,260,258,247,249,261,257,262,263,258,264,262,259,265,15,258,260,266,259,261,267,261,253,268,253,254,269,255,270,269,255,256,263,268,271,272,269,273,271,270,274,273,270,263,275,262,276,275,262,264,277,265,278,15,264,266,279,267,272,278,276,280,281,276,277,282,278,283,15,277,279,284,278,272,285,272,271,286,271,273,287,274,288,287,274,275,281,287,3,0,288,5,3,281,7,5,280,9,7,282,11,9,283,13,15,282,284,16,285,18,13,286,0,18,0,2,18,0,4,1,3,6,4,5,8,6,7,10,8,9,12,10,11,17,12,13,2,14,14,19,26,2,20,19,1,21,20,4,22,21,6,23,22,8,24,23,10,25,24,17,25,12,22,28,36,24,28,23,24,30,29,25,32,30,26,33,31,19,34,33,20,35,34,21,36,35,33,37,45,34,38,37,35,39,38,36,40,39,28,41,40,30,41,29,30,44,42,31,45,43,40,46,54,42,46,41,42,49,47,43,50,48,45,51,50,37,52,51,39,52,38,39,54,53,50,55,63,51,56,55,53,56,52,53,58,57,46,58,54,46,60,59,47,62,60,48,63,61,59,65,58,59,66,64,60,68,66,61,69,67,63,70,69,56,70,55,56,72,71,57,65,72,70,73,81,71,74,73,72,75,74,64,75,65,64,77,76,68,77,66,67,80,78,69,81,80,76,82,90,77,84,82,80,83,78,80,86,85,81,87,86,74,87,73,74,89,88,76,89,75,87,91,99,88,92,91,90,92,89,90,94,93,82,96,94,83,97,95,86,97,85,86,99,98,96,102,94,95,103,100,97,104,103,98,105,104,91,105,99,91,107,106,93,107,92,93,102,108,105,109,117,106,110,109,108,110,107,108,112,111,102,114,112,100,115,113,103,116,115,104,117,116,114,119,112,113,120,126,115,121,120,117,121,116,109,122,117,109,124,123,111,124,110,111,119,125,123,127,135,125,127,124,125,129,128,119,131,129,126,132,130,121,132,120,121,134,133,122,135,134,130,136,143,132,137,136,133,138,137,134,139,138,135,140,139,128,140,127,128,142,141,129,144,142,139,145,153,141,145,140,141,147,146,142,149,147,143,150,148,137,150,136,138,151,137,138,153,152,150,154,162,152,154,151,153,155,152,153,157,156,146,157,145,146,159,158,147,161,159,148,162,160,158,164,157,158,165,163,161,165,159,160,168,166,162,169,168,155,169,154,156,170,155,156,164,171,169,172,180,171,172,170,171,174,173,163,174,164,163,176,175,165,178,176,166,179,177,168,180,179,176,182,175,176,184,181,177,185,183,179,186,185,172,186,180,173,187,172,173,189,188,175,189,174,187,191,186,188,190,187,188,193,192,182,193,189,182,195,194,181,197,195,183,198,196,185,191,198,194,199,207,195,201,199,196,202,200,198,203,202,190,203,191,192,204,190,192,206,205,194,206,193,205,209,204,205,210,208,207,210,206,207,212,211,199,214,212,202,213,200,202,216,215,204,216,203,214,219,212,215,217,213,215,221,220,209,221,216,209,223,222,208,224,223,211,224,210,211,219,225,223,227,222,223,228,226,225,228,224,225,230,229,218,230,219,220,231,217,220,234,233,222,234,221,230,235,242,231,236,243,233,237,236,227,237,234,227,239,238,226,240,239,229,240,228,229,242,241,239,244,252,241,244,240,241,246,245,235,246,242,243,249,247,237,249,236,238,250,237,239,251,238,249,253,261,250,254,253,252,254,251,252,256,255,245,256,244,245,258,257,248,258,246,247,261,259,257,263,256,258,262,257,258,266,264,259,267,265,261,268,267,253,269,268,255,269,254,255,263,270,268,272,267,269,271,268,270,273,269,270,275,274,262,275,263,262,277,276,264,279,277,267,278,265,276,281,275,276,282,280,277,284,282,278,285,283,272,286,285,271,287,286,274,287,273,274,281,288,287,0,286,288,3,287,281,5,288,280,7,281,282,9,280,282,16,11,285,13,283,286,18,285,84,289,96,96,289,101,101,289,114,114,289,118,118,289,131,144,131,289,149,144,289,149,289,161,161,289,167,167,289,178,178,289,184,184,289,197,197,289,201,201,289,214,214,289,218,218,289,232,232,289,235,235,289,248,260,248,289,260,289,266,266,289,279,279,289,284,284,289,16,16,289,17,27,17,289,27,289,32,44,32,289,44,289,49,49,289,62,62,289,68,68,289,79,79,289,84];iron_data_ConstData.skydomePos=[-.55557,0,.83147,-.544895,.108386,.83147,-.37533,.074658,.92388,-.707107,0,.707107,-.69352,.13795,.707107,-.83147,0,.55557,-.815493,.162212,.55557,-.92388,0,.382683,-.906127,.18024,.382683,-.980785,0,.19509,-.96194,.191342,.19509,-1,0,0,-.980785,.19509,0,-.19509,0,.980785,-.191342,.03806,.980785,0,0,1,-.980785,0,-.28234,-.96194,.191342,-.28234,-.382683,0,.92388,-.353553,.146447,.92388,-.51328,.212608,.83147,-.653281,.270598,.707107,-.768178,.31819,.55557,-.853553,.353553,.382683,-.906127,.37533,.19509,-.923879,.382684,0,-.18024,.074658,.980785,-.906127,.37533,-.28234,-.768178,.51328,.382683,-.815493,.544895,.19509,-.831469,.55557,0,-.162212,.108387,.980785,-.815493,.544895,-.28234,-.31819,.212608,.92388,-.46194,.308658,.83147,-.587938,.392848,.707107,-.691342,.46194,.55557,-.392847,.392848,.83147,-.5,.5,.707107,-.587938,.587938,.55557,-.653281,.653282,.382683,-.69352,.69352,.19509,-.707107,.707107,0,-.13795,.13795,.980785,-.69352,.69352,-.28234,-.270598,.270598,.92388,-.544895,.815493,.19509,-.55557,.83147,0,-.108386,.162212,.980785,-.544895,.815493,-.28234,-.212607,.31819,.92388,-.308658,.46194,.83147,-.392847,.587938,.707107,-.46194,.691342,.55557,-.51328,.768178,.382683,-.212607,.51328,.83147,-.270598,.653282,.707107,-.318189,.768178,.55557,-.353553,.853554,.382683,-.37533,.906128,.19509,-.382683,.92388,0,-.074658,.18024,.980785,-.37533,.906128,-.28234,-.146446,.353554,.92388,-.191341,.96194,.19509,-.18024,.906128,.382683,-.19509,.980785,0,-.03806,.191342,.980785,-.191341,.96194,-.28234,-.074658,.375331,.92388,-.108386,.544895,.83147,-.137949,.69352,.707107,-.162211,.815493,.55557,0,.707107,.707107,0,.83147,.55557,0,.92388,.382683,0,.980785,.19509,0,1,0,0,.195091,.980785,0,.980785,-.28234,0,.382684,.92388,0,.55557,.83147,.195091,.980785,0,.038061,.191342,.980785,.191342,.96194,-.28234,.074658,.375331,.92388,.108387,.544895,.83147,.13795,.69352,.707107,.162212,.815493,.55557,.18024,.906128,.382683,.191342,.96194,.19509,.31819,.768178,.55557,.353554,.853554,.382683,.375331,.906127,.19509,.382684,.92388,0,.074658,.18024,.980785,.375331,.906127,-.28234,.146447,.353554,.92388,.212608,.51328,.83147,.270598,.653282,.707107,.108387,.162212,.980785,.544895,.815493,-.28234,.555571,.83147,0,.212608,.31819,.92388,.308659,.46194,.83147,.392848,.587938,.707107,.46194,.691342,.55557,.51328,.768178,.382683,.544895,.815493,.19509,.587938,.587938,.55557,.653282,.653282,.382683,.69352,.69352,.19509,.707107,.707107,0,.13795,.13795,.980785,.69352,.69352,-.28234,.270599,.270598,.92388,.392848,.392848,.83147,.5,.5,.707107,.815493,.544895,-.28234,.83147,.55557,0,.31819,.212608,.92388,.46194,.308658,.83147,.587938,.392848,.707107,.691342,.46194,.55557,.768178,.51328,.382683,.815493,.544895,.19509,.162212,.108386,.980785,.853554,.353553,.382683,.906128,.37533,.19509,.92388,.382683,0,.18024,.074658,.980785,.906128,.37533,-.28234,.353554,.146447,.92388,.51328,.212608,.83147,.653282,.270598,.707107,.768178,.31819,.55557,.375331,.074658,.92388,.544896,.108386,.83147,.69352,.13795,.707107,.815493,.162212,.55557,.906128,.18024,.382683,.96194,.191342,.19509,.980786,.19509,0,.191342,.03806,.980785,.96194,.191342,-.28234,.92388,0,.382683,.980785,0,.19509,1,0,0,.195091,0,.980785,.980785,0,-.28234,.382684,0,.92388,.555571,0,.83147,.707107,0,.707107,.83147,0,.55557,.544896,-.108386,.83147,.69352,-.13795,.707107,.815493,-.162212,.55557,.906128,-.18024,.382683,.96194,-.191342,.19509,.980786,-.19509,0,.191342,-.03806,.980785,.96194,-.191342,-.28234,.375331,-.074658,.92388,.906127,-.37533,.19509,.853554,-.353553,.382683,.92388,-.382684,0,.18024,-.074658,.980785,.906127,-.37533,-.28234,.353554,-.146447,.92388,.51328,-.212608,.83147,.653282,-.270598,.707107,.768178,-.31819,.55557,.587938,-.392847,.707107,.691342,-.46194,.55557,.768178,-.51328,.382683,.815493,-.544895,.19509,.83147,-.55557,0,.162212,-.108386,.980785,.815493,-.544895,-.28234,.31819,-.212608,.92388,.46194,-.308658,.83147,.707107,-.707107,0,.69352,-.69352,.19509,.13795,-.13795,.980785,.69352,-.69352,-.28234,.270598,-.270598,.92388,.392848,-.392848,.83147,.5,-.5,.707107,.587938,-.587938,.55557,.653282,-.653281,.382683,.392848,-.587938,.707107,.308659,-.46194,.83147,.46194,-.691342,.55557,.51328,-.768178,.382683,.544895,-.815493,.19509,.55557,-.83147,0,.108387,-.162212,.980785,.544895,-.815493,-.28234,.212608,-.31819,.92388,.382684,-.92388,0,.074658,-.18024,.980785,.37533,-.906127,-.28234,.146447,-.353553,.92388,.212608,-.51328,.83147,.270598,-.653281,.707107,.31819,-.768177,.55557,.353554,-.853553,.382683,.37533,-.906127,.19509,.162212,-.815493,.55557,.13795,-.69352,.707107,.18024,-.906127,.382683,.191342,-.961939,.19509,.19509,-.980785,0,.038061,-.191342,.980785,.191342,-.961939,-.28234,.074658,-.37533,.92388,.108387,-.544895,.83147,0,-.19509,.980785,0,-.980785,-.28234,0,-1,0,0,-.382683,.92388,0,-.55557,.83147,0,-.707107,.707107,0,-.831469,.55557,0,-.923879,.382683,0,-.980785,.19509,-.162211,-.815493,.55557,-.137949,-.69352,.707107,-.18024,-.906127,.382683,-.191342,-.961939,.19509,-.19509,-.980785,0,-.03806,-.191342,.980785,-.191342,-.961939,-.28234,-.074658,-.37533,.92388,-.108386,-.544895,.83147,-.37533,-.906127,-.28234,-.146446,-.353553,.92388,-.212607,-.51328,.83147,-.270598,-.653281,.707107,-.318189,-.768177,.55557,-.353553,-.853553,.382683,-.37533,-.906127,.19509,-.382683,-.923879,0,-.074658,-.18024,.980785,-.51328,-.768178,.382683,-.544895,-.815493,.19509,-.55557,-.831469,0,-.108386,-.162212,.980785,-.544895,-.815493,-.28234,-.212607,-.31819,.92388,-.308658,-.46194,.83147,-.392847,-.587938,.707107,-.461939,-.691341,.55557,-.392847,-.392847,.83147,-.5,-.5,.707107,-.587937,-.587937,.55557,-.653281,-.653281,.382683,-.693519,-.693519,.19509,-.707106,-.707106,0,-.137949,-.13795,.980785,-.693519,-.693519,-.28234,-.270598,-.270598,.92388,-.815492,-.544895,.19509,-.768177,-.51328,.382683,-.831469,-.55557,0,-.162211,-.108386,.980785,-.815492,-.544895,-.28234,-.318189,-.212607,.92388,-.461939,-.308658,.83147,-.587937,-.392847,.707107,-.691341,-.461939,.55557,-.51328,-.212607,.83147,-.353553,-.146447,.92388,-.653281,-.270598,.707107,-.768177,-.318189,.55557,-.853553,-.353553,.382683,-.906127,-.37533,.19509,-.923879,-.382683,0,-.18024,-.074658,.980785,-.906127,-.37533,-.28234,-.961939,-.191341,.19509,-.906127,-.18024,.382683,-.980785,-.19509,0,-.191342,-.03806,.980785,-.961939,-.191341,-.28234,-.37533,-.074658,.92388,-.544895,-.108386,.83147,-.69352,-.13795,.707107,-.815492,-.162211,.55557,0,0,-.860043];iron_data_ConstData.skydomeNor=[.559771,0,-.828639,.548997,-.109195,-.828639,.380413,-.075655,-.92169,.710135,0,-.704031,.696493,-.138524,-.704031,.833338,0,-.552751,.817316,-.162572,-.552751,.924741,0,-.380535,.90698,-.180395,-.380535,.980987,0,-.193915,.962157,-.191382,-.193915,.999878,0,-.015015,.980651,-.195044,-.015015,.200964,0,-.979583,.197089,-.039186,-.979583,0,0,-1,.858486,0,.512803,.841975,-.167455,.512803,.38786,0,-.92169,.358348,-.148412,-.92169,.517136,-.214209,-.828639,.656056,-.271737,-.704031,.76989,-.318888,-.552751,.854366,-.353862,-.380535,.906339,-.375408,-.193915,.923765,-.382611,-.015015,.185644,-.076907,-.979583,.793146,-.328532,.512803,.768914,-.513749,-.380535,.815668,-.545,-.193915,.831355,-.555498,-.015015,.167089,-.111637,-.979583,.713797,-.476943,.512803,.322489,-.215491,-.92169,.465407,-.310984,-.828639,.590442,-.394513,-.704031,.692892,-.462966,-.552751,.395795,-.395795,-.828639,.502121,-.502121,-.704031,.589251,-.589251,-.552751,.65389,-.65389,-.380535,.693655,-.693655,-.193915,.707022,-.707022,-.015015,.142094,-.142094,-.979583,.607044,-.607044,.512803,.27427,-.27427,-.92169,.545,-.815668,-.193915,.555498,-.831355,-.015015,.111637,-.167089,-.979583,.476943,-.713797,.512803,.215491,-.322489,-.92169,.310984,-.465407,-.828639,.394513,-.590442,-.704031,.462966,-.692892,-.552751,.513749,-.768914,-.380535,.214209,-.517136,-.828639,.271737,-.656056,-.704031,.318888,-.76989,-.552751,.353862,-.854366,-.380535,.375408,-.906339,-.193915,.382611,-.923765,-.015015,.076907,-.185644,-.979583,.328532,-.793146,.512803,.148412,-.358348,-.92169,.191382,-.962157,-.193915,.180395,-.90698,-.380535,.195044,-.980651,-.015015,.039186,-.197089,-.979583,.167455,-.841975,.512803,.075655,-.380413,-.92169,.109195,-.548997,-.828639,.138524,-.696493,-.704031,.162572,-.817316,-.552751,0,-.710135,-.704031,0,-.833338,-.552751,0,-.924741,-.380535,0,-.980987,-.193915,0,-.999878,-.015015,0,-.200964,-.979583,0,-.858486,.512803,0,-.38786,-.92169,0,-.559771,-.828639,-.195044,-.980651,-.015015,-.039186,-.197089,-.979583,-.167455,-.841975,.512803,-.075655,-.380413,-.92169,-.109195,-.548997,-.828639,-.138524,-.696493,-.704031,-.162572,-.817316,-.552751,-.180395,-.90698,-.380535,-.191382,-.962157,-.193915,-.318888,-.76989,-.552751,-.353862,-.854366,-.380535,-.375408,-.906339,-.193915,-.382611,-.923765,-.015015,-.076907,-.185644,-.979583,-.328532,-.793146,.512803,-.148412,-.358348,-.92169,-.214209,-.517136,-.828639,-.271737,-.656056,-.704031,-.111637,-.167089,-.979583,-.476943,-.713797,.512803,-.555498,-.831355,-.015015,-.215491,-.322489,-.92169,-.310984,-.465407,-.828639,-.394513,-.590442,-.704031,-.462966,-.692892,-.552751,-.513749,-.768914,-.380535,-.545,-.815668,-.193915,-.589251,-.589251,-.552751,-.65389,-.65389,-.380535,-.693655,-.693655,-.193915,-.707022,-.707022,-.015015,-.142094,-.142094,-.979583,-.607044,-.607044,.512803,-.27427,-.27427,-.92169,-.395795,-.395795,-.828639,-.502121,-.502121,-.704031,-.713797,-.476943,.512803,-.831355,-.555498,-.015015,-.322489,-.215491,-.92169,-.465407,-.310984,-.828639,-.590442,-.394513,-.704031,-.692892,-.462966,-.552751,-.768914,-.513749,-.380535,-.815668,-.545,-.193915,-.167089,-.111637,-.979583,-.854366,-.353862,-.380535,-.906339,-.375408,-.193915,-.923765,-.382611,-.015015,-.185644,-.076907,-.979583,-.793146,-.328532,.512803,-.358348,-.148412,-.92169,-.517136,-.214209,-.828639,-.656056,-.271737,-.704031,-.76989,-.318888,-.552751,-.380413,-.075655,-.92169,-.548997,-.109195,-.828639,-.696493,-.138524,-.704031,-.817316,-.162572,-.552751,-.90698,-.180395,-.380535,-.962157,-.191382,-.193915,-.980651,-.195044,-.015015,-.197089,-.039186,-.979583,-.841975,-.167455,.512803,-.924741,0,-.380535,-.980987,0,-.193915,-.999878,0,-.015015,-.200964,0,-.979583,-.858486,0,.512803,-.38786,0,-.92169,-.559771,0,-.828639,-.710135,0,-.704031,-.833338,0,-.552751,-.548997,.109195,-.828639,-.696493,.138524,-.704031,-.817316,.162572,-.552751,-.90698,.180395,-.380535,-.962157,.191382,-.193915,-.980651,.195044,-.015015,-.197089,.039186,-.979583,-.841975,.167455,.512803,-.380413,.075655,-.92169,-.906339,.375408,-.193915,-.854366,.353862,-.380535,-.923765,.382611,-.015015,-.185644,.076907,-.979583,-.793146,.328532,.512803,-.358348,.148412,-.92169,-.517136,.214209,-.828639,-.656056,.271737,-.704031,-.76989,.318888,-.552751,-.590442,.394513,-.704031,-.692892,.462966,-.552751,-.768914,.513749,-.380535,-.815668,.545,-.193915,-.831355,.555498,-.015015,-.167089,.111637,-.979583,-.713797,.476943,.512803,-.322489,.215491,-.92169,-.465407,.310984,-.828639,-.707022,.707022,-.015015,-.693655,.693655,-.193915,-.142094,.142094,-.979583,-.607044,.607044,.512803,-.27427,.27427,-.92169,-.395795,.395795,-.828639,-.502121,.502121,-.704031,-.589251,.589251,-.552751,-.65389,.65389,-.380535,-.394513,.590442,-.704031,-.310984,.465407,-.828639,-.462966,.692892,-.552751,-.513749,.768914,-.380535,-.545,.815668,-.193915,-.555498,.831355,-.015015,-.111637,.167089,-.979583,-.476943,.713797,.512803,-.215491,.322489,-.92169,-.382611,.923765,-.015015,-.076907,.185644,-.979583,-.328532,.793146,.512803,-.148412,.358348,-.92169,-.214209,.517136,-.828639,-.271737,.656056,-.704031,-.318888,.76989,-.552751,-.353862,.854366,-.380535,-.375408,.906339,-.193915,-.162572,.817316,-.552751,-.138524,.696493,-.704031,-.180395,.90698,-.380535,-.191382,.962157,-.193915,-.195044,.980651,-.015015,-.039186,.197089,-.979583,-.167455,.841975,.512803,-.075655,.380413,-.92169,-.109195,.548997,-.828639,0,.200964,-.979583,0,.858486,.512803,0,.999878,-.015015,0,.38786,-.92169,0,.559771,-.828639,0,.710135,-.704031,0,.833338,-.552751,0,.924741,-.380535,0,.980987,-.193915,.162572,.817316,-.552751,.138524,.696493,-.704031,.180395,.90698,-.380535,.191382,.962157,-.193915,.195044,.980651,-.015015,.039186,.197089,-.979583,.167455,.841975,.512803,.075655,.380413,-.92169,.109195,.548997,-.828639,.328532,.793146,.512803,.148412,.358348,-.92169,.214209,.517136,-.828639,.271737,.656056,-.704031,.318888,.76989,-.552751,.353862,.854366,-.380535,.375408,.906339,-.193915,.382611,.923765,-.015015,.076907,.185644,-.979583,.513749,.768914,-.380535,.545,.815668,-.193915,.555498,.831355,-.015015,.111637,.167089,-.979583,.476943,.713797,.512803,.215491,.322489,-.92169,.310984,.465407,-.828639,.394513,.590442,-.704031,.462966,.692892,-.552751,.395795,.395795,-.828639,.502121,.502121,-.704031,.589251,.589251,-.552751,.65389,.65389,-.380535,.693655,.693655,-.193915,.707022,.707022,-.015015,.142094,.142094,-.979583,.607044,.607044,.512803,.27427,.27427,-.92169,.815668,.545,-.193915,.768914,.513749,-.380535,.831355,.555498,-.015015,.167089,.111637,-.979583,.713797,.476943,.512803,.322489,.215491,-.92169,.465407,.310984,-.828639,.590442,.394513,-.704031,.692892,.462966,-.552751,.517136,.214209,-.828639,.358348,.148412,-.92169,.656056,.271737,-.704031,.76989,.318888,-.552751,.854366,.353862,-.380535,.906339,.375408,-.193915,.923765,.382611,-.015015,.185644,.076907,-.979583,.793146,.328532,.512803,.962157,.191382,-.193915,.90698,.180395,-.380535,.980651,.195044,-.015015,.197089,.039186,-.979583,.841975,.167486,.512803,.380413,.075655,-.92169,.548997,.109195,-.828639,.696493,.138524,-.704031,.817316,.162572,-.552751,0,0,.999969];iron_data_ConstData.sphereIndices=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,11,12,13,14,15,16,14,16,17,18,19,20,18,20,21,22,23,24,22,24,25,26,27,28,26,28,29,30,31,32,33,34,35,33,35,36,37,38,39,37,39,40,41,42,43,41,43,44,45,46,47,45,47,48,49,50,51,49,51,52,53,54,55,53,55,56,57,58,59,60,61,62,60,62,63,64,65,66,64,66,67,68,69,70,68,70,71,72,73,74,72,74,75,76,77,78,79,80,81,82,83,84,82,84,85,86,87,88,86,88,89,90,91,92,90,92,93,94,95,96,94,96,97,98,99,100,98,100,101,102,103,104,105,106,107,108,109,110,108,110,111,112,113,114,112,114,115,116,117,118,116,118,119,120,121,122,123,124,125,126,127,128,126,128,129,130,131,132,130,132,133,134,135,136,134,136,137,138,139,140,138,140,141,142,143,144,142,144,145,146,147,148,146,148,149,150,151,152,150,152,153,154,155,156,154,156,157,158,159,160,158,160,161,162,163,164,162,164,165,166,167,168,166,168,169,170,171,172,170,172,173,174,175,176,177,178,179,180,181,182,180,182,183,184,185,186,184,186,187,188,189,190,188,190,191,192,193,194,195,196,197,198,199,200,198,200,201,202,203,204,202,204,205,206,207,208,206,208,209,210,211,212,210,212,213,214,215,216,214,216,217,218,219,220,221,222,223,224,225,226,224,226,227,228,229,230,228,230,231,232,233,234,232,234,235,236,237,238,236,238,239,240,241,242,243,244,245,243,245,246,247,248,249,247,249,250,251,252,253,251,253,254,255,256,257,255,257,258,259,260,261,259,261,262,263,264,265,263,265,266,267,268,269,270,271,272,270,272,273,274,275,276,274,276,277,278,279,280,278,280,281,282,283,284,282,284,285,286,287,288,286,288,289,290,291,292,293,294,295,296,297,298,296,298,299,300,301,302,300,302,303,304,305,306,304,306,307,308,309,310,308,310,311,312,313,314,315,316,317,318,319,320,318,320,321,322,323,324,322,324,325,326,327,328,326,328,329,330,331,332,330,332,333,334,335,336,337,338,339,340,341,342,340,342,343,344,345,346,344,346,347,348,349,350,348,350,351,352,353,354,352,354,355,356,357,358,356,358,359,360,361,362,363,364,365,363,365,366,367,368,369,367,369,370,371,372,373,371,373,374,375,376,377,375,377,378,379,380,381,379,381,382,383,384,385,383,385,386,387,388,389,390,391,392,390,392,393,394,395,396,394,396,397,398,399,400,398,400,401,402,403,404,402,404,405,406,407,408,409,410,411,412,413,414,412,414,415,416,417,418,416,418,419,420,421,422,420,422,423,424,425,426,424,426,427,428,429,430,428,430,431,432,433,434,435,436,437,438,439,440,438,440,441,442,443,444,442,444,445,446,447,448,446,448,449,450,451,452,453,454,455,456,457,458,456,458,459,460,461,462,460,462,463,464,465,466,464,466,467,468,469,470,468,470,471,472,473,474,472,474,475,476,477,478,476,478,479];iron_data_ConstData.spherePos=[0,.46194,-.191342,0,.5,0,.191342,.46194,0,.176777,.426777,-.191342,0,.46194,.191342,0,.353553,.353553,.135299,.326641,.353553,.176777,.426777,.191342,0,.191342,.46194,0,0,.5,.073223,.176777,.46194,0,0,-.5,0,.191342,-.46194,.073223,.176777,-.46194,0,.353553,-.353553,0,.46194,-.191342,.176777,.426777,-.191342,.135299,.326641,-.353553,0,.5,0,0,.46194,.191342,.176777,.426777,.191342,.191342,.46194,0,0,.353553,.353553,0,.191342,.46194,.073223,.176777,.46194,.135299,.326641,.353553,0,.191342,-.46194,0,.353553,-.353553,.135299,.326641,-.353553,.073223,.176777,-.46194,0,0,-.5,.073223,.176777,-.46194,.135299,.135299,-.46194,.135299,.326641,-.353553,.176777,.426777,-.191342,.326641,.326641,-.191342,.25,.25,-.353553,.191342,.46194,0,.176777,.426777,.191342,.326641,.326641,.191342,.353553,.353553,0,.135299,.326641,.353553,.073223,.176777,.46194,.135299,.135299,.46194,.25,.25,.353553,.073223,.176777,-.46194,.135299,.326641,-.353553,.25,.25,-.353553,.135299,.135299,-.46194,.176777,.426777,-.191342,.191342,.46194,0,.353553,.353553,0,.326641,.326641,-.191342,.176777,.426777,.191342,.135299,.326641,.353553,.25,.25,.353553,.326641,.326641,.191342,.073223,.176777,.46194,0,0,.5,.135299,.135299,.46194,.25,.25,.353553,.135299,.135299,.46194,.176777,.073223,.46194,.326641,.135299,.353553,.135299,.135299,-.46194,.25,.25,-.353553,.326641,.135299,-.353553,.176777,.073223,-.46194,.326641,.326641,-.191342,.353553,.353553,0,.46194,.191342,0,.426777,.176777,-.191342,.326641,.326641,.191342,.25,.25,.353553,.326641,.135299,.353553,.426777,.176777,.191342,.135299,.135299,.46194,0,0,.5,.176777,.073223,.46194,0,0,-.5,.135299,.135299,-.46194,.176777,.073223,-.46194,.25,.25,-.353553,.326641,.326641,-.191342,.426777,.176777,-.191342,.326641,.135299,-.353553,.353553,.353553,0,.326641,.326641,.191342,.426777,.176777,.191342,.46194,.191342,0,.176777,.073223,-.46194,.326641,.135299,-.353553,.353553,0,-.353553,.191342,0,-.46194,.426777,.176777,-.191342,.46194,.191342,0,.5,0,0,.46194,0,-.191342,.426777,.176777,.191342,.326641,.135299,.353553,.353553,0,.353553,.46194,0,.191342,.176777,.073223,.46194,0,0,.5,.191342,0,.46194,0,0,-.5,.176777,.073223,-.46194,.191342,0,-.46194,.326641,.135299,-.353553,.426777,.176777,-.191342,.46194,0,-.191342,.353553,0,-.353553,.46194,.191342,0,.426777,.176777,.191342,.46194,0,.191342,.5,0,0,.326641,.135299,.353553,.176777,.073223,.46194,.191342,0,.46194,.353553,0,.353553,.191342,0,.46194,0,0,.5,.176777,-.073223,.46194,0,0,-.5,.191342,0,-.46194,.176777,-.073223,-.46194,.353553,0,-.353553,.46194,0,-.191342,.426777,-.176777,-.191342,.326641,-.135299,-.353553,.5,0,0,.46194,0,.191342,.426777,-.176777,.191342,.46194,-.191342,0,.353553,0,.353553,.191342,0,.46194,.176777,-.073223,.46194,.326641,-.135299,.353553,.191342,0,-.46194,.353553,0,-.353553,.326641,-.135299,-.353553,.176777,-.073223,-.46194,.46194,0,-.191342,.5,0,0,.46194,-.191342,0,.426777,-.176777,-.191342,.46194,0,.191342,.353553,0,.353553,.326641,-.135299,.353553,.426777,-.176777,.191342,.326641,-.135299,-.353553,.426777,-.176777,-.191342,.326641,-.326641,-.191342,.25,-.25,-.353553,.46194,-.191342,0,.426777,-.176777,.191342,.326641,-.326641,.191342,.353553,-.353553,0,.326641,-.135299,.353553,.176777,-.073223,.46194,.135299,-.135299,.46194,.25,-.25,.353553,.176777,-.073223,-.46194,.326641,-.135299,-.353553,.25,-.25,-.353553,.135299,-.135299,-.46194,.426777,-.176777,-.191342,.46194,-.191342,0,.353553,-.353553,0,.326641,-.326641,-.191342,.426777,-.176777,.191342,.326641,-.135299,.353553,.25,-.25,.353553,.326641,-.326641,.191342,.176777,-.073223,.46194,0,0,.5,.135299,-.135299,.46194,0,0,-.5,.176777,-.073223,-.46194,.135299,-.135299,-.46194,.135299,-.135299,-.46194,.25,-.25,-.353553,.135299,-.326641,-.353553,.073223,-.176777,-.46194,.326641,-.326641,-.191342,.353553,-.353553,0,.191342,-.46194,0,.176777,-.426777,-.191342,.326641,-.326641,.191342,.25,-.25,.353553,.135299,-.326641,.353553,.176777,-.426777,.191342,.135299,-.135299,.46194,0,0,.5,.073223,-.176777,.46194,0,0,-.5,.135299,-.135299,-.46194,.073223,-.176777,-.46194,.25,-.25,-.353553,.326641,-.326641,-.191342,.176777,-.426777,-.191342,.135299,-.326641,-.353553,.353553,-.353553,0,.326641,-.326641,.191342,.176777,-.426777,.191342,.191342,-.46194,0,.25,-.25,.353553,.135299,-.135299,.46194,.073223,-.176777,.46194,.135299,-.326641,.353553,.176777,-.426777,-.191342,.191342,-.46194,0,0,-.5,0,0,-.46194,-.191342,.176777,-.426777,.191342,.135299,-.326641,.353553,0,-.353553,.353553,0,-.46194,.191342,.073223,-.176777,.46194,0,0,.5,0,-.191342,.46194,0,0,-.5,.073223,-.176777,-.46194,0,-.191342,-.46194,.135299,-.326641,-.353553,.176777,-.426777,-.191342,0,-.46194,-.191342,0,-.353553,-.353553,.191342,-.46194,0,.176777,-.426777,.191342,0,-.46194,.191342,0,-.5,0,.135299,-.326641,.353553,.073223,-.176777,.46194,0,-.191342,.46194,0,-.353553,.353553,.073223,-.176777,-.46194,.135299,-.326641,-.353553,0,-.353553,-.353553,0,-.191342,-.46194,0,0,-.5,0,-.191342,-.46194,-.073223,-.176777,-.46194,0,-.353553,-.353553,0,-.46194,-.191342,-.176777,-.426776,-.191342,-.135299,-.32664,-.353553,0,-.5,0,0,-.46194,.191342,-.176777,-.426776,.191342,-.191342,-.461939,0,0,-.353553,.353553,0,-.191342,.46194,-.073223,-.176777,.46194,-.135299,-.32664,.353553,0,-.191342,-.46194,0,-.353553,-.353553,-.135299,-.32664,-.353553,-.073223,-.176777,-.46194,0,-.46194,-.191342,0,-.5,0,-.191342,-.461939,0,-.176777,-.426776,-.191342,0,-.46194,.191342,0,-.353553,.353553,-.135299,-.32664,.353553,-.176777,-.426776,.191342,0,-.191342,.46194,0,0,.5,-.073223,-.176777,.46194,-.191342,-.461939,0,-.176777,-.426776,.191342,-.326641,-.32664,.191342,-.353553,-.353553,0,-.135299,-.32664,.353553,-.073223,-.176777,.46194,-.135299,-.135299,.46194,-.25,-.25,.353553,-.073223,-.176777,-.46194,-.135299,-.32664,-.353553,-.25,-.25,-.353553,-.135299,-.135299,-.46194,-.176777,-.426776,-.191342,-.191342,-.461939,0,-.353553,-.353553,0,-.326641,-.32664,-.191342,-.176777,-.426776,.191342,-.135299,-.32664,.353553,-.25,-.25,.353553,-.326641,-.32664,.191342,-.073223,-.176777,.46194,0,0,.5,-.135299,-.135299,.46194,0,0,-.5,-.073223,-.176777,-.46194,-.135299,-.135299,-.46194,-.135299,-.32664,-.353553,-.176777,-.426776,-.191342,-.326641,-.32664,-.191342,-.25,-.25,-.353553,-.135299,-.135299,-.46194,-.25,-.25,-.353553,-.326641,-.135299,-.353553,-.176777,-.073223,-.46194,-.326641,-.32664,-.191342,-.353553,-.353553,0,-.46194,-.191341,0,-.426777,-.176776,-.191342,-.326641,-.32664,.191342,-.25,-.25,.353553,-.326641,-.135299,.353553,-.426777,-.176776,.191342,-.135299,-.135299,.46194,0,0,.5,-.176777,-.073223,.46194,0,0,-.5,-.135299,-.135299,-.46194,-.176777,-.073223,-.46194,-.25,-.25,-.353553,-.326641,-.32664,-.191342,-.426777,-.176776,-.191342,-.326641,-.135299,-.353553,-.353553,-.353553,0,-.326641,-.32664,.191342,-.426777,-.176776,.191342,-.46194,-.191341,0,-.25,-.25,.353553,-.135299,-.135299,.46194,-.176777,-.073223,.46194,-.326641,-.135299,.353553,-.426777,-.176776,.191342,-.326641,-.135299,.353553,-.353553,0,.353553,-.46194,0,.191342,-.176777,-.073223,.46194,0,0,.5,-.191342,0,.46194,0,0,-.5,-.176777,-.073223,-.46194,-.191342,0,-.46194,-.326641,-.135299,-.353553,-.426777,-.176776,-.191342,-.46194,0,-.191342,-.353553,0,-.353553,-.46194,-.191341,0,-.426777,-.176776,.191342,-.46194,0,.191342,-.5,0,0,-.326641,-.135299,.353553,-.176777,-.073223,.46194,-.191342,0,.46194,-.353553,0,.353553,-.176777,-.073223,-.46194,-.326641,-.135299,-.353553,-.353553,0,-.353553,-.191342,0,-.46194,-.426777,-.176776,-.191342,-.46194,-.191341,0,-.5,0,0,-.46194,0,-.191342,0,0,-.5,-.191342,0,-.46194,-.176777,.073223,-.46194,-.353553,0,-.353553,-.46194,0,-.191342,-.426776,.176777,-.191342,-.326641,.135299,-.353553,-.5,0,0,-.46194,0,.191342,-.426776,.176777,.191342,-.461939,.191342,0,-.353553,0,.353553,-.191342,0,.46194,-.176777,.073223,.46194,-.326641,.135299,.353553,-.191342,0,-.46194,-.353553,0,-.353553,-.326641,.135299,-.353553,-.176777,.073223,-.46194,-.46194,0,-.191342,-.5,0,0,-.461939,.191342,0,-.426776,.176777,-.191342,-.46194,0,.191342,-.353553,0,.353553,-.326641,.135299,.353553,-.426776,.176777,.191342,-.191342,0,.46194,0,0,.5,-.176777,.073223,.46194,-.326641,.135299,.353553,-.176777,.073223,.46194,-.135299,.135299,.46194,-.25,.25,.353553,-.176777,.073223,-.46194,-.326641,.135299,-.353553,-.25,.25,-.353553,-.135299,.135299,-.46194,-.426776,.176777,-.191342,-.461939,.191342,0,-.353553,.353554,0,-.32664,.326641,-.191342,-.426776,.176777,.191342,-.326641,.135299,.353553,-.25,.25,.353553,-.32664,.326641,.191342,-.176777,.073223,.46194,0,0,.5,-.135299,.135299,.46194,0,0,-.5,-.176777,.073223,-.46194,-.135299,.135299,-.46194,-.326641,.135299,-.353553,-.426776,.176777,-.191342,-.32664,.326641,-.191342,-.25,.25,-.353553,-.461939,.191342,0,-.426776,.176777,.191342,-.32664,.326641,.191342,-.353553,.353554,0,-.135299,.135299,-.46194,-.25,.25,-.353553,-.135299,.326641,-.353553,-.073223,.176777,-.46194,-.32664,.326641,-.191342,-.353553,.353554,0,-.191341,.46194,0,-.176776,.426777,-.191342,-.32664,.326641,.191342,-.25,.25,.353553,-.135299,.326641,.353553,-.176776,.426777,.191342,-.135299,.135299,.46194,0,0,.5,-.073223,.176777,.46194,0,0,-.5,-.135299,.135299,-.46194,-.073223,.176777,-.46194,-.25,.25,-.353553,-.32664,.326641,-.191342,-.176776,.426777,-.191342,-.135299,.326641,-.353553,-.353553,.353554,0,-.32664,.326641,.191342,-.176776,.426777,.191342,-.191341,.46194,0,-.25,.25,.353553,-.135299,.135299,.46194,-.073223,.176777,.46194,-.135299,.326641,.353553,-.073223,.176777,.46194,0,0,.5,0,.191342,.46194,0,0,-.5,-.073223,.176777,-.46194,0,.191342,-.46194,-.135299,.326641,-.353553,-.176776,.426777,-.191342,0,.46194,-.191342,0,.353553,-.353553,-.191341,.46194,0,-.176776,.426777,.191342,0,.46194,.191342,0,.5,0,0,.191342,.46194,0,.353553,.353553,-.135299,.326641,.353553,-.073223,.176777,.46194,-.073223,.176777,-.46194,-.135299,.326641,-.353553,0,.353553,-.353553,0,.191342,-.46194,-.176776,.426777,-.191342,-.191341,.46194,0,0,.5,0,0,.46194,-.191342,-.176776,.426777,.191342,-.135299,.326641,.353553,0,.353553,.353553,0,.46194,.191342];iron_data_MaterialData.uidCounter=0;iron_data_MaterialContext.num=0;iron_math_Quat.helpVec0=new iron_math_Vec4;iron_math_Quat.helpVec1=new iron_math_Vec4;iron_math_Quat.helpVec2=new iron_math_Vec4;iron_math_RayCaster.VPInv=iron_math_Mat4.identity();iron_math_RayCaster.PInv=iron_math_Mat4.identity();iron_math_RayCaster.VInv=iron_math_Mat4.identity();iron_object_Animation.m1=iron_math_Mat4.identity();iron_object_Animation.m2=iron_math_Mat4.identity();iron_object_Animation.vpos=new iron_math_Vec4;iron_object_Animation.vpos2=new iron_math_Vec4;iron_object_Animation.vscl=new iron_math_Vec4;iron_object_Animation.vscl2=new iron_math_Vec4;iron_object_Animation.q1=new iron_math_Quat;iron_object_Animation.q2=new iron_math_Quat;iron_object_BoneAnimation.skinMaxBones=50;iron_object_BoneAnimation.vpos=new iron_math_Vec4;iron_object_BoneAnimation.vscl=new iron_math_Vec4;iron_object_BoneAnimation.q1=new iron_math_Quat;iron_object_BoneAnimation.q2=new iron_math_Quat;iron_object_BoneAnimation.vpos2=new iron_math_Vec4;iron_object_BoneAnimation.vscl2=new iron_math_Vec4;iron_object_Object.uidCounter=0;iron_object_Object.seed=1;iron_object_CameraObject.temp=new iron_math_Vec4;iron_object_CameraObject.sphereCenter=new iron_math_Vec4;iron_object_CameraObject.q=new iron_math_Quat;iron_object_LampObject.cascadeCount=1;iron_object_LampObject.cascadeSplitFactor=.8;iron_object_LampObject.m=iron_math_Mat4.identity();iron_object_LampObject.p1=new iron_math_Vec4;iron_object_LampObject.p2=new iron_math_Vec4;iron_object_LampObject.p3=new iron_math_Vec4;iron_object_Transform.temp=iron_math_Mat4.identity();iron_object_Uniforms.biasMat=new iron_math_Mat4(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);iron_object_Uniforms.helpMat=iron_math_Mat4.identity();iron_object_Uniforms.helpMat2=iron_math_Mat4.identity();iron_object_Uniforms.helpMat3=iron_math_Mat3.identity();iron_object_Uniforms.helpVec=new iron_math_Vec4;iron_object_Uniforms.helpVec2=new iron_math_Vec4;iron_object_Uniforms.helpQuat=new iron_math_Quat;iron_system_Input.occupied=false;iron_system_Input.gamepads=[];iron_system_Mouse.buttons=["left","right","middle"];iron_system_Keyboard.keys=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9",".",",","space","backspace","tab","enter","shift","ctrl","alt","esc","del","back","up","right","left","down"];iron_system_Time.scale=1;iron_system_Time.last=0;iron_system_Time.realDelta=0;iron_system_Tween.eases=[iron_system_Tween.easeLinear,iron_system_Tween.easeSineIn,iron_system_Tween.easeSineOut,iron_system_Tween.easeSineInOut,iron_system_Tween.easeQuadIn,iron_system_Tween.easeQuadOut,iron_system_Tween.easeQuadInOut,iron_system_Tween.easeCubicIn,iron_system_Tween.easeCubicOut,iron_system_Tween.easeCubicInOut,iron_system_Tween.easeQuartIn,iron_system_Tween.easeQuartOut,iron_system_Tween.easeQuartInOut,iron_system_Tween.easeQuintIn,iron_system_Tween.easeQuintOut,iron_system_Tween.easeQuintInOut,iron_system_Tween.easeExpoIn,iron_system_Tween.easeExpoOut,iron_system_Tween.easeExpoInOut,iron_system_Tween.easeCircIn,iron_system_Tween.easeCircOut,iron_system_Tween.easeCircInOut,iron_system_Tween.easeBackIn,iron_system_Tween.easeBackOut,iron_system_Tween.easeBackInOut];iron_system_Tween.anims=[];js_Boot.__toStr={}.toString;js_html_compat_Float32Array.BYTES_PER_ELEMENT=4;js_html_compat_Uint8Array.BYTES_PER_ELEMENT=1;kha_Assets.images=new kha__$Assets_ImageList;kha_Assets.sounds=new kha__$Assets_SoundList;kha_Assets.blobs=new kha__$Assets_BlobList;kha_Assets.fonts=new kha__$Assets_FontList;kha_Assets.videos=new kha__$Assets_VideoList;kha_CompilerDefines.canvas_id="khanvas";kha_Scheduler.DIF_COUNT=3;kha_Scheduler.maxframetime=.5;kha_Scheduler.startTime=0;kha_Shaders.bloom_pass_fragData0="s716:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4OwoKaW4gaGlnaHAgdmVjMiB0ZXhDb29yZDsKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yOwoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjNCBjb2wgPSB0ZXh0dXJlKHRleCwgdGV4Q29vcmQpOwogICAgaGlnaHAgZmxvYXQgYnJpZ2h0bmVzcyA9IGRvdChjb2wueHl6LCB2ZWMzKDAuMjEyNTk5OTkyNzUyMDc1MTk1MzEyNSwgMC43MTUyMDAwMDY5NjE4MjI1MDk3NjU2MjUsIDAuMDcyMjAwMDAwMjg2MTAyMjk0OTIxODc1KSk7CiAgICBpZiAoYnJpZ2h0bmVzcyA%IDEuMCkKICAgIHsKICAgICAgICBmcmFnQ29sb3IgPSB2ZWM0KGNvbC54eXoueCwgY29sLnh5ei55LCBjb2wueHl6LnosIGZyYWdDb2xvci53KTsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBmcmFnQ29sb3IgPSB2ZWM0KHZlYzMoMC4wKS54LCB2ZWMzKDAuMCkueSwgdmVjMygwLjApLnosIGZyYWdDb2xvci53KTsKfQoK";kha_Shaders.bloom_pass_fragData1="s690:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKCmluIHZlYzIgdGV4Q29vcmQ7Cm91dCB2ZWM0IGZyYWdDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgY29sID0gdGV4dHVyZSh0ZXgsIHRleENvb3JkKTsKICAgIGZsb2F0IGJyaWdodG5lc3MgPSBkb3QoY29sLnh5eiwgdmVjMygwLjIxMjU5OTk5Mjc1MjA3NTE5NTMxMjUsIDAuNzE1MjAwMDA2OTYxODIyNTA5NzY1NjI1LCAwLjA3MjIwMDAwMDI4NjEwMjI5NDkyMTg3NSkpOwogICAgaWYgKGJyaWdodG5lc3MgPiAxLjApCiAgICB7CiAgICAgICAgZnJhZ0NvbG9yID0gdmVjNChjb2wueHl6LngsIGNvbC54eXoueSwgY29sLnh5ei56LCBmcmFnQ29sb3Iudyk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgZnJhZ0NvbG9yID0gdmVjNCh2ZWMzKDAuMCkueCwgdmVjMygwLjApLnksIHZlYzMoMC4wKS56LCBmcmFnQ29sb3Iudyk7Cn0KCg";kha_Shaders.bloom_pass_fragData2="s716:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4OwoKaW4gaGlnaHAgdmVjMiB0ZXhDb29yZDsKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yOwoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjNCBjb2wgPSB0ZXh0dXJlKHRleCwgdGV4Q29vcmQpOwogICAgaGlnaHAgZmxvYXQgYnJpZ2h0bmVzcyA9IGRvdChjb2wueHl6LCB2ZWMzKDAuMjEyNTk5OTkyNzUyMDc1MTk1MzEyNSwgMC43MTUyMDAwMDY5NjE4MjI1MDk3NjU2MjUsIDAuMDcyMjAwMDAwMjg2MTAyMjk0OTIxODc1KSk7CiAgICBpZiAoYnJpZ2h0bmVzcyA%IDEuMCkKICAgIHsKICAgICAgICBmcmFnQ29sb3IgPSB2ZWM0KGNvbC54eXoueCwgY29sLnh5ei55LCBjb2wueHl6LnosIGZyYWdDb2xvci53KTsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBmcmFnQ29sb3IgPSB2ZWM0KHZlYzMoMC4wKS54LCB2ZWMzKDAuMCkueSwgdmVjMygwLjApLnosIGZyYWdDb2xvci53KTsKfQoK";kha_Shaders.blur_adaptive_pass_fragData0="s1791:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHRleDsKdW5pZm9ybSBoaWdocCB2ZWMyIGRpckludjsKCmluIGhpZ2hwIHZlYzIgdGV4Q29vcmQ7Cm91dCBoaWdocCB2ZWM0IGZyYWdDb2xvcjsKCmhpZ2hwIHZlYzIgdW5wYWNrRmxvYXQoaGlnaHAgZmxvYXQgZikKewogICAgcmV0dXJuIHZlYzIoZmxvb3IoZikgLyAxMDAuMCwgZnJhY3QoZikpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSB1bnBhY2tGbG9hdCh0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZCkueikueTsKICAgIGlmIChyb3VnaG5lc3MgPj0gMC44MDAwMDAwMTE5MjA5Mjg5NTUwNzgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMyBfNTAgPSB0ZXh0dXJlKHRleCwgdGV4Q29vcmQpLnh5ejsKICAgICAgICBmcmFnQ29sb3IgPSB2ZWM0KF81MC54LCBfNTAueSwgXzUwLnosIGZyYWdDb2xvci53KTsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBoaWdocCB2ZWMzIF82MyA9IHRleHR1cmUodGV4LCB0ZXhDb29yZCArIChkaXJJbnYgKiAyLjUpKS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF82My54LCBfNjMueSwgXzYzLnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzc2ID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCArIChkaXJJbnYgKiAxLjUpKS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83Ni54LCBfNzYueSwgXzc2LnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzg1ID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfODUueCwgXzg1LnksIF84NS56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF85NyA9IGZyYWdDb2xvci54eXogKyB0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoZGlySW52ICogMS41KSkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfOTcueCwgXzk3LnksIF85Ny56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF8xMDkgPSBmcmFnQ29sb3IueHl6ICsgdGV4dHVyZSh0ZXgsIHRleENvb3JkIC0gKGRpckludiAqIDIuNSkpLnh5ejsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzEwOS54LCBfMTA5LnksIF8xMDkueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMTE2ID0gZnJhZ0NvbG9yLnh5eiAvIHZlYzMoNS4wKTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzExNi54LCBfMTE2LnksIF8xMTYueiwgZnJhZ0NvbG9yLncpOwp9Cgo";kha_Shaders.blur_adaptive_pass_fragData1="s1695:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIGdidWZmZXIwOwp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKdW5pZm9ybSB2ZWMyIGRpckludjsKCmluIHZlYzIgdGV4Q29vcmQ7Cm91dCB2ZWM0IGZyYWdDb2xvcjsKCnZlYzIgdW5wYWNrRmxvYXQoZmxvYXQgZikKewogICAgcmV0dXJuIHZlYzIoZmxvb3IoZikgLyAxMDAuMCwgZnJhY3QoZikpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBmbG9hdCByb3VnaG5lc3MgPSB1bnBhY2tGbG9hdCh0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZCkueikueTsKICAgIGlmIChyb3VnaG5lc3MgPj0gMC44MDAwMDAwMTE5MjA5Mjg5NTUwNzgxMjUpCiAgICB7CiAgICAgICAgdmVjMyBfNTAgPSB0ZXh0dXJlKHRleCwgdGV4Q29vcmQpLnh5ejsKICAgICAgICBmcmFnQ29sb3IgPSB2ZWM0KF81MC54LCBfNTAueSwgXzUwLnosIGZyYWdDb2xvci53KTsKICAgICAgICByZXR1cm47CiAgICB9CiAgICB2ZWMzIF82MyA9IHRleHR1cmUodGV4LCB0ZXhDb29yZCArIChkaXJJbnYgKiAyLjUpKS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF82My54LCBfNjMueSwgXzYzLnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzc2ID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCArIChkaXJJbnYgKiAxLjUpKS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83Ni54LCBfNzYueSwgXzc2LnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzg1ID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfODUueCwgXzg1LnksIF84NS56LCBmcmFnQ29sb3Iudyk7CiAgICB2ZWMzIF85NyA9IGZyYWdDb2xvci54eXogKyB0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoZGlySW52ICogMS41KSkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfOTcueCwgXzk3LnksIF85Ny56LCBmcmFnQ29sb3Iudyk7CiAgICB2ZWMzIF8xMDkgPSBmcmFnQ29sb3IueHl6ICsgdGV4dHVyZSh0ZXgsIHRleENvb3JkIC0gKGRpckludiAqIDIuNSkpLnh5ejsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzEwOS54LCBfMTA5LnksIF8xMDkueiwgZnJhZ0NvbG9yLncpOwogICAgdmVjMyBfMTE2ID0gZnJhZ0NvbG9yLnh5eiAvIHZlYzMoNS4wKTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzExNi54LCBfMTE2LnksIF8xMTYueiwgZnJhZ0NvbG9yLncpOwp9Cgo";kha_Shaders.blur_adaptive_pass_fragData2="s1791:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHRleDsKdW5pZm9ybSBoaWdocCB2ZWMyIGRpckludjsKCmluIGhpZ2hwIHZlYzIgdGV4Q29vcmQ7Cm91dCBoaWdocCB2ZWM0IGZyYWdDb2xvcjsKCmhpZ2hwIHZlYzIgdW5wYWNrRmxvYXQoaGlnaHAgZmxvYXQgZikKewogICAgcmV0dXJuIHZlYzIoZmxvb3IoZikgLyAxMDAuMCwgZnJhY3QoZikpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSB1bnBhY2tGbG9hdCh0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZCkueikueTsKICAgIGlmIChyb3VnaG5lc3MgPj0gMC44MDAwMDAwMTE5MjA5Mjg5NTUwNzgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMyBfNTAgPSB0ZXh0dXJlKHRleCwgdGV4Q29vcmQpLnh5ejsKICAgICAgICBmcmFnQ29sb3IgPSB2ZWM0KF81MC54LCBfNTAueSwgXzUwLnosIGZyYWdDb2xvci53KTsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBoaWdocCB2ZWMzIF82MyA9IHRleHR1cmUodGV4LCB0ZXhDb29yZCArIChkaXJJbnYgKiAyLjUpKS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF82My54LCBfNjMueSwgXzYzLnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzc2ID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCArIChkaXJJbnYgKiAxLjUpKS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83Ni54LCBfNzYueSwgXzc2LnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzg1ID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfODUueCwgXzg1LnksIF84NS56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF85NyA9IGZyYWdDb2xvci54eXogKyB0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoZGlySW52ICogMS41KSkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfOTcueCwgXzk3LnksIF85Ny56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF8xMDkgPSBmcmFnQ29sb3IueHl6ICsgdGV4dHVyZSh0ZXgsIHRleENvb3JkIC0gKGRpckludiAqIDIuNSkpLnh5ejsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzEwOS54LCBfMTA5LnksIF8xMDkueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMTE2ID0gZnJhZ0NvbG9yLnh5eiAvIHZlYzMoNS4wKTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzExNi54LCBfMTE2LnksIF8xMTYueiwgZnJhZ0NvbG9yLncpOwp9Cgo";kha_Shaders.blur_gaus_pass_fragData0="s4878:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCB2ZWMyIGRpcjsKdW5pZm9ybSBoaWdocCB2ZWMyIHNjcmVlblNpemU7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHRleDsKCm91dCBoaWdocCB2ZWM0IGZyYWdDb2xvcjsKaW4gaGlnaHAgdmVjMiB0ZXhDb29yZDsKCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzIgX3N0ZXAgPSAoZGlyIC8gc2NyZWVuU2l6ZSkgKiAzLjA7CiAgICBoaWdocCB2ZWMzIF8zMyA9IHRleHR1cmUodGV4LCB0ZXhDb29yZCkueHl6ICogMC4xMzI1NzE5OTUyNTgzMzEyOTg4MjgxMjU7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8zMy54LCBfMzMueSwgXzMzLnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzQ4ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgKyAoX3N0ZXAgKiAxLjUpKS54eXogKiAwLjEyNTQ3MTk5NDI4MDgxNTEyNDUxMTcxODc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzQ4LngsIF80OC55LCBfNDgueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfNjEgPSBmcmFnQ29sb3IueHl6ICsgKHRleHR1cmUodGV4LCB0ZXhDb29yZCAtIChfc3RlcCAqIDEuNSkpLnh5eiAqIDAuMTI1NDcxOTk0MjgwODE1MTI0NTExNzE4NzUpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfNjEueCwgXzYxLnksIF82MS56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF83NiA9IGZyYWdDb2xvci54eXogKyAodGV4dHVyZSh0ZXgsIHRleENvb3JkICsgKF9zdGVwICogMi41KSkueHl6ICogMC4xMDYzNzI5OTcxNjQ3MjYyNTczMjQyMTg3NSk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83Ni54LCBfNzYueSwgXzc2LnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzg5ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoX3N0ZXAgKiAyLjUpKS54eXogKiAwLjEwNjM3Mjk5NzE2NDcyNjI1NzMyNDIxODc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzg5LngsIF84OS55LCBfODkueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMTA0ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgKyAoX3N0ZXAgKiAzLjUpKS54eXogKiAwLjA4MDc3OTk5OTQ5NDU1MjYxMjMwNDY4NzUpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTA0LngsIF8xMDQueSwgXzEwNC56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF8xMTcgPSBmcmFnQ29sb3IueHl6ICsgKHRleHR1cmUodGV4LCB0ZXhDb29yZCAtIChfc3RlcCAqIDMuNSkpLnh5eiAqIDAuMDgwNzc5OTk5NDk0NTUyNjEyMzA0Njg3NSk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8xMTcueCwgXzExNy55LCBfMTE3LnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzEzMiA9IGZyYWdDb2xvci54eXogKyAodGV4dHVyZSh0ZXgsIHRleENvb3JkICsgKF9zdGVwICogNC41KSkueHl6ICogMC4wNTQ5NDk5OTg4NTU1OTA4MjAzMTI1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzEzMi54LCBfMTMyLnksIF8xMzIueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMTQ1ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoX3N0ZXAgKiA0LjUpKS54eXogKiAwLjA1NDk0OTk5ODg1NTU5MDgyMDMxMjUpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTQ1LngsIF8xNDUueSwgXzE0NS56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF8xNjAgPSBmcmFnQ29sb3IueHl6ICsgKHRleHR1cmUodGV4LCB0ZXhDb29yZCArIChfc3RlcCAqIDUuNSkpLnh5eiAqIDAuMDMzNDgyMDAwMjMxNzQyODU4ODg2NzE4NzUpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTYwLngsIF8xNjAueSwgXzE2MC56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF8xNzMgPSBmcmFnQ29sb3IueHl6ICsgKHRleHR1cmUodGV4LCB0ZXhDb29yZCAtIChfc3RlcCAqIDUuNSkpLnh5eiAqIDAuMDMzNDgyMDAwMjMxNzQyODU4ODg2NzE4NzUpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTczLngsIF8xNzMueSwgXzE3My56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF8xODggPSBmcmFnQ29sb3IueHl6ICsgKHRleHR1cmUodGV4LCB0ZXhDb29yZCArIChfc3RlcCAqIDYuNSkpLnh5eiAqIDAuMDE4Mjc1MDAwMTU0OTcyMDc2NDE2MDE1NjI1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzE4OC54LCBfMTg4LnksIF8xODgueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMjAxID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoX3N0ZXAgKiA2LjUpKS54eXogKiAwLjAxODI3NTAwMDE1NDk3MjA3NjQxNjAxNTYyNSk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8yMDEueCwgXzIwMS55LCBfMjAxLnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzIxNiA9IGZyYWdDb2xvci54eXogKyAodGV4dHVyZSh0ZXgsIHRleENvb3JkICsgKF9zdGVwICogNy41KSkueHl6ICogMC4wMDg5MzM5OTk1NzU2NzQ1MzM4NDM5OTQxNDA2MjUpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMjE2LngsIF8yMTYueSwgXzIxNi56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF8yMjkgPSBmcmFnQ29sb3IueHl6ICsgKHRleHR1cmUodGV4LCB0ZXhDb29yZCAtIChfc3RlcCAqIDcuNSkpLnh5eiAqIDAuMDA4OTMzOTk5NTc1Njc0NTMzODQzOTk0MTQwNjI1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzIyOS54LCBfMjI5LnksIF8yMjkueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMjQ0ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgKyAoX3N0ZXAgKiA4LjUpKS54eXogKiAwLjAwMzkxMTk5OTk4NTU3NTY3NTk2NDM1NTQ2ODc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzI0NC54LCBfMjQ0LnksIF8yNDQueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMjU3ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoX3N0ZXAgKiA4LjUpKS54eXogKiAwLjAwMzkxMTk5OTk4NTU3NTY3NTk2NDM1NTQ2ODc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzI1Ny54LCBfMjU3LnksIF8yNTcueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMjcyID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgKyAoX3N0ZXAgKiA5LjUpKS54eXogKiAwLjAwMTUzNTAwMDA0NjcxNTE0MDM0MjcxMjQwMjM0Mzc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzI3Mi54LCBfMjcyLnksIF8yNzIueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMjg1ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoX3N0ZXAgKiA5LjUpKS54eXogKiAwLjAwMTUzNTAwMDA0NjcxNTE0MDM0MjcxMjQwMjM0Mzc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzI4NS54LCBfMjg1LnksIF8yODUueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMjkxID0gZnJhZ0NvbG9yLnh5eiAqIDAuNjk5OTk5OTg4MDc5MDcxMDQ0OTIxODc1OwogICAgZnJhZ0NvbG9yID0gdmVjNChfMjkxLngsIF8yOTEueSwgXzI5MS56LCBmcmFnQ29sb3Iudyk7Cn0KCg";kha_Shaders.blur_gaus_pass_fragData1="s4683:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIHZlYzIgZGlyOwp1bmlmb3JtIHZlYzIgc2NyZWVuU2l6ZTsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCB0ZXg7CgpvdXQgdmVjNCBmcmFnQ29sb3I7CmluIHZlYzIgdGV4Q29vcmQ7Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMyIF9zdGVwID0gKGRpciAvIHNjcmVlblNpemUpICogMy4wOwogICAgdmVjMyBfMzMgPSB0ZXh0dXJlKHRleCwgdGV4Q29vcmQpLnh5eiAqIDAuMTMyNTcxOTk1MjU4MzMxMjk4ODI4MTI1OwogICAgZnJhZ0NvbG9yID0gdmVjNChfMzMueCwgXzMzLnksIF8zMy56LCBmcmFnQ29sb3Iudyk7CiAgICB2ZWMzIF80OCA9IGZyYWdDb2xvci54eXogKyAodGV4dHVyZSh0ZXgsIHRleENvb3JkICsgKF9zdGVwICogMS41KSkueHl6ICogMC4xMjU0NzE5OTQyODA4MTUxMjQ1MTE3MTg3NSk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF80OC54LCBfNDgueSwgXzQ4LnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzYxID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoX3N0ZXAgKiAxLjUpKS54eXogKiAwLjEyNTQ3MTk5NDI4MDgxNTEyNDUxMTcxODc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzYxLngsIF82MS55LCBfNjEueiwgZnJhZ0NvbG9yLncpOwogICAgdmVjMyBfNzYgPSBmcmFnQ29sb3IueHl6ICsgKHRleHR1cmUodGV4LCB0ZXhDb29yZCArIChfc3RlcCAqIDIuNSkpLnh5eiAqIDAuMTA2MzcyOTk3MTY0NzI2MjU3MzI0MjE4NzUpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfNzYueCwgXzc2LnksIF83Ni56LCBmcmFnQ29sb3Iudyk7CiAgICB2ZWMzIF84OSA9IGZyYWdDb2xvci54eXogKyAodGV4dHVyZSh0ZXgsIHRleENvb3JkIC0gKF9zdGVwICogMi41KSkueHl6ICogMC4xMDYzNzI5OTcxNjQ3MjYyNTczMjQyMTg3NSk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF84OS54LCBfODkueSwgXzg5LnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzEwNCA9IGZyYWdDb2xvci54eXogKyAodGV4dHVyZSh0ZXgsIHRleENvb3JkICsgKF9zdGVwICogMy41KSkueHl6ICogMC4wODA3Nzk5OTk0OTQ1NTI2MTIzMDQ2ODc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzEwNC54LCBfMTA0LnksIF8xMDQueiwgZnJhZ0NvbG9yLncpOwogICAgdmVjMyBfMTE3ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoX3N0ZXAgKiAzLjUpKS54eXogKiAwLjA4MDc3OTk5OTQ5NDU1MjYxMjMwNDY4NzUpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTE3LngsIF8xMTcueSwgXzExNy56LCBmcmFnQ29sb3Iudyk7CiAgICB2ZWMzIF8xMzIgPSBmcmFnQ29sb3IueHl6ICsgKHRleHR1cmUodGV4LCB0ZXhDb29yZCArIChfc3RlcCAqIDQuNSkpLnh5eiAqIDAuMDU0OTQ5OTk4ODU1NTkwODIwMzEyNSk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8xMzIueCwgXzEzMi55LCBfMTMyLnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzE0NSA9IGZyYWdDb2xvci54eXogKyAodGV4dHVyZSh0ZXgsIHRleENvb3JkIC0gKF9zdGVwICogNC41KSkueHl6ICogMC4wNTQ5NDk5OTg4NTU1OTA4MjAzMTI1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzE0NS54LCBfMTQ1LnksIF8xNDUueiwgZnJhZ0NvbG9yLncpOwogICAgdmVjMyBfMTYwID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgKyAoX3N0ZXAgKiA1LjUpKS54eXogKiAwLjAzMzQ4MjAwMDIzMTc0Mjg1ODg4NjcxODc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzE2MC54LCBfMTYwLnksIF8xNjAueiwgZnJhZ0NvbG9yLncpOwogICAgdmVjMyBfMTczID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoX3N0ZXAgKiA1LjUpKS54eXogKiAwLjAzMzQ4MjAwMDIzMTc0Mjg1ODg4NjcxODc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzE3My54LCBfMTczLnksIF8xNzMueiwgZnJhZ0NvbG9yLncpOwogICAgdmVjMyBfMTg4ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgKyAoX3N0ZXAgKiA2LjUpKS54eXogKiAwLjAxODI3NTAwMDE1NDk3MjA3NjQxNjAxNTYyNSk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8xODgueCwgXzE4OC55LCBfMTg4LnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzIwMSA9IGZyYWdDb2xvci54eXogKyAodGV4dHVyZSh0ZXgsIHRleENvb3JkIC0gKF9zdGVwICogNi41KSkueHl6ICogMC4wMTgyNzUwMDAxNTQ5NzIwNzY0MTYwMTU2MjUpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMjAxLngsIF8yMDEueSwgXzIwMS56LCBmcmFnQ29sb3Iudyk7CiAgICB2ZWMzIF8yMTYgPSBmcmFnQ29sb3IueHl6ICsgKHRleHR1cmUodGV4LCB0ZXhDb29yZCArIChfc3RlcCAqIDcuNSkpLnh5eiAqIDAuMDA4OTMzOTk5NTc1Njc0NTMzODQzOTk0MTQwNjI1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzIxNi54LCBfMjE2LnksIF8yMTYueiwgZnJhZ0NvbG9yLncpOwogICAgdmVjMyBfMjI5ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoX3N0ZXAgKiA3LjUpKS54eXogKiAwLjAwODkzMzk5OTU3NTY3NDUzMzg0Mzk5NDE0MDYyNSk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8yMjkueCwgXzIyOS55LCBfMjI5LnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzI0NCA9IGZyYWdDb2xvci54eXogKyAodGV4dHVyZSh0ZXgsIHRleENvb3JkICsgKF9zdGVwICogOC41KSkueHl6ICogMC4wMDM5MTE5OTk5ODU1NzU2NzU5NjQzNTU0Njg3NSk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8yNDQueCwgXzI0NC55LCBfMjQ0LnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzI1NyA9IGZyYWdDb2xvci54eXogKyAodGV4dHVyZSh0ZXgsIHRleENvb3JkIC0gKF9zdGVwICogOC41KSkueHl6ICogMC4wMDM5MTE5OTk5ODU1NzU2NzU5NjQzNTU0Njg3NSk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8yNTcueCwgXzI1Ny55LCBfMjU3LnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzI3MiA9IGZyYWdDb2xvci54eXogKyAodGV4dHVyZSh0ZXgsIHRleENvb3JkICsgKF9zdGVwICogOS41KSkueHl6ICogMC4wMDE1MzUwMDAwNDY3MTUxNDAzNDI3MTI0MDIzNDM3NSk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8yNzIueCwgXzI3Mi55LCBfMjcyLnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzI4NSA9IGZyYWdDb2xvci54eXogKyAodGV4dHVyZSh0ZXgsIHRleENvb3JkIC0gKF9zdGVwICogOS41KSkueHl6ICogMC4wMDE1MzUwMDAwNDY3MTUxNDAzNDI3MTI0MDIzNDM3NSk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8yODUueCwgXzI4NS55LCBfMjg1LnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzI5MSA9IGZyYWdDb2xvci54eXogKiAwLjY5OTk5OTk4ODA3OTA3MTA0NDkyMTg3NTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzI5MS54LCBfMjkxLnksIF8yOTEueiwgZnJhZ0NvbG9yLncpOwp9Cgo";kha_Shaders.blur_gaus_pass_fragData2="s4878:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCB2ZWMyIGRpcjsKdW5pZm9ybSBoaWdocCB2ZWMyIHNjcmVlblNpemU7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHRleDsKCm91dCBoaWdocCB2ZWM0IGZyYWdDb2xvcjsKaW4gaGlnaHAgdmVjMiB0ZXhDb29yZDsKCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzIgX3N0ZXAgPSAoZGlyIC8gc2NyZWVuU2l6ZSkgKiAzLjA7CiAgICBoaWdocCB2ZWMzIF8zMyA9IHRleHR1cmUodGV4LCB0ZXhDb29yZCkueHl6ICogMC4xMzI1NzE5OTUyNTgzMzEyOTg4MjgxMjU7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8zMy54LCBfMzMueSwgXzMzLnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzQ4ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgKyAoX3N0ZXAgKiAxLjUpKS54eXogKiAwLjEyNTQ3MTk5NDI4MDgxNTEyNDUxMTcxODc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzQ4LngsIF80OC55LCBfNDgueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfNjEgPSBmcmFnQ29sb3IueHl6ICsgKHRleHR1cmUodGV4LCB0ZXhDb29yZCAtIChfc3RlcCAqIDEuNSkpLnh5eiAqIDAuMTI1NDcxOTk0MjgwODE1MTI0NTExNzE4NzUpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfNjEueCwgXzYxLnksIF82MS56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF83NiA9IGZyYWdDb2xvci54eXogKyAodGV4dHVyZSh0ZXgsIHRleENvb3JkICsgKF9zdGVwICogMi41KSkueHl6ICogMC4xMDYzNzI5OTcxNjQ3MjYyNTczMjQyMTg3NSk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83Ni54LCBfNzYueSwgXzc2LnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzg5ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoX3N0ZXAgKiAyLjUpKS54eXogKiAwLjEwNjM3Mjk5NzE2NDcyNjI1NzMyNDIxODc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzg5LngsIF84OS55LCBfODkueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMTA0ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgKyAoX3N0ZXAgKiAzLjUpKS54eXogKiAwLjA4MDc3OTk5OTQ5NDU1MjYxMjMwNDY4NzUpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTA0LngsIF8xMDQueSwgXzEwNC56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF8xMTcgPSBmcmFnQ29sb3IueHl6ICsgKHRleHR1cmUodGV4LCB0ZXhDb29yZCAtIChfc3RlcCAqIDMuNSkpLnh5eiAqIDAuMDgwNzc5OTk5NDk0NTUyNjEyMzA0Njg3NSk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8xMTcueCwgXzExNy55LCBfMTE3LnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzEzMiA9IGZyYWdDb2xvci54eXogKyAodGV4dHVyZSh0ZXgsIHRleENvb3JkICsgKF9zdGVwICogNC41KSkueHl6ICogMC4wNTQ5NDk5OTg4NTU1OTA4MjAzMTI1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzEzMi54LCBfMTMyLnksIF8xMzIueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMTQ1ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoX3N0ZXAgKiA0LjUpKS54eXogKiAwLjA1NDk0OTk5ODg1NTU5MDgyMDMxMjUpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTQ1LngsIF8xNDUueSwgXzE0NS56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF8xNjAgPSBmcmFnQ29sb3IueHl6ICsgKHRleHR1cmUodGV4LCB0ZXhDb29yZCArIChfc3RlcCAqIDUuNSkpLnh5eiAqIDAuMDMzNDgyMDAwMjMxNzQyODU4ODg2NzE4NzUpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTYwLngsIF8xNjAueSwgXzE2MC56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF8xNzMgPSBmcmFnQ29sb3IueHl6ICsgKHRleHR1cmUodGV4LCB0ZXhDb29yZCAtIChfc3RlcCAqIDUuNSkpLnh5eiAqIDAuMDMzNDgyMDAwMjMxNzQyODU4ODg2NzE4NzUpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTczLngsIF8xNzMueSwgXzE3My56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF8xODggPSBmcmFnQ29sb3IueHl6ICsgKHRleHR1cmUodGV4LCB0ZXhDb29yZCArIChfc3RlcCAqIDYuNSkpLnh5eiAqIDAuMDE4Mjc1MDAwMTU0OTcyMDc2NDE2MDE1NjI1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzE4OC54LCBfMTg4LnksIF8xODgueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMjAxID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoX3N0ZXAgKiA2LjUpKS54eXogKiAwLjAxODI3NTAwMDE1NDk3MjA3NjQxNjAxNTYyNSk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8yMDEueCwgXzIwMS55LCBfMjAxLnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzIxNiA9IGZyYWdDb2xvci54eXogKyAodGV4dHVyZSh0ZXgsIHRleENvb3JkICsgKF9zdGVwICogNy41KSkueHl6ICogMC4wMDg5MzM5OTk1NzU2NzQ1MzM4NDM5OTQxNDA2MjUpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMjE2LngsIF8yMTYueSwgXzIxNi56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF8yMjkgPSBmcmFnQ29sb3IueHl6ICsgKHRleHR1cmUodGV4LCB0ZXhDb29yZCAtIChfc3RlcCAqIDcuNSkpLnh5eiAqIDAuMDA4OTMzOTk5NTc1Njc0NTMzODQzOTk0MTQwNjI1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzIyOS54LCBfMjI5LnksIF8yMjkueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMjQ0ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgKyAoX3N0ZXAgKiA4LjUpKS54eXogKiAwLjAwMzkxMTk5OTk4NTU3NTY3NTk2NDM1NTQ2ODc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzI0NC54LCBfMjQ0LnksIF8yNDQueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMjU3ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoX3N0ZXAgKiA4LjUpKS54eXogKiAwLjAwMzkxMTk5OTk4NTU3NTY3NTk2NDM1NTQ2ODc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzI1Ny54LCBfMjU3LnksIF8yNTcueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMjcyID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgKyAoX3N0ZXAgKiA5LjUpKS54eXogKiAwLjAwMTUzNTAwMDA0NjcxNTE0MDM0MjcxMjQwMjM0Mzc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzI3Mi54LCBfMjcyLnksIF8yNzIueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMjg1ID0gZnJhZ0NvbG9yLnh5eiArICh0ZXh0dXJlKHRleCwgdGV4Q29vcmQgLSAoX3N0ZXAgKiA5LjUpKS54eXogKiAwLjAwMTUzNTAwMDA0NjcxNTE0MDM0MjcxMjQwMjM0Mzc1KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzI4NS54LCBfMjg1LnksIF8yODUueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfMjkxID0gZnJhZ0NvbG9yLnh5eiAqIDAuNjk5OTk5OTg4MDc5MDcxMDQ0OTIxODc1OwogICAgZnJhZ0NvbG9yID0gdmVjNChfMjkxLngsIF8yOTEueSwgXzI5MS56LCBmcmFnQ29sb3Iudyk7Cn0KCg";kha_Shaders.compositor_pass_fragData0="s991:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBnYnVmZmVyRDsKCmluIGhpZ2hwIHZlYzIgdGV4Q29vcmQ7Cm91dCBoaWdocCB2ZWM0IGZyYWdDb2xvcjsKCmhpZ2hwIHZlYzMgdG9uZW1hcEZpbG1pYyhoaWdocCB2ZWMzIGNvbG9yKQp7CiAgICBoaWdocCB2ZWMzIHggPSBtYXgodmVjMygwLjApLCBjb2xvciAtIHZlYzMoMC4wMDQwMDAwMDAxODk5ODk4MDUyMjE1NTc2MTcxODc1KSk7CiAgICByZXR1cm4gKHggKiAoKHggKiA2LjE5OTk5OTgwOTI2NTEzNjcxODc1KSArIHZlYzMoMC41KSkpIC8gKCh4ICogKCh4ICogNi4xOTk5OTk4MDkyNjUxMzY3MTg3NSkgKyB2ZWMzKDEuNzAwMDAwMDQ3NjgzNzE1ODIwMzEyNSkpKSArIHZlYzMoMC4wNTk5OTk5OTg2NTg4OTU0OTI1NTM3MTA5Mzc1KSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzIgdGV4Q28gPSB0ZXhDb29yZDsKICAgIGhpZ2hwIHZlYzMgXzU3ID0gdGV4dHVyZSh0ZXgsIHRleENvKS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF81Ny54LCBfNTcueSwgXzU3LnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzYyID0gdG9uZW1hcEZpbG1pYyhmcmFnQ29sb3IueHl6KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzYyLngsIF82Mi55LCBfNjIueiwgZnJhZ0NvbG9yLncpOwp9Cgo";kha_Shaders.compositor_pass_fragData1="s935:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBnYnVmZmVyRDsKCmluIHZlYzIgdGV4Q29vcmQ7Cm91dCB2ZWM0IGZyYWdDb2xvcjsKCnZlYzMgdG9uZW1hcEZpbG1pYyh2ZWMzIGNvbG9yKQp7CiAgICB2ZWMzIHggPSBtYXgodmVjMygwLjApLCBjb2xvciAtIHZlYzMoMC4wMDQwMDAwMDAxODk5ODk4MDUyMjE1NTc2MTcxODc1KSk7CiAgICByZXR1cm4gKHggKiAoKHggKiA2LjE5OTk5OTgwOTI2NTEzNjcxODc1KSArIHZlYzMoMC41KSkpIC8gKCh4ICogKCh4ICogNi4xOTk5OTk4MDkyNjUxMzY3MTg3NSkgKyB2ZWMzKDEuNzAwMDAwMDQ3NjgzNzE1ODIwMzEyNSkpKSArIHZlYzMoMC4wNTk5OTk5OTg2NTg4OTU0OTI1NTM3MTA5Mzc1KSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzIgdGV4Q28gPSB0ZXhDb29yZDsKICAgIHZlYzMgXzU3ID0gdGV4dHVyZSh0ZXgsIHRleENvKS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF81Ny54LCBfNTcueSwgXzU3LnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzYyID0gdG9uZW1hcEZpbG1pYyhmcmFnQ29sb3IueHl6KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzYyLngsIF82Mi55LCBfNjIueiwgZnJhZ0NvbG9yLncpOwp9Cgo";kha_Shaders.compositor_pass_fragData2="s991:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBnYnVmZmVyRDsKCmluIGhpZ2hwIHZlYzIgdGV4Q29vcmQ7Cm91dCBoaWdocCB2ZWM0IGZyYWdDb2xvcjsKCmhpZ2hwIHZlYzMgdG9uZW1hcEZpbG1pYyhoaWdocCB2ZWMzIGNvbG9yKQp7CiAgICBoaWdocCB2ZWMzIHggPSBtYXgodmVjMygwLjApLCBjb2xvciAtIHZlYzMoMC4wMDQwMDAwMDAxODk5ODk4MDUyMjE1NTc2MTcxODc1KSk7CiAgICByZXR1cm4gKHggKiAoKHggKiA2LjE5OTk5OTgwOTI2NTEzNjcxODc1KSArIHZlYzMoMC41KSkpIC8gKCh4ICogKCh4ICogNi4xOTk5OTk4MDkyNjUxMzY3MTg3NSkgKyB2ZWMzKDEuNzAwMDAwMDQ3NjgzNzE1ODIwMzEyNSkpKSArIHZlYzMoMC4wNTk5OTk5OTg2NTg4OTU0OTI1NTM3MTA5Mzc1KSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzIgdGV4Q28gPSB0ZXhDb29yZDsKICAgIGhpZ2hwIHZlYzMgXzU3ID0gdGV4dHVyZSh0ZXgsIHRleENvKS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF81Ny54LCBfNTcueSwgXzU3LnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzYyID0gdG9uZW1hcEZpbG1pYyhmcmFnQ29sb3IueHl6KTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzYyLngsIF82Mi55LCBfNjIueiwgZnJhZ0NvbG9yLncpOwp9Cgo";kha_Shaders.compositor_pass_vertData0="s203:I3ZlcnNpb24gMzMwIGVzCgpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwp9Cgo";kha_Shaders.compositor_pass_vertData1="s224:I3ZlcnNpb24gMzMwIGVzCgpvdXQgbWVkaXVtcCB2ZWMyIHRleENvb3JkOwppbiBtZWRpdW1wIHZlYzIgcG9zOwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKfQoK";kha_Shaders.compositor_pass_vertData2="s203:I3ZlcnNpb24gMzAwIGVzCgpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwp9Cgo";kha_Shaders.deferred_indirect_fragData0="s6039:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCB2ZWM0IHNoaXJyWzddOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBnYnVmZmVyMDsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjE7CnVuaWZvcm0gaGlnaHAgdmVjMyBleWU7CnVuaWZvcm0gaGlnaHAgdmVjMyBleWVMb29rOwp1bmlmb3JtIGhpZ2hwIHZlYzIgY2FtZXJhUHJvajsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgc2Vudm1hcEJyZGY7CnVuaWZvcm0gaW50IGVudm1hcE51bU1pcG1hcHM7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHNlbnZtYXBSYWRpYW5jZTsKdW5pZm9ybSBoaWdocCBmbG9hdCBlbnZtYXBTdHJlbmd0aDsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgc3Nhb3RleDsKCmluIGhpZ2hwIHZlYzIgdGV4Q29vcmQ7CmluIGhpZ2hwIHZlYzMgdmlld1JheTsKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCB2ZWMyIHVucGFja0Zsb2F0KGhpZ2hwIGZsb2F0IGYpCnsKICAgIHJldHVybiB2ZWMyKGZsb29yKGYpIC8gMTAwLjAsIGZyYWN0KGYpKTsKfQoKaGlnaHAgdmVjMiB1bnBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZikKewogICAgcmV0dXJuIHZlYzIoZmxvb3IoZikgLyAyNTUuMCwgZnJhY3QoZikpOwp9CgpoaWdocCB2ZWMzIHN1cmZhY2VBbGJlZG8oaGlnaHAgdmVjMyBiYXNlQ29sb3IsIGhpZ2hwIGZsb2F0IG1ldGFsbmVzcykKewogICAgcmV0dXJuIG1peChiYXNlQ29sb3IsIHZlYzMoMC4wKSwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKaGlnaHAgdmVjMyBnZXRQb3MoaGlnaHAgdmVjMyBleWVfMSwgaGlnaHAgdmVjMyBleWVMb29rXzEsIGhpZ2hwIHZlYzMgdmlld1JheV8xLCBoaWdocCBmbG9hdCBkZXB0aCwgaGlnaHAgdmVjMiBjYW1lcmFQcm9qXzEpCnsKICAgIGhpZ2hwIHZlYzMgdnJheSA9IG5vcm1hbGl6ZSh2aWV3UmF5XzEpOwogICAgaGlnaHAgZmxvYXQgbGluZWFyRGVwdGggPSBjYW1lcmFQcm9qXzEueSAvICgoKGRlcHRoICogMC41KSArIDAuNSkgLSBjYW1lcmFQcm9qXzEueCk7CiAgICBoaWdocCBmbG9hdCB2aWV3WkRpc3QgPSBkb3QoZXllTG9va18xLCB2cmF5KTsKICAgIGhpZ2hwIHZlYzMgd3Bvc2l0aW9uID0gZXllXzEgKyAodnJheSAqIChsaW5lYXJEZXB0aCAvIHZpZXdaRGlzdCkpOwogICAgcmV0dXJuIHdwb3NpdGlvbjsKfQoKaGlnaHAgdmVjMyBzdXJmYWNlRjAoaGlnaHAgdmVjMyBiYXNlQ29sb3IsIGhpZ2hwIGZsb2F0IG1ldGFsbmVzcykKewogICAgcmV0dXJuIG1peCh2ZWMzKDAuMDM5OTk5OTk5MTA1OTMwMzI4MzY5MTQwNjI1KSwgYmFzZUNvbG9yLCB2ZWMzKG1ldGFsbmVzcykpOwp9CgpoaWdocCB2ZWMzIHNoSXJyYWRpYW5jZShoaWdocCB2ZWMzIG5vcikKewogICAgaGlnaHAgdmVjMyBjbDAwID0gdmVjMyhzaGlyclswXS54LCBzaGlyclswXS55LCBzaGlyclswXS56KTsKICAgIGhpZ2hwIHZlYzMgY2wxbTEgPSB2ZWMzKHNoaXJyWzBdLncsIHNoaXJyWzFdLngsIHNoaXJyWzFdLnkpOwogICAgaGlnaHAgdmVjMyBjbDEwID0gdmVjMyhzaGlyclsxXS56LCBzaGlyclsxXS53LCBzaGlyclsyXS54KTsKICAgIGhpZ2hwIHZlYzMgY2wxMSA9IHZlYzMoc2hpcnJbMl0ueSwgc2hpcnJbMl0ueiwgc2hpcnJbMl0udyk7CiAgICBoaWdocCB2ZWMzIGNsMm0yID0gdmVjMyhzaGlyclszXS54LCBzaGlyclszXS55LCBzaGlyclszXS56KTsKICAgIGhpZ2hwIHZlYzMgY2wybTEgPSB2ZWMzKHNoaXJyWzNdLncsIHNoaXJyWzRdLngsIHNoaXJyWzRdLnkpOwogICAgaGlnaHAgdmVjMyBjbDIwID0gdmVjMyhzaGlycls0XS56LCBzaGlycls0XS53LCBzaGlycls1XS54KTsKICAgIGhpZ2hwIHZlYzMgY2wyMSA9IHZlYzMoc2hpcnJbNV0ueSwgc2hpcnJbNV0ueiwgc2hpcnJbNV0udyk7CiAgICBoaWdocCB2ZWMzIGNsMjIgPSB2ZWMzKHNoaXJyWzZdLngsIHNoaXJyWzZdLnksIHNoaXJyWzZdLnopOwogICAgcmV0dXJuICgoKCgoKCgoKChjbDIyICogMC40MjkwNDI5OTQ5NzYwNDM3MDExNzE4NzUpICogKChub3IueSAqIG5vci55KSAtICgoLW5vci56KSAqICgtbm9yLnopKSkpICsgKCgoY2wyMCAqIDAuNzQzMTI1MDIxNDU3NjcyMTE5MTQwNjI1KSAqIG5vci54KSAqIG5vci54KSkgKyAoY2wwMCAqIDAuODg2MjI3MDExNjgwNjAzMDI3MzQzNzUpKSAtIChjbDIwICogMC4yNDc3MDc5OTI3OTIxMjk1MTY2MDE1NjI1KSkgKyAoKChjbDJtMiAqIDAuODU4MDg1OTg5OTUyMDg3NDAyMzQzNzUpICogbm9yLnkpICogKC1ub3IueikpKSArICgoKGNsMjEgKiAwLjg1ODA4NTk4OTk1MjA4NzQwMjM0Mzc1KSAqIG5vci55KSAqIG5vci54KSkgKyAoKChjbDJtMSAqIDAuODU4MDg1OTg5OTUyMDg3NDAyMzQzNzUpICogKC1ub3IueikpICogbm9yLngpKSArICgoY2wxMSAqIDEuMDIzMzI3OTQ2NjYyOTAyODMyMDMxMjUpICogbm9yLnkpKSArICgoY2wxbTEgKiAxLjAyMzMyNzk0NjY2MjkwMjgzMjAzMTI1KSAqICgtbm9yLnopKSkgKyAoKGNsMTAgKiAxLjAyMzMyNzk0NjY2MjkwMjgzMjAzMTI1KSAqIG5vci54KTsKfQoKaGlnaHAgZmxvYXQgZ2V0TWlwRnJvbVJvdWdobmVzcyhoaWdocCBmbG9hdCByb3VnaG5lc3MsIGhpZ2hwIGZsb2F0IG51bU1pcG1hcHMpCnsKICAgIHJldHVybiByb3VnaG5lc3MgKiBudW1NaXBtYXBzOwp9CgpoaWdocCB2ZWMyIGVudk1hcEVxdWlyZWN0KGhpZ2hwIHZlYzMgbm9ybWFsKQp7CiAgICBoaWdocCBmbG9hdCBwaGkgPSBhY29zKG5vcm1hbC56KTsKICAgIGhpZ2hwIGZsb2F0IHRoZXRhID0gYXRhbigtbm9ybWFsLnksIG5vcm1hbC54KSArIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NTsKICAgIHJldHVybiB2ZWMyKHRoZXRhIC8gNi4yODMxODU0ODIwMjUxNDY0ODQzNzUsIHBoaSAvIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzQgZzAgPSB0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZCk7CiAgICBoaWdocCB2ZWMzIG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGcwLngpKSAtIGFicyhnMC55KTsKICAgIGhpZ2hwIHZlYzIgXzMyNzsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8zMjcgPSBnMC54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMzI3ID0gb2N0YWhlZHJvbldyYXAoZzAueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzMyNy54LCBfMzI3LnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgaGlnaHAgdmVjMiBtZXRyb3VnaCA9IHVucGFja0Zsb2F0KGcwLnopOwogICAgaGlnaHAgdmVjNCBnMSA9IHRleHR1cmUoZ2J1ZmZlcjEsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzIgb2Njc3BlYyA9IHVucGFja0Zsb2F0MihnMS53KTsKICAgIGhpZ2hwIHZlYzMgYWxiZWRvID0gc3VyZmFjZUFsYmVkbyhnMS54eXosIG1ldHJvdWdoLngpOwogICAgaGlnaHAgZmxvYXQgZGVwdGggPSAoKDEuMCAtIGcwLncpICogMi4wKSAtIDEuMDsKICAgIGhpZ2hwIHZlYzMgcCA9IGdldFBvcyhleWUsIGV5ZUxvb2ssIHZpZXdSYXksIGRlcHRoLCBjYW1lcmFQcm9qKTsKICAgIGhpZ2hwIHZlYzMgdiA9IG5vcm1hbGl6ZShleWUgLSBwKTsKICAgIGhpZ2hwIGZsb2F0IGRvdE5WID0gbWF4KGRvdChuLCB2KSwgMC4wKTsKICAgIGhpZ2hwIHZlYzMgZjAgPSBzdXJmYWNlRjAoZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIGhpZ2hwIHZlYzIgZW52QlJERiA9IHRleHR1cmUoc2Vudm1hcEJyZGYsIHZlYzIobWV0cm91Z2gueSwgMS4wIC0gZG90TlYpKS54eTsKICAgIGhpZ2hwIHZlYzMgZW52bCA9IHNoSXJyYWRpYW5jZShuKTsKICAgIGhpZ2hwIHZlYzMgcmVmbGVjdGlvbldvcmxkID0gcmVmbGVjdCgtdiwgbik7CiAgICBoaWdocCBmbG9hdCBsb2QgPSBnZXRNaXBGcm9tUm91Z2huZXNzKG1ldHJvdWdoLnksIGZsb2F0KGVudm1hcE51bU1pcG1hcHMpKTsKICAgIGhpZ2hwIHZlYzMgcHJlZmlsdGVyZWRDb2xvciA9IHRleHR1cmVMb2Qoc2Vudm1hcFJhZGlhbmNlLCBlbnZNYXBFcXVpcmVjdChyZWZsZWN0aW9uV29ybGQpLCBsb2QpLnh5ejsKICAgIGVudmwgKj0gYWxiZWRvOwogICAgZW52bCArPSAoKChwcmVmaWx0ZXJlZENvbG9yICogKChmMCAqIGVudkJSREYueCkgKyB2ZWMzKGVudkJSREYueSkpKSAqIDEuNSkgKiBvY2NzcGVjLnkpOwogICAgZW52bCAqPSAoZW52bWFwU3RyZW5ndGggKiBvY2NzcGVjLngpOwogICAgZnJhZ0NvbG9yID0gdmVjNChlbnZsLngsIGVudmwueSwgZW52bC56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF80NzAgPSBmcmFnQ29sb3IueHl6ICogdGV4dHVyZShzc2FvdGV4LCB0ZXhDb29yZCkueDsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzQ3MC54LCBfNDcwLnksIF80NzAueiwgZnJhZ0NvbG9yLncpOwp9Cgo";kha_Shaders.deferred_indirect_fragData1="s5527:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIHZlYzQgc2hpcnJbN107CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjE7CnVuaWZvcm0gdmVjMyBleWU7CnVuaWZvcm0gdmVjMyBleWVMb29rOwp1bmlmb3JtIHZlYzIgY2FtZXJhUHJvajsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBzZW52bWFwQnJkZjsKdW5pZm9ybSBpbnQgZW52bWFwTnVtTWlwbWFwczsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBzZW52bWFwUmFkaWFuY2U7CnVuaWZvcm0gZmxvYXQgZW52bWFwU3RyZW5ndGg7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgc3Nhb3RleDsKCmluIHZlYzIgdGV4Q29vcmQ7CmluIHZlYzMgdmlld1JheTsKb3V0IHZlYzQgZnJhZ0NvbG9yOwoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9Cgp2ZWMyIHVucGFja0Zsb2F0KGZsb2F0IGYpCnsKICAgIHJldHVybiB2ZWMyKGZsb29yKGYpIC8gMTAwLjAsIGZyYWN0KGYpKTsKfQoKdmVjMiB1bnBhY2tGbG9hdDIoZmxvYXQgZikKewogICAgcmV0dXJuIHZlYzIoZmxvb3IoZikgLyAyNTUuMCwgZnJhY3QoZikpOwp9Cgp2ZWMzIHN1cmZhY2VBbGJlZG8odmVjMyBiYXNlQ29sb3IsIGZsb2F0IG1ldGFsbmVzcykKewogICAgcmV0dXJuIG1peChiYXNlQ29sb3IsIHZlYzMoMC4wKSwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKdmVjMyBnZXRQb3ModmVjMyBleWVfMSwgdmVjMyBleWVMb29rXzEsIHZlYzMgdmlld1JheV8xLCBmbG9hdCBkZXB0aCwgdmVjMiBjYW1lcmFQcm9qXzEpCnsKICAgIHZlYzMgdnJheSA9IG5vcm1hbGl6ZSh2aWV3UmF5XzEpOwogICAgZmxvYXQgbGluZWFyRGVwdGggPSBjYW1lcmFQcm9qXzEueSAvICgoKGRlcHRoICogMC41KSArIDAuNSkgLSBjYW1lcmFQcm9qXzEueCk7CiAgICBmbG9hdCB2aWV3WkRpc3QgPSBkb3QoZXllTG9va18xLCB2cmF5KTsKICAgIHZlYzMgd3Bvc2l0aW9uID0gZXllXzEgKyAodnJheSAqIChsaW5lYXJEZXB0aCAvIHZpZXdaRGlzdCkpOwogICAgcmV0dXJuIHdwb3NpdGlvbjsKfQoKdmVjMyBzdXJmYWNlRjAodmVjMyBiYXNlQ29sb3IsIGZsb2F0IG1ldGFsbmVzcykKewogICAgcmV0dXJuIG1peCh2ZWMzKDAuMDM5OTk5OTk5MTA1OTMwMzI4MzY5MTQwNjI1KSwgYmFzZUNvbG9yLCB2ZWMzKG1ldGFsbmVzcykpOwp9Cgp2ZWMzIHNoSXJyYWRpYW5jZSh2ZWMzIG5vcikKewogICAgdmVjMyBjbDAwID0gdmVjMyhzaGlyclswXS54LCBzaGlyclswXS55LCBzaGlyclswXS56KTsKICAgIHZlYzMgY2wxbTEgPSB2ZWMzKHNoaXJyWzBdLncsIHNoaXJyWzFdLngsIHNoaXJyWzFdLnkpOwogICAgdmVjMyBjbDEwID0gdmVjMyhzaGlyclsxXS56LCBzaGlyclsxXS53LCBzaGlyclsyXS54KTsKICAgIHZlYzMgY2wxMSA9IHZlYzMoc2hpcnJbMl0ueSwgc2hpcnJbMl0ueiwgc2hpcnJbMl0udyk7CiAgICB2ZWMzIGNsMm0yID0gdmVjMyhzaGlyclszXS54LCBzaGlyclszXS55LCBzaGlyclszXS56KTsKICAgIHZlYzMgY2wybTEgPSB2ZWMzKHNoaXJyWzNdLncsIHNoaXJyWzRdLngsIHNoaXJyWzRdLnkpOwogICAgdmVjMyBjbDIwID0gdmVjMyhzaGlycls0XS56LCBzaGlycls0XS53LCBzaGlycls1XS54KTsKICAgIHZlYzMgY2wyMSA9IHZlYzMoc2hpcnJbNV0ueSwgc2hpcnJbNV0ueiwgc2hpcnJbNV0udyk7CiAgICB2ZWMzIGNsMjIgPSB2ZWMzKHNoaXJyWzZdLngsIHNoaXJyWzZdLnksIHNoaXJyWzZdLnopOwogICAgcmV0dXJuICgoKCgoKCgoKChjbDIyICogMC40MjkwNDI5OTQ5NzYwNDM3MDExNzE4NzUpICogKChub3IueSAqIG5vci55KSAtICgoLW5vci56KSAqICgtbm9yLnopKSkpICsgKCgoY2wyMCAqIDAuNzQzMTI1MDIxNDU3NjcyMTE5MTQwNjI1KSAqIG5vci54KSAqIG5vci54KSkgKyAoY2wwMCAqIDAuODg2MjI3MDExNjgwNjAzMDI3MzQzNzUpKSAtIChjbDIwICogMC4yNDc3MDc5OTI3OTIxMjk1MTY2MDE1NjI1KSkgKyAoKChjbDJtMiAqIDAuODU4MDg1OTg5OTUyMDg3NDAyMzQzNzUpICogbm9yLnkpICogKC1ub3IueikpKSArICgoKGNsMjEgKiAwLjg1ODA4NTk4OTk1MjA4NzQwMjM0Mzc1KSAqIG5vci55KSAqIG5vci54KSkgKyAoKChjbDJtMSAqIDAuODU4MDg1OTg5OTUyMDg3NDAyMzQzNzUpICogKC1ub3IueikpICogbm9yLngpKSArICgoY2wxMSAqIDEuMDIzMzI3OTQ2NjYyOTAyODMyMDMxMjUpICogbm9yLnkpKSArICgoY2wxbTEgKiAxLjAyMzMyNzk0NjY2MjkwMjgzMjAzMTI1KSAqICgtbm9yLnopKSkgKyAoKGNsMTAgKiAxLjAyMzMyNzk0NjY2MjkwMjgzMjAzMTI1KSAqIG5vci54KTsKfQoKZmxvYXQgZ2V0TWlwRnJvbVJvdWdobmVzcyhmbG9hdCByb3VnaG5lc3MsIGZsb2F0IG51bU1pcG1hcHMpCnsKICAgIHJldHVybiByb3VnaG5lc3MgKiBudW1NaXBtYXBzOwp9Cgp2ZWMyIGVudk1hcEVxdWlyZWN0KHZlYzMgbm9ybWFsKQp7CiAgICBmbG9hdCBwaGkgPSBhY29zKG5vcm1hbC56KTsKICAgIGZsb2F0IHRoZXRhID0gYXRhbigtbm9ybWFsLnksIG5vcm1hbC54KSArIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NTsKICAgIHJldHVybiB2ZWMyKHRoZXRhIC8gNi4yODMxODU0ODIwMjUxNDY0ODQzNzUsIHBoaSAvIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgZzAgPSB0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZCk7CiAgICB2ZWMzIG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGcwLngpKSAtIGFicyhnMC55KTsKICAgIHZlYzIgXzMyNzsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8zMjcgPSBnMC54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMzI3ID0gb2N0YWhlZHJvbldyYXAoZzAueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzMyNy54LCBfMzI3LnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgdmVjMiBtZXRyb3VnaCA9IHVucGFja0Zsb2F0KGcwLnopOwogICAgdmVjNCBnMSA9IHRleHR1cmUoZ2J1ZmZlcjEsIHRleENvb3JkKTsKICAgIHZlYzIgb2Njc3BlYyA9IHVucGFja0Zsb2F0MihnMS53KTsKICAgIHZlYzMgYWxiZWRvID0gc3VyZmFjZUFsYmVkbyhnMS54eXosIG1ldHJvdWdoLngpOwogICAgZmxvYXQgZGVwdGggPSAoKDEuMCAtIGcwLncpICogMi4wKSAtIDEuMDsKICAgIHZlYzMgcCA9IGdldFBvcyhleWUsIGV5ZUxvb2ssIHZpZXdSYXksIGRlcHRoLCBjYW1lcmFQcm9qKTsKICAgIHZlYzMgdiA9IG5vcm1hbGl6ZShleWUgLSBwKTsKICAgIGZsb2F0IGRvdE5WID0gbWF4KGRvdChuLCB2KSwgMC4wKTsKICAgIHZlYzMgZjAgPSBzdXJmYWNlRjAoZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIHZlYzIgZW52QlJERiA9IHRleHR1cmUoc2Vudm1hcEJyZGYsIHZlYzIobWV0cm91Z2gueSwgMS4wIC0gZG90TlYpKS54eTsKICAgIHZlYzMgZW52bCA9IHNoSXJyYWRpYW5jZShuKTsKICAgIHZlYzMgcmVmbGVjdGlvbldvcmxkID0gcmVmbGVjdCgtdiwgbik7CiAgICBmbG9hdCBsb2QgPSBnZXRNaXBGcm9tUm91Z2huZXNzKG1ldHJvdWdoLnksIGZsb2F0KGVudm1hcE51bU1pcG1hcHMpKTsKICAgIHZlYzMgcHJlZmlsdGVyZWRDb2xvciA9IHRleHR1cmVMb2Qoc2Vudm1hcFJhZGlhbmNlLCBlbnZNYXBFcXVpcmVjdChyZWZsZWN0aW9uV29ybGQpLCBsb2QpLnh5ejsKICAgIGVudmwgKj0gYWxiZWRvOwogICAgZW52bCArPSAoKChwcmVmaWx0ZXJlZENvbG9yICogKChmMCAqIGVudkJSREYueCkgKyB2ZWMzKGVudkJSREYueSkpKSAqIDEuNSkgKiBvY2NzcGVjLnkpOwogICAgZW52bCAqPSAoZW52bWFwU3RyZW5ndGggKiBvY2NzcGVjLngpOwogICAgZnJhZ0NvbG9yID0gdmVjNChlbnZsLngsIGVudmwueSwgZW52bC56LCBmcmFnQ29sb3Iudyk7CiAgICB2ZWMzIF80NzAgPSBmcmFnQ29sb3IueHl6ICogdGV4dHVyZShzc2FvdGV4LCB0ZXhDb29yZCkueDsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzQ3MC54LCBfNDcwLnksIF80NzAueiwgZnJhZ0NvbG9yLncpOwp9Cgo";kha_Shaders.deferred_indirect_fragData2="s6039:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCB2ZWM0IHNoaXJyWzddOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBnYnVmZmVyMDsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjE7CnVuaWZvcm0gaGlnaHAgdmVjMyBleWU7CnVuaWZvcm0gaGlnaHAgdmVjMyBleWVMb29rOwp1bmlmb3JtIGhpZ2hwIHZlYzIgY2FtZXJhUHJvajsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgc2Vudm1hcEJyZGY7CnVuaWZvcm0gaW50IGVudm1hcE51bU1pcG1hcHM7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHNlbnZtYXBSYWRpYW5jZTsKdW5pZm9ybSBoaWdocCBmbG9hdCBlbnZtYXBTdHJlbmd0aDsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgc3Nhb3RleDsKCmluIGhpZ2hwIHZlYzIgdGV4Q29vcmQ7CmluIGhpZ2hwIHZlYzMgdmlld1JheTsKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCB2ZWMyIHVucGFja0Zsb2F0KGhpZ2hwIGZsb2F0IGYpCnsKICAgIHJldHVybiB2ZWMyKGZsb29yKGYpIC8gMTAwLjAsIGZyYWN0KGYpKTsKfQoKaGlnaHAgdmVjMiB1bnBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZikKewogICAgcmV0dXJuIHZlYzIoZmxvb3IoZikgLyAyNTUuMCwgZnJhY3QoZikpOwp9CgpoaWdocCB2ZWMzIHN1cmZhY2VBbGJlZG8oaGlnaHAgdmVjMyBiYXNlQ29sb3IsIGhpZ2hwIGZsb2F0IG1ldGFsbmVzcykKewogICAgcmV0dXJuIG1peChiYXNlQ29sb3IsIHZlYzMoMC4wKSwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKaGlnaHAgdmVjMyBnZXRQb3MoaGlnaHAgdmVjMyBleWVfMSwgaGlnaHAgdmVjMyBleWVMb29rXzEsIGhpZ2hwIHZlYzMgdmlld1JheV8xLCBoaWdocCBmbG9hdCBkZXB0aCwgaGlnaHAgdmVjMiBjYW1lcmFQcm9qXzEpCnsKICAgIGhpZ2hwIHZlYzMgdnJheSA9IG5vcm1hbGl6ZSh2aWV3UmF5XzEpOwogICAgaGlnaHAgZmxvYXQgbGluZWFyRGVwdGggPSBjYW1lcmFQcm9qXzEueSAvICgoKGRlcHRoICogMC41KSArIDAuNSkgLSBjYW1lcmFQcm9qXzEueCk7CiAgICBoaWdocCBmbG9hdCB2aWV3WkRpc3QgPSBkb3QoZXllTG9va18xLCB2cmF5KTsKICAgIGhpZ2hwIHZlYzMgd3Bvc2l0aW9uID0gZXllXzEgKyAodnJheSAqIChsaW5lYXJEZXB0aCAvIHZpZXdaRGlzdCkpOwogICAgcmV0dXJuIHdwb3NpdGlvbjsKfQoKaGlnaHAgdmVjMyBzdXJmYWNlRjAoaGlnaHAgdmVjMyBiYXNlQ29sb3IsIGhpZ2hwIGZsb2F0IG1ldGFsbmVzcykKewogICAgcmV0dXJuIG1peCh2ZWMzKDAuMDM5OTk5OTk5MTA1OTMwMzI4MzY5MTQwNjI1KSwgYmFzZUNvbG9yLCB2ZWMzKG1ldGFsbmVzcykpOwp9CgpoaWdocCB2ZWMzIHNoSXJyYWRpYW5jZShoaWdocCB2ZWMzIG5vcikKewogICAgaGlnaHAgdmVjMyBjbDAwID0gdmVjMyhzaGlyclswXS54LCBzaGlyclswXS55LCBzaGlyclswXS56KTsKICAgIGhpZ2hwIHZlYzMgY2wxbTEgPSB2ZWMzKHNoaXJyWzBdLncsIHNoaXJyWzFdLngsIHNoaXJyWzFdLnkpOwogICAgaGlnaHAgdmVjMyBjbDEwID0gdmVjMyhzaGlyclsxXS56LCBzaGlyclsxXS53LCBzaGlyclsyXS54KTsKICAgIGhpZ2hwIHZlYzMgY2wxMSA9IHZlYzMoc2hpcnJbMl0ueSwgc2hpcnJbMl0ueiwgc2hpcnJbMl0udyk7CiAgICBoaWdocCB2ZWMzIGNsMm0yID0gdmVjMyhzaGlyclszXS54LCBzaGlyclszXS55LCBzaGlyclszXS56KTsKICAgIGhpZ2hwIHZlYzMgY2wybTEgPSB2ZWMzKHNoaXJyWzNdLncsIHNoaXJyWzRdLngsIHNoaXJyWzRdLnkpOwogICAgaGlnaHAgdmVjMyBjbDIwID0gdmVjMyhzaGlycls0XS56LCBzaGlycls0XS53LCBzaGlycls1XS54KTsKICAgIGhpZ2hwIHZlYzMgY2wyMSA9IHZlYzMoc2hpcnJbNV0ueSwgc2hpcnJbNV0ueiwgc2hpcnJbNV0udyk7CiAgICBoaWdocCB2ZWMzIGNsMjIgPSB2ZWMzKHNoaXJyWzZdLngsIHNoaXJyWzZdLnksIHNoaXJyWzZdLnopOwogICAgcmV0dXJuICgoKCgoKCgoKChjbDIyICogMC40MjkwNDI5OTQ5NzYwNDM3MDExNzE4NzUpICogKChub3IueSAqIG5vci55KSAtICgoLW5vci56KSAqICgtbm9yLnopKSkpICsgKCgoY2wyMCAqIDAuNzQzMTI1MDIxNDU3NjcyMTE5MTQwNjI1KSAqIG5vci54KSAqIG5vci54KSkgKyAoY2wwMCAqIDAuODg2MjI3MDExNjgwNjAzMDI3MzQzNzUpKSAtIChjbDIwICogMC4yNDc3MDc5OTI3OTIxMjk1MTY2MDE1NjI1KSkgKyAoKChjbDJtMiAqIDAuODU4MDg1OTg5OTUyMDg3NDAyMzQzNzUpICogbm9yLnkpICogKC1ub3IueikpKSArICgoKGNsMjEgKiAwLjg1ODA4NTk4OTk1MjA4NzQwMjM0Mzc1KSAqIG5vci55KSAqIG5vci54KSkgKyAoKChjbDJtMSAqIDAuODU4MDg1OTg5OTUyMDg3NDAyMzQzNzUpICogKC1ub3IueikpICogbm9yLngpKSArICgoY2wxMSAqIDEuMDIzMzI3OTQ2NjYyOTAyODMyMDMxMjUpICogbm9yLnkpKSArICgoY2wxbTEgKiAxLjAyMzMyNzk0NjY2MjkwMjgzMjAzMTI1KSAqICgtbm9yLnopKSkgKyAoKGNsMTAgKiAxLjAyMzMyNzk0NjY2MjkwMjgzMjAzMTI1KSAqIG5vci54KTsKfQoKaGlnaHAgZmxvYXQgZ2V0TWlwRnJvbVJvdWdobmVzcyhoaWdocCBmbG9hdCByb3VnaG5lc3MsIGhpZ2hwIGZsb2F0IG51bU1pcG1hcHMpCnsKICAgIHJldHVybiByb3VnaG5lc3MgKiBudW1NaXBtYXBzOwp9CgpoaWdocCB2ZWMyIGVudk1hcEVxdWlyZWN0KGhpZ2hwIHZlYzMgbm9ybWFsKQp7CiAgICBoaWdocCBmbG9hdCBwaGkgPSBhY29zKG5vcm1hbC56KTsKICAgIGhpZ2hwIGZsb2F0IHRoZXRhID0gYXRhbigtbm9ybWFsLnksIG5vcm1hbC54KSArIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NTsKICAgIHJldHVybiB2ZWMyKHRoZXRhIC8gNi4yODMxODU0ODIwMjUxNDY0ODQzNzUsIHBoaSAvIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzQgZzAgPSB0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZCk7CiAgICBoaWdocCB2ZWMzIG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGcwLngpKSAtIGFicyhnMC55KTsKICAgIGhpZ2hwIHZlYzIgXzMyNzsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8zMjcgPSBnMC54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMzI3ID0gb2N0YWhlZHJvbldyYXAoZzAueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzMyNy54LCBfMzI3LnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgaGlnaHAgdmVjMiBtZXRyb3VnaCA9IHVucGFja0Zsb2F0KGcwLnopOwogICAgaGlnaHAgdmVjNCBnMSA9IHRleHR1cmUoZ2J1ZmZlcjEsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzIgb2Njc3BlYyA9IHVucGFja0Zsb2F0MihnMS53KTsKICAgIGhpZ2hwIHZlYzMgYWxiZWRvID0gc3VyZmFjZUFsYmVkbyhnMS54eXosIG1ldHJvdWdoLngpOwogICAgaGlnaHAgZmxvYXQgZGVwdGggPSAoKDEuMCAtIGcwLncpICogMi4wKSAtIDEuMDsKICAgIGhpZ2hwIHZlYzMgcCA9IGdldFBvcyhleWUsIGV5ZUxvb2ssIHZpZXdSYXksIGRlcHRoLCBjYW1lcmFQcm9qKTsKICAgIGhpZ2hwIHZlYzMgdiA9IG5vcm1hbGl6ZShleWUgLSBwKTsKICAgIGhpZ2hwIGZsb2F0IGRvdE5WID0gbWF4KGRvdChuLCB2KSwgMC4wKTsKICAgIGhpZ2hwIHZlYzMgZjAgPSBzdXJmYWNlRjAoZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIGhpZ2hwIHZlYzIgZW52QlJERiA9IHRleHR1cmUoc2Vudm1hcEJyZGYsIHZlYzIobWV0cm91Z2gueSwgMS4wIC0gZG90TlYpKS54eTsKICAgIGhpZ2hwIHZlYzMgZW52bCA9IHNoSXJyYWRpYW5jZShuKTsKICAgIGhpZ2hwIHZlYzMgcmVmbGVjdGlvbldvcmxkID0gcmVmbGVjdCgtdiwgbik7CiAgICBoaWdocCBmbG9hdCBsb2QgPSBnZXRNaXBGcm9tUm91Z2huZXNzKG1ldHJvdWdoLnksIGZsb2F0KGVudm1hcE51bU1pcG1hcHMpKTsKICAgIGhpZ2hwIHZlYzMgcHJlZmlsdGVyZWRDb2xvciA9IHRleHR1cmVMb2Qoc2Vudm1hcFJhZGlhbmNlLCBlbnZNYXBFcXVpcmVjdChyZWZsZWN0aW9uV29ybGQpLCBsb2QpLnh5ejsKICAgIGVudmwgKj0gYWxiZWRvOwogICAgZW52bCArPSAoKChwcmVmaWx0ZXJlZENvbG9yICogKChmMCAqIGVudkJSREYueCkgKyB2ZWMzKGVudkJSREYueSkpKSAqIDEuNSkgKiBvY2NzcGVjLnkpOwogICAgZW52bCAqPSAoZW52bWFwU3RyZW5ndGggKiBvY2NzcGVjLngpOwogICAgZnJhZ0NvbG9yID0gdmVjNChlbnZsLngsIGVudmwueSwgZW52bC56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF80NzAgPSBmcmFnQ29sb3IueHl6ICogdGV4dHVyZShzc2FvdGV4LCB0ZXhDb29yZCkueDsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzQ3MC54LCBfNDcwLnksIF80NzAueiwgZnJhZ0NvbG9yLncpOwp9Cgo";kha_Shaders.deferred_indirect_vertData0="s504:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDQgaW52VlA7CnVuaWZvcm0gdmVjMyBleWU7CgpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiBwb3M7Cm91dCB2ZWMzIHZpZXdSYXk7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwogICAgdmVjNCB2ID0gdmVjNChwb3MueCwgcG9zLnksIDEuMCwgMS4wKTsKICAgIHYgPSB2ZWM0KGludlZQICogdik7CiAgICB2ZWMzIF82MiA9IHYueHl6IC8gdmVjMyh2LncpOwogICAgdiA9IHZlYzQoXzYyLngsIF82Mi55LCBfNjIueiwgdi53KTsKICAgIHZpZXdSYXkgPSB2Lnh5eiAtIGV5ZTsKfQoK";kha_Shaders.deferred_indirect_vertData1="s579:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBpbnZWUDsKdW5pZm9ybSBtZWRpdW1wIHZlYzMgZXllOwoKb3V0IG1lZGl1bXAgdmVjMiB0ZXhDb29yZDsKaW4gbWVkaXVtcCB2ZWMyIHBvczsKb3V0IG1lZGl1bXAgdmVjMyB2aWV3UmF5OwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKICAgIG1lZGl1bXAgdmVjNCB2ID0gdmVjNChwb3MueCwgcG9zLnksIDEuMCwgMS4wKTsKICAgIHYgPSB2ZWM0KGludlZQICogdik7CiAgICBtZWRpdW1wIHZlYzMgXzYyID0gdi54eXogLyB2ZWMzKHYudyk7CiAgICB2ID0gdmVjNChfNjIueCwgXzYyLnksIF82Mi56LCB2LncpOwogICAgdmlld1JheSA9IHYueHl6IC0gZXllOwp9Cgo";kha_Shaders.deferred_indirect_vertData2="s504:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDQgaW52VlA7CnVuaWZvcm0gdmVjMyBleWU7CgpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiBwb3M7Cm91dCB2ZWMzIHZpZXdSYXk7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwogICAgdmVjNCB2ID0gdmVjNChwb3MueCwgcG9zLnksIDEuMCwgMS4wKTsKICAgIHYgPSB2ZWM0KGludlZQICogdik7CiAgICB2ZWMzIF82MiA9IHYueHl6IC8gdmVjMyh2LncpOwogICAgdiA9IHZlYzQoXzYyLngsIF82Mi55LCBfNjIueiwgdi53KTsKICAgIHZpZXdSYXkgPSB2Lnh5eiAtIGV5ZTsKfQoK";kha_Shaders.deferred_light_fragData0="s12292:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGdidWZmZXIxOwp1bmlmb3JtIGhpZ2hwIG1hdDQgaW52VlA7CnVuaWZvcm0gaGlnaHAgdmVjMyBleWU7CnVuaWZvcm0gaGlnaHAgdmVjMyBsaWdodFBvczsKdW5pZm9ybSBpbnQgbGlnaHRTaGFkb3c7CnVuaWZvcm0gaGlnaHAgbWF0NCBMV1ZQOwp1bmlmb3JtIGhpZ2hwIGZsb2F0IHNoYWRvd3NCaWFzOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzaGFkb3dNYXA7CnVuaWZvcm0gaGlnaHAgc2FtcGxlckN1YmUgc2hhZG93TWFwQ3ViZTsKdW5pZm9ybSBoaWdocCB2ZWMyIGxpZ2h0UHJvajsKdW5pZm9ybSBpbnQgbGlnaHRUeXBlOwp1bmlmb3JtIGhpZ2hwIHZlYzMgbGlnaHREaXI7CnVuaWZvcm0gaGlnaHAgdmVjMiBzcG90bGlnaHREYXRhOwp1bmlmb3JtIGhpZ2hwIHZlYzMgbGlnaHRDb2xvcjsKdW5pZm9ybSBoaWdocCB2ZWM0IGNhc0RhdGFbMjBdOwoKaW4gaGlnaHAgdmVjNCB3dnBwb3NpdGlvbjsKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yOwoKaGlnaHAgdmVjMiB1bnBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZikKewogICAgcmV0dXJuIHZlYzIoZmxvb3IoZikgLyAyNTUuMCwgZnJhY3QoZikpOwp9CgpoaWdocCB2ZWMyIG9jdGFoZWRyb25XcmFwKGhpZ2hwIHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAoLTEuMCksICh2LnkgPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSk7Cn0KCmhpZ2hwIHZlYzMgZ2V0UG9zMihoaWdocCBtYXQ0IGludlZQXzEsIGhpZ2hwIGZsb2F0IGRlcHRoLCBoaWdocCB2ZWMyIGNvb3JkKQp7CiAgICBoaWdocCB2ZWM0IHBvcyA9IHZlYzQoKGNvb3JkICogMi4wKSAtIHZlYzIoMS4wKSwgZGVwdGgsIDEuMCk7CiAgICBwb3MgPSBpbnZWUF8xICogcG9zOwogICAgaGlnaHAgdmVjMyBfNTAzID0gcG9zLnh5eiAvIHZlYzMocG9zLncpOwogICAgcG9zID0gdmVjNChfNTAzLngsIF81MDMueSwgXzUwMy56LCBwb3Mudyk7CiAgICByZXR1cm4gcG9zLnh5ejsKfQoKaGlnaHAgdmVjMiB1bnBhY2tGbG9hdChoaWdocCBmbG9hdCBmKQp7CiAgICByZXR1cm4gdmVjMihmbG9vcihmKSAvIDEwMC4wLCBmcmFjdChmKSk7Cn0KCmhpZ2hwIHZlYzMgc3VyZmFjZUFsYmVkbyhoaWdocCB2ZWMzIGJhc2VDb2xvciwgaGlnaHAgZmxvYXQgbWV0YWxuZXNzKQp7CiAgICByZXR1cm4gbWl4KGJhc2VDb2xvciwgdmVjMygwLjApLCB2ZWMzKG1ldGFsbmVzcykpOwp9CgpoaWdocCB2ZWMzIHN1cmZhY2VGMChoaWdocCB2ZWMzIGJhc2VDb2xvciwgaGlnaHAgZmxvYXQgbWV0YWxuZXNzKQp7CiAgICByZXR1cm4gbWl4KHZlYzMoMC4wMzk5OTk5OTkxMDU5MzAzMjgzNjkxNDA2MjUpLCBiYXNlQ29sb3IsIHZlYzMobWV0YWxuZXNzKSk7Cn0KCmhpZ2hwIGZsb2F0IHNoYWRvd0NvbXBhcmUoaGlnaHAgc2FtcGxlcjJEIHNoYWRvd01hcF8xLCBoaWdocCB2ZWMyIHV2LCBoaWdocCBmbG9hdCBjb21wYXJlKQp7CiAgICBoaWdocCBmbG9hdCBkZXB0aCA9IHRleHR1cmUoc2hhZG93TWFwXzEsIHV2KS54OwogICAgcmV0dXJuIHN0ZXAoY29tcGFyZSwgZGVwdGgpOwp9CgpoaWdocCBmbG9hdCBzaGFkb3dMZXJwKGhpZ2hwIHNhbXBsZXIyRCBzaGFkb3dNYXBfMSwgaGlnaHAgdmVjMiB1diwgaGlnaHAgZmxvYXQgY29tcGFyZSwgaGlnaHAgdmVjMiBzbVNpemUpCnsKICAgIGhpZ2hwIHZlYzIgdGV4ZWxTaXplID0gdmVjMigxLjApIC8gc21TaXplOwogICAgaGlnaHAgdmVjMiBmID0gZnJhY3QoKHV2ICogc21TaXplKSArIHZlYzIoMC41KSk7CiAgICBoaWdocCB2ZWMyIGNlbnRyb2lkVVYgPSBmbG9vcigodXYgKiBzbVNpemUpICsgdmVjMigwLjUpKSAvIHNtU2l6ZTsKICAgIGhpZ2hwIGZsb2F0IGxiID0gc2hhZG93Q29tcGFyZShzaGFkb3dNYXBfMSwgY2VudHJvaWRVViwgY29tcGFyZSk7CiAgICBoaWdocCBmbG9hdCBsdCA9IHNoYWRvd0NvbXBhcmUoc2hhZG93TWFwXzEsIGNlbnRyb2lkVVYgKyAodGV4ZWxTaXplICogdmVjMigwLjAsIDEuMCkpLCBjb21wYXJlKTsKICAgIGhpZ2hwIGZsb2F0IHJiID0gc2hhZG93Q29tcGFyZShzaGFkb3dNYXBfMSwgY2VudHJvaWRVViArICh0ZXhlbFNpemUgKiB2ZWMyKDEuMCwgMC4wKSksIGNvbXBhcmUpOwogICAgaGlnaHAgZmxvYXQgcnQgPSBzaGFkb3dDb21wYXJlKHNoYWRvd01hcF8xLCBjZW50cm9pZFVWICsgdGV4ZWxTaXplLCBjb21wYXJlKTsKICAgIGhpZ2hwIGZsb2F0IGEgPSBtaXgobGIsIGx0LCBmLnkpOwogICAgaGlnaHAgZmxvYXQgYiA9IG1peChyYiwgcnQsIGYueSk7CiAgICBoaWdocCBmbG9hdCBjID0gbWl4KGEsIGIsIGYueCk7CiAgICByZXR1cm4gYzsKfQoKaGlnaHAgZmxvYXQgUENGKGhpZ2hwIHNhbXBsZXIyRCBzaGFkb3dNYXBfMSwgaGlnaHAgdmVjMiB1diwgaGlnaHAgZmxvYXQgY29tcGFyZSwgaGlnaHAgdmVjMiBzbVNpemUpCnsKICAgIGhpZ2hwIGZsb2F0IHJlc3VsdCA9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoLTEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoLTEuMCwgMC4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigtMS4wLCAxLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKDAuMCwgLTEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2LCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoMC4wLCAxLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKDEuMCwgLTEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoMS4wLCAwLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKDEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmV0dXJuIHJlc3VsdCAvIDkuMDsKfQoKaGlnaHAgZmxvYXQgc2hhZG93VGVzdChoaWdocCBzYW1wbGVyMkQgc2hhZG93TWFwXzEsIGhpZ2hwIHZlYzMgbFBvcywgaGlnaHAgZmxvYXQgc2hhZG93c0JpYXNfMSwgaGlnaHAgdmVjMiBzbVNpemUpCnsKICAgIGJvb2wgXzQ0NSA9IGxQb3MueCA8IDAuMDsKICAgIGJvb2wgXzQ1MTsKICAgIGlmICghXzQ0NSkKICAgIHsKICAgICAgICBfNDUxID0gbFBvcy55IDwgMC4wOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF80NTEgPSBfNDQ1OwogICAgfQogICAgYm9vbCBfNDU3OwogICAgaWYgKCFfNDUxKQogICAgewogICAgICAgIF80NTcgPSBsUG9zLnggPiAxLjA7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzQ1NyA9IF80NTE7CiAgICB9CiAgICBib29sIF80NjM7CiAgICBpZiAoIV80NTcpCiAgICB7CiAgICAgICAgXzQ2MyA9IGxQb3MueSA%IDEuMDsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNDYzID0gXzQ1NzsKICAgIH0KICAgIGlmIChfNDYzKQogICAgewogICAgICAgIHJldHVybiAxLjA7CiAgICB9CiAgICByZXR1cm4gUENGKHNoYWRvd01hcF8xLCBsUG9zLnh5LCBsUG9zLnogLSBzaGFkb3dzQmlhc18xLCBzbVNpemUpOwp9CgpoaWdocCBmbG9hdCBscFRvRGVwdGgoaW5vdXQgaGlnaHAgdmVjMyBscCwgaGlnaHAgdmVjMiBsaWdodFByb2pfMSkKewogICAgbHAgPSBhYnMobHApOwogICAgaGlnaHAgZmxvYXQgemNvbXAgPSBtYXgobHAueCwgbWF4KGxwLnksIGxwLnopKTsKICAgIHpjb21wID0gbGlnaHRQcm9qXzEueCAtIChsaWdodFByb2pfMS55IC8gemNvbXApOwogICAgcmV0dXJuICh6Y29tcCAqIDAuNSkgKyAwLjU7Cn0KCmhpZ2hwIGZsb2F0IFBDRkN1YmUoaGlnaHAgc2FtcGxlckN1YmUgc2hhZG93TWFwQ3ViZV8xLCBoaWdocCB2ZWMzIGxwLCBpbm91dCBoaWdocCB2ZWMzIG1sLCBoaWdocCBmbG9hdCBiaWFzLCBoaWdocCB2ZWMyIGxpZ2h0UHJval8xLCBoaWdocCB2ZWMzIG4pCnsKICAgIGhpZ2hwIHZlYzMgcGFyYW0gPSBscCAtIChuICogMC4wMDMwMDAwMDAwMjYwNzcwMzIwODkyMzMzOTg0Mzc1KTsKICAgIGhpZ2hwIGZsb2F0IF8zNDIgPSBscFRvRGVwdGgocGFyYW0sIGxpZ2h0UHJval8xKTsKICAgIGhpZ2hwIGZsb2F0IGNvbXBhcmUgPSBfMzQyIC0gKGJpYXMgKiAwLjQwMDAwMDAwNTk2MDQ2NDQ3NzUzOTA2MjUpOwogICAgbWwgKz0gKG4gKiAwLjAwMzAwMDAwMDAyNjA3NzAzMjA4OTIzMzM5ODQzNzUpOwogICAgaGlnaHAgZmxvYXQgcmVzdWx0ID0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sICsgdmVjMygwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sICsgdmVjMygtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sICsgdmVjMygwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sICsgdmVjMygwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sICsgdmVjMygtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmUoc2hhZG93TWFwQ3ViZV8xLCBtbCArIHZlYzMoMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sICsgdmVjMygtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCAvPSA5LjA7CiAgICByZXR1cm4gcmVzdWx0Owp9CgpoaWdocCBmbG9hdCBhdHRlbnVhdGUoaGlnaHAgZmxvYXQgZGlzdCkKewogICAgcmV0dXJuIDEuMCAvIChkaXN0ICogZGlzdCk7Cn0KCmhpZ2hwIHZlYzMgbGFtYmVydERpZmZ1c2VCUkRGKGhpZ2hwIHZlYzMgYWxiZWRvLCBoaWdocCBmbG9hdCBubCkKewogICAgcmV0dXJuIGFsYmVkbyAqIG1heCgwLjAsIG5sKTsKfQoKaGlnaHAgZmxvYXQgZF9nZ3goaGlnaHAgZmxvYXQgbmgsIGhpZ2hwIGZsb2F0IGEpCnsKICAgIGhpZ2hwIGZsb2F0IGEyID0gYSAqIGE7CiAgICBoaWdocCBmbG9hdCBkZW5vbSA9IHBvdygoKG5oICogbmgpICogKGEyIC0gMS4wKSkgKyAxLjAsIDIuMCk7CiAgICByZXR1cm4gKGEyICogMC4zMTgzMDk4NzMzNDI1MTQwMzgwODU5Mzc1KSAvIGRlbm9tOwp9CgpoaWdocCBmbG9hdCB2X3NtaXRoc2NobGljayhoaWdocCBmbG9hdCBubCwgaGlnaHAgZmxvYXQgbnYsIGhpZ2hwIGZsb2F0IGEpCnsKICAgIHJldHVybiAxLjAgLyAoKChubCAqICgxLjAgLSBhKSkgKyBhKSAqICgobnYgKiAoMS4wIC0gYSkpICsgYSkpOwp9CgpoaWdocCB2ZWMzIGZfc2NobGljayhoaWdocCB2ZWMzIGYwLCBoaWdocCBmbG9hdCB2aCkKewogICAgcmV0dXJuIGYwICsgKCh2ZWMzKDEuMCkgLSBmMCkgKiBleHAyKCgoKC01LjU1NDcyOTkzODUwNzA4MDA3ODEyNSkgKiB2aCkgLSA2Ljk4MzE2MDAxODkyMDg5ODQzNzUpICogdmgpKTsKfQoKaGlnaHAgdmVjMyBzcGVjdWxhckJSREYoaGlnaHAgdmVjMyBmMCwgaGlnaHAgZmxvYXQgcm91Z2huZXNzLCBoaWdocCBmbG9hdCBubCwgaGlnaHAgZmxvYXQgbmgsIGhpZ2hwIGZsb2F0IG52LCBoaWdocCBmbG9hdCB2aCkKewogICAgaGlnaHAgZmxvYXQgYSA9IHJvdWdobmVzcyAqIHJvdWdobmVzczsKICAgIHJldHVybiAoZl9zY2hsaWNrKGYwLCB2aCkgKiAoZF9nZ3gobmgsIGEpICogY2xhbXAodl9zbWl0aHNjaGxpY2sobmwsIG52LCBhKSwgMC4wLCAxLjApKSkgLyB2ZWMzKDQuMCk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzIgdGV4Q29vcmQgPSB3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udyk7CiAgICB0ZXhDb29yZCA9ICh0ZXhDb29yZCAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWM0IGcwID0gdGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmQpOwogICAgaGlnaHAgdmVjNCBnMSA9IHRleHR1cmUoZ2J1ZmZlcjEsIHRleENvb3JkKTsKICAgIGhpZ2hwIGZsb2F0IHNwZWMgPSB1bnBhY2tGbG9hdDIoZzEudykueTsKICAgIGhpZ2hwIGZsb2F0IGRlcHRoID0gKCgxLjAgLSBnMC53KSAqIDIuMCkgLSAxLjA7CiAgICBoaWdocCB2ZWMzIG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGcwLngpKSAtIGFicyhnMC55KTsKICAgIGhpZ2hwIHZlYzIgXzU3MjsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF81NzIgPSBnMC54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNTcyID0gb2N0YWhlZHJvbldyYXAoZzAueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzU3Mi54LCBfNTcyLnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgaGlnaHAgdmVjMyBwID0gZ2V0UG9zMihpbnZWUCwgZGVwdGgsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzIgbWV0cm91Z2ggPSB1bnBhY2tGbG9hdChnMC56KTsKICAgIGhpZ2hwIHZlYzMgdiA9IG5vcm1hbGl6ZShleWUgLSBwKTsKICAgIGhpZ2hwIGZsb2F0IGRvdE5WID0gZG90KG4sIHYpOwogICAgaGlnaHAgdmVjMyBhbGJlZG8gPSBzdXJmYWNlQWxiZWRvKGcxLnh5eiwgbWV0cm91Z2gueCk7CiAgICBoaWdocCB2ZWMzIGYwID0gc3VyZmFjZUYwKGcxLnh5eiwgbWV0cm91Z2gueCk7CiAgICBoaWdocCB2ZWMzIGxwID0gbGlnaHRQb3MgLSBwOwogICAgaGlnaHAgdmVjMyBsID0gbm9ybWFsaXplKGxwKTsKICAgIGhpZ2hwIHZlYzMgaCA9IG5vcm1hbGl6ZSh2ICsgbCk7CiAgICBoaWdocCBmbG9hdCBkb3ROSCA9IGRvdChuLCBoKTsKICAgIGhpZ2hwIGZsb2F0IGRvdFZIID0gZG90KHYsIGgpOwogICAgaGlnaHAgZmxvYXQgZG90TkwgPSBkb3QobiwgbCk7CiAgICBoaWdocCBmbG9hdCB2aXNpYmlsaXR5ID0gMS4wOwogICAgaWYgKGxpZ2h0U2hhZG93ID09IDEpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjNCBsUG9zID0gTFdWUCAqIHZlYzQocCArICgobiAqIHNoYWRvd3NCaWFzKSAqIDEwLjApLCAxLjApOwogICAgICAgIGlmIChsUG9zLncgPiAwLjApCiAgICAgICAgewogICAgICAgICAgICB2aXNpYmlsaXR5ID0gc2hhZG93VGVzdChzaGFkb3dNYXAsIGxQb3MueHl6IC8gdmVjMyhsUG9zLncpLCBzaGFkb3dzQmlhcywgdmVjMigyMDQ4LjApKTsKICAgICAgICB9CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgaWYgKGxpZ2h0U2hhZG93ID09IDIpCiAgICAgICAgewogICAgICAgICAgICBoaWdocCB2ZWMzIHBhcmFtID0gLWw7CiAgICAgICAgICAgIGhpZ2hwIGZsb2F0IF83MDMgPSBQQ0ZDdWJlKHNoYWRvd01hcEN1YmUsIGxwLCBwYXJhbSwgc2hhZG93c0JpYXMsIGxpZ2h0UHJvaiwgbik7CiAgICAgICAgICAgIHZpc2liaWxpdHkgPSBfNzAzOwogICAgICAgIH0KICAgIH0KICAgIHZpc2liaWxpdHkgKj0gYXR0ZW51YXRlKGRpc3RhbmNlKHAsIGxpZ2h0UG9zKSk7CiAgICBpZiAobGlnaHRUeXBlID09IDIpCiAgICB7CiAgICAgICAgaGlnaHAgZmxvYXQgc3BvdEVmZmVjdCA9IGRvdChsaWdodERpciwgbCk7CiAgICAgICAgaWYgKHNwb3RFZmZlY3QgPCBzcG90bGlnaHREYXRhLngpCiAgICAgICAgewogICAgICAgICAgICB2aXNpYmlsaXR5ICo9IHNtb290aHN0ZXAoc3BvdGxpZ2h0RGF0YS55LCBzcG90bGlnaHREYXRhLngsIHNwb3RFZmZlY3QpOwogICAgICAgIH0KICAgIH0KICAgIGhpZ2hwIHZlYzMgXzc1MCA9IGxhbWJlcnREaWZmdXNlQlJERihhbGJlZG8sIGRvdE5MKSArIChzcGVjdWxhckJSREYoZjAsIG1ldHJvdWdoLnksIGRvdE5MLCBkb3ROSCwgZG90TlYsIGRvdFZIKSAqIHNwZWMpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfNzUwLngsIF83NTAueSwgXzc1MC56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF83NTcgPSBmcmFnQ29sb3IueHl6ICogbGlnaHRDb2xvcjsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzc1Ny54LCBfNzU3LnksIF83NTcueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfNzYzID0gZnJhZ0NvbG9yLnh5eiAqIHZpc2liaWxpdHk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83NjMueCwgXzc2My55LCBfNzYzLnosIGZyYWdDb2xvci53KTsKfQoK";kha_Shaders.deferred_light_fragData1="s11335:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIGdidWZmZXIwOwp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIGdidWZmZXIxOwp1bmlmb3JtIG1hdDQgaW52VlA7CnVuaWZvcm0gdmVjMyBleWU7CnVuaWZvcm0gdmVjMyBsaWdodFBvczsKdW5pZm9ybSBpbnQgbGlnaHRTaGFkb3c7CnVuaWZvcm0gbWF0NCBMV1ZQOwp1bmlmb3JtIGZsb2F0IHNoYWRvd3NCaWFzOwp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHNoYWRvd01hcDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXJDdWJlIHNoYWRvd01hcEN1YmU7CnVuaWZvcm0gdmVjMiBsaWdodFByb2o7CnVuaWZvcm0gaW50IGxpZ2h0VHlwZTsKdW5pZm9ybSB2ZWMzIGxpZ2h0RGlyOwp1bmlmb3JtIHZlYzIgc3BvdGxpZ2h0RGF0YTsKdW5pZm9ybSB2ZWMzIGxpZ2h0Q29sb3I7CnVuaWZvcm0gdmVjNCBjYXNEYXRhWzIwXTsKCmluIHZlYzQgd3ZwcG9zaXRpb247Cm91dCB2ZWM0IGZyYWdDb2xvcjsKCnZlYzIgdW5wYWNrRmxvYXQyKGZsb2F0IGYpCnsKICAgIHJldHVybiB2ZWMyKGZsb29yKGYpIC8gMjU1LjAsIGZyYWN0KGYpKTsKfQoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9Cgp2ZWMzIGdldFBvczIobWF0NCBpbnZWUF8xLCBmbG9hdCBkZXB0aCwgdmVjMiBjb29yZCkKewogICAgdmVjNCBwb3MgPSB2ZWM0KChjb29yZCAqIDIuMCkgLSB2ZWMyKDEuMCksIGRlcHRoLCAxLjApOwogICAgcG9zID0gaW52VlBfMSAqIHBvczsKICAgIHZlYzMgXzUwMyA9IHBvcy54eXogLyB2ZWMzKHBvcy53KTsKICAgIHBvcyA9IHZlYzQoXzUwMy54LCBfNTAzLnksIF81MDMueiwgcG9zLncpOwogICAgcmV0dXJuIHBvcy54eXo7Cn0KCnZlYzIgdW5wYWNrRmxvYXQoZmxvYXQgZikKewogICAgcmV0dXJuIHZlYzIoZmxvb3IoZikgLyAxMDAuMCwgZnJhY3QoZikpOwp9Cgp2ZWMzIHN1cmZhY2VBbGJlZG8odmVjMyBiYXNlQ29sb3IsIGZsb2F0IG1ldGFsbmVzcykKewogICAgcmV0dXJuIG1peChiYXNlQ29sb3IsIHZlYzMoMC4wKSwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKdmVjMyBzdXJmYWNlRjAodmVjMyBiYXNlQ29sb3IsIGZsb2F0IG1ldGFsbmVzcykKewogICAgcmV0dXJuIG1peCh2ZWMzKDAuMDM5OTk5OTk5MTA1OTMwMzI4MzY5MTQwNjI1KSwgYmFzZUNvbG9yLCB2ZWMzKG1ldGFsbmVzcykpOwp9CgpmbG9hdCBzaGFkb3dDb21wYXJlKG1lZGl1bXAgc2FtcGxlcjJEIHNoYWRvd01hcF8xLCB2ZWMyIHV2LCBmbG9hdCBjb21wYXJlKQp7CiAgICBmbG9hdCBkZXB0aCA9IHRleHR1cmUoc2hhZG93TWFwXzEsIHV2KS54OwogICAgcmV0dXJuIHN0ZXAoY29tcGFyZSwgZGVwdGgpOwp9CgpmbG9hdCBzaGFkb3dMZXJwKG1lZGl1bXAgc2FtcGxlcjJEIHNoYWRvd01hcF8xLCB2ZWMyIHV2LCBmbG9hdCBjb21wYXJlLCB2ZWMyIHNtU2l6ZSkKewogICAgdmVjMiB0ZXhlbFNpemUgPSB2ZWMyKDEuMCkgLyBzbVNpemU7CiAgICB2ZWMyIGYgPSBmcmFjdCgodXYgKiBzbVNpemUpICsgdmVjMigwLjUpKTsKICAgIHZlYzIgY2VudHJvaWRVViA9IGZsb29yKCh1diAqIHNtU2l6ZSkgKyB2ZWMyKDAuNSkpIC8gc21TaXplOwogICAgZmxvYXQgbGIgPSBzaGFkb3dDb21wYXJlKHNoYWRvd01hcF8xLCBjZW50cm9pZFVWLCBjb21wYXJlKTsKICAgIGZsb2F0IGx0ID0gc2hhZG93Q29tcGFyZShzaGFkb3dNYXBfMSwgY2VudHJvaWRVViArICh0ZXhlbFNpemUgKiB2ZWMyKDAuMCwgMS4wKSksIGNvbXBhcmUpOwogICAgZmxvYXQgcmIgPSBzaGFkb3dDb21wYXJlKHNoYWRvd01hcF8xLCBjZW50cm9pZFVWICsgKHRleGVsU2l6ZSAqIHZlYzIoMS4wLCAwLjApKSwgY29tcGFyZSk7CiAgICBmbG9hdCBydCA9IHNoYWRvd0NvbXBhcmUoc2hhZG93TWFwXzEsIGNlbnRyb2lkVVYgKyB0ZXhlbFNpemUsIGNvbXBhcmUpOwogICAgZmxvYXQgYSA9IG1peChsYiwgbHQsIGYueSk7CiAgICBmbG9hdCBiID0gbWl4KHJiLCBydCwgZi55KTsKICAgIGZsb2F0IGMgPSBtaXgoYSwgYiwgZi54KTsKICAgIHJldHVybiBjOwp9CgpmbG9hdCBQQ0YobWVkaXVtcCBzYW1wbGVyMkQgc2hhZG93TWFwXzEsIHZlYzIgdXYsIGZsb2F0IGNvbXBhcmUsIHZlYzIgc21TaXplKQp7CiAgICBmbG9hdCByZXN1bHQgPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKC0xLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKC0xLjAsIDAuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoLTEuMCwgMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigwLjAsIC0xLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKDAuMCwgMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigxLjAsIC0xLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKDEuMCwgMC4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigxLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJldHVybiByZXN1bHQgLyA5LjA7Cn0KCmZsb2F0IHNoYWRvd1Rlc3QobWVkaXVtcCBzYW1wbGVyMkQgc2hhZG93TWFwXzEsIHZlYzMgbFBvcywgZmxvYXQgc2hhZG93c0JpYXNfMSwgdmVjMiBzbVNpemUpCnsKICAgIGJvb2wgXzQ0NSA9IGxQb3MueCA8IDAuMDsKICAgIGJvb2wgXzQ1MTsKICAgIGlmICghXzQ0NSkKICAgIHsKICAgICAgICBfNDUxID0gbFBvcy55IDwgMC4wOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF80NTEgPSBfNDQ1OwogICAgfQogICAgYm9vbCBfNDU3OwogICAgaWYgKCFfNDUxKQogICAgewogICAgICAgIF80NTcgPSBsUG9zLnggPiAxLjA7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzQ1NyA9IF80NTE7CiAgICB9CiAgICBib29sIF80NjM7CiAgICBpZiAoIV80NTcpCiAgICB7CiAgICAgICAgXzQ2MyA9IGxQb3MueSA%IDEuMDsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNDYzID0gXzQ1NzsKICAgIH0KICAgIGlmIChfNDYzKQogICAgewogICAgICAgIHJldHVybiAxLjA7CiAgICB9CiAgICByZXR1cm4gUENGKHNoYWRvd01hcF8xLCBsUG9zLnh5LCBsUG9zLnogLSBzaGFkb3dzQmlhc18xLCBzbVNpemUpOwp9CgpmbG9hdCBscFRvRGVwdGgoaW5vdXQgdmVjMyBscCwgdmVjMiBsaWdodFByb2pfMSkKewogICAgbHAgPSBhYnMobHApOwogICAgZmxvYXQgemNvbXAgPSBtYXgobHAueCwgbWF4KGxwLnksIGxwLnopKTsKICAgIHpjb21wID0gbGlnaHRQcm9qXzEueCAtIChsaWdodFByb2pfMS55IC8gemNvbXApOwogICAgcmV0dXJuICh6Y29tcCAqIDAuNSkgKyAwLjU7Cn0KCmZsb2F0IFBDRkN1YmUobWVkaXVtcCBzYW1wbGVyQ3ViZSBzaGFkb3dNYXBDdWJlXzEsIHZlYzMgbHAsIGlub3V0IHZlYzMgbWwsIGZsb2F0IGJpYXMsIHZlYzIgbGlnaHRQcm9qXzEsIHZlYzMgbikKewogICAgdmVjMyBwYXJhbSA9IGxwIC0gKG4gKiAwLjAwMzAwMDAwMDAyNjA3NzAzMjA4OTIzMzM5ODQzNzUpOwogICAgZmxvYXQgXzM0MiA9IGxwVG9EZXB0aChwYXJhbSwgbGlnaHRQcm9qXzEpOwogICAgZmxvYXQgY29tcGFyZSA9IF8zNDIgLSAoYmlhcyAqIDAuNDAwMDAwMDA1OTYwNDY0NDc3NTM5MDYyNSk7CiAgICBtbCArPSAobiAqIDAuMDAzMDAwMDAwMDI2MDc3MDMyMDg5MjMzMzk4NDM3NSk7CiAgICBmbG9hdCByZXN1bHQgPSBzdGVwKGNvbXBhcmUsIHRleHR1cmUoc2hhZG93TWFwQ3ViZV8xLCBtbCkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwgKyB2ZWMzKDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwgKyB2ZWMzKDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwgKyB2ZWMzKDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sICsgdmVjMygwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmUoc2hhZG93TWFwQ3ViZV8xLCBtbCArIHZlYzMoLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0IC89IDkuMDsKICAgIHJldHVybiByZXN1bHQ7Cn0KCmZsb2F0IGF0dGVudWF0ZShmbG9hdCBkaXN0KQp7CiAgICByZXR1cm4gMS4wIC8gKGRpc3QgKiBkaXN0KTsKfQoKdmVjMyBsYW1iZXJ0RGlmZnVzZUJSREYodmVjMyBhbGJlZG8sIGZsb2F0IG5sKQp7CiAgICByZXR1cm4gYWxiZWRvICogbWF4KDAuMCwgbmwpOwp9CgpmbG9hdCBkX2dneChmbG9hdCBuaCwgZmxvYXQgYSkKewogICAgZmxvYXQgYTIgPSBhICogYTsKICAgIGZsb2F0IGRlbm9tID0gcG93KCgobmggKiBuaCkgKiAoYTIgLSAxLjApKSArIDEuMCwgMi4wKTsKICAgIHJldHVybiAoYTIgKiAwLjMxODMwOTg3MzM0MjUxNDAzODA4NTkzNzUpIC8gZGVub207Cn0KCmZsb2F0IHZfc21pdGhzY2hsaWNrKGZsb2F0IG5sLCBmbG9hdCBudiwgZmxvYXQgYSkKewogICAgcmV0dXJuIDEuMCAvICgoKG5sICogKDEuMCAtIGEpKSArIGEpICogKChudiAqICgxLjAgLSBhKSkgKyBhKSk7Cn0KCnZlYzMgZl9zY2hsaWNrKHZlYzMgZjAsIGZsb2F0IHZoKQp7CiAgICByZXR1cm4gZjAgKyAoKHZlYzMoMS4wKSAtIGYwKSAqIGV4cDIoKCgoLTUuNTU0NzI5OTM4NTA3MDgwMDc4MTI1KSAqIHZoKSAtIDYuOTgzMTYwMDE4OTIwODk4NDM3NSkgKiB2aCkpOwp9Cgp2ZWMzIHNwZWN1bGFyQlJERih2ZWMzIGYwLCBmbG9hdCByb3VnaG5lc3MsIGZsb2F0IG5sLCBmbG9hdCBuaCwgZmxvYXQgbnYsIGZsb2F0IHZoKQp7CiAgICBmbG9hdCBhID0gcm91Z2huZXNzICogcm91Z2huZXNzOwogICAgcmV0dXJuIChmX3NjaGxpY2soZjAsIHZoKSAqIChkX2dneChuaCwgYSkgKiBjbGFtcCh2X3NtaXRoc2NobGljayhubCwgbnYsIGEpLCAwLjAsIDEuMCkpKSAvIHZlYzMoNC4wKTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjMiB0ZXhDb29yZCA9IHd2cHBvc2l0aW9uLnh5IC8gdmVjMih3dnBwb3NpdGlvbi53KTsKICAgIHRleENvb3JkID0gKHRleENvb3JkICogMC41KSArIHZlYzIoMC41KTsKICAgIHZlYzQgZzAgPSB0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZCk7CiAgICB2ZWM0IGcxID0gdGV4dHVyZShnYnVmZmVyMSwgdGV4Q29vcmQpOwogICAgZmxvYXQgc3BlYyA9IHVucGFja0Zsb2F0MihnMS53KS55OwogICAgZmxvYXQgZGVwdGggPSAoKDEuMCAtIGcwLncpICogMi4wKSAtIDEuMDsKICAgIHZlYzMgbjsKICAgIG4ueiA9ICgxLjAgLSBhYnMoZzAueCkpIC0gYWJzKGcwLnkpOwogICAgdmVjMiBfNTcyOwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzU3MiA9IGcwLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF81NzIgPSBvY3RhaGVkcm9uV3JhcChnMC54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfNTcyLngsIF81NzIueSwgbi56KTsKICAgIG4gPSBub3JtYWxpemUobik7CiAgICB2ZWMzIHAgPSBnZXRQb3MyKGludlZQLCBkZXB0aCwgdGV4Q29vcmQpOwogICAgdmVjMiBtZXRyb3VnaCA9IHVucGFja0Zsb2F0KGcwLnopOwogICAgdmVjMyB2ID0gbm9ybWFsaXplKGV5ZSAtIHApOwogICAgZmxvYXQgZG90TlYgPSBkb3Qobiwgdik7CiAgICB2ZWMzIGFsYmVkbyA9IHN1cmZhY2VBbGJlZG8oZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIHZlYzMgZjAgPSBzdXJmYWNlRjAoZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIHZlYzMgbHAgPSBsaWdodFBvcyAtIHA7CiAgICB2ZWMzIGwgPSBub3JtYWxpemUobHApOwogICAgdmVjMyBoID0gbm9ybWFsaXplKHYgKyBsKTsKICAgIGZsb2F0IGRvdE5IID0gZG90KG4sIGgpOwogICAgZmxvYXQgZG90VkggPSBkb3QodiwgaCk7CiAgICBmbG9hdCBkb3ROTCA9IGRvdChuLCBsKTsKICAgIGZsb2F0IHZpc2liaWxpdHkgPSAxLjA7CiAgICBpZiAobGlnaHRTaGFkb3cgPT0gMSkKICAgIHsKICAgICAgICB2ZWM0IGxQb3MgPSBMV1ZQICogdmVjNChwICsgKChuICogc2hhZG93c0JpYXMpICogMTAuMCksIDEuMCk7CiAgICAgICAgaWYgKGxQb3MudyA%IDAuMCkKICAgICAgICB7CiAgICAgICAgICAgIHZpc2liaWxpdHkgPSBzaGFkb3dUZXN0KHNoYWRvd01hcCwgbFBvcy54eXogLyB2ZWMzKGxQb3MudyksIHNoYWRvd3NCaWFzLCB2ZWMyKDIwNDguMCkpOwogICAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBpZiAobGlnaHRTaGFkb3cgPT0gMikKICAgICAgICB7CiAgICAgICAgICAgIHZlYzMgcGFyYW0gPSAtbDsKICAgICAgICAgICAgZmxvYXQgXzcwMyA9IFBDRkN1YmUoc2hhZG93TWFwQ3ViZSwgbHAsIHBhcmFtLCBzaGFkb3dzQmlhcywgbGlnaHRQcm9qLCBuKTsKICAgICAgICAgICAgdmlzaWJpbGl0eSA9IF83MDM7CiAgICAgICAgfQogICAgfQogICAgdmlzaWJpbGl0eSAqPSBhdHRlbnVhdGUoZGlzdGFuY2UocCwgbGlnaHRQb3MpKTsKICAgIGlmIChsaWdodFR5cGUgPT0gMikKICAgIHsKICAgICAgICBmbG9hdCBzcG90RWZmZWN0ID0gZG90KGxpZ2h0RGlyLCBsKTsKICAgICAgICBpZiAoc3BvdEVmZmVjdCA8IHNwb3RsaWdodERhdGEueCkKICAgICAgICB7CiAgICAgICAgICAgIHZpc2liaWxpdHkgKj0gc21vb3Roc3RlcChzcG90bGlnaHREYXRhLnksIHNwb3RsaWdodERhdGEueCwgc3BvdEVmZmVjdCk7CiAgICAgICAgfQogICAgfQogICAgdmVjMyBfNzUwID0gbGFtYmVydERpZmZ1c2VCUkRGKGFsYmVkbywgZG90TkwpICsgKHNwZWN1bGFyQlJERihmMCwgbWV0cm91Z2gueSwgZG90TkwsIGRvdE5ILCBkb3ROViwgZG90VkgpICogc3BlYyk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83NTAueCwgXzc1MC55LCBfNzUwLnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzc1NyA9IGZyYWdDb2xvci54eXogKiBsaWdodENvbG9yOwogICAgZnJhZ0NvbG9yID0gdmVjNChfNzU3LngsIF83NTcueSwgXzc1Ny56LCBmcmFnQ29sb3Iudyk7CiAgICB2ZWMzIF83NjMgPSBmcmFnQ29sb3IueHl6ICogdmlzaWJpbGl0eTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzc2My54LCBfNzYzLnksIF83NjMueiwgZnJhZ0NvbG9yLncpOwp9Cgo";kha_Shaders.deferred_light_fragData2="s12292:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGdidWZmZXIxOwp1bmlmb3JtIGhpZ2hwIG1hdDQgaW52VlA7CnVuaWZvcm0gaGlnaHAgdmVjMyBleWU7CnVuaWZvcm0gaGlnaHAgdmVjMyBsaWdodFBvczsKdW5pZm9ybSBpbnQgbGlnaHRTaGFkb3c7CnVuaWZvcm0gaGlnaHAgbWF0NCBMV1ZQOwp1bmlmb3JtIGhpZ2hwIGZsb2F0IHNoYWRvd3NCaWFzOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzaGFkb3dNYXA7CnVuaWZvcm0gaGlnaHAgc2FtcGxlckN1YmUgc2hhZG93TWFwQ3ViZTsKdW5pZm9ybSBoaWdocCB2ZWMyIGxpZ2h0UHJvajsKdW5pZm9ybSBpbnQgbGlnaHRUeXBlOwp1bmlmb3JtIGhpZ2hwIHZlYzMgbGlnaHREaXI7CnVuaWZvcm0gaGlnaHAgdmVjMiBzcG90bGlnaHREYXRhOwp1bmlmb3JtIGhpZ2hwIHZlYzMgbGlnaHRDb2xvcjsKdW5pZm9ybSBoaWdocCB2ZWM0IGNhc0RhdGFbMjBdOwoKaW4gaGlnaHAgdmVjNCB3dnBwb3NpdGlvbjsKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yOwoKaGlnaHAgdmVjMiB1bnBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZikKewogICAgcmV0dXJuIHZlYzIoZmxvb3IoZikgLyAyNTUuMCwgZnJhY3QoZikpOwp9CgpoaWdocCB2ZWMyIG9jdGFoZWRyb25XcmFwKGhpZ2hwIHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAoLTEuMCksICh2LnkgPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSk7Cn0KCmhpZ2hwIHZlYzMgZ2V0UG9zMihoaWdocCBtYXQ0IGludlZQXzEsIGhpZ2hwIGZsb2F0IGRlcHRoLCBoaWdocCB2ZWMyIGNvb3JkKQp7CiAgICBoaWdocCB2ZWM0IHBvcyA9IHZlYzQoKGNvb3JkICogMi4wKSAtIHZlYzIoMS4wKSwgZGVwdGgsIDEuMCk7CiAgICBwb3MgPSBpbnZWUF8xICogcG9zOwogICAgaGlnaHAgdmVjMyBfNTAzID0gcG9zLnh5eiAvIHZlYzMocG9zLncpOwogICAgcG9zID0gdmVjNChfNTAzLngsIF81MDMueSwgXzUwMy56LCBwb3Mudyk7CiAgICByZXR1cm4gcG9zLnh5ejsKfQoKaGlnaHAgdmVjMiB1bnBhY2tGbG9hdChoaWdocCBmbG9hdCBmKQp7CiAgICByZXR1cm4gdmVjMihmbG9vcihmKSAvIDEwMC4wLCBmcmFjdChmKSk7Cn0KCmhpZ2hwIHZlYzMgc3VyZmFjZUFsYmVkbyhoaWdocCB2ZWMzIGJhc2VDb2xvciwgaGlnaHAgZmxvYXQgbWV0YWxuZXNzKQp7CiAgICByZXR1cm4gbWl4KGJhc2VDb2xvciwgdmVjMygwLjApLCB2ZWMzKG1ldGFsbmVzcykpOwp9CgpoaWdocCB2ZWMzIHN1cmZhY2VGMChoaWdocCB2ZWMzIGJhc2VDb2xvciwgaGlnaHAgZmxvYXQgbWV0YWxuZXNzKQp7CiAgICByZXR1cm4gbWl4KHZlYzMoMC4wMzk5OTk5OTkxMDU5MzAzMjgzNjkxNDA2MjUpLCBiYXNlQ29sb3IsIHZlYzMobWV0YWxuZXNzKSk7Cn0KCmhpZ2hwIGZsb2F0IHNoYWRvd0NvbXBhcmUoaGlnaHAgc2FtcGxlcjJEIHNoYWRvd01hcF8xLCBoaWdocCB2ZWMyIHV2LCBoaWdocCBmbG9hdCBjb21wYXJlKQp7CiAgICBoaWdocCBmbG9hdCBkZXB0aCA9IHRleHR1cmUoc2hhZG93TWFwXzEsIHV2KS54OwogICAgcmV0dXJuIHN0ZXAoY29tcGFyZSwgZGVwdGgpOwp9CgpoaWdocCBmbG9hdCBzaGFkb3dMZXJwKGhpZ2hwIHNhbXBsZXIyRCBzaGFkb3dNYXBfMSwgaGlnaHAgdmVjMiB1diwgaGlnaHAgZmxvYXQgY29tcGFyZSwgaGlnaHAgdmVjMiBzbVNpemUpCnsKICAgIGhpZ2hwIHZlYzIgdGV4ZWxTaXplID0gdmVjMigxLjApIC8gc21TaXplOwogICAgaGlnaHAgdmVjMiBmID0gZnJhY3QoKHV2ICogc21TaXplKSArIHZlYzIoMC41KSk7CiAgICBoaWdocCB2ZWMyIGNlbnRyb2lkVVYgPSBmbG9vcigodXYgKiBzbVNpemUpICsgdmVjMigwLjUpKSAvIHNtU2l6ZTsKICAgIGhpZ2hwIGZsb2F0IGxiID0gc2hhZG93Q29tcGFyZShzaGFkb3dNYXBfMSwgY2VudHJvaWRVViwgY29tcGFyZSk7CiAgICBoaWdocCBmbG9hdCBsdCA9IHNoYWRvd0NvbXBhcmUoc2hhZG93TWFwXzEsIGNlbnRyb2lkVVYgKyAodGV4ZWxTaXplICogdmVjMigwLjAsIDEuMCkpLCBjb21wYXJlKTsKICAgIGhpZ2hwIGZsb2F0IHJiID0gc2hhZG93Q29tcGFyZShzaGFkb3dNYXBfMSwgY2VudHJvaWRVViArICh0ZXhlbFNpemUgKiB2ZWMyKDEuMCwgMC4wKSksIGNvbXBhcmUpOwogICAgaGlnaHAgZmxvYXQgcnQgPSBzaGFkb3dDb21wYXJlKHNoYWRvd01hcF8xLCBjZW50cm9pZFVWICsgdGV4ZWxTaXplLCBjb21wYXJlKTsKICAgIGhpZ2hwIGZsb2F0IGEgPSBtaXgobGIsIGx0LCBmLnkpOwogICAgaGlnaHAgZmxvYXQgYiA9IG1peChyYiwgcnQsIGYueSk7CiAgICBoaWdocCBmbG9hdCBjID0gbWl4KGEsIGIsIGYueCk7CiAgICByZXR1cm4gYzsKfQoKaGlnaHAgZmxvYXQgUENGKGhpZ2hwIHNhbXBsZXIyRCBzaGFkb3dNYXBfMSwgaGlnaHAgdmVjMiB1diwgaGlnaHAgZmxvYXQgY29tcGFyZSwgaGlnaHAgdmVjMiBzbVNpemUpCnsKICAgIGhpZ2hwIGZsb2F0IHJlc3VsdCA9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoLTEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoLTEuMCwgMC4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigtMS4wLCAxLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKDAuMCwgLTEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2LCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoMC4wLCAxLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKDEuMCwgLTEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoMS4wLCAwLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKDEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmV0dXJuIHJlc3VsdCAvIDkuMDsKfQoKaGlnaHAgZmxvYXQgc2hhZG93VGVzdChoaWdocCBzYW1wbGVyMkQgc2hhZG93TWFwXzEsIGhpZ2hwIHZlYzMgbFBvcywgaGlnaHAgZmxvYXQgc2hhZG93c0JpYXNfMSwgaGlnaHAgdmVjMiBzbVNpemUpCnsKICAgIGJvb2wgXzQ0NSA9IGxQb3MueCA8IDAuMDsKICAgIGJvb2wgXzQ1MTsKICAgIGlmICghXzQ0NSkKICAgIHsKICAgICAgICBfNDUxID0gbFBvcy55IDwgMC4wOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF80NTEgPSBfNDQ1OwogICAgfQogICAgYm9vbCBfNDU3OwogICAgaWYgKCFfNDUxKQogICAgewogICAgICAgIF80NTcgPSBsUG9zLnggPiAxLjA7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzQ1NyA9IF80NTE7CiAgICB9CiAgICBib29sIF80NjM7CiAgICBpZiAoIV80NTcpCiAgICB7CiAgICAgICAgXzQ2MyA9IGxQb3MueSA%IDEuMDsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNDYzID0gXzQ1NzsKICAgIH0KICAgIGlmIChfNDYzKQogICAgewogICAgICAgIHJldHVybiAxLjA7CiAgICB9CiAgICByZXR1cm4gUENGKHNoYWRvd01hcF8xLCBsUG9zLnh5LCBsUG9zLnogLSBzaGFkb3dzQmlhc18xLCBzbVNpemUpOwp9CgpoaWdocCBmbG9hdCBscFRvRGVwdGgoaW5vdXQgaGlnaHAgdmVjMyBscCwgaGlnaHAgdmVjMiBsaWdodFByb2pfMSkKewogICAgbHAgPSBhYnMobHApOwogICAgaGlnaHAgZmxvYXQgemNvbXAgPSBtYXgobHAueCwgbWF4KGxwLnksIGxwLnopKTsKICAgIHpjb21wID0gbGlnaHRQcm9qXzEueCAtIChsaWdodFByb2pfMS55IC8gemNvbXApOwogICAgcmV0dXJuICh6Y29tcCAqIDAuNSkgKyAwLjU7Cn0KCmhpZ2hwIGZsb2F0IFBDRkN1YmUoaGlnaHAgc2FtcGxlckN1YmUgc2hhZG93TWFwQ3ViZV8xLCBoaWdocCB2ZWMzIGxwLCBpbm91dCBoaWdocCB2ZWMzIG1sLCBoaWdocCBmbG9hdCBiaWFzLCBoaWdocCB2ZWMyIGxpZ2h0UHJval8xLCBoaWdocCB2ZWMzIG4pCnsKICAgIGhpZ2hwIHZlYzMgcGFyYW0gPSBscCAtIChuICogMC4wMDMwMDAwMDAwMjYwNzcwMzIwODkyMzMzOTg0Mzc1KTsKICAgIGhpZ2hwIGZsb2F0IF8zNDIgPSBscFRvRGVwdGgocGFyYW0sIGxpZ2h0UHJval8xKTsKICAgIGhpZ2hwIGZsb2F0IGNvbXBhcmUgPSBfMzQyIC0gKGJpYXMgKiAwLjQwMDAwMDAwNTk2MDQ2NDQ3NzUzOTA2MjUpOwogICAgbWwgKz0gKG4gKiAwLjAwMzAwMDAwMDAyNjA3NzAzMjA4OTIzMzM5ODQzNzUpOwogICAgaGlnaHAgZmxvYXQgcmVzdWx0ID0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sICsgdmVjMygwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sICsgdmVjMygtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIDAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sICsgdmVjMygwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1LCAwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sICsgdmVjMygwLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sICsgdmVjMygtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCArPSBzdGVwKGNvbXBhcmUsIHRleHR1cmUoc2hhZG93TWFwQ3ViZV8xLCBtbCArIHZlYzMoMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgLTAuMDAxMDAwMDAwMDQ3NDk3NDUxMzA1Mzg5NDA0Mjk2ODc1KSkueCk7CiAgICByZXN1bHQgKz0gc3RlcChjb21wYXJlLCB0ZXh0dXJlKHNoYWRvd01hcEN1YmVfMSwgbWwgKyB2ZWMzKC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSwgMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUsIC0wLjAwMTAwMDAwMDA0NzQ5NzQ1MTMwNTM4OTQwNDI5Njg3NSkpLngpOwogICAgcmVzdWx0ICs9IHN0ZXAoY29tcGFyZSwgdGV4dHVyZShzaGFkb3dNYXBDdWJlXzEsIG1sICsgdmVjMygtMC4wMDEwMDAwMDAwNDc0OTc0NTEzMDUzODk0MDQyOTY4NzUpKS54KTsKICAgIHJlc3VsdCAvPSA5LjA7CiAgICByZXR1cm4gcmVzdWx0Owp9CgpoaWdocCBmbG9hdCBhdHRlbnVhdGUoaGlnaHAgZmxvYXQgZGlzdCkKewogICAgcmV0dXJuIDEuMCAvIChkaXN0ICogZGlzdCk7Cn0KCmhpZ2hwIHZlYzMgbGFtYmVydERpZmZ1c2VCUkRGKGhpZ2hwIHZlYzMgYWxiZWRvLCBoaWdocCBmbG9hdCBubCkKewogICAgcmV0dXJuIGFsYmVkbyAqIG1heCgwLjAsIG5sKTsKfQoKaGlnaHAgZmxvYXQgZF9nZ3goaGlnaHAgZmxvYXQgbmgsIGhpZ2hwIGZsb2F0IGEpCnsKICAgIGhpZ2hwIGZsb2F0IGEyID0gYSAqIGE7CiAgICBoaWdocCBmbG9hdCBkZW5vbSA9IHBvdygoKG5oICogbmgpICogKGEyIC0gMS4wKSkgKyAxLjAsIDIuMCk7CiAgICByZXR1cm4gKGEyICogMC4zMTgzMDk4NzMzNDI1MTQwMzgwODU5Mzc1KSAvIGRlbm9tOwp9CgpoaWdocCBmbG9hdCB2X3NtaXRoc2NobGljayhoaWdocCBmbG9hdCBubCwgaGlnaHAgZmxvYXQgbnYsIGhpZ2hwIGZsb2F0IGEpCnsKICAgIHJldHVybiAxLjAgLyAoKChubCAqICgxLjAgLSBhKSkgKyBhKSAqICgobnYgKiAoMS4wIC0gYSkpICsgYSkpOwp9CgpoaWdocCB2ZWMzIGZfc2NobGljayhoaWdocCB2ZWMzIGYwLCBoaWdocCBmbG9hdCB2aCkKewogICAgcmV0dXJuIGYwICsgKCh2ZWMzKDEuMCkgLSBmMCkgKiBleHAyKCgoKC01LjU1NDcyOTkzODUwNzA4MDA3ODEyNSkgKiB2aCkgLSA2Ljk4MzE2MDAxODkyMDg5ODQzNzUpICogdmgpKTsKfQoKaGlnaHAgdmVjMyBzcGVjdWxhckJSREYoaGlnaHAgdmVjMyBmMCwgaGlnaHAgZmxvYXQgcm91Z2huZXNzLCBoaWdocCBmbG9hdCBubCwgaGlnaHAgZmxvYXQgbmgsIGhpZ2hwIGZsb2F0IG52LCBoaWdocCBmbG9hdCB2aCkKewogICAgaGlnaHAgZmxvYXQgYSA9IHJvdWdobmVzcyAqIHJvdWdobmVzczsKICAgIHJldHVybiAoZl9zY2hsaWNrKGYwLCB2aCkgKiAoZF9nZ3gobmgsIGEpICogY2xhbXAodl9zbWl0aHNjaGxpY2sobmwsIG52LCBhKSwgMC4wLCAxLjApKSkgLyB2ZWMzKDQuMCk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzIgdGV4Q29vcmQgPSB3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udyk7CiAgICB0ZXhDb29yZCA9ICh0ZXhDb29yZCAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWM0IGcwID0gdGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmQpOwogICAgaGlnaHAgdmVjNCBnMSA9IHRleHR1cmUoZ2J1ZmZlcjEsIHRleENvb3JkKTsKICAgIGhpZ2hwIGZsb2F0IHNwZWMgPSB1bnBhY2tGbG9hdDIoZzEudykueTsKICAgIGhpZ2hwIGZsb2F0IGRlcHRoID0gKCgxLjAgLSBnMC53KSAqIDIuMCkgLSAxLjA7CiAgICBoaWdocCB2ZWMzIG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGcwLngpKSAtIGFicyhnMC55KTsKICAgIGhpZ2hwIHZlYzIgXzU3MjsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF81NzIgPSBnMC54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNTcyID0gb2N0YWhlZHJvbldyYXAoZzAueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzU3Mi54LCBfNTcyLnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgaGlnaHAgdmVjMyBwID0gZ2V0UG9zMihpbnZWUCwgZGVwdGgsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzIgbWV0cm91Z2ggPSB1bnBhY2tGbG9hdChnMC56KTsKICAgIGhpZ2hwIHZlYzMgdiA9IG5vcm1hbGl6ZShleWUgLSBwKTsKICAgIGhpZ2hwIGZsb2F0IGRvdE5WID0gZG90KG4sIHYpOwogICAgaGlnaHAgdmVjMyBhbGJlZG8gPSBzdXJmYWNlQWxiZWRvKGcxLnh5eiwgbWV0cm91Z2gueCk7CiAgICBoaWdocCB2ZWMzIGYwID0gc3VyZmFjZUYwKGcxLnh5eiwgbWV0cm91Z2gueCk7CiAgICBoaWdocCB2ZWMzIGxwID0gbGlnaHRQb3MgLSBwOwogICAgaGlnaHAgdmVjMyBsID0gbm9ybWFsaXplKGxwKTsKICAgIGhpZ2hwIHZlYzMgaCA9IG5vcm1hbGl6ZSh2ICsgbCk7CiAgICBoaWdocCBmbG9hdCBkb3ROSCA9IGRvdChuLCBoKTsKICAgIGhpZ2hwIGZsb2F0IGRvdFZIID0gZG90KHYsIGgpOwogICAgaGlnaHAgZmxvYXQgZG90TkwgPSBkb3QobiwgbCk7CiAgICBoaWdocCBmbG9hdCB2aXNpYmlsaXR5ID0gMS4wOwogICAgaWYgKGxpZ2h0U2hhZG93ID09IDEpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjNCBsUG9zID0gTFdWUCAqIHZlYzQocCArICgobiAqIHNoYWRvd3NCaWFzKSAqIDEwLjApLCAxLjApOwogICAgICAgIGlmIChsUG9zLncgPiAwLjApCiAgICAgICAgewogICAgICAgICAgICB2aXNpYmlsaXR5ID0gc2hhZG93VGVzdChzaGFkb3dNYXAsIGxQb3MueHl6IC8gdmVjMyhsUG9zLncpLCBzaGFkb3dzQmlhcywgdmVjMigyMDQ4LjApKTsKICAgICAgICB9CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgaWYgKGxpZ2h0U2hhZG93ID09IDIpCiAgICAgICAgewogICAgICAgICAgICBoaWdocCB2ZWMzIHBhcmFtID0gLWw7CiAgICAgICAgICAgIGhpZ2hwIGZsb2F0IF83MDMgPSBQQ0ZDdWJlKHNoYWRvd01hcEN1YmUsIGxwLCBwYXJhbSwgc2hhZG93c0JpYXMsIGxpZ2h0UHJvaiwgbik7CiAgICAgICAgICAgIHZpc2liaWxpdHkgPSBfNzAzOwogICAgICAgIH0KICAgIH0KICAgIHZpc2liaWxpdHkgKj0gYXR0ZW51YXRlKGRpc3RhbmNlKHAsIGxpZ2h0UG9zKSk7CiAgICBpZiAobGlnaHRUeXBlID09IDIpCiAgICB7CiAgICAgICAgaGlnaHAgZmxvYXQgc3BvdEVmZmVjdCA9IGRvdChsaWdodERpciwgbCk7CiAgICAgICAgaWYgKHNwb3RFZmZlY3QgPCBzcG90bGlnaHREYXRhLngpCiAgICAgICAgewogICAgICAgICAgICB2aXNpYmlsaXR5ICo9IHNtb290aHN0ZXAoc3BvdGxpZ2h0RGF0YS55LCBzcG90bGlnaHREYXRhLngsIHNwb3RFZmZlY3QpOwogICAgICAgIH0KICAgIH0KICAgIGhpZ2hwIHZlYzMgXzc1MCA9IGxhbWJlcnREaWZmdXNlQlJERihhbGJlZG8sIGRvdE5MKSArIChzcGVjdWxhckJSREYoZjAsIG1ldHJvdWdoLnksIGRvdE5MLCBkb3ROSCwgZG90TlYsIGRvdFZIKSAqIHNwZWMpOwogICAgZnJhZ0NvbG9yID0gdmVjNChfNzUwLngsIF83NTAueSwgXzc1MC56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF83NTcgPSBmcmFnQ29sb3IueHl6ICogbGlnaHRDb2xvcjsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzc1Ny54LCBfNzU3LnksIF83NTcueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfNzYzID0gZnJhZ0NvbG9yLnh5eiAqIHZpc2liaWxpdHk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83NjMueCwgXzc2My55LCBfNzYzLnosIGZyYWdDb2xvci53KTsKfQoK";kha_Shaders.deferred_light_quad_fragData0="s11010:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCB2ZWM0IGNhc0RhdGFbMjBdOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBnYnVmZmVyMDsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjE7CnVuaWZvcm0gaGlnaHAgdmVjMyBleWU7CnVuaWZvcm0gaGlnaHAgdmVjMyBleWVMb29rOwp1bmlmb3JtIGhpZ2hwIHZlYzIgY2FtZXJhUHJvajsKdW5pZm9ybSBoaWdocCB2ZWMzIGw7CnVuaWZvcm0gaW50IGxpZ2h0U2hhZG93Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzaGFkb3dNYXA7CnVuaWZvcm0gaGlnaHAgZmxvYXQgc2hhZG93c0JpYXM7CnVuaWZvcm0gaGlnaHAgdmVjMyBsaWdodENvbG9yOwoKaW4gaGlnaHAgdmVjMiB0ZXhDb29yZDsKaW4gaGlnaHAgdmVjMyB2aWV3UmF5OwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3I7CgpoaWdocCB2ZWMyIHVucGFja0Zsb2F0MihoaWdocCBmbG9hdCBmKQp7CiAgICByZXR1cm4gdmVjMihmbG9vcihmKSAvIDI1NS4wLCBmcmFjdChmKSk7Cn0KCmhpZ2hwIHZlYzIgb2N0YWhlZHJvbldyYXAoaGlnaHAgdmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKaGlnaHAgdmVjMyBnZXRQb3MoaGlnaHAgdmVjMyBleWVfMSwgaGlnaHAgdmVjMyBleWVMb29rXzEsIGhpZ2hwIHZlYzMgdmlld1JheV8xLCBoaWdocCBmbG9hdCBkZXB0aCwgaGlnaHAgdmVjMiBjYW1lcmFQcm9qXzEpCnsKICAgIGhpZ2hwIHZlYzMgdnJheSA9IG5vcm1hbGl6ZSh2aWV3UmF5XzEpOwogICAgaGlnaHAgZmxvYXQgbGluZWFyRGVwdGggPSBjYW1lcmFQcm9qXzEueSAvICgoKGRlcHRoICogMC41KSArIDAuNSkgLSBjYW1lcmFQcm9qXzEueCk7CiAgICBoaWdocCBmbG9hdCB2aWV3WkRpc3QgPSBkb3QoZXllTG9va18xLCB2cmF5KTsKICAgIGhpZ2hwIHZlYzMgd3Bvc2l0aW9uID0gZXllXzEgKyAodnJheSAqIChsaW5lYXJEZXB0aCAvIHZpZXdaRGlzdCkpOwogICAgcmV0dXJuIHdwb3NpdGlvbjsKfQoKaGlnaHAgdmVjMiB1bnBhY2tGbG9hdChoaWdocCBmbG9hdCBmKQp7CiAgICByZXR1cm4gdmVjMihmbG9vcihmKSAvIDEwMC4wLCBmcmFjdChmKSk7Cn0KCmhpZ2hwIHZlYzMgc3VyZmFjZUFsYmVkbyhoaWdocCB2ZWMzIGJhc2VDb2xvciwgaGlnaHAgZmxvYXQgbWV0YWxuZXNzKQp7CiAgICByZXR1cm4gbWl4KGJhc2VDb2xvciwgdmVjMygwLjApLCB2ZWMzKG1ldGFsbmVzcykpOwp9CgpoaWdocCB2ZWMzIHN1cmZhY2VGMChoaWdocCB2ZWMzIGJhc2VDb2xvciwgaGlnaHAgZmxvYXQgbWV0YWxuZXNzKQp7CiAgICByZXR1cm4gbWl4KHZlYzMoMC4wMzk5OTk5OTkxMDU5MzAzMjgzNjkxNDA2MjUpLCBiYXNlQ29sb3IsIHZlYzMobWV0YWxuZXNzKSk7Cn0KCmhpZ2hwIG1hdDQgZ2V0Q2FzY2FkZU1hdChoaWdocCBmbG9hdCBkLCBpbm91dCBpbnQgY2FzaSwgaW5vdXQgaW50IGNhc0luZGV4KQp7CiAgICBoaWdocCB2ZWM0IGNvbXAgPSB2ZWM0KGZsb2F0KGQgPiBjYXNEYXRhWzE2XS54KSwgZmxvYXQoZCA%IGNhc0RhdGFbMTZdLnkpLCBmbG9hdChkID4gY2FzRGF0YVsxNl0ueiksIGZsb2F0KGQgPiBjYXNEYXRhWzE2XS53KSk7CiAgICBjYXNpID0gaW50KG1pbihkb3QodmVjNCgxLjApLCBjb21wKSwgNC4wKSk7CiAgICBjYXNJbmRleCA9IGNhc2kgKiA0OwogICAgcmV0dXJuIG1hdDQodmVjNChjYXNEYXRhW2Nhc0luZGV4ICsgMF0pLCB2ZWM0KGNhc0RhdGFbY2FzSW5kZXggKyAxXSksIHZlYzQoY2FzRGF0YVtjYXNJbmRleCArIDJdKSwgdmVjNChjYXNEYXRhW2Nhc0luZGV4ICsgM10pKTsKfQoKaGlnaHAgZmxvYXQgc2hhZG93Q29tcGFyZShoaWdocCBzYW1wbGVyMkQgc2hhZG93TWFwXzEsIGhpZ2hwIHZlYzIgdXYsIGhpZ2hwIGZsb2F0IGNvbXBhcmUpCnsKICAgIGhpZ2hwIGZsb2F0IGRlcHRoID0gdGV4dHVyZShzaGFkb3dNYXBfMSwgdXYpLng7CiAgICByZXR1cm4gc3RlcChjb21wYXJlLCBkZXB0aCk7Cn0KCmhpZ2hwIGZsb2F0IHNoYWRvd0xlcnAoaGlnaHAgc2FtcGxlcjJEIHNoYWRvd01hcF8xLCBoaWdocCB2ZWMyIHV2LCBoaWdocCBmbG9hdCBjb21wYXJlLCBoaWdocCB2ZWMyIHNtU2l6ZSkKewogICAgaGlnaHAgdmVjMiB0ZXhlbFNpemUgPSB2ZWMyKDEuMCkgLyBzbVNpemU7CiAgICBoaWdocCB2ZWMyIGYgPSBmcmFjdCgodXYgKiBzbVNpemUpICsgdmVjMigwLjUpKTsKICAgIGhpZ2hwIHZlYzIgY2VudHJvaWRVViA9IGZsb29yKCh1diAqIHNtU2l6ZSkgKyB2ZWMyKDAuNSkpIC8gc21TaXplOwogICAgaGlnaHAgZmxvYXQgbGIgPSBzaGFkb3dDb21wYXJlKHNoYWRvd01hcF8xLCBjZW50cm9pZFVWLCBjb21wYXJlKTsKICAgIGhpZ2hwIGZsb2F0IGx0ID0gc2hhZG93Q29tcGFyZShzaGFkb3dNYXBfMSwgY2VudHJvaWRVViArICh0ZXhlbFNpemUgKiB2ZWMyKDAuMCwgMS4wKSksIGNvbXBhcmUpOwogICAgaGlnaHAgZmxvYXQgcmIgPSBzaGFkb3dDb21wYXJlKHNoYWRvd01hcF8xLCBjZW50cm9pZFVWICsgKHRleGVsU2l6ZSAqIHZlYzIoMS4wLCAwLjApKSwgY29tcGFyZSk7CiAgICBoaWdocCBmbG9hdCBydCA9IHNoYWRvd0NvbXBhcmUoc2hhZG93TWFwXzEsIGNlbnRyb2lkVVYgKyB0ZXhlbFNpemUsIGNvbXBhcmUpOwogICAgaGlnaHAgZmxvYXQgYSA9IG1peChsYiwgbHQsIGYueSk7CiAgICBoaWdocCBmbG9hdCBiID0gbWl4KHJiLCBydCwgZi55KTsKICAgIGhpZ2hwIGZsb2F0IGMgPSBtaXgoYSwgYiwgZi54KTsKICAgIHJldHVybiBjOwp9CgpoaWdocCBmbG9hdCBQQ0YoaGlnaHAgc2FtcGxlcjJEIHNoYWRvd01hcF8xLCBoaWdocCB2ZWMyIHV2LCBoaWdocCBmbG9hdCBjb21wYXJlLCBoaWdocCB2ZWMyIHNtU2l6ZSkKewogICAgaGlnaHAgZmxvYXQgcmVzdWx0ID0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigtMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigtMS4wLCAwLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKC0xLjAsIDEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoMC4wLCAtMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYsIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigwLjAsIDEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoMS4wLCAtMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigxLjAsIDAuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXR1cm4gcmVzdWx0IC8gOS4wOwp9CgpoaWdocCBmbG9hdCBzaGFkb3dUZXN0KGhpZ2hwIHNhbXBsZXIyRCBzaGFkb3dNYXBfMSwgaGlnaHAgdmVjMyBsUG9zLCBoaWdocCBmbG9hdCBzaGFkb3dzQmlhc18xLCBoaWdocCB2ZWMyIHNtU2l6ZSkKewogICAgYm9vbCBfMzA5ID0gbFBvcy54IDwgMC4wOwogICAgYm9vbCBfMzE1OwogICAgaWYgKCFfMzA5KQogICAgewogICAgICAgIF8zMTUgPSBsUG9zLnkgPCAwLjA7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzMxNSA9IF8zMDk7CiAgICB9CiAgICBib29sIF8zMjE7CiAgICBpZiAoIV8zMTUpCiAgICB7CiAgICAgICAgXzMyMSA9IGxQb3MueCA%IDEuMDsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMzIxID0gXzMxNTsKICAgIH0KICAgIGJvb2wgXzMyNzsKICAgIGlmICghXzMyMSkKICAgIHsKICAgICAgICBfMzI3ID0gbFBvcy55ID4gMS4wOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8zMjcgPSBfMzIxOwogICAgfQogICAgaWYgKF8zMjcpCiAgICB7CiAgICAgICAgcmV0dXJuIDEuMDsKICAgIH0KICAgIHJldHVybiBQQ0Yoc2hhZG93TWFwXzEsIGxQb3MueHksIGxQb3MueiAtIHNoYWRvd3NCaWFzXzEsIHNtU2l6ZSk7Cn0KCmhpZ2hwIGZsb2F0IHNoYWRvd1Rlc3RDYXNjYWRlKGhpZ2hwIHNhbXBsZXIyRCBzaGFkb3dNYXBfMSwgaGlnaHAgdmVjMyBleWVfMSwgaGlnaHAgdmVjMyBwLCBoaWdocCBmbG9hdCBzaGFkb3dzQmlhc18xLCBoaWdocCB2ZWMyIHNtU2l6ZSkKewogICAgaGlnaHAgZmxvYXQgZCA9IGRpc3RhbmNlKGV5ZV8xLCBwKTsKICAgIGludCBwYXJhbTsKICAgIGludCBwYXJhbV8xOwogICAgaGlnaHAgbWF0NCBfNDI1ID0gZ2V0Q2FzY2FkZU1hdChkLCBwYXJhbSwgcGFyYW1fMSk7CiAgICBpbnQgY2FzaSA9IHBhcmFtOwogICAgaW50IGNhc0luZGV4ID0gcGFyYW1fMTsKICAgIGhpZ2hwIG1hdDQgTFdWUCA9IF80MjU7CiAgICBoaWdocCB2ZWM0IGxQb3MgPSBMV1ZQICogdmVjNChwLCAxLjApOwogICAgaGlnaHAgZmxvYXQgdmlzaWJpbGl0eSA9IDEuMDsKICAgIGlmIChsUG9zLncgPiAwLjApCiAgICB7CiAgICAgICAgdmlzaWJpbGl0eSA9IHNoYWRvd1Rlc3Qoc2hhZG93TWFwXzEsIGxQb3MueHl6IC8gdmVjMyhsUG9zLncpLCBzaGFkb3dzQmlhc18xLCBzbVNpemUpOwogICAgfQogICAgaGlnaHAgZmxvYXQgbmV4dFNwbGl0ID0gY2FzRGF0YVsxNl1bY2FzaV07CiAgICBoaWdocCBmbG9hdCBfNDU1OwogICAgaWYgKGNhc2kgPT0gMCkKICAgIHsKICAgICAgICBfNDU1ID0gbmV4dFNwbGl0OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF80NTUgPSBuZXh0U3BsaXQgLSAoY2FzRGF0YVsxNl1bY2FzaSAtIDFdKTsKICAgIH0KICAgIGhpZ2hwIGZsb2F0IHNwbGl0U2l6ZSA9IF80NTU7CiAgICBoaWdocCBmbG9hdCBzcGxpdERpc3QgPSAobmV4dFNwbGl0IC0gZCkgLyBzcGxpdFNpemU7CiAgICBpZiAoKHNwbGl0RGlzdCA8PSAwLjE1MDAwMDAwNTk2MDQ2NDQ3NzUzOTA2MjUpICYmIChjYXNpICE9IDMpKQogICAgewogICAgICAgIGludCBjYXNJbmRleDIgPSBjYXNJbmRleCArIDQ7CiAgICAgICAgaGlnaHAgbWF0NCBMV1ZQMiA9IG1hdDQodmVjNChjYXNEYXRhW2Nhc0luZGV4MiArIDBdKSwgdmVjNChjYXNEYXRhW2Nhc0luZGV4MiArIDFdKSwgdmVjNChjYXNEYXRhW2Nhc0luZGV4MiArIDJdKSwgdmVjNChjYXNEYXRhW2Nhc0luZGV4MiArIDNdKSk7CiAgICAgICAgaGlnaHAgdmVjNCBsUG9zMiA9IExXVlAyICogdmVjNChwLCAxLjApOwogICAgICAgIGhpZ2hwIGZsb2F0IHZpc2liaWxpdHkyID0gMS4wOwogICAgICAgIGlmIChsUG9zMi53ID4gMC4wKQogICAgICAgIHsKICAgICAgICAgICAgdmlzaWJpbGl0eTIgPSBzaGFkb3dUZXN0KHNoYWRvd01hcF8xLCBsUG9zMi54eXogLyB2ZWMzKGxQb3MyLncpLCBzaGFkb3dzQmlhc18xLCBzbVNpemUpOwogICAgICAgIH0KICAgICAgICBoaWdocCBmbG9hdCBsZXJwQW10ID0gc21vb3Roc3RlcCgwLjAsIDAuMTUwMDAwMDA1OTYwNDY0NDc3NTM5MDYyNSwgc3BsaXREaXN0KTsKICAgICAgICByZXR1cm4gbWl4KHZpc2liaWxpdHkyLCB2aXNpYmlsaXR5LCBsZXJwQW10KTsKICAgIH0KICAgIHJldHVybiB2aXNpYmlsaXR5Owp9CgpoaWdocCB2ZWMzIGxhbWJlcnREaWZmdXNlQlJERihoaWdocCB2ZWMzIGFsYmVkbywgaGlnaHAgZmxvYXQgbmwpCnsKICAgIHJldHVybiBhbGJlZG8gKiBtYXgoMC4wLCBubCk7Cn0KCmhpZ2hwIGZsb2F0IGRfZ2d4KGhpZ2hwIGZsb2F0IG5oLCBoaWdocCBmbG9hdCBhKQp7CiAgICBoaWdocCBmbG9hdCBhMiA9IGEgKiBhOwogICAgaGlnaHAgZmxvYXQgZGVub20gPSBwb3coKChuaCAqIG5oKSAqIChhMiAtIDEuMCkpICsgMS4wLCAyLjApOwogICAgcmV0dXJuIChhMiAqIDAuMzE4MzA5ODczMzQyNTE0MDM4MDg1OTM3NSkgLyBkZW5vbTsKfQoKaGlnaHAgZmxvYXQgdl9zbWl0aHNjaGxpY2soaGlnaHAgZmxvYXQgbmwsIGhpZ2hwIGZsb2F0IG52LCBoaWdocCBmbG9hdCBhKQp7CiAgICByZXR1cm4gMS4wIC8gKCgobmwgKiAoMS4wIC0gYSkpICsgYSkgKiAoKG52ICogKDEuMCAtIGEpKSArIGEpKTsKfQoKaGlnaHAgdmVjMyBmX3NjaGxpY2soaGlnaHAgdmVjMyBmMCwgaGlnaHAgZmxvYXQgdmgpCnsKICAgIHJldHVybiBmMCArICgodmVjMygxLjApIC0gZjApICogZXhwMigoKCgtNS41NTQ3Mjk5Mzg1MDcwODAwNzgxMjUpICogdmgpIC0gNi45ODMxNjAwMTg5MjA4OTg0Mzc1KSAqIHZoKSk7Cn0KCmhpZ2hwIHZlYzMgc3BlY3VsYXJCUkRGKGhpZ2hwIHZlYzMgZjAsIGhpZ2hwIGZsb2F0IHJvdWdobmVzcywgaGlnaHAgZmxvYXQgbmwsIGhpZ2hwIGZsb2F0IG5oLCBoaWdocCBmbG9hdCBudiwgaGlnaHAgZmxvYXQgdmgpCnsKICAgIGhpZ2hwIGZsb2F0IGEgPSByb3VnaG5lc3MgKiByb3VnaG5lc3M7CiAgICByZXR1cm4gKGZfc2NobGljayhmMCwgdmgpICogKGRfZ2d4KG5oLCBhKSAqIGNsYW1wKHZfc21pdGhzY2hsaWNrKG5sLCBudiwgYSksIDAuMCwgMS4wKSkpIC8gdmVjMyg0LjApOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWM0IGcwID0gdGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmQpOwogICAgaGlnaHAgdmVjNCBnMSA9IHRleHR1cmUoZ2J1ZmZlcjEsIHRleENvb3JkKTsKICAgIGhpZ2hwIGZsb2F0IHNwZWMgPSB1bnBhY2tGbG9hdDIoZzEudykueTsKICAgIGhpZ2hwIGZsb2F0IGRlcHRoID0gKCgxLjAgLSBnMC53KSAqIDIuMCkgLSAxLjA7CiAgICBoaWdocCB2ZWMzIG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGcwLngpKSAtIGFicyhnMC55KTsKICAgIGhpZ2hwIHZlYzIgXzY0MDsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF82NDAgPSBnMC54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNjQwID0gb2N0YWhlZHJvbldyYXAoZzAueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzY0MC54LCBfNjQwLnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgaGlnaHAgdmVjMyBwID0gZ2V0UG9zKGV5ZSwgZXllTG9vaywgdmlld1JheSwgZGVwdGgsIGNhbWVyYVByb2opOwogICAgaGlnaHAgdmVjMiBtZXRyb3VnaCA9IHVucGFja0Zsb2F0KGcwLnopOwogICAgaGlnaHAgdmVjMyB2ID0gbm9ybWFsaXplKGV5ZSAtIHApOwogICAgaGlnaHAgZmxvYXQgZG90TlYgPSBkb3Qobiwgdik7CiAgICBoaWdocCB2ZWMzIGFsYmVkbyA9IHN1cmZhY2VBbGJlZG8oZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIGhpZ2hwIHZlYzMgZjAgPSBzdXJmYWNlRjAoZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIGhpZ2hwIGZsb2F0IGRvdE5MID0gZG90KG4sIGwpOwogICAgaGlnaHAgZmxvYXQgdmlzaWJpbGl0eSA9IDEuMDsKICAgIGlmIChsaWdodFNoYWRvdyA9PSAxKQogICAgewogICAgICAgIHZpc2liaWxpdHkgPSBzaGFkb3dUZXN0Q2FzY2FkZShzaGFkb3dNYXAsIGV5ZSwgcCArICgobiAqIHNoYWRvd3NCaWFzKSAqIDEwLjApLCBzaGFkb3dzQmlhcywgdmVjMig4MTkyLjAsIDIwNDguMCkpOwogICAgfQogICAgaGlnaHAgdmVjMyBoID0gbm9ybWFsaXplKHYgKyBsKTsKICAgIGhpZ2hwIGZsb2F0IGRvdE5IID0gZG90KG4sIGgpOwogICAgaGlnaHAgZmxvYXQgZG90VkggPSBkb3QodiwgaCk7CiAgICBoaWdocCB2ZWMzIF83NDggPSBsYW1iZXJ0RGlmZnVzZUJSREYoYWxiZWRvLCBkb3ROTCkgKyAoc3BlY3VsYXJCUkRGKGYwLCBtZXRyb3VnaC55LCBkb3ROTCwgZG90TkgsIGRvdE5WLCBkb3RWSCkgKiBzcGVjKTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzc0OC54LCBfNzQ4LnksIF83NDgueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfNzU1ID0gZnJhZ0NvbG9yLnh5eiAqIGxpZ2h0Q29sb3I7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83NTUueCwgXzc1NS55LCBfNzU1LnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzc2MSA9IGZyYWdDb2xvci54eXogKiB2aXNpYmlsaXR5OwogICAgZnJhZ0NvbG9yID0gdmVjNChfNzYxLngsIF83NjEueSwgXzc2MS56LCBmcmFnQ29sb3Iudyk7Cn0KCg";kha_Shaders.deferred_light_quad_fragData1="s10050:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIHZlYzQgY2FzRGF0YVsyMF07CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjE7CnVuaWZvcm0gdmVjMyBleWU7CnVuaWZvcm0gdmVjMyBleWVMb29rOwp1bmlmb3JtIHZlYzIgY2FtZXJhUHJvajsKdW5pZm9ybSB2ZWMzIGw7CnVuaWZvcm0gaW50IGxpZ2h0U2hhZG93Owp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHNoYWRvd01hcDsKdW5pZm9ybSBmbG9hdCBzaGFkb3dzQmlhczsKdW5pZm9ybSB2ZWMzIGxpZ2h0Q29sb3I7CgppbiB2ZWMyIHRleENvb3JkOwppbiB2ZWMzIHZpZXdSYXk7Cm91dCB2ZWM0IGZyYWdDb2xvcjsKCnZlYzIgdW5wYWNrRmxvYXQyKGZsb2F0IGYpCnsKICAgIHJldHVybiB2ZWMyKGZsb29yKGYpIC8gMjU1LjAsIGZyYWN0KGYpKTsKfQoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9Cgp2ZWMzIGdldFBvcyh2ZWMzIGV5ZV8xLCB2ZWMzIGV5ZUxvb2tfMSwgdmVjMyB2aWV3UmF5XzEsIGZsb2F0IGRlcHRoLCB2ZWMyIGNhbWVyYVByb2pfMSkKewogICAgdmVjMyB2cmF5ID0gbm9ybWFsaXplKHZpZXdSYXlfMSk7CiAgICBmbG9hdCBsaW5lYXJEZXB0aCA9IGNhbWVyYVByb2pfMS55IC8gKCgoZGVwdGggKiAwLjUpICsgMC41KSAtIGNhbWVyYVByb2pfMS54KTsKICAgIGZsb2F0IHZpZXdaRGlzdCA9IGRvdChleWVMb29rXzEsIHZyYXkpOwogICAgdmVjMyB3cG9zaXRpb24gPSBleWVfMSArICh2cmF5ICogKGxpbmVhckRlcHRoIC8gdmlld1pEaXN0KSk7CiAgICByZXR1cm4gd3Bvc2l0aW9uOwp9Cgp2ZWMyIHVucGFja0Zsb2F0KGZsb2F0IGYpCnsKICAgIHJldHVybiB2ZWMyKGZsb29yKGYpIC8gMTAwLjAsIGZyYWN0KGYpKTsKfQoKdmVjMyBzdXJmYWNlQWxiZWRvKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgoYmFzZUNvbG9yLCB2ZWMzKDAuMCksIHZlYzMobWV0YWxuZXNzKSk7Cn0KCnZlYzMgc3VyZmFjZUYwKHZlYzMgYmFzZUNvbG9yLCBmbG9hdCBtZXRhbG5lc3MpCnsKICAgIHJldHVybiBtaXgodmVjMygwLjAzOTk5OTk5OTEwNTkzMDMyODM2OTE0MDYyNSksIGJhc2VDb2xvciwgdmVjMyhtZXRhbG5lc3MpKTsKfQoKbWF0NCBnZXRDYXNjYWRlTWF0KGZsb2F0IGQsIGlub3V0IGludCBjYXNpLCBpbm91dCBpbnQgY2FzSW5kZXgpCnsKICAgIHZlYzQgY29tcCA9IHZlYzQoZmxvYXQoZCA%IGNhc0RhdGFbMTZdLngpLCBmbG9hdChkID4gY2FzRGF0YVsxNl0ueSksIGZsb2F0KGQgPiBjYXNEYXRhWzE2XS56KSwgZmxvYXQoZCA%IGNhc0RhdGFbMTZdLncpKTsKICAgIGNhc2kgPSBpbnQobWluKGRvdCh2ZWM0KDEuMCksIGNvbXApLCA0LjApKTsKICAgIGNhc0luZGV4ID0gY2FzaSAqIDQ7CiAgICByZXR1cm4gbWF0NCh2ZWM0KGNhc0RhdGFbY2FzSW5kZXggKyAwXSksIHZlYzQoY2FzRGF0YVtjYXNJbmRleCArIDFdKSwgdmVjNChjYXNEYXRhW2Nhc0luZGV4ICsgMl0pLCB2ZWM0KGNhc0RhdGFbY2FzSW5kZXggKyAzXSkpOwp9CgpmbG9hdCBzaGFkb3dDb21wYXJlKG1lZGl1bXAgc2FtcGxlcjJEIHNoYWRvd01hcF8xLCB2ZWMyIHV2LCBmbG9hdCBjb21wYXJlKQp7CiAgICBmbG9hdCBkZXB0aCA9IHRleHR1cmUoc2hhZG93TWFwXzEsIHV2KS54OwogICAgcmV0dXJuIHN0ZXAoY29tcGFyZSwgZGVwdGgpOwp9CgpmbG9hdCBzaGFkb3dMZXJwKG1lZGl1bXAgc2FtcGxlcjJEIHNoYWRvd01hcF8xLCB2ZWMyIHV2LCBmbG9hdCBjb21wYXJlLCB2ZWMyIHNtU2l6ZSkKewogICAgdmVjMiB0ZXhlbFNpemUgPSB2ZWMyKDEuMCkgLyBzbVNpemU7CiAgICB2ZWMyIGYgPSBmcmFjdCgodXYgKiBzbVNpemUpICsgdmVjMigwLjUpKTsKICAgIHZlYzIgY2VudHJvaWRVViA9IGZsb29yKCh1diAqIHNtU2l6ZSkgKyB2ZWMyKDAuNSkpIC8gc21TaXplOwogICAgZmxvYXQgbGIgPSBzaGFkb3dDb21wYXJlKHNoYWRvd01hcF8xLCBjZW50cm9pZFVWLCBjb21wYXJlKTsKICAgIGZsb2F0IGx0ID0gc2hhZG93Q29tcGFyZShzaGFkb3dNYXBfMSwgY2VudHJvaWRVViArICh0ZXhlbFNpemUgKiB2ZWMyKDAuMCwgMS4wKSksIGNvbXBhcmUpOwogICAgZmxvYXQgcmIgPSBzaGFkb3dDb21wYXJlKHNoYWRvd01hcF8xLCBjZW50cm9pZFVWICsgKHRleGVsU2l6ZSAqIHZlYzIoMS4wLCAwLjApKSwgY29tcGFyZSk7CiAgICBmbG9hdCBydCA9IHNoYWRvd0NvbXBhcmUoc2hhZG93TWFwXzEsIGNlbnRyb2lkVVYgKyB0ZXhlbFNpemUsIGNvbXBhcmUpOwogICAgZmxvYXQgYSA9IG1peChsYiwgbHQsIGYueSk7CiAgICBmbG9hdCBiID0gbWl4KHJiLCBydCwgZi55KTsKICAgIGZsb2F0IGMgPSBtaXgoYSwgYiwgZi54KTsKICAgIHJldHVybiBjOwp9CgpmbG9hdCBQQ0YobWVkaXVtcCBzYW1wbGVyMkQgc2hhZG93TWFwXzEsIHZlYzIgdXYsIGZsb2F0IGNvbXBhcmUsIHZlYzIgc21TaXplKQp7CiAgICBmbG9hdCByZXN1bHQgPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKC0xLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKC0xLjAsIDAuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoLTEuMCwgMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigwLjAsIC0xLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKDAuMCwgMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigxLjAsIC0xLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKDEuMCwgMC4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigxLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJldHVybiByZXN1bHQgLyA5LjA7Cn0KCmZsb2F0IHNoYWRvd1Rlc3QobWVkaXVtcCBzYW1wbGVyMkQgc2hhZG93TWFwXzEsIHZlYzMgbFBvcywgZmxvYXQgc2hhZG93c0JpYXNfMSwgdmVjMiBzbVNpemUpCnsKICAgIGJvb2wgXzMwOSA9IGxQb3MueCA8IDAuMDsKICAgIGJvb2wgXzMxNTsKICAgIGlmICghXzMwOSkKICAgIHsKICAgICAgICBfMzE1ID0gbFBvcy55IDwgMC4wOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8zMTUgPSBfMzA5OwogICAgfQogICAgYm9vbCBfMzIxOwogICAgaWYgKCFfMzE1KQogICAgewogICAgICAgIF8zMjEgPSBsUG9zLnggPiAxLjA7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzMyMSA9IF8zMTU7CiAgICB9CiAgICBib29sIF8zMjc7CiAgICBpZiAoIV8zMjEpCiAgICB7CiAgICAgICAgXzMyNyA9IGxQb3MueSA%IDEuMDsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMzI3ID0gXzMyMTsKICAgIH0KICAgIGlmIChfMzI3KQogICAgewogICAgICAgIHJldHVybiAxLjA7CiAgICB9CiAgICByZXR1cm4gUENGKHNoYWRvd01hcF8xLCBsUG9zLnh5LCBsUG9zLnogLSBzaGFkb3dzQmlhc18xLCBzbVNpemUpOwp9CgpmbG9hdCBzaGFkb3dUZXN0Q2FzY2FkZShtZWRpdW1wIHNhbXBsZXIyRCBzaGFkb3dNYXBfMSwgdmVjMyBleWVfMSwgdmVjMyBwLCBmbG9hdCBzaGFkb3dzQmlhc18xLCB2ZWMyIHNtU2l6ZSkKewogICAgZmxvYXQgZCA9IGRpc3RhbmNlKGV5ZV8xLCBwKTsKICAgIGludCBwYXJhbTsKICAgIGludCBwYXJhbV8xOwogICAgbWF0NCBfNDI1ID0gZ2V0Q2FzY2FkZU1hdChkLCBwYXJhbSwgcGFyYW1fMSk7CiAgICBpbnQgY2FzaSA9IHBhcmFtOwogICAgaW50IGNhc0luZGV4ID0gcGFyYW1fMTsKICAgIG1hdDQgTFdWUCA9IF80MjU7CiAgICB2ZWM0IGxQb3MgPSBMV1ZQICogdmVjNChwLCAxLjApOwogICAgZmxvYXQgdmlzaWJpbGl0eSA9IDEuMDsKICAgIGlmIChsUG9zLncgPiAwLjApCiAgICB7CiAgICAgICAgdmlzaWJpbGl0eSA9IHNoYWRvd1Rlc3Qoc2hhZG93TWFwXzEsIGxQb3MueHl6IC8gdmVjMyhsUG9zLncpLCBzaGFkb3dzQmlhc18xLCBzbVNpemUpOwogICAgfQogICAgZmxvYXQgbmV4dFNwbGl0ID0gY2FzRGF0YVsxNl1bY2FzaV07CiAgICBmbG9hdCBfNDU1OwogICAgaWYgKGNhc2kgPT0gMCkKICAgIHsKICAgICAgICBfNDU1ID0gbmV4dFNwbGl0OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF80NTUgPSBuZXh0U3BsaXQgLSAoY2FzRGF0YVsxNl1bY2FzaSAtIDFdKTsKICAgIH0KICAgIGZsb2F0IHNwbGl0U2l6ZSA9IF80NTU7CiAgICBmbG9hdCBzcGxpdERpc3QgPSAobmV4dFNwbGl0IC0gZCkgLyBzcGxpdFNpemU7CiAgICBpZiAoKHNwbGl0RGlzdCA8PSAwLjE1MDAwMDAwNTk2MDQ2NDQ3NzUzOTA2MjUpICYmIChjYXNpICE9IDMpKQogICAgewogICAgICAgIGludCBjYXNJbmRleDIgPSBjYXNJbmRleCArIDQ7CiAgICAgICAgbWF0NCBMV1ZQMiA9IG1hdDQodmVjNChjYXNEYXRhW2Nhc0luZGV4MiArIDBdKSwgdmVjNChjYXNEYXRhW2Nhc0luZGV4MiArIDFdKSwgdmVjNChjYXNEYXRhW2Nhc0luZGV4MiArIDJdKSwgdmVjNChjYXNEYXRhW2Nhc0luZGV4MiArIDNdKSk7CiAgICAgICAgdmVjNCBsUG9zMiA9IExXVlAyICogdmVjNChwLCAxLjApOwogICAgICAgIGZsb2F0IHZpc2liaWxpdHkyID0gMS4wOwogICAgICAgIGlmIChsUG9zMi53ID4gMC4wKQogICAgICAgIHsKICAgICAgICAgICAgdmlzaWJpbGl0eTIgPSBzaGFkb3dUZXN0KHNoYWRvd01hcF8xLCBsUG9zMi54eXogLyB2ZWMzKGxQb3MyLncpLCBzaGFkb3dzQmlhc18xLCBzbVNpemUpOwogICAgICAgIH0KICAgICAgICBmbG9hdCBsZXJwQW10ID0gc21vb3Roc3RlcCgwLjAsIDAuMTUwMDAwMDA1OTYwNDY0NDc3NTM5MDYyNSwgc3BsaXREaXN0KTsKICAgICAgICByZXR1cm4gbWl4KHZpc2liaWxpdHkyLCB2aXNpYmlsaXR5LCBsZXJwQW10KTsKICAgIH0KICAgIHJldHVybiB2aXNpYmlsaXR5Owp9Cgp2ZWMzIGxhbWJlcnREaWZmdXNlQlJERih2ZWMzIGFsYmVkbywgZmxvYXQgbmwpCnsKICAgIHJldHVybiBhbGJlZG8gKiBtYXgoMC4wLCBubCk7Cn0KCmZsb2F0IGRfZ2d4KGZsb2F0IG5oLCBmbG9hdCBhKQp7CiAgICBmbG9hdCBhMiA9IGEgKiBhOwogICAgZmxvYXQgZGVub20gPSBwb3coKChuaCAqIG5oKSAqIChhMiAtIDEuMCkpICsgMS4wLCAyLjApOwogICAgcmV0dXJuIChhMiAqIDAuMzE4MzA5ODczMzQyNTE0MDM4MDg1OTM3NSkgLyBkZW5vbTsKfQoKZmxvYXQgdl9zbWl0aHNjaGxpY2soZmxvYXQgbmwsIGZsb2F0IG52LCBmbG9hdCBhKQp7CiAgICByZXR1cm4gMS4wIC8gKCgobmwgKiAoMS4wIC0gYSkpICsgYSkgKiAoKG52ICogKDEuMCAtIGEpKSArIGEpKTsKfQoKdmVjMyBmX3NjaGxpY2sodmVjMyBmMCwgZmxvYXQgdmgpCnsKICAgIHJldHVybiBmMCArICgodmVjMygxLjApIC0gZjApICogZXhwMigoKCgtNS41NTQ3Mjk5Mzg1MDcwODAwNzgxMjUpICogdmgpIC0gNi45ODMxNjAwMTg5MjA4OTg0Mzc1KSAqIHZoKSk7Cn0KCnZlYzMgc3BlY3VsYXJCUkRGKHZlYzMgZjAsIGZsb2F0IHJvdWdobmVzcywgZmxvYXQgbmwsIGZsb2F0IG5oLCBmbG9hdCBudiwgZmxvYXQgdmgpCnsKICAgIGZsb2F0IGEgPSByb3VnaG5lc3MgKiByb3VnaG5lc3M7CiAgICByZXR1cm4gKGZfc2NobGljayhmMCwgdmgpICogKGRfZ2d4KG5oLCBhKSAqIGNsYW1wKHZfc21pdGhzY2hsaWNrKG5sLCBudiwgYSksIDAuMCwgMS4wKSkpIC8gdmVjMyg0LjApOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWM0IGcwID0gdGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmQpOwogICAgdmVjNCBnMSA9IHRleHR1cmUoZ2J1ZmZlcjEsIHRleENvb3JkKTsKICAgIGZsb2F0IHNwZWMgPSB1bnBhY2tGbG9hdDIoZzEudykueTsKICAgIGZsb2F0IGRlcHRoID0gKCgxLjAgLSBnMC53KSAqIDIuMCkgLSAxLjA7CiAgICB2ZWMzIG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGcwLngpKSAtIGFicyhnMC55KTsKICAgIHZlYzIgXzY0MDsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF82NDAgPSBnMC54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNjQwID0gb2N0YWhlZHJvbldyYXAoZzAueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzY0MC54LCBfNjQwLnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgdmVjMyBwID0gZ2V0UG9zKGV5ZSwgZXllTG9vaywgdmlld1JheSwgZGVwdGgsIGNhbWVyYVByb2opOwogICAgdmVjMiBtZXRyb3VnaCA9IHVucGFja0Zsb2F0KGcwLnopOwogICAgdmVjMyB2ID0gbm9ybWFsaXplKGV5ZSAtIHApOwogICAgZmxvYXQgZG90TlYgPSBkb3Qobiwgdik7CiAgICB2ZWMzIGFsYmVkbyA9IHN1cmZhY2VBbGJlZG8oZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIHZlYzMgZjAgPSBzdXJmYWNlRjAoZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIGZsb2F0IGRvdE5MID0gZG90KG4sIGwpOwogICAgZmxvYXQgdmlzaWJpbGl0eSA9IDEuMDsKICAgIGlmIChsaWdodFNoYWRvdyA9PSAxKQogICAgewogICAgICAgIHZpc2liaWxpdHkgPSBzaGFkb3dUZXN0Q2FzY2FkZShzaGFkb3dNYXAsIGV5ZSwgcCArICgobiAqIHNoYWRvd3NCaWFzKSAqIDEwLjApLCBzaGFkb3dzQmlhcywgdmVjMig4MTkyLjAsIDIwNDguMCkpOwogICAgfQogICAgdmVjMyBoID0gbm9ybWFsaXplKHYgKyBsKTsKICAgIGZsb2F0IGRvdE5IID0gZG90KG4sIGgpOwogICAgZmxvYXQgZG90VkggPSBkb3QodiwgaCk7CiAgICB2ZWMzIF83NDggPSBsYW1iZXJ0RGlmZnVzZUJSREYoYWxiZWRvLCBkb3ROTCkgKyAoc3BlY3VsYXJCUkRGKGYwLCBtZXRyb3VnaC55LCBkb3ROTCwgZG90TkgsIGRvdE5WLCBkb3RWSCkgKiBzcGVjKTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzc0OC54LCBfNzQ4LnksIF83NDgueiwgZnJhZ0NvbG9yLncpOwogICAgdmVjMyBfNzU1ID0gZnJhZ0NvbG9yLnh5eiAqIGxpZ2h0Q29sb3I7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83NTUueCwgXzc1NS55LCBfNzU1LnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzc2MSA9IGZyYWdDb2xvci54eXogKiB2aXNpYmlsaXR5OwogICAgZnJhZ0NvbG9yID0gdmVjNChfNzYxLngsIF83NjEueSwgXzc2MS56LCBmcmFnQ29sb3Iudyk7Cn0KCg";kha_Shaders.deferred_light_quad_fragData2="s11010:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCB2ZWM0IGNhc0RhdGFbMjBdOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBnYnVmZmVyMDsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjE7CnVuaWZvcm0gaGlnaHAgdmVjMyBleWU7CnVuaWZvcm0gaGlnaHAgdmVjMyBleWVMb29rOwp1bmlmb3JtIGhpZ2hwIHZlYzIgY2FtZXJhUHJvajsKdW5pZm9ybSBoaWdocCB2ZWMzIGw7CnVuaWZvcm0gaW50IGxpZ2h0U2hhZG93Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzaGFkb3dNYXA7CnVuaWZvcm0gaGlnaHAgZmxvYXQgc2hhZG93c0JpYXM7CnVuaWZvcm0gaGlnaHAgdmVjMyBsaWdodENvbG9yOwoKaW4gaGlnaHAgdmVjMiB0ZXhDb29yZDsKaW4gaGlnaHAgdmVjMyB2aWV3UmF5OwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3I7CgpoaWdocCB2ZWMyIHVucGFja0Zsb2F0MihoaWdocCBmbG9hdCBmKQp7CiAgICByZXR1cm4gdmVjMihmbG9vcihmKSAvIDI1NS4wLCBmcmFjdChmKSk7Cn0KCmhpZ2hwIHZlYzIgb2N0YWhlZHJvbldyYXAoaGlnaHAgdmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKaGlnaHAgdmVjMyBnZXRQb3MoaGlnaHAgdmVjMyBleWVfMSwgaGlnaHAgdmVjMyBleWVMb29rXzEsIGhpZ2hwIHZlYzMgdmlld1JheV8xLCBoaWdocCBmbG9hdCBkZXB0aCwgaGlnaHAgdmVjMiBjYW1lcmFQcm9qXzEpCnsKICAgIGhpZ2hwIHZlYzMgdnJheSA9IG5vcm1hbGl6ZSh2aWV3UmF5XzEpOwogICAgaGlnaHAgZmxvYXQgbGluZWFyRGVwdGggPSBjYW1lcmFQcm9qXzEueSAvICgoKGRlcHRoICogMC41KSArIDAuNSkgLSBjYW1lcmFQcm9qXzEueCk7CiAgICBoaWdocCBmbG9hdCB2aWV3WkRpc3QgPSBkb3QoZXllTG9va18xLCB2cmF5KTsKICAgIGhpZ2hwIHZlYzMgd3Bvc2l0aW9uID0gZXllXzEgKyAodnJheSAqIChsaW5lYXJEZXB0aCAvIHZpZXdaRGlzdCkpOwogICAgcmV0dXJuIHdwb3NpdGlvbjsKfQoKaGlnaHAgdmVjMiB1bnBhY2tGbG9hdChoaWdocCBmbG9hdCBmKQp7CiAgICByZXR1cm4gdmVjMihmbG9vcihmKSAvIDEwMC4wLCBmcmFjdChmKSk7Cn0KCmhpZ2hwIHZlYzMgc3VyZmFjZUFsYmVkbyhoaWdocCB2ZWMzIGJhc2VDb2xvciwgaGlnaHAgZmxvYXQgbWV0YWxuZXNzKQp7CiAgICByZXR1cm4gbWl4KGJhc2VDb2xvciwgdmVjMygwLjApLCB2ZWMzKG1ldGFsbmVzcykpOwp9CgpoaWdocCB2ZWMzIHN1cmZhY2VGMChoaWdocCB2ZWMzIGJhc2VDb2xvciwgaGlnaHAgZmxvYXQgbWV0YWxuZXNzKQp7CiAgICByZXR1cm4gbWl4KHZlYzMoMC4wMzk5OTk5OTkxMDU5MzAzMjgzNjkxNDA2MjUpLCBiYXNlQ29sb3IsIHZlYzMobWV0YWxuZXNzKSk7Cn0KCmhpZ2hwIG1hdDQgZ2V0Q2FzY2FkZU1hdChoaWdocCBmbG9hdCBkLCBpbm91dCBpbnQgY2FzaSwgaW5vdXQgaW50IGNhc0luZGV4KQp7CiAgICBoaWdocCB2ZWM0IGNvbXAgPSB2ZWM0KGZsb2F0KGQgPiBjYXNEYXRhWzE2XS54KSwgZmxvYXQoZCA%IGNhc0RhdGFbMTZdLnkpLCBmbG9hdChkID4gY2FzRGF0YVsxNl0ueiksIGZsb2F0KGQgPiBjYXNEYXRhWzE2XS53KSk7CiAgICBjYXNpID0gaW50KG1pbihkb3QodmVjNCgxLjApLCBjb21wKSwgNC4wKSk7CiAgICBjYXNJbmRleCA9IGNhc2kgKiA0OwogICAgcmV0dXJuIG1hdDQodmVjNChjYXNEYXRhW2Nhc0luZGV4ICsgMF0pLCB2ZWM0KGNhc0RhdGFbY2FzSW5kZXggKyAxXSksIHZlYzQoY2FzRGF0YVtjYXNJbmRleCArIDJdKSwgdmVjNChjYXNEYXRhW2Nhc0luZGV4ICsgM10pKTsKfQoKaGlnaHAgZmxvYXQgc2hhZG93Q29tcGFyZShoaWdocCBzYW1wbGVyMkQgc2hhZG93TWFwXzEsIGhpZ2hwIHZlYzIgdXYsIGhpZ2hwIGZsb2F0IGNvbXBhcmUpCnsKICAgIGhpZ2hwIGZsb2F0IGRlcHRoID0gdGV4dHVyZShzaGFkb3dNYXBfMSwgdXYpLng7CiAgICByZXR1cm4gc3RlcChjb21wYXJlLCBkZXB0aCk7Cn0KCmhpZ2hwIGZsb2F0IHNoYWRvd0xlcnAoaGlnaHAgc2FtcGxlcjJEIHNoYWRvd01hcF8xLCBoaWdocCB2ZWMyIHV2LCBoaWdocCBmbG9hdCBjb21wYXJlLCBoaWdocCB2ZWMyIHNtU2l6ZSkKewogICAgaGlnaHAgdmVjMiB0ZXhlbFNpemUgPSB2ZWMyKDEuMCkgLyBzbVNpemU7CiAgICBoaWdocCB2ZWMyIGYgPSBmcmFjdCgodXYgKiBzbVNpemUpICsgdmVjMigwLjUpKTsKICAgIGhpZ2hwIHZlYzIgY2VudHJvaWRVViA9IGZsb29yKCh1diAqIHNtU2l6ZSkgKyB2ZWMyKDAuNSkpIC8gc21TaXplOwogICAgaGlnaHAgZmxvYXQgbGIgPSBzaGFkb3dDb21wYXJlKHNoYWRvd01hcF8xLCBjZW50cm9pZFVWLCBjb21wYXJlKTsKICAgIGhpZ2hwIGZsb2F0IGx0ID0gc2hhZG93Q29tcGFyZShzaGFkb3dNYXBfMSwgY2VudHJvaWRVViArICh0ZXhlbFNpemUgKiB2ZWMyKDAuMCwgMS4wKSksIGNvbXBhcmUpOwogICAgaGlnaHAgZmxvYXQgcmIgPSBzaGFkb3dDb21wYXJlKHNoYWRvd01hcF8xLCBjZW50cm9pZFVWICsgKHRleGVsU2l6ZSAqIHZlYzIoMS4wLCAwLjApKSwgY29tcGFyZSk7CiAgICBoaWdocCBmbG9hdCBydCA9IHNoYWRvd0NvbXBhcmUoc2hhZG93TWFwXzEsIGNlbnRyb2lkVVYgKyB0ZXhlbFNpemUsIGNvbXBhcmUpOwogICAgaGlnaHAgZmxvYXQgYSA9IG1peChsYiwgbHQsIGYueSk7CiAgICBoaWdocCBmbG9hdCBiID0gbWl4KHJiLCBydCwgZi55KTsKICAgIGhpZ2hwIGZsb2F0IGMgPSBtaXgoYSwgYiwgZi54KTsKICAgIHJldHVybiBjOwp9CgpoaWdocCBmbG9hdCBQQ0YoaGlnaHAgc2FtcGxlcjJEIHNoYWRvd01hcF8xLCBoaWdocCB2ZWMyIHV2LCBoaWdocCBmbG9hdCBjb21wYXJlLCBoaWdocCB2ZWMyIHNtU2l6ZSkKewogICAgaGlnaHAgZmxvYXQgcmVzdWx0ID0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigtMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigtMS4wLCAwLjApIC8gc21TaXplKSwgY29tcGFyZSwgc21TaXplKTsKICAgIHJlc3VsdCArPSBzaGFkb3dMZXJwKHNoYWRvd01hcF8xLCB1diArICh2ZWMyKC0xLjAsIDEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoMC4wLCAtMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYsIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigwLjAsIDEuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoMS4wLCAtMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXN1bHQgKz0gc2hhZG93TGVycChzaGFkb3dNYXBfMSwgdXYgKyAodmVjMigxLjAsIDAuMCkgLyBzbVNpemUpLCBjb21wYXJlLCBzbVNpemUpOwogICAgcmVzdWx0ICs9IHNoYWRvd0xlcnAoc2hhZG93TWFwXzEsIHV2ICsgKHZlYzIoMS4wKSAvIHNtU2l6ZSksIGNvbXBhcmUsIHNtU2l6ZSk7CiAgICByZXR1cm4gcmVzdWx0IC8gOS4wOwp9CgpoaWdocCBmbG9hdCBzaGFkb3dUZXN0KGhpZ2hwIHNhbXBsZXIyRCBzaGFkb3dNYXBfMSwgaGlnaHAgdmVjMyBsUG9zLCBoaWdocCBmbG9hdCBzaGFkb3dzQmlhc18xLCBoaWdocCB2ZWMyIHNtU2l6ZSkKewogICAgYm9vbCBfMzA5ID0gbFBvcy54IDwgMC4wOwogICAgYm9vbCBfMzE1OwogICAgaWYgKCFfMzA5KQogICAgewogICAgICAgIF8zMTUgPSBsUG9zLnkgPCAwLjA7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzMxNSA9IF8zMDk7CiAgICB9CiAgICBib29sIF8zMjE7CiAgICBpZiAoIV8zMTUpCiAgICB7CiAgICAgICAgXzMyMSA9IGxQb3MueCA%IDEuMDsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMzIxID0gXzMxNTsKICAgIH0KICAgIGJvb2wgXzMyNzsKICAgIGlmICghXzMyMSkKICAgIHsKICAgICAgICBfMzI3ID0gbFBvcy55ID4gMS4wOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8zMjcgPSBfMzIxOwogICAgfQogICAgaWYgKF8zMjcpCiAgICB7CiAgICAgICAgcmV0dXJuIDEuMDsKICAgIH0KICAgIHJldHVybiBQQ0Yoc2hhZG93TWFwXzEsIGxQb3MueHksIGxQb3MueiAtIHNoYWRvd3NCaWFzXzEsIHNtU2l6ZSk7Cn0KCmhpZ2hwIGZsb2F0IHNoYWRvd1Rlc3RDYXNjYWRlKGhpZ2hwIHNhbXBsZXIyRCBzaGFkb3dNYXBfMSwgaGlnaHAgdmVjMyBleWVfMSwgaGlnaHAgdmVjMyBwLCBoaWdocCBmbG9hdCBzaGFkb3dzQmlhc18xLCBoaWdocCB2ZWMyIHNtU2l6ZSkKewogICAgaGlnaHAgZmxvYXQgZCA9IGRpc3RhbmNlKGV5ZV8xLCBwKTsKICAgIGludCBwYXJhbTsKICAgIGludCBwYXJhbV8xOwogICAgaGlnaHAgbWF0NCBfNDI1ID0gZ2V0Q2FzY2FkZU1hdChkLCBwYXJhbSwgcGFyYW1fMSk7CiAgICBpbnQgY2FzaSA9IHBhcmFtOwogICAgaW50IGNhc0luZGV4ID0gcGFyYW1fMTsKICAgIGhpZ2hwIG1hdDQgTFdWUCA9IF80MjU7CiAgICBoaWdocCB2ZWM0IGxQb3MgPSBMV1ZQICogdmVjNChwLCAxLjApOwogICAgaGlnaHAgZmxvYXQgdmlzaWJpbGl0eSA9IDEuMDsKICAgIGlmIChsUG9zLncgPiAwLjApCiAgICB7CiAgICAgICAgdmlzaWJpbGl0eSA9IHNoYWRvd1Rlc3Qoc2hhZG93TWFwXzEsIGxQb3MueHl6IC8gdmVjMyhsUG9zLncpLCBzaGFkb3dzQmlhc18xLCBzbVNpemUpOwogICAgfQogICAgaGlnaHAgZmxvYXQgbmV4dFNwbGl0ID0gY2FzRGF0YVsxNl1bY2FzaV07CiAgICBoaWdocCBmbG9hdCBfNDU1OwogICAgaWYgKGNhc2kgPT0gMCkKICAgIHsKICAgICAgICBfNDU1ID0gbmV4dFNwbGl0OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF80NTUgPSBuZXh0U3BsaXQgLSAoY2FzRGF0YVsxNl1bY2FzaSAtIDFdKTsKICAgIH0KICAgIGhpZ2hwIGZsb2F0IHNwbGl0U2l6ZSA9IF80NTU7CiAgICBoaWdocCBmbG9hdCBzcGxpdERpc3QgPSAobmV4dFNwbGl0IC0gZCkgLyBzcGxpdFNpemU7CiAgICBpZiAoKHNwbGl0RGlzdCA8PSAwLjE1MDAwMDAwNTk2MDQ2NDQ3NzUzOTA2MjUpICYmIChjYXNpICE9IDMpKQogICAgewogICAgICAgIGludCBjYXNJbmRleDIgPSBjYXNJbmRleCArIDQ7CiAgICAgICAgaGlnaHAgbWF0NCBMV1ZQMiA9IG1hdDQodmVjNChjYXNEYXRhW2Nhc0luZGV4MiArIDBdKSwgdmVjNChjYXNEYXRhW2Nhc0luZGV4MiArIDFdKSwgdmVjNChjYXNEYXRhW2Nhc0luZGV4MiArIDJdKSwgdmVjNChjYXNEYXRhW2Nhc0luZGV4MiArIDNdKSk7CiAgICAgICAgaGlnaHAgdmVjNCBsUG9zMiA9IExXVlAyICogdmVjNChwLCAxLjApOwogICAgICAgIGhpZ2hwIGZsb2F0IHZpc2liaWxpdHkyID0gMS4wOwogICAgICAgIGlmIChsUG9zMi53ID4gMC4wKQogICAgICAgIHsKICAgICAgICAgICAgdmlzaWJpbGl0eTIgPSBzaGFkb3dUZXN0KHNoYWRvd01hcF8xLCBsUG9zMi54eXogLyB2ZWMzKGxQb3MyLncpLCBzaGFkb3dzQmlhc18xLCBzbVNpemUpOwogICAgICAgIH0KICAgICAgICBoaWdocCBmbG9hdCBsZXJwQW10ID0gc21vb3Roc3RlcCgwLjAsIDAuMTUwMDAwMDA1OTYwNDY0NDc3NTM5MDYyNSwgc3BsaXREaXN0KTsKICAgICAgICByZXR1cm4gbWl4KHZpc2liaWxpdHkyLCB2aXNpYmlsaXR5LCBsZXJwQW10KTsKICAgIH0KICAgIHJldHVybiB2aXNpYmlsaXR5Owp9CgpoaWdocCB2ZWMzIGxhbWJlcnREaWZmdXNlQlJERihoaWdocCB2ZWMzIGFsYmVkbywgaGlnaHAgZmxvYXQgbmwpCnsKICAgIHJldHVybiBhbGJlZG8gKiBtYXgoMC4wLCBubCk7Cn0KCmhpZ2hwIGZsb2F0IGRfZ2d4KGhpZ2hwIGZsb2F0IG5oLCBoaWdocCBmbG9hdCBhKQp7CiAgICBoaWdocCBmbG9hdCBhMiA9IGEgKiBhOwogICAgaGlnaHAgZmxvYXQgZGVub20gPSBwb3coKChuaCAqIG5oKSAqIChhMiAtIDEuMCkpICsgMS4wLCAyLjApOwogICAgcmV0dXJuIChhMiAqIDAuMzE4MzA5ODczMzQyNTE0MDM4MDg1OTM3NSkgLyBkZW5vbTsKfQoKaGlnaHAgZmxvYXQgdl9zbWl0aHNjaGxpY2soaGlnaHAgZmxvYXQgbmwsIGhpZ2hwIGZsb2F0IG52LCBoaWdocCBmbG9hdCBhKQp7CiAgICByZXR1cm4gMS4wIC8gKCgobmwgKiAoMS4wIC0gYSkpICsgYSkgKiAoKG52ICogKDEuMCAtIGEpKSArIGEpKTsKfQoKaGlnaHAgdmVjMyBmX3NjaGxpY2soaGlnaHAgdmVjMyBmMCwgaGlnaHAgZmxvYXQgdmgpCnsKICAgIHJldHVybiBmMCArICgodmVjMygxLjApIC0gZjApICogZXhwMigoKCgtNS41NTQ3Mjk5Mzg1MDcwODAwNzgxMjUpICogdmgpIC0gNi45ODMxNjAwMTg5MjA4OTg0Mzc1KSAqIHZoKSk7Cn0KCmhpZ2hwIHZlYzMgc3BlY3VsYXJCUkRGKGhpZ2hwIHZlYzMgZjAsIGhpZ2hwIGZsb2F0IHJvdWdobmVzcywgaGlnaHAgZmxvYXQgbmwsIGhpZ2hwIGZsb2F0IG5oLCBoaWdocCBmbG9hdCBudiwgaGlnaHAgZmxvYXQgdmgpCnsKICAgIGhpZ2hwIGZsb2F0IGEgPSByb3VnaG5lc3MgKiByb3VnaG5lc3M7CiAgICByZXR1cm4gKGZfc2NobGljayhmMCwgdmgpICogKGRfZ2d4KG5oLCBhKSAqIGNsYW1wKHZfc21pdGhzY2hsaWNrKG5sLCBudiwgYSksIDAuMCwgMS4wKSkpIC8gdmVjMyg0LjApOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWM0IGcwID0gdGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmQpOwogICAgaGlnaHAgdmVjNCBnMSA9IHRleHR1cmUoZ2J1ZmZlcjEsIHRleENvb3JkKTsKICAgIGhpZ2hwIGZsb2F0IHNwZWMgPSB1bnBhY2tGbG9hdDIoZzEudykueTsKICAgIGhpZ2hwIGZsb2F0IGRlcHRoID0gKCgxLjAgLSBnMC53KSAqIDIuMCkgLSAxLjA7CiAgICBoaWdocCB2ZWMzIG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGcwLngpKSAtIGFicyhnMC55KTsKICAgIGhpZ2hwIHZlYzIgXzY0MDsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF82NDAgPSBnMC54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNjQwID0gb2N0YWhlZHJvbldyYXAoZzAueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzY0MC54LCBfNjQwLnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgaGlnaHAgdmVjMyBwID0gZ2V0UG9zKGV5ZSwgZXllTG9vaywgdmlld1JheSwgZGVwdGgsIGNhbWVyYVByb2opOwogICAgaGlnaHAgdmVjMiBtZXRyb3VnaCA9IHVucGFja0Zsb2F0KGcwLnopOwogICAgaGlnaHAgdmVjMyB2ID0gbm9ybWFsaXplKGV5ZSAtIHApOwogICAgaGlnaHAgZmxvYXQgZG90TlYgPSBkb3Qobiwgdik7CiAgICBoaWdocCB2ZWMzIGFsYmVkbyA9IHN1cmZhY2VBbGJlZG8oZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIGhpZ2hwIHZlYzMgZjAgPSBzdXJmYWNlRjAoZzEueHl6LCBtZXRyb3VnaC54KTsKICAgIGhpZ2hwIGZsb2F0IGRvdE5MID0gZG90KG4sIGwpOwogICAgaGlnaHAgZmxvYXQgdmlzaWJpbGl0eSA9IDEuMDsKICAgIGlmIChsaWdodFNoYWRvdyA9PSAxKQogICAgewogICAgICAgIHZpc2liaWxpdHkgPSBzaGFkb3dUZXN0Q2FzY2FkZShzaGFkb3dNYXAsIGV5ZSwgcCArICgobiAqIHNoYWRvd3NCaWFzKSAqIDEwLjApLCBzaGFkb3dzQmlhcywgdmVjMig4MTkyLjAsIDIwNDguMCkpOwogICAgfQogICAgaGlnaHAgdmVjMyBoID0gbm9ybWFsaXplKHYgKyBsKTsKICAgIGhpZ2hwIGZsb2F0IGRvdE5IID0gZG90KG4sIGgpOwogICAgaGlnaHAgZmxvYXQgZG90VkggPSBkb3QodiwgaCk7CiAgICBoaWdocCB2ZWMzIF83NDggPSBsYW1iZXJ0RGlmZnVzZUJSREYoYWxiZWRvLCBkb3ROTCkgKyAoc3BlY3VsYXJCUkRGKGYwLCBtZXRyb3VnaC55LCBkb3ROTCwgZG90TkgsIGRvdE5WLCBkb3RWSCkgKiBzcGVjKTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzc0OC54LCBfNzQ4LnksIF83NDgueiwgZnJhZ0NvbG9yLncpOwogICAgaGlnaHAgdmVjMyBfNzU1ID0gZnJhZ0NvbG9yLnh5eiAqIGxpZ2h0Q29sb3I7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83NTUueCwgXzc1NS55LCBfNzU1LnosIGZyYWdDb2xvci53KTsKICAgIGhpZ2hwIHZlYzMgXzc2MSA9IGZyYWdDb2xvci54eXogKiB2aXNpYmlsaXR5OwogICAgZnJhZ0NvbG9yID0gdmVjNChfNzYxLngsIF83NjEueSwgXzc2MS56LCBmcmFnQ29sb3Iudyk7Cn0KCg";kha_Shaders.motion_blur_veloc_pass_fragData0="s2782:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgc3ZlbG9jOwp1bmlmb3JtIGhpZ2hwIGZsb2F0IGZyYW1lU2NhbGU7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHRleDsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CgppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWMyIHZlbG9jaXR5ID0gKHRleHR1cmUoc3ZlbG9jLCB0ZXhDb29yZCkueHkgKiAxLjApICogZnJhbWVTY2FsZTsKICAgIGhpZ2hwIHZlYzMgXzM0ID0gdGV4dHVyZSh0ZXgsIHRleENvb3JkKS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8zNC54LCBfMzQueSwgXzM0LnosIGZyYWdDb2xvci53KTsKICAgIGlmICh0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZCkudyA9PSAxLjApCiAgICB7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaGlnaHAgdmVjMiBvZmZzZXQgPSB2ZWxvY2l0eSAqICgtMC41KTsKICAgIGhpZ2hwIHZlYzMgXzYxID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCArIG9mZnNldCkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfNjEueCwgXzYxLnksIF82MS56LCBmcmFnQ29sb3Iudyk7CiAgICBvZmZzZXQgPSB2ZWxvY2l0eSAqICgtMC4zNTcxNDI4NjU2NTc4MDYzOTY0ODQzNzUpOwogICAgaGlnaHAgdmVjMyBfNzUgPSBmcmFnQ29sb3IueHl6ICsgdGV4dHVyZSh0ZXgsIHRleENvb3JkICsgb2Zmc2V0KS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83NS54LCBfNzUueSwgXzc1LnosIGZyYWdDb2xvci53KTsKICAgIG9mZnNldCA9IHZlbG9jaXR5ICogKC0wLjIxNDI4NTcxNjQxNDQ1MTU5OTEyMTA5Mzc1KTsKICAgIGhpZ2hwIHZlYzMgXzg5ID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCArIG9mZnNldCkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfODkueCwgXzg5LnksIF84OS56LCBmcmFnQ29sb3Iudyk7CiAgICBvZmZzZXQgPSB2ZWxvY2l0eSAqICgtMC4wNzE0Mjg1NzQ2MjE2NzczOTg2ODE2NDA2MjUpOwogICAgaGlnaHAgdmVjMyBfMTAzID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCArIG9mZnNldCkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTAzLngsIF8xMDMueSwgXzEwMy56LCBmcmFnQ29sb3Iudyk7CiAgICBvZmZzZXQgPSB2ZWxvY2l0eSAqIDAuMDcxNDI4NTc0NjIxNjc3Mzk4NjgxNjQwNjI1OwogICAgaGlnaHAgdmVjMyBfMTE3ID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCArIG9mZnNldCkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTE3LngsIF8xMTcueSwgXzExNy56LCBmcmFnQ29sb3Iudyk7CiAgICBvZmZzZXQgPSB2ZWxvY2l0eSAqIDAuMjE0Mjg1NzE2NDE0NDUxNTk5MTIxMDkzNzU7CiAgICBoaWdocCB2ZWMzIF8xMzEgPSBmcmFnQ29sb3IueHl6ICsgdGV4dHVyZSh0ZXgsIHRleENvb3JkICsgb2Zmc2V0KS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8xMzEueCwgXzEzMS55LCBfMTMxLnosIGZyYWdDb2xvci53KTsKICAgIG9mZnNldCA9IHZlbG9jaXR5ICogMC4zNTcxNDI4NjU2NTc4MDYzOTY0ODQzNzU7CiAgICBoaWdocCB2ZWMzIF8xNDUgPSBmcmFnQ29sb3IueHl6ICsgdGV4dHVyZSh0ZXgsIHRleENvb3JkICsgb2Zmc2V0KS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8xNDUueCwgXzE0NS55LCBfMTQ1LnosIGZyYWdDb2xvci53KTsKICAgIG9mZnNldCA9IHZlbG9jaXR5ICogMC41OwogICAgaGlnaHAgdmVjMyBfMTU5ID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCArIG9mZnNldCkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTU5LngsIF8xNTkueSwgXzE1OS56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF8xNjYgPSBmcmFnQ29sb3IueHl6IC8gdmVjMyg5LjApOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTY2LngsIF8xNjYueSwgXzE2Ni56LCBmcmFnQ29sb3Iudyk7Cn0KCg";kha_Shaders.motion_blur_veloc_pass_fragData1="s2672:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHN2ZWxvYzsKdW5pZm9ybSBmbG9hdCBmcmFtZVNjYWxlOwp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBnYnVmZmVyMDsKCmluIHZlYzIgdGV4Q29vcmQ7Cm91dCB2ZWM0IGZyYWdDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzIgdmVsb2NpdHkgPSAodGV4dHVyZShzdmVsb2MsIHRleENvb3JkKS54eSAqIDEuMCkgKiBmcmFtZVNjYWxlOwogICAgdmVjMyBfMzQgPSB0ZXh0dXJlKHRleCwgdGV4Q29vcmQpLnh5ejsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzM0LngsIF8zNC55LCBfMzQueiwgZnJhZ0NvbG9yLncpOwogICAgaWYgKHRleHR1cmUoZ2J1ZmZlcjAsIHRleENvb3JkKS53ID09IDEuMCkKICAgIHsKICAgICAgICByZXR1cm47CiAgICB9CiAgICB2ZWMyIG9mZnNldCA9IHZlbG9jaXR5ICogKC0wLjUpOwogICAgdmVjMyBfNjEgPSBmcmFnQ29sb3IueHl6ICsgdGV4dHVyZSh0ZXgsIHRleENvb3JkICsgb2Zmc2V0KS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF82MS54LCBfNjEueSwgXzYxLnosIGZyYWdDb2xvci53KTsKICAgIG9mZnNldCA9IHZlbG9jaXR5ICogKC0wLjM1NzE0Mjg2NTY1NzgwNjM5NjQ4NDM3NSk7CiAgICB2ZWMzIF83NSA9IGZyYWdDb2xvci54eXogKyB0ZXh0dXJlKHRleCwgdGV4Q29vcmQgKyBvZmZzZXQpLnh5ejsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzc1LngsIF83NS55LCBfNzUueiwgZnJhZ0NvbG9yLncpOwogICAgb2Zmc2V0ID0gdmVsb2NpdHkgKiAoLTAuMjE0Mjg1NzE2NDE0NDUxNTk5MTIxMDkzNzUpOwogICAgdmVjMyBfODkgPSBmcmFnQ29sb3IueHl6ICsgdGV4dHVyZSh0ZXgsIHRleENvb3JkICsgb2Zmc2V0KS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF84OS54LCBfODkueSwgXzg5LnosIGZyYWdDb2xvci53KTsKICAgIG9mZnNldCA9IHZlbG9jaXR5ICogKC0wLjA3MTQyODU3NDYyMTY3NzM5ODY4MTY0MDYyNSk7CiAgICB2ZWMzIF8xMDMgPSBmcmFnQ29sb3IueHl6ICsgdGV4dHVyZSh0ZXgsIHRleENvb3JkICsgb2Zmc2V0KS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8xMDMueCwgXzEwMy55LCBfMTAzLnosIGZyYWdDb2xvci53KTsKICAgIG9mZnNldCA9IHZlbG9jaXR5ICogMC4wNzE0Mjg1NzQ2MjE2NzczOTg2ODE2NDA2MjU7CiAgICB2ZWMzIF8xMTcgPSBmcmFnQ29sb3IueHl6ICsgdGV4dHVyZSh0ZXgsIHRleENvb3JkICsgb2Zmc2V0KS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8xMTcueCwgXzExNy55LCBfMTE3LnosIGZyYWdDb2xvci53KTsKICAgIG9mZnNldCA9IHZlbG9jaXR5ICogMC4yMTQyODU3MTY0MTQ0NTE1OTkxMjEwOTM3NTsKICAgIHZlYzMgXzEzMSA9IGZyYWdDb2xvci54eXogKyB0ZXh0dXJlKHRleCwgdGV4Q29vcmQgKyBvZmZzZXQpLnh5ejsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzEzMS54LCBfMTMxLnksIF8xMzEueiwgZnJhZ0NvbG9yLncpOwogICAgb2Zmc2V0ID0gdmVsb2NpdHkgKiAwLjM1NzE0Mjg2NTY1NzgwNjM5NjQ4NDM3NTsKICAgIHZlYzMgXzE0NSA9IGZyYWdDb2xvci54eXogKyB0ZXh0dXJlKHRleCwgdGV4Q29vcmQgKyBvZmZzZXQpLnh5ejsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzE0NS54LCBfMTQ1LnksIF8xNDUueiwgZnJhZ0NvbG9yLncpOwogICAgb2Zmc2V0ID0gdmVsb2NpdHkgKiAwLjU7CiAgICB2ZWMzIF8xNTkgPSBmcmFnQ29sb3IueHl6ICsgdGV4dHVyZSh0ZXgsIHRleENvb3JkICsgb2Zmc2V0KS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8xNTkueCwgXzE1OS55LCBfMTU5LnosIGZyYWdDb2xvci53KTsKICAgIHZlYzMgXzE2NiA9IGZyYWdDb2xvci54eXogLyB2ZWMzKDkuMCk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8xNjYueCwgXzE2Ni55LCBfMTY2LnosIGZyYWdDb2xvci53KTsKfQoK";kha_Shaders.motion_blur_veloc_pass_fragData2="s2782:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgc3ZlbG9jOwp1bmlmb3JtIGhpZ2hwIGZsb2F0IGZyYW1lU2NhbGU7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHRleDsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CgppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWMyIHZlbG9jaXR5ID0gKHRleHR1cmUoc3ZlbG9jLCB0ZXhDb29yZCkueHkgKiAxLjApICogZnJhbWVTY2FsZTsKICAgIGhpZ2hwIHZlYzMgXzM0ID0gdGV4dHVyZSh0ZXgsIHRleENvb3JkKS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8zNC54LCBfMzQueSwgXzM0LnosIGZyYWdDb2xvci53KTsKICAgIGlmICh0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZCkudyA9PSAxLjApCiAgICB7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaGlnaHAgdmVjMiBvZmZzZXQgPSB2ZWxvY2l0eSAqICgtMC41KTsKICAgIGhpZ2hwIHZlYzMgXzYxID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCArIG9mZnNldCkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfNjEueCwgXzYxLnksIF82MS56LCBmcmFnQ29sb3Iudyk7CiAgICBvZmZzZXQgPSB2ZWxvY2l0eSAqICgtMC4zNTcxNDI4NjU2NTc4MDYzOTY0ODQzNzUpOwogICAgaGlnaHAgdmVjMyBfNzUgPSBmcmFnQ29sb3IueHl6ICsgdGV4dHVyZSh0ZXgsIHRleENvb3JkICsgb2Zmc2V0KS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF83NS54LCBfNzUueSwgXzc1LnosIGZyYWdDb2xvci53KTsKICAgIG9mZnNldCA9IHZlbG9jaXR5ICogKC0wLjIxNDI4NTcxNjQxNDQ1MTU5OTEyMTA5Mzc1KTsKICAgIGhpZ2hwIHZlYzMgXzg5ID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCArIG9mZnNldCkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfODkueCwgXzg5LnksIF84OS56LCBmcmFnQ29sb3Iudyk7CiAgICBvZmZzZXQgPSB2ZWxvY2l0eSAqICgtMC4wNzE0Mjg1NzQ2MjE2NzczOTg2ODE2NDA2MjUpOwogICAgaGlnaHAgdmVjMyBfMTAzID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCArIG9mZnNldCkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTAzLngsIF8xMDMueSwgXzEwMy56LCBmcmFnQ29sb3Iudyk7CiAgICBvZmZzZXQgPSB2ZWxvY2l0eSAqIDAuMDcxNDI4NTc0NjIxNjc3Mzk4NjgxNjQwNjI1OwogICAgaGlnaHAgdmVjMyBfMTE3ID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCArIG9mZnNldCkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTE3LngsIF8xMTcueSwgXzExNy56LCBmcmFnQ29sb3Iudyk7CiAgICBvZmZzZXQgPSB2ZWxvY2l0eSAqIDAuMjE0Mjg1NzE2NDE0NDUxNTk5MTIxMDkzNzU7CiAgICBoaWdocCB2ZWMzIF8xMzEgPSBmcmFnQ29sb3IueHl6ICsgdGV4dHVyZSh0ZXgsIHRleENvb3JkICsgb2Zmc2V0KS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8xMzEueCwgXzEzMS55LCBfMTMxLnosIGZyYWdDb2xvci53KTsKICAgIG9mZnNldCA9IHZlbG9jaXR5ICogMC4zNTcxNDI4NjU2NTc4MDYzOTY0ODQzNzU7CiAgICBoaWdocCB2ZWMzIF8xNDUgPSBmcmFnQ29sb3IueHl6ICsgdGV4dHVyZSh0ZXgsIHRleENvb3JkICsgb2Zmc2V0KS54eXo7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8xNDUueCwgXzE0NS55LCBfMTQ1LnosIGZyYWdDb2xvci53KTsKICAgIG9mZnNldCA9IHZlbG9jaXR5ICogMC41OwogICAgaGlnaHAgdmVjMyBfMTU5ID0gZnJhZ0NvbG9yLnh5eiArIHRleHR1cmUodGV4LCB0ZXhDb29yZCArIG9mZnNldCkueHl6OwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTU5LngsIF8xNTkueSwgXzE1OS56LCBmcmFnQ29sb3Iudyk7CiAgICBoaWdocCB2ZWMzIF8xNjYgPSBmcmFnQ29sb3IueHl6IC8gdmVjMyg5LjApOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMTY2LngsIF8xNjYueSwgXzE2Ni56LCBmcmFnQ29sb3Iudyk7Cn0KCg";kha_Shaders.pass_vertData0="s203:I3ZlcnNpb24gMzMwIGVzCgpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwp9Cgo";kha_Shaders.pass_vertData1="s224:I3ZlcnNpb24gMzMwIGVzCgpvdXQgbWVkaXVtcCB2ZWMyIHRleENvb3JkOwppbiBtZWRpdW1wIHZlYzIgcG9zOwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKfQoK";kha_Shaders.pass_vertData2="s203:I3ZlcnNpb24gMzAwIGVzCgpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwp9Cgo";kha_Shaders.pass_copy_fragData0="s268:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4OwoKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwoKdm9pZCBtYWluKCkKewogICAgZnJhZ0NvbG9yID0gdGV4dHVyZSh0ZXgsIHRleENvb3JkKTsKfQoK";kha_Shaders.pass_copy_fragData1="s258:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKCm91dCB2ZWM0IGZyYWdDb2xvcjsKaW4gdmVjMiB0ZXhDb29yZDsKCnZvaWQgbWFpbigpCnsKICAgIGZyYWdDb2xvciA9IHRleHR1cmUodGV4LCB0ZXhDb29yZCk7Cn0KCg";kha_Shaders.pass_copy_fragData2="s268:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4OwoKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwoKdm9pZCBtYWluKCkKewogICAgZnJhZ0NvbG9yID0gdGV4dHVyZSh0ZXgsIHRleENvb3JkKTsKfQoK";kha_Shaders.pass_lamp_volume_vertData0="s219:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDQgTFZXVlA7CgpvdXQgdmVjNCB3dnBwb3NpdGlvbjsKaW4gdmVjMyBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICB3dnBwb3NpdGlvbiA9IExWV1ZQICogdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IHd2cHBvc2l0aW9uOwp9Cgo";kha_Shaders.pass_lamp_volume_vertData1="s251:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBMVldWUDsKCm91dCBtZWRpdW1wIHZlYzQgd3ZwcG9zaXRpb247CmluIG1lZGl1bXAgdmVjMyBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICB3dnBwb3NpdGlvbiA9IExWV1ZQICogdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IHd2cHBvc2l0aW9uOwp9Cgo";kha_Shaders.pass_lamp_volume_vertData2="s219:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDQgTFZXVlA7CgpvdXQgdmVjNCB3dnBwb3NpdGlvbjsKaW4gdmVjMyBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICB3dnBwb3NpdGlvbiA9IExWV1ZQICogdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IHd2cHBvc2l0aW9uOwp9Cgo";kha_Shaders.pass_viewray_vertData0="s504:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDQgaW52VlA7CnVuaWZvcm0gdmVjMyBleWU7CgpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiBwb3M7Cm91dCB2ZWMzIHZpZXdSYXk7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwogICAgdmVjNCB2ID0gdmVjNChwb3MueCwgcG9zLnksIDEuMCwgMS4wKTsKICAgIHYgPSB2ZWM0KGludlZQICogdik7CiAgICB2ZWMzIF82MiA9IHYueHl6IC8gdmVjMyh2LncpOwogICAgdiA9IHZlYzQoXzYyLngsIF82Mi55LCBfNjIueiwgdi53KTsKICAgIHZpZXdSYXkgPSB2Lnh5eiAtIGV5ZTsKfQoK";kha_Shaders.pass_viewray_vertData1="s579:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBpbnZWUDsKdW5pZm9ybSBtZWRpdW1wIHZlYzMgZXllOwoKb3V0IG1lZGl1bXAgdmVjMiB0ZXhDb29yZDsKaW4gbWVkaXVtcCB2ZWMyIHBvczsKb3V0IG1lZGl1bXAgdmVjMyB2aWV3UmF5OwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKICAgIG1lZGl1bXAgdmVjNCB2ID0gdmVjNChwb3MueCwgcG9zLnksIDEuMCwgMS4wKTsKICAgIHYgPSB2ZWM0KGludlZQICogdik7CiAgICBtZWRpdW1wIHZlYzMgXzYyID0gdi54eXogLyB2ZWMzKHYudyk7CiAgICB2ID0gdmVjNChfNjIueCwgXzYyLnksIF82Mi56LCB2LncpOwogICAgdmlld1JheSA9IHYueHl6IC0gZXllOwp9Cgo";kha_Shaders.pass_viewray_vertData2="s504:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDQgaW52VlA7CnVuaWZvcm0gdmVjMyBleWU7CgpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiBwb3M7Cm91dCB2ZWMzIHZpZXdSYXk7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwogICAgdmVjNCB2ID0gdmVjNChwb3MueCwgcG9zLnksIDEuMCwgMS4wKTsKICAgIHYgPSB2ZWM0KGludlZQICogdik7CiAgICB2ZWMzIF82MiA9IHYueHl6IC8gdmVjMyh2LncpOwogICAgdiA9IHZlYzQoXzYyLngsIF82Mi55LCBfNjIueiwgdi53KTsKICAgIHZpZXdSYXkgPSB2Lnh5eiAtIGV5ZTsKfQoK";kha_Shaders.pass_viewray2_vertData0="s400:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDQgaW52UDsKCm91dCB2ZWMyIHRleENvb3JkOwppbiB2ZWMyIHBvczsKb3V0IHZlYzMgdmlld1JheTsKCnZvaWQgbWFpbigpCnsKICAgIHRleENvb3JkID0gKHBvcyAqIHZlYzIoMC41KSkgKyB2ZWMyKDAuNSk7CiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zLCAwLjAsIDEuMCk7CiAgICB2ZWM0IHYgPSB2ZWM0KHBvcy54LCBwb3MueSwgMS4wLCAxLjApOwogICAgdiA9IHZlYzQoaW52UCAqIHYpOwogICAgdmlld1JheSA9IHZlYzModi54eSAvIHZlYzIodi56KSwgMS4wKTsKfQoK";kha_Shaders.pass_viewray2_vertData1="s454:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBpbnZQOwoKb3V0IG1lZGl1bXAgdmVjMiB0ZXhDb29yZDsKaW4gbWVkaXVtcCB2ZWMyIHBvczsKb3V0IG1lZGl1bXAgdmVjMyB2aWV3UmF5OwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKICAgIG1lZGl1bXAgdmVjNCB2ID0gdmVjNChwb3MueCwgcG9zLnksIDEuMCwgMS4wKTsKICAgIHYgPSB2ZWM0KGludlAgKiB2KTsKICAgIHZpZXdSYXkgPSB2ZWMzKHYueHkgLyB2ZWMyKHYueiksIDEuMCk7Cn0KCg";kha_Shaders.pass_viewray2_vertData2="s400:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDQgaW52UDsKCm91dCB2ZWMyIHRleENvb3JkOwppbiB2ZWMyIHBvczsKb3V0IHZlYzMgdmlld1JheTsKCnZvaWQgbWFpbigpCnsKICAgIHRleENvb3JkID0gKHBvcyAqIHZlYzIoMC41KSkgKyB2ZWMyKDAuNSk7CiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zLCAwLjAsIDEuMCk7CiAgICB2ZWM0IHYgPSB2ZWM0KHBvcy54LCBwb3MueSwgMS4wLCAxLjApOwogICAgdiA9IHZlYzQoaW52UCAqIHYpOwogICAgdmlld1JheSA9IHZlYzModi54eSAvIHZlYzIodi56KSwgMS4wKTsKfQoK";kha_Shaders.smaa_blend_weight_fragData0="s50268:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCB2ZWMyIHNjcmVlblNpemVJbnY7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGVkZ2VzVGV4Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBhcmVhVGV4Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzZWFyY2hUZXg7CnVuaWZvcm0gaGlnaHAgdmVjMiBzY3JlZW5TaXplOwoKaW4gaGlnaHAgdmVjNCBvZmZzZXQwOwppbiBoaWdocCB2ZWM0IG9mZnNldDI7CmluIGhpZ2hwIHZlYzQgb2Zmc2V0MTsKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwppbiBoaWdocCB2ZWMyIHBpeGNvb3JkOwpoaWdocCB2ZWMyIGNkd19lbmQ7CgpoaWdocCB2ZWMyIFNNQUFTZWFyY2hEaWFnMShoaWdocCB2ZWMyIHRleGNvb3JkLCBoaWdocCB2ZWMyIGRpcikKewogICAgaGlnaHAgdmVjNCBjb29yZCA9IHZlYzQodGV4Y29vcmQsIC0xLjAsIDEuMCk7CiAgICBoaWdocCB2ZWMzIHQgPSB2ZWMzKHNjcmVlblNpemVJbnYsIDEuMCk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIGlmIChjb29yZC56ID49IDcuMCkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICBoaWdocCB2ZWMzIF8xODUgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfMTg1LngsIF8xODUueSwgXzE4NS56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIGlmIChjb29yZC53IDw9IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpCiAgICB7CiAgICAgICAgcmV0dXJuIGNvb3JkLnp3OwogICAgfQogICAgaGlnaHAgdmVjMyBfMjIwID0gKHQgKiB2ZWMzKGRpciwgMS4wKSkgKyBjb29yZC54eXo7CiAgICBjb29yZCA9IHZlYzQoXzIyMC54LCBfMjIwLnksIF8yMjAueiwgY29vcmQudyk7CiAgICBjZHdfZW5kID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmQueHksIDAuMCkueHk7CiAgICBjb29yZC53ID0gZG90KGNkd19lbmQsIHZlYzIoMC41KSk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIGhpZ2hwIHZlYzMgXzI0NyA9ICh0ICogdmVjMyhkaXIsIDEuMCkpICsgY29vcmQueHl6OwogICAgY29vcmQgPSB2ZWM0KF8yNDcueCwgXzI0Ny55LCBfMjQ3LnosIGNvb3JkLncpOwogICAgY2R3X2VuZCA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3JkLnh5LCAwLjApLnh5OwogICAgY29vcmQudyA9IGRvdChjZHdfZW5kLCB2ZWMyKDAuNSkpOwogICAgaWYgKGNvb3JkLncgPD0gMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICBoaWdocCB2ZWMzIF8yNzQgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfMjc0LngsIF8yNzQueSwgXzI3NC56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIGlmIChjb29yZC53IDw9IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpCiAgICB7CiAgICAgICAgcmV0dXJuIGNvb3JkLnp3OwogICAgfQogICAgaGlnaHAgdmVjMyBfMzAxID0gKHQgKiB2ZWMzKGRpciwgMS4wKSkgKyBjb29yZC54eXo7CiAgICBjb29yZCA9IHZlYzQoXzMwMS54LCBfMzAxLnksIF8zMDEueiwgY29vcmQudyk7CiAgICBjZHdfZW5kID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmQueHksIDAuMCkueHk7CiAgICBjb29yZC53ID0gZG90KGNkd19lbmQsIHZlYzIoMC41KSk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIGhpZ2hwIHZlYzMgXzMyOCA9ICh0ICogdmVjMyhkaXIsIDEuMCkpICsgY29vcmQueHl6OwogICAgY29vcmQgPSB2ZWM0KF8zMjgueCwgXzMyOC55LCBfMzI4LnosIGNvb3JkLncpOwogICAgY2R3X2VuZCA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3JkLnh5LCAwLjApLnh5OwogICAgY29vcmQudyA9IGRvdChjZHdfZW5kLCB2ZWMyKDAuNSkpOwogICAgaWYgKGNvb3JkLncgPD0gMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICBoaWdocCB2ZWMzIF8zNTUgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfMzU1LngsIF8zNTUueSwgXzM1NS56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIHJldHVybiBjb29yZC56dzsKfQoKaGlnaHAgdmVjNCBTTUFBRGVjb2RlRGlhZ0JpbGluZWFyQWNjZXNzKGlub3V0IGhpZ2hwIHZlYzQgZSkKewogICAgaGlnaHAgdmVjMiBfMTMxID0gZS54eiAqIGFicygoZS54eiAqIDUuMCkgLSB2ZWMyKDMuNzUpKTsKICAgIGUgPSB2ZWM0KF8xMzEueCwgZS55LCBfMTMxLnksIGUudyk7CiAgICByZXR1cm4gZmxvb3IoZSArIHZlYzQoMC41KSk7Cn0KCmhpZ2hwIHZlYzIgU01BQUFyZWFEaWFnKGhpZ2hwIHZlYzIgZGlzdCwgaGlnaHAgdmVjMiBlLCBoaWdocCBmbG9hdCBvZmZzZXQpCnsKICAgIGhpZ2hwIHZlYzIgdGV4Y29vcmQgPSAodmVjMigyMC4wKSAqIGUpICsgZGlzdDsKICAgIHRleGNvb3JkID0gKHZlYzIoMC4wMDYyNTAwMDAwOTMxMzIyNTc0NjE1NDc4NTE1NjI1LCAwLjAwMTc4NTcxNDI5NTY5Mjc0MTg3MDg4MDEyNjk1MzEyNSkgKiB0ZXhjb29yZCkgKyB2ZWMyKDAuMDAzMTI1MDAwMDQ2NTY2MTI4NzMwNzczOTI1NzgxMjUsIDAuMDAwODkyODU3MTQ3ODQ2MzcwOTM1NDQwMDYzNDc2NTYyNSk7CiAgICB0ZXhjb29yZC54ICs9IDAuNTsKICAgIHRleGNvb3JkLnkgKz0gKDAuMTQyODU3MTQ5MjQzMzU0Nzk3MzYzMjgxMjUgKiBvZmZzZXQpOwogICAgcmV0dXJuIHRleHR1cmVMb2QoYXJlYVRleCwgdGV4Y29vcmQsIDAuMCkueHk7Cn0KCmhpZ2hwIHZlYzIgU01BQURlY29kZURpYWdCaWxpbmVhckFjY2Vzcyhpbm91dCBoaWdocCB2ZWMyIGUpCnsKICAgIGUueCAqPSBhYnMoKDUuMCAqIGUueCkgLSAzLjc1KTsKICAgIHJldHVybiBmbG9vcihlICsgdmVjMigwLjUpKTsKfQoKaGlnaHAgdmVjMiBTTUFBU2VhcmNoRGlhZzIoaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgdmVjMiBkaXIpCnsKICAgIGhpZ2hwIHZlYzQgY29vcmQgPSB2ZWM0KHRleGNvb3JkLCAtMS4wLCAxLjApOwogICAgY29vcmQueCArPSAoMC4yNSAqIHNjcmVlblNpemVJbnYueCk7CiAgICBoaWdocCB2ZWMzIHQgPSB2ZWMzKHNjcmVlblNpemVJbnYsIDEuMCk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIGlmIChjb29yZC56ID49IDcuMCkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICBoaWdocCB2ZWMzIF80MTMgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfNDEzLngsIF80MTMueSwgXzQxMy56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIGhpZ2hwIHZlYzIgcGFyYW0gPSBjZHdfZW5kOwogICAgaGlnaHAgdmVjMiBfNDIzID0gU01BQURlY29kZURpYWdCaWxpbmVhckFjY2VzcyhwYXJhbSk7CiAgICBjZHdfZW5kID0gXzQyMzsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIGlmIChjb29yZC53IDw9IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpCiAgICB7CiAgICAgICAgcmV0dXJuIGNvb3JkLnp3OwogICAgfQogICAgaGlnaHAgdmVjMyBfNDQzID0gKHQgKiB2ZWMzKGRpciwgMS4wKSkgKyBjb29yZC54eXo7CiAgICBjb29yZCA9IHZlYzQoXzQ0My54LCBfNDQzLnksIF80NDMueiwgY29vcmQudyk7CiAgICBjZHdfZW5kID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmQueHksIDAuMCkueHk7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzEgPSBjZHdfZW5kOwogICAgaGlnaHAgdmVjMiBfNDUzID0gU01BQURlY29kZURpYWdCaWxpbmVhckFjY2VzcyhwYXJhbV8xKTsKICAgIGNkd19lbmQgPSBfNDUzOwogICAgY29vcmQudyA9IGRvdChjZHdfZW5kLCB2ZWMyKDAuNSkpOwogICAgaWYgKGNvb3JkLncgPD0gMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICBoaWdocCB2ZWMzIF80NzMgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfNDczLngsIF80NzMueSwgXzQ3My56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIGhpZ2hwIHZlYzIgcGFyYW1fMiA9IGNkd19lbmQ7CiAgICBoaWdocCB2ZWMyIF80ODMgPSBTTUFBRGVjb2RlRGlhZ0JpbGluZWFyQWNjZXNzKHBhcmFtXzIpOwogICAgY2R3X2VuZCA9IF80ODM7CiAgICBjb29yZC53ID0gZG90KGNkd19lbmQsIHZlYzIoMC41KSk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIGhpZ2hwIHZlYzMgXzUwMyA9ICh0ICogdmVjMyhkaXIsIDEuMCkpICsgY29vcmQueHl6OwogICAgY29vcmQgPSB2ZWM0KF81MDMueCwgXzUwMy55LCBfNTAzLnosIGNvb3JkLncpOwogICAgY2R3X2VuZCA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3JkLnh5LCAwLjApLnh5OwogICAgaGlnaHAgdmVjMiBwYXJhbV8zID0gY2R3X2VuZDsKICAgIGhpZ2hwIHZlYzIgXzUxMyA9IFNNQUFEZWNvZGVEaWFnQmlsaW5lYXJBY2Nlc3MocGFyYW1fMyk7CiAgICBjZHdfZW5kID0gXzUxMzsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIGlmIChjb29yZC53IDw9IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpCiAgICB7CiAgICAgICAgcmV0dXJuIGNvb3JkLnp3OwogICAgfQogICAgaGlnaHAgdmVjMyBfNTMzID0gKHQgKiB2ZWMzKGRpciwgMS4wKSkgKyBjb29yZC54eXo7CiAgICBjb29yZCA9IHZlYzQoXzUzMy54LCBfNTMzLnksIF81MzMueiwgY29vcmQudyk7CiAgICBjZHdfZW5kID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmQueHksIDAuMCkueHk7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzQgPSBjZHdfZW5kOwogICAgaGlnaHAgdmVjMiBfNTQzID0gU01BQURlY29kZURpYWdCaWxpbmVhckFjY2VzcyhwYXJhbV80KTsKICAgIGNkd19lbmQgPSBfNTQzOwogICAgY29vcmQudyA9IGRvdChjZHdfZW5kLCB2ZWMyKDAuNSkpOwogICAgaWYgKGNvb3JkLncgPD0gMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICBoaWdocCB2ZWMzIF81NjMgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfNTYzLngsIF81NjMueSwgXzU2My56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIGhpZ2hwIHZlYzIgcGFyYW1fNSA9IGNkd19lbmQ7CiAgICBoaWdocCB2ZWMyIF81NzMgPSBTTUFBRGVjb2RlRGlhZ0JpbGluZWFyQWNjZXNzKHBhcmFtXzUpOwogICAgY2R3X2VuZCA9IF81NzM7CiAgICBjb29yZC53ID0gZG90KGNkd19lbmQsIHZlYzIoMC41KSk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIGhpZ2hwIHZlYzMgXzU5MyA9ICh0ICogdmVjMyhkaXIsIDEuMCkpICsgY29vcmQueHl6OwogICAgY29vcmQgPSB2ZWM0KF81OTMueCwgXzU5My55LCBfNTkzLnosIGNvb3JkLncpOwogICAgY2R3X2VuZCA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3JkLnh5LCAwLjApLnh5OwogICAgaGlnaHAgdmVjMiBwYXJhbV82ID0gY2R3X2VuZDsKICAgIGhpZ2hwIHZlYzIgXzYwMyA9IFNNQUFEZWNvZGVEaWFnQmlsaW5lYXJBY2Nlc3MocGFyYW1fNik7CiAgICBjZHdfZW5kID0gXzYwMzsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIHJldHVybiBjb29yZC56dzsKfQoKaGlnaHAgdmVjMiBTTUFBQ2FsY3VsYXRlRGlhZ1dlaWdodHMoaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgdmVjMiBlLCBoaWdocCB2ZWM0IHN1YnNhbXBsZUluZGljZXMpCnsKICAgIGhpZ2hwIHZlYzIgd2VpZ2h0cyA9IHZlYzIoMC4wKTsKICAgIGhpZ2hwIHZlYzQgZDsKICAgIGlmIChlLnggPiAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbSA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMSA9IHZlYzIoLTEuMCwgMS4wKTsKICAgICAgICBoaWdocCB2ZWMyIF82NTggPSBTTUFBU2VhcmNoRGlhZzEocGFyYW0sIHBhcmFtXzEpOwogICAgICAgIGQgPSB2ZWM0KF82NTgueCwgZC55LCBfNjU4LnksIGQudyk7CiAgICAgICAgaGlnaHAgZmxvYXQgZGFkZCA9IGZsb2F0KGNkd19lbmQueSA%IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpOwogICAgICAgIGQueCArPSBkYWRkOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIGQgPSB2ZWM0KHZlYzIoMC4wKS54LCBkLnksIHZlYzIoMC4wKS55LCBkLncpOwogICAgfQogICAgaGlnaHAgdmVjMiBwYXJhbV8yID0gdGV4Y29vcmQ7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzMgPSB2ZWMyKDEuMCwgLTEuMCk7CiAgICBoaWdocCB2ZWMyIF82NzkgPSBTTUFBU2VhcmNoRGlhZzEocGFyYW1fMiwgcGFyYW1fMyk7CiAgICBkID0gdmVjNChkLngsIF82NzkueCwgZC56LCBfNjc5LnkpOwogICAgaWYgKChkLnggKyBkLnkpID4gMi4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzQgY29vcmRzID0gKHZlYzQoKC1kLngpICsgMC4yNSwgZC54LCBkLnksICgtZC55KSAtIDAuMjUpICogc2NyZWVuU2l6ZUludi54eXh5KSArIHRleGNvb3JkLnh5eHk7CiAgICAgICAgaGlnaHAgdmVjMiBfNzIwID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmRzLnh5ICsgKHZlYzIoLTEuMCwgMC4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLnh5OwogICAgICAgIGhpZ2hwIHZlYzQgYzsKICAgICAgICBjID0gdmVjNChfNzIwLngsIF83MjAueSwgYy56LCBjLncpOwogICAgICAgIGhpZ2hwIHZlYzIgXzczMSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3Jkcy56dyArICh2ZWMyKDEuMCwgMC4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLnh5OwogICAgICAgIGMgPSB2ZWM0KGMueCwgYy55LCBfNzMxLngsIF83MzEueSk7CiAgICAgICAgaGlnaHAgdmVjNCBwYXJhbV80ID0gYzsKICAgICAgICBoaWdocCB2ZWM0IF83MzYgPSBTTUFBRGVjb2RlRGlhZ0JpbGluZWFyQWNjZXNzKHBhcmFtXzQpOwogICAgICAgIGMgPSB2ZWM0KF83MzYueSwgXzczNi54LCBfNzM2LncsIF83MzYueik7CiAgICAgICAgaGlnaHAgdmVjMiBjYyA9ICh2ZWMyKDIuMCkgKiBjLnh6KSArIGMueXc7CiAgICAgICAgaGlnaHAgZmxvYXQgYTFjb25keCA9IHN0ZXAoMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSwgZC56KTsKICAgICAgICBoaWdocCBmbG9hdCBhMWNvbmR5ID0gc3RlcCgwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1LCBkLncpOwogICAgICAgIGlmIChhMWNvbmR4ID09IDEuMCkKICAgICAgICB7CiAgICAgICAgICAgIGNjLnggPSAwLjA7CiAgICAgICAgfQogICAgICAgIGlmIChhMWNvbmR5ID09IDEuMCkKICAgICAgICB7CiAgICAgICAgICAgIGNjLnkgPSAwLjA7CiAgICAgICAgfQogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNSA9IGQueHk7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV82ID0gY2M7CiAgICAgICAgaGlnaHAgZmxvYXQgcGFyYW1fNyA9IHN1YnNhbXBsZUluZGljZXMuejsKICAgICAgICB3ZWlnaHRzICs9IFNNQUFBcmVhRGlhZyhwYXJhbV81LCBwYXJhbV82LCBwYXJhbV83KTsKICAgIH0KICAgIGhpZ2hwIHZlYzIgcGFyYW1fOCA9IHRleGNvb3JkOwogICAgaGlnaHAgdmVjMiBwYXJhbV85ID0gdmVjMigtMS4wKTsKICAgIGhpZ2hwIHZlYzIgXzc4MCA9IFNNQUFTZWFyY2hEaWFnMihwYXJhbV84LCBwYXJhbV85KTsKICAgIGQgPSB2ZWM0KF83ODAueCwgZC55LCBfNzgwLnksIGQudyk7CiAgICBpZiAodGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQgKyAodmVjMigxLjAsIDAuMCkgKiBzY3JlZW5TaXplSW52KSwgMC4wKS54ID4gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTAgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzExID0gdmVjMigxLjApOwogICAgICAgIGhpZ2hwIHZlYzIgXzc5NyA9IFNNQUFTZWFyY2hEaWFnMihwYXJhbV8xMCwgcGFyYW1fMTEpOwogICAgICAgIGQgPSB2ZWM0KGQueCwgXzc5Ny54LCBkLnosIF83OTcueSk7CiAgICAgICAgaGlnaHAgZmxvYXQgZGFkZF8xID0gZmxvYXQoY2R3X2VuZC55ID4gMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSk7CiAgICAgICAgZC55ICs9IGRhZGRfMTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBkID0gdmVjNChkLngsIHZlYzIoMC4wKS54LCBkLnosIHZlYzIoMC4wKS55KTsKICAgIH0KICAgIGlmICgoZC54ICsgZC55KSA%IDIuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWM0IGNvb3Jkc18xID0gKHZlYzQoLWQueCwgLWQueCwgZC55LCBkLnkpICogc2NyZWVuU2l6ZUludi54eXh5KSArIHRleGNvb3JkLnh5eHk7CiAgICAgICAgaGlnaHAgdmVjNCBjXzE7CiAgICAgICAgY18xLnggPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZHNfMS54eSArICh2ZWMyKC0xLjAsIDAuMCkgKiBzY3JlZW5TaXplSW52KSwgMC4wKS55OwogICAgICAgIGNfMS55ID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmRzXzEueHkgKyAodmVjMigwLjAsIC0xLjApICogc2NyZWVuU2l6ZUludiksIDAuMCkueDsKICAgICAgICBoaWdocCB2ZWMyIF84NjYgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZHNfMS56dyArICh2ZWMyKDEuMCwgMC4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLnl4OwogICAgICAgIGNfMSA9IHZlYzQoY18xLngsIGNfMS55LCBfODY2LngsIF84NjYueSk7CiAgICAgICAgaGlnaHAgdmVjMiBjY18xID0gKHZlYzIoMi4wKSAqIGNfMS54eikgKyBjXzEueXc7CiAgICAgICAgaGlnaHAgZmxvYXQgYTFjb25keF8xID0gc3RlcCgwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1LCBkLnopOwogICAgICAgIGhpZ2hwIGZsb2F0IGExY29uZHlfMSA9IHN0ZXAoMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSwgZC53KTsKICAgICAgICBpZiAoYTFjb25keF8xID09IDEuMCkKICAgICAgICB7CiAgICAgICAgICAgIGNjXzEueCA9IDAuMDsKICAgICAgICB9CiAgICAgICAgaWYgKGExY29uZHlfMSA9PSAxLjApCiAgICAgICAgewogICAgICAgICAgICBjY18xLnkgPSAwLjA7CiAgICAgICAgfQogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTIgPSBkLnh5OwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTMgPSBjY18xOwogICAgICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzE0ID0gc3Vic2FtcGxlSW5kaWNlcy53OwogICAgICAgIHdlaWdodHMgKz0gU01BQUFyZWFEaWFnKHBhcmFtXzEyLCBwYXJhbV8xMywgcGFyYW1fMTQpLnl4OwogICAgfQogICAgcmV0dXJuIHdlaWdodHM7Cn0KCmhpZ2hwIGZsb2F0IFNNQUFTZWFyY2hMZW5ndGgoaGlnaHAgdmVjMiBlLCBoaWdocCBmbG9hdCBvZmZzZXQpCnsKICAgIGhpZ2hwIHZlYzIgc2NhbGUgPSB2ZWMyKDMzLjAsIC0zMy4wKTsKICAgIGhpZ2hwIHZlYzIgYmlhcyA9IHZlYzIoNjYuMCwgMzMuMCkgKiB2ZWMyKG9mZnNldCwgMS4wKTsKICAgIHNjYWxlICs9IHZlYzIoLTEuMCwgMS4wKTsKICAgIGJpYXMgKz0gdmVjMigwLjUsIC0wLjUpOwogICAgc2NhbGUgKj0gdmVjMigwLjAxNTYyNSwgMC4wNjI1KTsKICAgIGJpYXMgKj0gdmVjMigwLjAxNTYyNSwgMC4wNjI1KTsKICAgIHJldHVybiB0ZXh0dXJlTG9kKHNlYXJjaFRleCwgKHNjYWxlICogZSkgKyBiaWFzLCAwLjApLng7Cn0KCmhpZ2hwIGZsb2F0IGVuZExvb3BYTGVmdChoaWdocCB2ZWMyIHRleGNvb3JkLCBoaWdocCB2ZWMyIGUpCnsKICAgIGhpZ2hwIHZlYzIgcGFyYW0gPSBlOwogICAgaGlnaHAgZmxvYXQgcGFyYW1fMSA9IDAuMDsKICAgIGhpZ2hwIGZsb2F0IG9mZnNldCA9ICgoLTIuMDA3ODc0MDExOTkzNDA4MjAzMTI1KSAqIFNNQUFTZWFyY2hMZW5ndGgocGFyYW0sIHBhcmFtXzEpKSArIDMuMjU7CiAgICByZXR1cm4gKHNjcmVlblNpemVJbnYueCAqIG9mZnNldCkgKyB0ZXhjb29yZC54Owp9CgpoaWdocCBmbG9hdCBTTUFBU2VhcmNoWExlZnQoaW5vdXQgaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgZmxvYXQgZW5kKQp7CiAgICBoaWdocCB2ZWMyIGUgPSB2ZWMyKDAuMCwgMS4wKTsKICAgIGlmICh0ZXhjb29yZC54IDw9IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtLCBwYXJhbV8xKTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzIsIHBhcmFtXzMpOwogICAgfQogICAgaWYgKGUueCAhPSAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV81ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzQsIHBhcmFtXzUpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMi4wLCAtMC4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueCA8PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV82ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV83ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzYsIHBhcmFtXzcpOwogICAgfQogICAgaWYgKGUueSA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzggPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzkgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fOCwgcGFyYW1fOSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzEwID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8xMCwgcGFyYW1fMTEpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMi4wLCAtMC4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueCA8PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fMTIsIHBhcmFtXzEzKTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xNCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fMTQsIHBhcmFtXzE1KTsKICAgIH0KICAgIGlmIChlLnggIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTYgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzE3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzE2LCBwYXJhbV8xNyk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0yLjAsIC0wLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54IDw9IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzE4ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8xOCwgcGFyYW1fMTkpOwogICAgfQogICAgaWYgKGUueSA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzIwID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8yMCwgcGFyYW1fMjEpOwogICAgfQogICAgaWYgKGUueCAhPSAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fMjIsIHBhcmFtXzIzKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoLTIuMCwgLTAuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnggPD0gZW5kKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI1ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzI0LCBwYXJhbV8yNSk7CiAgICB9CiAgICBpZiAoZS55IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjYgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzI2LCBwYXJhbV8yNyk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI4ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8yOCwgcGFyYW1fMjkpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMi4wLCAtMC4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueCA8PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zMCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fMzAsIHBhcmFtXzMxKTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fMzIsIHBhcmFtXzMzKTsKICAgIH0KICAgIGlmIChlLnggIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzM1ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzM0LCBwYXJhbV8zNSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0yLjAsIC0wLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54IDw9IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzM2ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8zNiwgcGFyYW1fMzcpOwogICAgfQogICAgaWYgKGUueSA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzM4ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8zOCwgcGFyYW1fMzkpOwogICAgfQogICAgaWYgKGUueCAhPSAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80MCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fNDAsIHBhcmFtXzQxKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoLTIuMCwgLTAuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnggPD0gZW5kKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDIgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQzID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzQyLCBwYXJhbV80Myk7CiAgICB9CiAgICBpZiAoZS55IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQ1ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzQ0LCBwYXJhbV80NSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQ2ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80NyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV80NiwgcGFyYW1fNDcpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMi4wLCAtMC4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzQ4ID0gZTsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzQ5ID0gMC4wOwogICAgaGlnaHAgZmxvYXQgb2Zmc2V0ID0gKCgtMi4wMDc4NzQwMTE5OTM0MDgyMDMxMjUpICogU01BQVNlYXJjaExlbmd0aChwYXJhbV80OCwgcGFyYW1fNDkpKSArIDMuMjU7CiAgICByZXR1cm4gKHNjcmVlblNpemVJbnYueCAqIG9mZnNldCkgKyB0ZXhjb29yZC54Owp9CgpoaWdocCBmbG9hdCBlbmRMb29wWFJpZ2h0KGhpZ2hwIHZlYzIgdGV4Y29vcmQsIGhpZ2hwIHZlYzIgZSkKewogICAgaGlnaHAgdmVjMiBwYXJhbSA9IGU7CiAgICBoaWdocCBmbG9hdCBwYXJhbV8xID0gMC41OwogICAgaGlnaHAgZmxvYXQgb2Zmc2V0ID0gKCgtMi4wMDc4NzQwMTE5OTM0MDgyMDMxMjUpICogU01BQVNlYXJjaExlbmd0aChwYXJhbSwgcGFyYW1fMSkpICsgMy4yNTsKICAgIHJldHVybiAoKC1zY3JlZW5TaXplSW52LngpICogb2Zmc2V0KSArIHRleGNvb3JkLng7Cn0KCmhpZ2hwIGZsb2F0IFNNQUFTZWFyY2hYUmlnaHQoaW5vdXQgaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgZmxvYXQgZW5kKQp7CiAgICBoaWdocCB2ZWMyIGUgPSB2ZWMyKDAuMCwgMS4wKTsKICAgIGlmICh0ZXhjb29yZC54ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbSwgcGFyYW1fMSk7CiAgICB9CiAgICBpZiAoZS55IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMiwgcGFyYW1fMyk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWFJpZ2h0KHBhcmFtXzQsIHBhcmFtXzUpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigyLjAsIDAuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnggPj0gZW5kKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fNiwgcGFyYW1fNyk7CiAgICB9CiAgICBpZiAoZS55IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fOCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fOCwgcGFyYW1fOSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzEwID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMTAsIHBhcmFtXzExKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMi4wLCAwLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzEyID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMTIsIHBhcmFtXzEzKTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xNCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWFJpZ2h0KHBhcmFtXzE0LCBwYXJhbV8xNSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzE2ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMTYsIHBhcmFtXzE3KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMi4wLCAwLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzE4ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMTgsIHBhcmFtXzE5KTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWFJpZ2h0KHBhcmFtXzIwLCBwYXJhbV8yMSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzIyID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMjIsIHBhcmFtXzIzKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMi4wLCAwLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI0ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yNSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMjQsIHBhcmFtXzI1KTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yNiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWFJpZ2h0KHBhcmFtXzI2LCBwYXJhbV8yNyk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI4ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMjgsIHBhcmFtXzI5KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMi4wLCAwLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzMwID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMzAsIHBhcmFtXzMxKTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWFJpZ2h0KHBhcmFtXzMyLCBwYXJhbV8zMyk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzM0ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zNSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMzQsIHBhcmFtXzM1KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMi4wLCAwLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzM2ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMzYsIHBhcmFtXzM3KTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zOCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzkgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWFJpZ2h0KHBhcmFtXzM4LCBwYXJhbV8zOSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQwID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80MSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fNDAsIHBhcmFtXzQxKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMi4wLCAwLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQyID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80MyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fNDIsIHBhcmFtXzQzKTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80NCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWFJpZ2h0KHBhcmFtXzQ0LCBwYXJhbV80NSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQ2ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80NyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fNDYsIHBhcmFtXzQ3KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMi4wLCAwLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDggPSBlOwogICAgaGlnaHAgZmxvYXQgcGFyYW1fNDkgPSAwLjU7CiAgICBoaWdocCBmbG9hdCBvZmZzZXQgPSAoKC0yLjAwNzg3NDAxMTk5MzQwODIwMzEyNSkgKiBTTUFBU2VhcmNoTGVuZ3RoKHBhcmFtXzQ4LCBwYXJhbV80OSkpICsgMy4yNTsKICAgIHJldHVybiAoKC1zY3JlZW5TaXplSW52LngpICogb2Zmc2V0KSArIHRleGNvb3JkLng7Cn0KCmhpZ2hwIHZlYzIgU01BQUFyZWEoaGlnaHAgdmVjMiBkaXN0LCBoaWdocCBmbG9hdCBlMSwgaGlnaHAgZmxvYXQgZTIsIGhpZ2hwIGZsb2F0IG9mZnNldCkKewogICAgaGlnaHAgdmVjMiB0ZXhjb29yZCA9ICh2ZWMyKDE2LjApICogZmxvb3IoKHZlYzIoZTEsIGUyKSAqIDQuMCkgKyB2ZWMyKDAuNSkpKSArIGRpc3Q7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMDA2MjUwMDAwMDkzMTMyMjU3NDYxNTQ3ODUxNTYyNSwgMC4wMDE3ODU3MTQyOTU2OTI3NDE4NzA4ODAxMjY5NTMxMjUpICogdGV4Y29vcmQpICsgdmVjMigwLjAwMzEyNTAwMDA0NjU2NjEyODczMDc3MzkyNTc4MTI1LCAwLjAwMDg5Mjg1NzE0Nzg0NjM3MDkzNTQ0MDA2MzQ3NjU2MjUpOwogICAgdGV4Y29vcmQueSA9ICgwLjE0Mjg1NzE0OTI0MzM1NDc5NzM2MzI4MTI1ICogb2Zmc2V0KSArIHRleGNvb3JkLnk7CiAgICByZXR1cm4gdGV4dHVyZUxvZChhcmVhVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKfQoKaGlnaHAgdmVjMiBTTUFBRGV0ZWN0SG9yaXpvbnRhbENvcm5lclBhdHRlcm4oaW5vdXQgaGlnaHAgdmVjMiB3ZWlnaHRzLCBoaWdocCB2ZWM0IHRleGNvb3JkLCBoaWdocCB2ZWMyIGQpCnsKICAgIGhpZ2hwIHZlYzIgbGVmdFJpZ2h0ID0gc3RlcChkLCBkLnl4KTsKICAgIGhpZ2hwIHZlYzIgcm91bmRpbmcgPSBsZWZ0UmlnaHQgKiAwLjc1OwogICAgcm91bmRpbmcgLz0gdmVjMihsZWZ0UmlnaHQueCArIGxlZnRSaWdodC55KTsKICAgIGhpZ2hwIHZlYzIgZmFjdG9yID0gdmVjMigxLjApOwogICAgZmFjdG9yLnggLT0gKHJvdW5kaW5nLnggKiB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZC54eSArICh2ZWMyKDAuMCwgMS4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLngpOwogICAgZmFjdG9yLnggLT0gKHJvdW5kaW5nLnkgKiB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZC56dyArICh2ZWMyKDEuMCkgKiBzY3JlZW5TaXplSW52KSwgMC4wKS54KTsKICAgIGZhY3Rvci55IC09IChyb3VuZGluZy54ICogdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQueHkgKyAodmVjMigwLjAsIC0yLjApICogc2NyZWVuU2l6ZUludiksIDAuMCkueCk7CiAgICBmYWN0b3IueSAtPSAocm91bmRpbmcueSAqIHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLnp3ICsgKHZlYzIoMS4wLCAtMi4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLngpOwogICAgd2VpZ2h0cyAqPSBjbGFtcChmYWN0b3IsIHZlYzIoMC4wKSwgdmVjMigxLjApKTsKICAgIHJldHVybiB3ZWlnaHRzOwp9CgpoaWdocCBmbG9hdCBlbmRMb29wWVVwKGhpZ2hwIHZlYzIgdGV4Y29vcmQsIGhpZ2hwIHZlYzIgZSkKewogICAgaGlnaHAgdmVjMiBwYXJhbSA9IGUueXg7CiAgICBoaWdocCBmbG9hdCBwYXJhbV8xID0gMC4wOwogICAgaGlnaHAgZmxvYXQgb2Zmc2V0ID0gKCgtMi4wMDc4NzQwMTE5OTM0MDgyMDMxMjUpICogU01BQVNlYXJjaExlbmd0aChwYXJhbSwgcGFyYW1fMSkpICsgMy4yNTsKICAgIHJldHVybiAoc2NyZWVuU2l6ZUludi55ICogb2Zmc2V0KSArIHRleGNvb3JkLnk7Cn0KCmhpZ2hwIGZsb2F0IFNNQUFTZWFyY2hZVXAoaW5vdXQgaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgZmxvYXQgZW5kKQp7CiAgICBoaWdocCB2ZWMyIGUgPSB2ZWMyKDEuMCwgMC4wKTsKICAgIGlmICh0ZXhjb29yZC55IDw9IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbSwgcGFyYW1fMSk7CiAgICB9CiAgICBpZiAoZS54IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMiwgcGFyYW1fMyk7CiAgICB9CiAgICBpZiAoZS55ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzQsIHBhcmFtXzUpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMC4wLCAtMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA8PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV82ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV83ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV82LCBwYXJhbV83KTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV84ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV85ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV84LCBwYXJhbV85KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTAgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzExID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV8xMCwgcGFyYW1fMTEpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMC4wLCAtMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA8PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzEyLCBwYXJhbV8xMyk7CiAgICB9CiAgICBpZiAoZS54IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzE1ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV8xNCwgcGFyYW1fMTUpOwogICAgfQogICAgaWYgKGUueSAhPSAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xNiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzE2LCBwYXJhbV8xNyk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0wLjAsIC0yLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC55IDw9IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzE4ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMTgsIHBhcmFtXzE5KTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzIwLCBwYXJhbV8yMSk7CiAgICB9CiAgICBpZiAoZS55ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzIyID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMjIsIHBhcmFtXzIzKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoLTAuMCwgLTIuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnkgPD0gZW5kKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI1ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV8yNCwgcGFyYW1fMjUpOwogICAgfQogICAgaWYgKGUueCA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI2ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMjYsIHBhcmFtXzI3KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjggPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI5ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV8yOCwgcGFyYW1fMjkpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMC4wLCAtMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA8PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zMCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzMwLCBwYXJhbV8zMSk7CiAgICB9CiAgICBpZiAoZS54IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzIgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzMzID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV8zMiwgcGFyYW1fMzMpOwogICAgfQogICAgaWYgKGUueSAhPSAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zNCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzM0LCBwYXJhbV8zNSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0wLjAsIC0yLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC55IDw9IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzM2ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMzYsIHBhcmFtXzM3KTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zOCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzkgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzM4LCBwYXJhbV8zOSk7CiAgICB9CiAgICBpZiAoZS55ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQwID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80MSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fNDAsIHBhcmFtXzQxKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoLTAuMCwgLTIuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnkgPD0gZW5kKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDIgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQzID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV80MiwgcGFyYW1fNDMpOwogICAgfQogICAgaWYgKGUueCA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQ0ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80NSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fNDQsIHBhcmFtXzQ1KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDYgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQ3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV80NiwgcGFyYW1fNDcpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMC4wLCAtMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzQ4ID0gZS55eDsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzQ5ID0gMC4wOwogICAgaGlnaHAgZmxvYXQgb2Zmc2V0ID0gKCgtMi4wMDc4NzQwMTE5OTM0MDgyMDMxMjUpICogU01BQVNlYXJjaExlbmd0aChwYXJhbV80OCwgcGFyYW1fNDkpKSArIDMuMjU7CiAgICByZXR1cm4gKHNjcmVlblNpemVJbnYueSAqIG9mZnNldCkgKyB0ZXhjb29yZC55Owp9CgpoaWdocCBmbG9hdCBlbmRMb29wWURvd24oaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgdmVjMiBlKQp7CiAgICBoaWdocCB2ZWMyIHBhcmFtID0gZS55eDsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzEgPSAwLjU7CiAgICBoaWdocCBmbG9hdCBvZmZzZXQgPSAoKC0yLjAwNzg3NDAxMTk5MzQwODIwMzEyNSkgKiBTTUFBU2VhcmNoTGVuZ3RoKHBhcmFtLCBwYXJhbV8xKSkgKyAzLjI1OwogICAgcmV0dXJuICgoLXNjcmVlblNpemVJbnYueSkgKiBvZmZzZXQpICsgdGV4Y29vcmQueTsKfQoKaGlnaHAgZmxvYXQgU01BQVNlYXJjaFlEb3duKGlub3V0IGhpZ2hwIHZlYzIgdGV4Y29vcmQsIGhpZ2hwIGZsb2F0IGVuZCkKewogICAgaGlnaHAgdmVjMiBlID0gdmVjMigxLjAsIDAuMCk7CiAgICBpZiAodGV4Y29vcmQueSA%PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbSA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbSwgcGFyYW1fMSk7CiAgICB9CiAgICBpZiAoZS54IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV8yLCBwYXJhbV8zKTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV80LCBwYXJhbV81KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMC4wLCAyLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC55ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzYgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fNiwgcGFyYW1fNyk7CiAgICB9CiAgICBpZiAoZS54IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fOCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV84LCBwYXJhbV85KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTAgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzExID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzEwLCBwYXJhbV8xMSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMCwgMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA%PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMTIsIHBhcmFtXzEzKTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xNCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMTQsIHBhcmFtXzE1KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTYgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzE3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzE2LCBwYXJhbV8xNyk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMCwgMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA%PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xOCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTkgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMTgsIHBhcmFtXzE5KTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMjAsIHBhcmFtXzIxKTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjIgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzIzID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzIyLCBwYXJhbV8yMyk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMCwgMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA%PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yNCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMjQsIHBhcmFtXzI1KTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yNiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMjYsIHBhcmFtXzI3KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjggPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI5ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzI4LCBwYXJhbV8yOSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMCwgMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA%PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zMCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMzAsIHBhcmFtXzMxKTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMzIsIHBhcmFtXzMzKTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzM1ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzM0LCBwYXJhbV8zNSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMCwgMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA%PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zNiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMzYsIHBhcmFtXzM3KTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zOCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzkgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMzgsIHBhcmFtXzM5KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDAgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQxID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzQwLCBwYXJhbV80MSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMCwgMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA%PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80MiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fNDIsIHBhcmFtXzQzKTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80NCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fNDQsIHBhcmFtXzQ1KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDYgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQ3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzQ2LCBwYXJhbV80Nyk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMCwgMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzQ4ID0gZS55eDsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzQ5ID0gMC41OwogICAgaGlnaHAgZmxvYXQgb2Zmc2V0ID0gKCgtMi4wMDc4NzQwMTE5OTM0MDgyMDMxMjUpICogU01BQVNlYXJjaExlbmd0aChwYXJhbV80OCwgcGFyYW1fNDkpKSArIDMuMjU7CiAgICByZXR1cm4gKCgtc2NyZWVuU2l6ZUludi55KSAqIG9mZnNldCkgKyB0ZXhjb29yZC55Owp9CgpoaWdocCB2ZWMyIFNNQUFEZXRlY3RWZXJ0aWNhbENvcm5lclBhdHRlcm4oaW5vdXQgaGlnaHAgdmVjMiB3ZWlnaHRzLCBoaWdocCB2ZWM0IHRleGNvb3JkLCBoaWdocCB2ZWMyIGQpCnsKICAgIGhpZ2hwIHZlYzIgbGVmdFJpZ2h0ID0gc3RlcChkLCBkLnl4KTsKICAgIGhpZ2hwIHZlYzIgcm91bmRpbmcgPSBsZWZ0UmlnaHQgKiAwLjc1OwogICAgcm91bmRpbmcgLz0gdmVjMihsZWZ0UmlnaHQueCArIGxlZnRSaWdodC55KTsKICAgIGhpZ2hwIHZlYzIgZmFjdG9yID0gdmVjMigxLjApOwogICAgZmFjdG9yLnggLT0gKHJvdW5kaW5nLnggKiB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZC54eSArICh2ZWMyKDEuMCwgMC4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLnkpOwogICAgZmFjdG9yLnggLT0gKHJvdW5kaW5nLnkgKiB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZC56dyArICh2ZWMyKDEuMCkgKiBzY3JlZW5TaXplSW52KSwgMC4wKS55KTsKICAgIGZhY3Rvci55IC09IChyb3VuZGluZy54ICogdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQueHkgKyAodmVjMigtMi4wLCAwLjApICogc2NyZWVuU2l6ZUludiksIDAuMCkueSk7CiAgICBmYWN0b3IueSAtPSAocm91bmRpbmcueSAqIHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLnp3ICsgKHZlYzIoLTIuMCwgMS4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLnkpOwogICAgd2VpZ2h0cyAqPSBjbGFtcChmYWN0b3IsIHZlYzIoMC4wKSwgdmVjMigxLjApKTsKICAgIHJldHVybiB3ZWlnaHRzOwp9CgpoaWdocCB2ZWM0IFNNQUFCbGVuZGluZ1dlaWdodENhbGN1bGF0aW9uUFMoaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgdmVjMiBwaXhjb29yZF8xLCBoaWdocCB2ZWM0IHN1YnNhbXBsZUluZGljZXMpCnsKICAgIGhpZ2hwIHZlYzQgd2VpZ2h0cyA9IHZlYzQoMC4wKTsKICAgIGhpZ2hwIHZlYzIgZSA9IHRleHR1cmUoZWRnZXNUZXgsIHRleGNvb3JkKS54eTsKICAgIGlmIChlLnkgPiAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbSA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMSA9IGU7CiAgICAgICAgaGlnaHAgdmVjNCBwYXJhbV8yID0gc3Vic2FtcGxlSW5kaWNlczsKICAgICAgICBoaWdocCB2ZWMyIF8yNjYxID0gU01BQUNhbGN1bGF0ZURpYWdXZWlnaHRzKHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKTsKICAgICAgICB3ZWlnaHRzID0gdmVjNChfMjY2MS54LCBfMjY2MS55LCB3ZWlnaHRzLnosIHdlaWdodHMudyk7CiAgICAgICAgaWYgKHdlaWdodHMueCA9PSAoLXdlaWdodHMueSkpCiAgICAgICAgewogICAgICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzMgPSBvZmZzZXQwLnh5OwogICAgICAgICAgICBoaWdocCBmbG9hdCBwYXJhbV80ID0gb2Zmc2V0Mi54OwogICAgICAgICAgICBoaWdocCBmbG9hdCBfMjY4MyA9IFNNQUFTZWFyY2hYTGVmdChwYXJhbV8zLCBwYXJhbV80KTsKICAgICAgICAgICAgaGlnaHAgdmVjMyBjb29yZHM7CiAgICAgICAgICAgIGNvb3Jkcy54ID0gXzI2ODM7CiAgICAgICAgICAgIGNvb3Jkcy55ID0gb2Zmc2V0MS55OwogICAgICAgICAgICBoaWdocCB2ZWMyIGQ7CiAgICAgICAgICAgIGQueCA9IGNvb3Jkcy54OwogICAgICAgICAgICBoaWdocCBmbG9hdCBlMSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3Jkcy54eSwgMC4wKS54OwogICAgICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzUgPSBvZmZzZXQwLnp3OwogICAgICAgICAgICBoaWdocCBmbG9hdCBwYXJhbV82ID0gb2Zmc2V0Mi55OwogICAgICAgICAgICBoaWdocCBmbG9hdCBfMjcwNSA9IFNNQUFTZWFyY2hYUmlnaHQocGFyYW1fNSwgcGFyYW1fNik7CiAgICAgICAgICAgIGNvb3Jkcy56ID0gXzI3MDU7CiAgICAgICAgICAgIGQueSA9IGNvb3Jkcy56OwogICAgICAgICAgICBkID0gYWJzKGZsb29yKCgoc2NyZWVuU2l6ZS54eCAqIGQpICsgKC1waXhjb29yZF8xLnh4KSkgKyB2ZWMyKDAuNSkpKTsKICAgICAgICAgICAgaGlnaHAgdmVjMiBzcXJ0X2QgPSBzcXJ0KGQpOwogICAgICAgICAgICBoaWdocCBmbG9hdCBlMiA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3Jkcy56eSArICh2ZWMyKDEuMCwgMC4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLng7CiAgICAgICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNyA9IHNxcnRfZDsKICAgICAgICAgICAgaGlnaHAgZmxvYXQgcGFyYW1fOCA9IGUxOwogICAgICAgICAgICBoaWdocCBmbG9hdCBwYXJhbV85ID0gZTI7CiAgICAgICAgICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzEwID0gc3Vic2FtcGxlSW5kaWNlcy55OwogICAgICAgICAgICBoaWdocCB2ZWMyIF8yNzQ0ID0gU01BQUFyZWEocGFyYW1fNywgcGFyYW1fOCwgcGFyYW1fOSwgcGFyYW1fMTApOwogICAgICAgICAgICB3ZWlnaHRzID0gdmVjNChfMjc0NC54LCBfMjc0NC55LCB3ZWlnaHRzLnosIHdlaWdodHMudyk7CiAgICAgICAgICAgIGNvb3Jkcy55ID0gdGV4Y29vcmQueTsKICAgICAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMSA9IHdlaWdodHMueHk7CiAgICAgICAgICAgIGhpZ2hwIHZlYzQgcGFyYW1fMTIgPSBjb29yZHMueHl6eTsKICAgICAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMyA9IGQ7CiAgICAgICAgICAgIGhpZ2hwIHZlYzIgXzI3NTggPSBTTUFBRGV0ZWN0SG9yaXpvbnRhbENvcm5lclBhdHRlcm4ocGFyYW1fMTEsIHBhcmFtXzEyLCBwYXJhbV8xMyk7CiAgICAgICAgICAgIHdlaWdodHMgPSB2ZWM0KF8yNzU4LngsIF8yNzU4LnksIHdlaWdodHMueiwgd2VpZ2h0cy53KTsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgZS54ID0gMC4wOwogICAgICAgIH0KICAgIH0KICAgIGlmIChlLnggPiAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xNCA9IG9mZnNldDEueHk7CiAgICAgICAgaGlnaHAgZmxvYXQgcGFyYW1fMTUgPSBvZmZzZXQyLno7CiAgICAgICAgaGlnaHAgZmxvYXQgXzI3NzUgPSBTTUFBU2VhcmNoWVVwKHBhcmFtXzE0LCBwYXJhbV8xNSk7CiAgICAgICAgaGlnaHAgdmVjMyBjb29yZHNfMTsKICAgICAgICBjb29yZHNfMS55ID0gXzI3NzU7CiAgICAgICAgY29vcmRzXzEueCA9IG9mZnNldDAueDsKICAgICAgICBoaWdocCB2ZWMyIGRfMTsKICAgICAgICBkXzEueCA9IGNvb3Jkc18xLnk7CiAgICAgICAgaGlnaHAgZmxvYXQgZTFfMSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3Jkc18xLnh5LCAwLjApLnk7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xNiA9IG9mZnNldDEuenc7CiAgICAgICAgaGlnaHAgZmxvYXQgcGFyYW1fMTcgPSBvZmZzZXQyLnc7CiAgICAgICAgaGlnaHAgZmxvYXQgXzI3OTYgPSBTTUFBU2VhcmNoWURvd24ocGFyYW1fMTYsIHBhcmFtXzE3KTsKICAgICAgICBjb29yZHNfMS56ID0gXzI3OTY7CiAgICAgICAgZF8xLnkgPSBjb29yZHNfMS56OwogICAgICAgIGRfMSA9IGFicyhmbG9vcigoKHNjcmVlblNpemUueXkgKiBkXzEpICsgKC1waXhjb29yZF8xLnl5KSkgKyB2ZWMyKDAuNSkpKTsKICAgICAgICBoaWdocCB2ZWMyIHNxcnRfZF8xID0gc3FydChkXzEpOwogICAgICAgIGhpZ2hwIGZsb2F0IGUyXzEgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZHNfMS54eiArICh2ZWMyKDAuMCwgMS4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLnk7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xOCA9IHNxcnRfZF8xOwogICAgICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzE5ID0gZTFfMTsKICAgICAgICBoaWdocCBmbG9hdCBwYXJhbV8yMCA9IGUyXzE7CiAgICAgICAgaGlnaHAgZmxvYXQgcGFyYW1fMjEgPSBzdWJzYW1wbGVJbmRpY2VzLng7CiAgICAgICAgaGlnaHAgdmVjMiBfMjgzNCA9IFNNQUFBcmVhKHBhcmFtXzE4LCBwYXJhbV8xOSwgcGFyYW1fMjAsIHBhcmFtXzIxKTsKICAgICAgICB3ZWlnaHRzID0gdmVjNCh3ZWlnaHRzLngsIHdlaWdodHMueSwgXzI4MzQueCwgXzI4MzQueSk7CiAgICAgICAgY29vcmRzXzEueCA9IHRleGNvb3JkLng7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMiA9IHdlaWdodHMuenc7CiAgICAgICAgaGlnaHAgdmVjNCBwYXJhbV8yMyA9IGNvb3Jkc18xLnh5eHo7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yNCA9IGRfMTsKICAgICAgICBoaWdocCB2ZWMyIF8yODQ4ID0gU01BQURldGVjdFZlcnRpY2FsQ29ybmVyUGF0dGVybihwYXJhbV8yMiwgcGFyYW1fMjMsIHBhcmFtXzI0KTsKICAgICAgICB3ZWlnaHRzID0gdmVjNCh3ZWlnaHRzLngsIHdlaWdodHMueSwgXzI4NDgueCwgXzI4NDgueSk7CiAgICB9CiAgICByZXR1cm4gd2VpZ2h0czsKfQoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjMiBwYXJhbSA9IHRleENvb3JkOwogICAgaGlnaHAgdmVjMiBwYXJhbV8xID0gcGl4Y29vcmQ7CiAgICBoaWdocCB2ZWM0IHBhcmFtXzIgPSB2ZWM0KDAuMCk7CiAgICBoaWdocCB2ZWM0IF8yODY0ID0gU01BQUJsZW5kaW5nV2VpZ2h0Q2FsY3VsYXRpb25QUyhwYXJhbSwgcGFyYW1fMSwgcGFyYW1fMik7CiAgICBmcmFnQ29sb3IgPSBfMjg2NDsKfQoK";kha_Shaders.smaa_blend_weight_fragData1="s46911:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIHZlYzIgc2NyZWVuU2l6ZUludjsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBlZGdlc1RleDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBhcmVhVGV4Owp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHNlYXJjaFRleDsKdW5pZm9ybSB2ZWMyIHNjcmVlblNpemU7CgppbiB2ZWM0IG9mZnNldDA7CmluIHZlYzQgb2Zmc2V0MjsKaW4gdmVjNCBvZmZzZXQxOwpvdXQgdmVjNCBmcmFnQ29sb3I7CmluIHZlYzIgdGV4Q29vcmQ7CmluIHZlYzIgcGl4Y29vcmQ7CnZlYzIgY2R3X2VuZDsKCnZlYzIgU01BQVNlYXJjaERpYWcxKHZlYzIgdGV4Y29vcmQsIHZlYzIgZGlyKQp7CiAgICB2ZWM0IGNvb3JkID0gdmVjNCh0ZXhjb29yZCwgLTEuMCwgMS4wKTsKICAgIHZlYzMgdCA9IHZlYzMoc2NyZWVuU2l6ZUludiwgMS4wKTsKICAgIGlmIChjb29yZC53IDw9IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpCiAgICB7CiAgICAgICAgcmV0dXJuIGNvb3JkLnp3OwogICAgfQogICAgaWYgKGNvb3JkLnogPj0gNy4wKQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIHZlYzMgXzE4NSA9ICh0ICogdmVjMyhkaXIsIDEuMCkpICsgY29vcmQueHl6OwogICAgY29vcmQgPSB2ZWM0KF8xODUueCwgXzE4NS55LCBfMTg1LnosIGNvb3JkLncpOwogICAgY2R3X2VuZCA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3JkLnh5LCAwLjApLnh5OwogICAgY29vcmQudyA9IGRvdChjZHdfZW5kLCB2ZWMyKDAuNSkpOwogICAgaWYgKGNvb3JkLncgPD0gMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICB2ZWMzIF8yMjAgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfMjIwLngsIF8yMjAueSwgXzIyMC56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIGlmIChjb29yZC53IDw9IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpCiAgICB7CiAgICAgICAgcmV0dXJuIGNvb3JkLnp3OwogICAgfQogICAgdmVjMyBfMjQ3ID0gKHQgKiB2ZWMzKGRpciwgMS4wKSkgKyBjb29yZC54eXo7CiAgICBjb29yZCA9IHZlYzQoXzI0Ny54LCBfMjQ3LnksIF8yNDcueiwgY29vcmQudyk7CiAgICBjZHdfZW5kID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmQueHksIDAuMCkueHk7CiAgICBjb29yZC53ID0gZG90KGNkd19lbmQsIHZlYzIoMC41KSk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIHZlYzMgXzI3NCA9ICh0ICogdmVjMyhkaXIsIDEuMCkpICsgY29vcmQueHl6OwogICAgY29vcmQgPSB2ZWM0KF8yNzQueCwgXzI3NC55LCBfMjc0LnosIGNvb3JkLncpOwogICAgY2R3X2VuZCA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3JkLnh5LCAwLjApLnh5OwogICAgY29vcmQudyA9IGRvdChjZHdfZW5kLCB2ZWMyKDAuNSkpOwogICAgaWYgKGNvb3JkLncgPD0gMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICB2ZWMzIF8zMDEgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfMzAxLngsIF8zMDEueSwgXzMwMS56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIGlmIChjb29yZC53IDw9IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpCiAgICB7CiAgICAgICAgcmV0dXJuIGNvb3JkLnp3OwogICAgfQogICAgdmVjMyBfMzI4ID0gKHQgKiB2ZWMzKGRpciwgMS4wKSkgKyBjb29yZC54eXo7CiAgICBjb29yZCA9IHZlYzQoXzMyOC54LCBfMzI4LnksIF8zMjgueiwgY29vcmQudyk7CiAgICBjZHdfZW5kID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmQueHksIDAuMCkueHk7CiAgICBjb29yZC53ID0gZG90KGNkd19lbmQsIHZlYzIoMC41KSk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIHZlYzMgXzM1NSA9ICh0ICogdmVjMyhkaXIsIDEuMCkpICsgY29vcmQueHl6OwogICAgY29vcmQgPSB2ZWM0KF8zNTUueCwgXzM1NS55LCBfMzU1LnosIGNvb3JkLncpOwogICAgY2R3X2VuZCA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3JkLnh5LCAwLjApLnh5OwogICAgY29vcmQudyA9IGRvdChjZHdfZW5kLCB2ZWMyKDAuNSkpOwogICAgcmV0dXJuIGNvb3JkLnp3Owp9Cgp2ZWM0IFNNQUFEZWNvZGVEaWFnQmlsaW5lYXJBY2Nlc3MoaW5vdXQgdmVjNCBlKQp7CiAgICB2ZWMyIF8xMzEgPSBlLnh6ICogYWJzKChlLnh6ICogNS4wKSAtIHZlYzIoMy43NSkpOwogICAgZSA9IHZlYzQoXzEzMS54LCBlLnksIF8xMzEueSwgZS53KTsKICAgIHJldHVybiBmbG9vcihlICsgdmVjNCgwLjUpKTsKfQoKdmVjMiBTTUFBQXJlYURpYWcodmVjMiBkaXN0LCB2ZWMyIGUsIGZsb2F0IG9mZnNldCkKewogICAgdmVjMiB0ZXhjb29yZCA9ICh2ZWMyKDIwLjApICogZSkgKyBkaXN0OwogICAgdGV4Y29vcmQgPSAodmVjMigwLjAwNjI1MDAwMDA5MzEzMjI1NzQ2MTU0Nzg1MTU2MjUsIDAuMDAxNzg1NzE0Mjk1NjkyNzQxODcwODgwMTI2OTUzMTI1KSAqIHRleGNvb3JkKSArIHZlYzIoMC4wMDMxMjUwMDAwNDY1NjYxMjg3MzA3NzM5MjU3ODEyNSwgMC4wMDA4OTI4NTcxNDc4NDYzNzA5MzU0NDAwNjM0NzY1NjI1KTsKICAgIHRleGNvb3JkLnggKz0gMC41OwogICAgdGV4Y29vcmQueSArPSAoMC4xNDI4NTcxNDkyNDMzNTQ3OTczNjMyODEyNSAqIG9mZnNldCk7CiAgICByZXR1cm4gdGV4dHVyZUxvZChhcmVhVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKfQoKdmVjMiBTTUFBRGVjb2RlRGlhZ0JpbGluZWFyQWNjZXNzKGlub3V0IHZlYzIgZSkKewogICAgZS54ICo9IGFicygoNS4wICogZS54KSAtIDMuNzUpOwogICAgcmV0dXJuIGZsb29yKGUgKyB2ZWMyKDAuNSkpOwp9Cgp2ZWMyIFNNQUFTZWFyY2hEaWFnMih2ZWMyIHRleGNvb3JkLCB2ZWMyIGRpcikKewogICAgdmVjNCBjb29yZCA9IHZlYzQodGV4Y29vcmQsIC0xLjAsIDEuMCk7CiAgICBjb29yZC54ICs9ICgwLjI1ICogc2NyZWVuU2l6ZUludi54KTsKICAgIHZlYzMgdCA9IHZlYzMoc2NyZWVuU2l6ZUludiwgMS4wKTsKICAgIGlmIChjb29yZC53IDw9IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpCiAgICB7CiAgICAgICAgcmV0dXJuIGNvb3JkLnp3OwogICAgfQogICAgaWYgKGNvb3JkLnogPj0gNy4wKQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIHZlYzMgXzQxMyA9ICh0ICogdmVjMyhkaXIsIDEuMCkpICsgY29vcmQueHl6OwogICAgY29vcmQgPSB2ZWM0KF80MTMueCwgXzQxMy55LCBfNDEzLnosIGNvb3JkLncpOwogICAgY2R3X2VuZCA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3JkLnh5LCAwLjApLnh5OwogICAgdmVjMiBwYXJhbSA9IGNkd19lbmQ7CiAgICB2ZWMyIF80MjMgPSBTTUFBRGVjb2RlRGlhZ0JpbGluZWFyQWNjZXNzKHBhcmFtKTsKICAgIGNkd19lbmQgPSBfNDIzOwogICAgY29vcmQudyA9IGRvdChjZHdfZW5kLCB2ZWMyKDAuNSkpOwogICAgaWYgKGNvb3JkLncgPD0gMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICB2ZWMzIF80NDMgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfNDQzLngsIF80NDMueSwgXzQ0My56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIHZlYzIgcGFyYW1fMSA9IGNkd19lbmQ7CiAgICB2ZWMyIF80NTMgPSBTTUFBRGVjb2RlRGlhZ0JpbGluZWFyQWNjZXNzKHBhcmFtXzEpOwogICAgY2R3X2VuZCA9IF80NTM7CiAgICBjb29yZC53ID0gZG90KGNkd19lbmQsIHZlYzIoMC41KSk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIHZlYzMgXzQ3MyA9ICh0ICogdmVjMyhkaXIsIDEuMCkpICsgY29vcmQueHl6OwogICAgY29vcmQgPSB2ZWM0KF80NzMueCwgXzQ3My55LCBfNDczLnosIGNvb3JkLncpOwogICAgY2R3X2VuZCA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3JkLnh5LCAwLjApLnh5OwogICAgdmVjMiBwYXJhbV8yID0gY2R3X2VuZDsKICAgIHZlYzIgXzQ4MyA9IFNNQUFEZWNvZGVEaWFnQmlsaW5lYXJBY2Nlc3MocGFyYW1fMik7CiAgICBjZHdfZW5kID0gXzQ4MzsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIGlmIChjb29yZC53IDw9IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpCiAgICB7CiAgICAgICAgcmV0dXJuIGNvb3JkLnp3OwogICAgfQogICAgdmVjMyBfNTAzID0gKHQgKiB2ZWMzKGRpciwgMS4wKSkgKyBjb29yZC54eXo7CiAgICBjb29yZCA9IHZlYzQoXzUwMy54LCBfNTAzLnksIF81MDMueiwgY29vcmQudyk7CiAgICBjZHdfZW5kID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmQueHksIDAuMCkueHk7CiAgICB2ZWMyIHBhcmFtXzMgPSBjZHdfZW5kOwogICAgdmVjMiBfNTEzID0gU01BQURlY29kZURpYWdCaWxpbmVhckFjY2VzcyhwYXJhbV8zKTsKICAgIGNkd19lbmQgPSBfNTEzOwogICAgY29vcmQudyA9IGRvdChjZHdfZW5kLCB2ZWMyKDAuNSkpOwogICAgaWYgKGNvb3JkLncgPD0gMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICB2ZWMzIF81MzMgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfNTMzLngsIF81MzMueSwgXzUzMy56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIHZlYzIgcGFyYW1fNCA9IGNkd19lbmQ7CiAgICB2ZWMyIF81NDMgPSBTTUFBRGVjb2RlRGlhZ0JpbGluZWFyQWNjZXNzKHBhcmFtXzQpOwogICAgY2R3X2VuZCA9IF81NDM7CiAgICBjb29yZC53ID0gZG90KGNkd19lbmQsIHZlYzIoMC41KSk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIHZlYzMgXzU2MyA9ICh0ICogdmVjMyhkaXIsIDEuMCkpICsgY29vcmQueHl6OwogICAgY29vcmQgPSB2ZWM0KF81NjMueCwgXzU2My55LCBfNTYzLnosIGNvb3JkLncpOwogICAgY2R3X2VuZCA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3JkLnh5LCAwLjApLnh5OwogICAgdmVjMiBwYXJhbV81ID0gY2R3X2VuZDsKICAgIHZlYzIgXzU3MyA9IFNNQUFEZWNvZGVEaWFnQmlsaW5lYXJBY2Nlc3MocGFyYW1fNSk7CiAgICBjZHdfZW5kID0gXzU3MzsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIGlmIChjb29yZC53IDw9IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpCiAgICB7CiAgICAgICAgcmV0dXJuIGNvb3JkLnp3OwogICAgfQogICAgdmVjMyBfNTkzID0gKHQgKiB2ZWMzKGRpciwgMS4wKSkgKyBjb29yZC54eXo7CiAgICBjb29yZCA9IHZlYzQoXzU5My54LCBfNTkzLnksIF81OTMueiwgY29vcmQudyk7CiAgICBjZHdfZW5kID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmQueHksIDAuMCkueHk7CiAgICB2ZWMyIHBhcmFtXzYgPSBjZHdfZW5kOwogICAgdmVjMiBfNjAzID0gU01BQURlY29kZURpYWdCaWxpbmVhckFjY2VzcyhwYXJhbV82KTsKICAgIGNkd19lbmQgPSBfNjAzOwogICAgY29vcmQudyA9IGRvdChjZHdfZW5kLCB2ZWMyKDAuNSkpOwogICAgcmV0dXJuIGNvb3JkLnp3Owp9Cgp2ZWMyIFNNQUFDYWxjdWxhdGVEaWFnV2VpZ2h0cyh2ZWMyIHRleGNvb3JkLCB2ZWMyIGUsIHZlYzQgc3Vic2FtcGxlSW5kaWNlcykKewogICAgdmVjMiB3ZWlnaHRzID0gdmVjMigwLjApOwogICAgdmVjNCBkOwogICAgaWYgKGUueCA%IDAuMCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8xID0gdmVjMigtMS4wLCAxLjApOwogICAgICAgIHZlYzIgXzY1OCA9IFNNQUFTZWFyY2hEaWFnMShwYXJhbSwgcGFyYW1fMSk7CiAgICAgICAgZCA9IHZlYzQoXzY1OC54LCBkLnksIF82NTgueSwgZC53KTsKICAgICAgICBmbG9hdCBkYWRkID0gZmxvYXQoY2R3X2VuZC55ID4gMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSk7CiAgICAgICAgZC54ICs9IGRhZGQ7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgZCA9IHZlYzQodmVjMigwLjApLngsIGQueSwgdmVjMigwLjApLnksIGQudyk7CiAgICB9CiAgICB2ZWMyIHBhcmFtXzIgPSB0ZXhjb29yZDsKICAgIHZlYzIgcGFyYW1fMyA9IHZlYzIoMS4wLCAtMS4wKTsKICAgIHZlYzIgXzY3OSA9IFNNQUFTZWFyY2hEaWFnMShwYXJhbV8yLCBwYXJhbV8zKTsKICAgIGQgPSB2ZWM0KGQueCwgXzY3OS54LCBkLnosIF82NzkueSk7CiAgICBpZiAoKGQueCArIGQueSkgPiAyLjApCiAgICB7CiAgICAgICAgdmVjNCBjb29yZHMgPSAodmVjNCgoLWQueCkgKyAwLjI1LCBkLngsIGQueSwgKC1kLnkpIC0gMC4yNSkgKiBzY3JlZW5TaXplSW52Lnh5eHkpICsgdGV4Y29vcmQueHl4eTsKICAgICAgICB2ZWMyIF83MjAgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZHMueHkgKyAodmVjMigtMS4wLCAwLjApICogc2NyZWVuU2l6ZUludiksIDAuMCkueHk7CiAgICAgICAgdmVjNCBjOwogICAgICAgIGMgPSB2ZWM0KF83MjAueCwgXzcyMC55LCBjLnosIGMudyk7CiAgICAgICAgdmVjMiBfNzMxID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmRzLnp3ICsgKHZlYzIoMS4wLCAwLjApICogc2NyZWVuU2l6ZUludiksIDAuMCkueHk7CiAgICAgICAgYyA9IHZlYzQoYy54LCBjLnksIF83MzEueCwgXzczMS55KTsKICAgICAgICB2ZWM0IHBhcmFtXzQgPSBjOwogICAgICAgIHZlYzQgXzczNiA9IFNNQUFEZWNvZGVEaWFnQmlsaW5lYXJBY2Nlc3MocGFyYW1fNCk7CiAgICAgICAgYyA9IHZlYzQoXzczNi55LCBfNzM2LngsIF83MzYudywgXzczNi56KTsKICAgICAgICB2ZWMyIGNjID0gKHZlYzIoMi4wKSAqIGMueHopICsgYy55dzsKICAgICAgICBmbG9hdCBhMWNvbmR4ID0gc3RlcCgwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1LCBkLnopOwogICAgICAgIGZsb2F0IGExY29uZHkgPSBzdGVwKDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUsIGQudyk7CiAgICAgICAgaWYgKGExY29uZHggPT0gMS4wKQogICAgICAgIHsKICAgICAgICAgICAgY2MueCA9IDAuMDsKICAgICAgICB9CiAgICAgICAgaWYgKGExY29uZHkgPT0gMS4wKQogICAgICAgIHsKICAgICAgICAgICAgY2MueSA9IDAuMDsKICAgICAgICB9CiAgICAgICAgdmVjMiBwYXJhbV81ID0gZC54eTsKICAgICAgICB2ZWMyIHBhcmFtXzYgPSBjYzsKICAgICAgICBmbG9hdCBwYXJhbV83ID0gc3Vic2FtcGxlSW5kaWNlcy56OwogICAgICAgIHdlaWdodHMgKz0gU01BQUFyZWFEaWFnKHBhcmFtXzUsIHBhcmFtXzYsIHBhcmFtXzcpOwogICAgfQogICAgdmVjMiBwYXJhbV84ID0gdGV4Y29vcmQ7CiAgICB2ZWMyIHBhcmFtXzkgPSB2ZWMyKC0xLjApOwogICAgdmVjMiBfNzgwID0gU01BQVNlYXJjaERpYWcyKHBhcmFtXzgsIHBhcmFtXzkpOwogICAgZCA9IHZlYzQoXzc4MC54LCBkLnksIF83ODAueSwgZC53KTsKICAgIGlmICh0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCArICh2ZWMyKDEuMCwgMC4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLnggPiAwLjApCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8xMCA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fMTEgPSB2ZWMyKDEuMCk7CiAgICAgICAgdmVjMiBfNzk3ID0gU01BQVNlYXJjaERpYWcyKHBhcmFtXzEwLCBwYXJhbV8xMSk7CiAgICAgICAgZCA9IHZlYzQoZC54LCBfNzk3LngsIGQueiwgXzc5Ny55KTsKICAgICAgICBmbG9hdCBkYWRkXzEgPSBmbG9hdChjZHdfZW5kLnkgPiAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KTsKICAgICAgICBkLnkgKz0gZGFkZF8xOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIGQgPSB2ZWM0KGQueCwgdmVjMigwLjApLngsIGQueiwgdmVjMigwLjApLnkpOwogICAgfQogICAgaWYgKChkLnggKyBkLnkpID4gMi4wKQogICAgewogICAgICAgIHZlYzQgY29vcmRzXzEgPSAodmVjNCgtZC54LCAtZC54LCBkLnksIGQueSkgKiBzY3JlZW5TaXplSW52Lnh5eHkpICsgdGV4Y29vcmQueHl4eTsKICAgICAgICB2ZWM0IGNfMTsKICAgICAgICBjXzEueCA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3Jkc18xLnh5ICsgKHZlYzIoLTEuMCwgMC4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLnk7CiAgICAgICAgY18xLnkgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZHNfMS54eSArICh2ZWMyKDAuMCwgLTEuMCkgKiBzY3JlZW5TaXplSW52KSwgMC4wKS54OwogICAgICAgIHZlYzIgXzg2NiA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3Jkc18xLnp3ICsgKHZlYzIoMS4wLCAwLjApICogc2NyZWVuU2l6ZUludiksIDAuMCkueXg7CiAgICAgICAgY18xID0gdmVjNChjXzEueCwgY18xLnksIF84NjYueCwgXzg2Ni55KTsKICAgICAgICB2ZWMyIGNjXzEgPSAodmVjMigyLjApICogY18xLnh6KSArIGNfMS55dzsKICAgICAgICBmbG9hdCBhMWNvbmR4XzEgPSBzdGVwKDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUsIGQueik7CiAgICAgICAgZmxvYXQgYTFjb25keV8xID0gc3RlcCgwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1LCBkLncpOwogICAgICAgIGlmIChhMWNvbmR4XzEgPT0gMS4wKQogICAgICAgIHsKICAgICAgICAgICAgY2NfMS54ID0gMC4wOwogICAgICAgIH0KICAgICAgICBpZiAoYTFjb25keV8xID09IDEuMCkKICAgICAgICB7CiAgICAgICAgICAgIGNjXzEueSA9IDAuMDsKICAgICAgICB9CiAgICAgICAgdmVjMiBwYXJhbV8xMiA9IGQueHk7CiAgICAgICAgdmVjMiBwYXJhbV8xMyA9IGNjXzE7CiAgICAgICAgZmxvYXQgcGFyYW1fMTQgPSBzdWJzYW1wbGVJbmRpY2VzLnc7CiAgICAgICAgd2VpZ2h0cyArPSBTTUFBQXJlYURpYWcocGFyYW1fMTIsIHBhcmFtXzEzLCBwYXJhbV8xNCkueXg7CiAgICB9CiAgICByZXR1cm4gd2VpZ2h0czsKfQoKZmxvYXQgU01BQVNlYXJjaExlbmd0aCh2ZWMyIGUsIGZsb2F0IG9mZnNldCkKewogICAgdmVjMiBzY2FsZSA9IHZlYzIoMzMuMCwgLTMzLjApOwogICAgdmVjMiBiaWFzID0gdmVjMig2Ni4wLCAzMy4wKSAqIHZlYzIob2Zmc2V0LCAxLjApOwogICAgc2NhbGUgKz0gdmVjMigtMS4wLCAxLjApOwogICAgYmlhcyArPSB2ZWMyKDAuNSwgLTAuNSk7CiAgICBzY2FsZSAqPSB2ZWMyKDAuMDE1NjI1LCAwLjA2MjUpOwogICAgYmlhcyAqPSB2ZWMyKDAuMDE1NjI1LCAwLjA2MjUpOwogICAgcmV0dXJuIHRleHR1cmVMb2Qoc2VhcmNoVGV4LCAoc2NhbGUgKiBlKSArIGJpYXMsIDAuMCkueDsKfQoKZmxvYXQgZW5kTG9vcFhMZWZ0KHZlYzIgdGV4Y29vcmQsIHZlYzIgZSkKewogICAgdmVjMiBwYXJhbSA9IGU7CiAgICBmbG9hdCBwYXJhbV8xID0gMC4wOwogICAgZmxvYXQgb2Zmc2V0ID0gKCgtMi4wMDc4NzQwMTE5OTM0MDgyMDMxMjUpICogU01BQVNlYXJjaExlbmd0aChwYXJhbSwgcGFyYW1fMSkpICsgMy4yNTsKICAgIHJldHVybiAoc2NyZWVuU2l6ZUludi54ICogb2Zmc2V0KSArIHRleGNvb3JkLng7Cn0KCmZsb2F0IFNNQUFTZWFyY2hYTGVmdChpbm91dCB2ZWMyIHRleGNvb3JkLCBmbG9hdCBlbmQpCnsKICAgIHZlYzIgZSA9IHZlYzIoMC4wLCAxLjApOwogICAgaWYgKHRleGNvb3JkLnggPD0gZW5kKQogICAgewogICAgICAgIHZlYzIgcGFyYW0gPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW0sIHBhcmFtXzEpOwogICAgfQogICAgaWYgKGUueSA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzIgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fMiwgcGFyYW1fMyk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzQgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fNCwgcGFyYW1fNSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0yLjAsIC0wLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54IDw9IGVuZCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzYgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fNiwgcGFyYW1fNyk7CiAgICB9CiAgICBpZiAoZS55IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIHZlYzIgcGFyYW1fOCA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV84LCBwYXJhbV85KTsKICAgIH0KICAgIGlmIChlLnggIT0gMC4wKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMTAgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzExID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzEwLCBwYXJhbV8xMSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0yLjAsIC0wLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54IDw9IGVuZCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzEyID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8xMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8xMiwgcGFyYW1fMTMpOwogICAgfQogICAgaWYgKGUueSA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzE0ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8xNSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8xNCwgcGFyYW1fMTUpOwogICAgfQogICAgaWYgKGUueCAhPSAwLjApCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8xNiA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fMTcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fMTYsIHBhcmFtXzE3KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoLTIuMCwgLTAuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnggPD0gZW5kKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMTggPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzE5ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzE4LCBwYXJhbV8xOSk7CiAgICB9CiAgICBpZiAoZS55IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMjAgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzIxID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzIwLCBwYXJhbV8yMSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzIyID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8yMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8yMiwgcGFyYW1fMjMpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMi4wLCAtMC4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueCA8PSBlbmQpCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8yNCA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fMjUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fMjQsIHBhcmFtXzI1KTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8yNiA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fMjcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fMjYsIHBhcmFtXzI3KTsKICAgIH0KICAgIGlmIChlLnggIT0gMC4wKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMjggPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzI5ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzI4LCBwYXJhbV8yOSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0yLjAsIC0wLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54IDw9IGVuZCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzMwID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8zMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8zMCwgcGFyYW1fMzEpOwogICAgfQogICAgaWYgKGUueSA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzMyID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8zMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8zMiwgcGFyYW1fMzMpOwogICAgfQogICAgaWYgKGUueCAhPSAwLjApCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8zNCA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fMzUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fMzQsIHBhcmFtXzM1KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoLTIuMCwgLTAuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnggPD0gZW5kKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMzYgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzM3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzM2LCBwYXJhbV8zNyk7CiAgICB9CiAgICBpZiAoZS55IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMzggPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzM5ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzM4LCBwYXJhbV8zOSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzQwID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV80MSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV80MCwgcGFyYW1fNDEpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMi4wLCAtMC4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueCA8PSBlbmQpCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV80MiA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fNDMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fNDIsIHBhcmFtXzQzKTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV80NCA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fNDUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fNDQsIHBhcmFtXzQ1KTsKICAgIH0KICAgIGlmIChlLnggIT0gMC4wKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fNDYgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzQ3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzQ2LCBwYXJhbV80Nyk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0yLjAsIC0wLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIHZlYzIgcGFyYW1fNDggPSBlOwogICAgZmxvYXQgcGFyYW1fNDkgPSAwLjA7CiAgICBmbG9hdCBvZmZzZXQgPSAoKC0yLjAwNzg3NDAxMTk5MzQwODIwMzEyNSkgKiBTTUFBU2VhcmNoTGVuZ3RoKHBhcmFtXzQ4LCBwYXJhbV80OSkpICsgMy4yNTsKICAgIHJldHVybiAoc2NyZWVuU2l6ZUludi54ICogb2Zmc2V0KSArIHRleGNvb3JkLng7Cn0KCmZsb2F0IGVuZExvb3BYUmlnaHQodmVjMiB0ZXhjb29yZCwgdmVjMiBlKQp7CiAgICB2ZWMyIHBhcmFtID0gZTsKICAgIGZsb2F0IHBhcmFtXzEgPSAwLjU7CiAgICBmbG9hdCBvZmZzZXQgPSAoKC0yLjAwNzg3NDAxMTk5MzQwODIwMzEyNSkgKiBTTUFBU2VhcmNoTGVuZ3RoKHBhcmFtLCBwYXJhbV8xKSkgKyAzLjI1OwogICAgcmV0dXJuICgoLXNjcmVlblNpemVJbnYueCkgKiBvZmZzZXQpICsgdGV4Y29vcmQueDsKfQoKZmxvYXQgU01BQVNlYXJjaFhSaWdodChpbm91dCB2ZWMyIHRleGNvb3JkLCBmbG9hdCBlbmQpCnsKICAgIHZlYzIgZSA9IHZlYzIoMC4wLCAxLjApOwogICAgaWYgKHRleGNvb3JkLnggPj0gZW5kKQogICAgewogICAgICAgIHZlYzIgcGFyYW0gPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWFJpZ2h0KHBhcmFtLCBwYXJhbV8xKTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8yID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8zID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV8yLCBwYXJhbV8zKTsKICAgIH0KICAgIGlmIChlLnggIT0gMC4wKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fNCA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fNSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fNCwgcGFyYW1fNSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDIuMCwgMC4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueCA%PSBlbmQpCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV82ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV83ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV82LCBwYXJhbV83KTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV84ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV85ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV84LCBwYXJhbV85KTsKICAgIH0KICAgIGlmIChlLnggIT0gMC4wKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMTAgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzExID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV8xMCwgcGFyYW1fMTEpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigyLjAsIDAuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnggPj0gZW5kKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMTIgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzEzID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV8xMiwgcGFyYW1fMTMpOwogICAgfQogICAgaWYgKGUueSA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzE0ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8xNSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMTQsIHBhcmFtXzE1KTsKICAgIH0KICAgIGlmIChlLnggIT0gMC4wKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMTYgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzE3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV8xNiwgcGFyYW1fMTcpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigyLjAsIDAuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnggPj0gZW5kKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMTggPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzE5ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV8xOCwgcGFyYW1fMTkpOwogICAgfQogICAgaWYgKGUueSA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzIwID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8yMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMjAsIHBhcmFtXzIxKTsKICAgIH0KICAgIGlmIChlLnggIT0gMC4wKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMjIgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzIzID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV8yMiwgcGFyYW1fMjMpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigyLjAsIDAuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnggPj0gZW5kKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMjQgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzI1ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV8yNCwgcGFyYW1fMjUpOwogICAgfQogICAgaWYgKGUueSA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzI2ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8yNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMjYsIHBhcmFtXzI3KTsKICAgIH0KICAgIGlmIChlLnggIT0gMC4wKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMjggPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzI5ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV8yOCwgcGFyYW1fMjkpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigyLjAsIDAuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnggPj0gZW5kKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMzAgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzMxID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV8zMCwgcGFyYW1fMzEpOwogICAgfQogICAgaWYgKGUueSA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzMyID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8zMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMzIsIHBhcmFtXzMzKTsKICAgIH0KICAgIGlmIChlLnggIT0gMC4wKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMzQgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzM1ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV8zNCwgcGFyYW1fMzUpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigyLjAsIDAuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnggPj0gZW5kKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMzYgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzM3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV8zNiwgcGFyYW1fMzcpOwogICAgfQogICAgaWYgKGUueSA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzM4ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8zOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMzgsIHBhcmFtXzM5KTsKICAgIH0KICAgIGlmIChlLnggIT0gMC4wKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fNDAgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzQxID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV80MCwgcGFyYW1fNDEpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigyLjAsIDAuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnggPj0gZW5kKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fNDIgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzQzID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV80MiwgcGFyYW1fNDMpOwogICAgfQogICAgaWYgKGUueSA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzQ0ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV80NSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fNDQsIHBhcmFtXzQ1KTsKICAgIH0KICAgIGlmIChlLnggIT0gMC4wKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fNDYgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzQ3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbV80NiwgcGFyYW1fNDcpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigyLjAsIDAuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgdmVjMiBwYXJhbV80OCA9IGU7CiAgICBmbG9hdCBwYXJhbV80OSA9IDAuNTsKICAgIGZsb2F0IG9mZnNldCA9ICgoLTIuMDA3ODc0MDExOTkzNDA4MjAzMTI1KSAqIFNNQUFTZWFyY2hMZW5ndGgocGFyYW1fNDgsIHBhcmFtXzQ5KSkgKyAzLjI1OwogICAgcmV0dXJuICgoLXNjcmVlblNpemVJbnYueCkgKiBvZmZzZXQpICsgdGV4Y29vcmQueDsKfQoKdmVjMiBTTUFBQXJlYSh2ZWMyIGRpc3QsIGZsb2F0IGUxLCBmbG9hdCBlMiwgZmxvYXQgb2Zmc2V0KQp7CiAgICB2ZWMyIHRleGNvb3JkID0gKHZlYzIoMTYuMCkgKiBmbG9vcigodmVjMihlMSwgZTIpICogNC4wKSArIHZlYzIoMC41KSkpICsgZGlzdDsKICAgIHRleGNvb3JkID0gKHZlYzIoMC4wMDYyNTAwMDAwOTMxMzIyNTc0NjE1NDc4NTE1NjI1LCAwLjAwMTc4NTcxNDI5NTY5Mjc0MTg3MDg4MDEyNjk1MzEyNSkgKiB0ZXhjb29yZCkgKyB2ZWMyKDAuMDAzMTI1MDAwMDQ2NTY2MTI4NzMwNzczOTI1NzgxMjUsIDAuMDAwODkyODU3MTQ3ODQ2MzcwOTM1NDQwMDYzNDc2NTYyNSk7CiAgICB0ZXhjb29yZC55ID0gKDAuMTQyODU3MTQ5MjQzMzU0Nzk3MzYzMjgxMjUgKiBvZmZzZXQpICsgdGV4Y29vcmQueTsKICAgIHJldHVybiB0ZXh0dXJlTG9kKGFyZWFUZXgsIHRleGNvb3JkLCAwLjApLnh5Owp9Cgp2ZWMyIFNNQUFEZXRlY3RIb3Jpem9udGFsQ29ybmVyUGF0dGVybihpbm91dCB2ZWMyIHdlaWdodHMsIHZlYzQgdGV4Y29vcmQsIHZlYzIgZCkKewogICAgdmVjMiBsZWZ0UmlnaHQgPSBzdGVwKGQsIGQueXgpOwogICAgdmVjMiByb3VuZGluZyA9IGxlZnRSaWdodCAqIDAuNzU7CiAgICByb3VuZGluZyAvPSB2ZWMyKGxlZnRSaWdodC54ICsgbGVmdFJpZ2h0LnkpOwogICAgdmVjMiBmYWN0b3IgPSB2ZWMyKDEuMCk7CiAgICBmYWN0b3IueCAtPSAocm91bmRpbmcueCAqIHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLnh5ICsgKHZlYzIoMC4wLCAxLjApICogc2NyZWVuU2l6ZUludiksIDAuMCkueCk7CiAgICBmYWN0b3IueCAtPSAocm91bmRpbmcueSAqIHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLnp3ICsgKHZlYzIoMS4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLngpOwogICAgZmFjdG9yLnkgLT0gKHJvdW5kaW5nLnggKiB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZC54eSArICh2ZWMyKDAuMCwgLTIuMCkgKiBzY3JlZW5TaXplSW52KSwgMC4wKS54KTsKICAgIGZhY3Rvci55IC09IChyb3VuZGluZy55ICogdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQuencgKyAodmVjMigxLjAsIC0yLjApICogc2NyZWVuU2l6ZUludiksIDAuMCkueCk7CiAgICB3ZWlnaHRzICo9IGNsYW1wKGZhY3RvciwgdmVjMigwLjApLCB2ZWMyKDEuMCkpOwogICAgcmV0dXJuIHdlaWdodHM7Cn0KCmZsb2F0IGVuZExvb3BZVXAodmVjMiB0ZXhjb29yZCwgdmVjMiBlKQp7CiAgICB2ZWMyIHBhcmFtID0gZS55eDsKICAgIGZsb2F0IHBhcmFtXzEgPSAwLjA7CiAgICBmbG9hdCBvZmZzZXQgPSAoKC0yLjAwNzg3NDAxMTk5MzQwODIwMzEyNSkgKiBTTUFBU2VhcmNoTGVuZ3RoKHBhcmFtLCBwYXJhbV8xKSkgKyAzLjI1OwogICAgcmV0dXJuIChzY3JlZW5TaXplSW52LnkgKiBvZmZzZXQpICsgdGV4Y29vcmQueTsKfQoKZmxvYXQgU01BQVNlYXJjaFlVcChpbm91dCB2ZWMyIHRleGNvb3JkLCBmbG9hdCBlbmQpCnsKICAgIHZlYzIgZSA9IHZlYzIoMS4wLCAwLjApOwogICAgaWYgKHRleGNvb3JkLnkgPD0gZW5kKQogICAgewogICAgICAgIHZlYzIgcGFyYW0gPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtLCBwYXJhbV8xKTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8yID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8zID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV8yLCBwYXJhbV8zKTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fNCA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fNSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fNCwgcGFyYW1fNSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0wLjAsIC0yLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC55IDw9IGVuZCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzYgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzYsIHBhcmFtXzcpOwogICAgfQogICAgaWYgKGUueCA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzggPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzkgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzgsIHBhcmFtXzkpOwogICAgfQogICAgaWYgKGUueSAhPSAwLjApCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8xMCA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fMTEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzEwLCBwYXJhbV8xMSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0wLjAsIC0yLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC55IDw9IGVuZCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzEyID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8xMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMTIsIHBhcmFtXzEzKTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8xNCA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fMTUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzE0LCBwYXJhbV8xNSk7CiAgICB9CiAgICBpZiAoZS55ICE9IDAuMCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzE2ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8xNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMTYsIHBhcmFtXzE3KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoLTAuMCwgLTIuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnkgPD0gZW5kKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMTggPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzE5ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV8xOCwgcGFyYW1fMTkpOwogICAgfQogICAgaWYgKGUueCA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzIwID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8yMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMjAsIHBhcmFtXzIxKTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMjIgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzIzID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV8yMiwgcGFyYW1fMjMpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMC4wLCAtMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA8PSBlbmQpCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8yNCA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fMjUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzI0LCBwYXJhbV8yNSk7CiAgICB9CiAgICBpZiAoZS54IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMjYgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzI3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV8yNiwgcGFyYW1fMjcpOwogICAgfQogICAgaWYgKGUueSAhPSAwLjApCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8yOCA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fMjkgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzI4LCBwYXJhbV8yOSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0wLjAsIC0yLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC55IDw9IGVuZCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzMwID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8zMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMzAsIHBhcmFtXzMxKTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8zMiA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fMzMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzMyLCBwYXJhbV8zMyk7CiAgICB9CiAgICBpZiAoZS55ICE9IDAuMCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzM0ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8zNSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMzQsIHBhcmFtXzM1KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoLTAuMCwgLTIuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnkgPD0gZW5kKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fMzYgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzM3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV8zNiwgcGFyYW1fMzcpOwogICAgfQogICAgaWYgKGUueCA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzM4ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8zOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMzgsIHBhcmFtXzM5KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fNDAgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzQxID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV80MCwgcGFyYW1fNDEpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMC4wLCAtMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA8PSBlbmQpCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV80MiA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fNDMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzQyLCBwYXJhbV80Myk7CiAgICB9CiAgICBpZiAoZS54IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIHZlYzIgcGFyYW1fNDQgPSB0ZXhjb29yZDsKICAgICAgICB2ZWMyIHBhcmFtXzQ1ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV80NCwgcGFyYW1fNDUpOwogICAgfQogICAgaWYgKGUueSAhPSAwLjApCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV80NiA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fNDcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzQ2LCBwYXJhbV80Nyk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0wLjAsIC0yLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIHZlYzIgcGFyYW1fNDggPSBlLnl4OwogICAgZmxvYXQgcGFyYW1fNDkgPSAwLjA7CiAgICBmbG9hdCBvZmZzZXQgPSAoKC0yLjAwNzg3NDAxMTk5MzQwODIwMzEyNSkgKiBTTUFBU2VhcmNoTGVuZ3RoKHBhcmFtXzQ4LCBwYXJhbV80OSkpICsgMy4yNTsKICAgIHJldHVybiAoc2NyZWVuU2l6ZUludi55ICogb2Zmc2V0KSArIHRleGNvb3JkLnk7Cn0KCmZsb2F0IGVuZExvb3BZRG93bih2ZWMyIHRleGNvb3JkLCB2ZWMyIGUpCnsKICAgIHZlYzIgcGFyYW0gPSBlLnl4OwogICAgZmxvYXQgcGFyYW1fMSA9IDAuNTsKICAgIGZsb2F0IG9mZnNldCA9ICgoLTIuMDA3ODc0MDExOTkzNDA4MjAzMTI1KSAqIFNNQUFTZWFyY2hMZW5ndGgocGFyYW0sIHBhcmFtXzEpKSArIDMuMjU7CiAgICByZXR1cm4gKCgtc2NyZWVuU2l6ZUludi55KSAqIG9mZnNldCkgKyB0ZXhjb29yZC55Owp9CgpmbG9hdCBTTUFBU2VhcmNoWURvd24oaW5vdXQgdmVjMiB0ZXhjb29yZCwgZmxvYXQgZW5kKQp7CiAgICB2ZWMyIGUgPSB2ZWMyKDEuMCwgMC4wKTsKICAgIGlmICh0ZXhjb29yZC55ID49IGVuZCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8xID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtLCBwYXJhbV8xKTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8yID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8zID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzIsIHBhcmFtXzMpOwogICAgfQogICAgaWYgKGUueSAhPSAwLjApCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV80ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV81ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzQsIHBhcmFtXzUpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigwLjAsIDIuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnkgPj0gZW5kKQogICAgewogICAgICAgIHZlYzIgcGFyYW1fNiA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV82LCBwYXJhbV83KTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV84ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV85ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzgsIHBhcmFtXzkpOwogICAgfQogICAgaWYgKGUueSAhPSAwLjApCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8xMCA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fMTEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMTAsIHBhcmFtXzExKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMC4wLCAyLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC55ID49IGVuZCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzEyID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8xMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV8xMiwgcGFyYW1fMTMpOwogICAgfQogICAgaWYgKGUueCA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzE0ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8xNSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV8xNCwgcGFyYW1fMTUpOwogICAgfQogICAgaWYgKGUueSAhPSAwLjApCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8xNiA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fMTcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMTYsIHBhcmFtXzE3KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMC4wLCAyLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC55ID49IGVuZCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzE4ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8xOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV8xOCwgcGFyYW1fMTkpOwogICAgfQogICAgaWYgKGUueCA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzIwID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8yMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV8yMCwgcGFyYW1fMjEpOwogICAgfQogICAgaWYgKGUueSAhPSAwLjApCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8yMiA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fMjMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMjIsIHBhcmFtXzIzKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMC4wLCAyLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC55ID49IGVuZCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzI0ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8yNSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV8yNCwgcGFyYW1fMjUpOwogICAgfQogICAgaWYgKGUueCA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzI2ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8yNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV8yNiwgcGFyYW1fMjcpOwogICAgfQogICAgaWYgKGUueSAhPSAwLjApCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8yOCA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fMjkgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMjgsIHBhcmFtXzI5KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMC4wLCAyLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC55ID49IGVuZCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzMwID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8zMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV8zMCwgcGFyYW1fMzEpOwogICAgfQogICAgaWYgKGUueCA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzMyID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8zMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV8zMiwgcGFyYW1fMzMpOwogICAgfQogICAgaWYgKGUueSAhPSAwLjApCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV8zNCA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fMzUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMzQsIHBhcmFtXzM1KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMC4wLCAyLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC55ID49IGVuZCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzM2ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8zNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV8zNiwgcGFyYW1fMzcpOwogICAgfQogICAgaWYgKGUueCA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzM4ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8zOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV8zOCwgcGFyYW1fMzkpOwogICAgfQogICAgaWYgKGUueSAhPSAwLjApCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV80MCA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fNDEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fNDAsIHBhcmFtXzQxKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMC4wLCAyLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC55ID49IGVuZCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzQyID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV80MyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV80MiwgcGFyYW1fNDMpOwogICAgfQogICAgaWYgKGUueCA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzQ0ID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV80NSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV80NCwgcGFyYW1fNDUpOwogICAgfQogICAgaWYgKGUueSAhPSAwLjApCiAgICB7CiAgICAgICAgdmVjMiBwYXJhbV80NiA9IHRleGNvb3JkOwogICAgICAgIHZlYzIgcGFyYW1fNDcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fNDYsIHBhcmFtXzQ3KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMC4wLCAyLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIHZlYzIgcGFyYW1fNDggPSBlLnl4OwogICAgZmxvYXQgcGFyYW1fNDkgPSAwLjU7CiAgICBmbG9hdCBvZmZzZXQgPSAoKC0yLjAwNzg3NDAxMTk5MzQwODIwMzEyNSkgKiBTTUFBU2VhcmNoTGVuZ3RoKHBhcmFtXzQ4LCBwYXJhbV80OSkpICsgMy4yNTsKICAgIHJldHVybiAoKC1zY3JlZW5TaXplSW52LnkpICogb2Zmc2V0KSArIHRleGNvb3JkLnk7Cn0KCnZlYzIgU01BQURldGVjdFZlcnRpY2FsQ29ybmVyUGF0dGVybihpbm91dCB2ZWMyIHdlaWdodHMsIHZlYzQgdGV4Y29vcmQsIHZlYzIgZCkKewogICAgdmVjMiBsZWZ0UmlnaHQgPSBzdGVwKGQsIGQueXgpOwogICAgdmVjMiByb3VuZGluZyA9IGxlZnRSaWdodCAqIDAuNzU7CiAgICByb3VuZGluZyAvPSB2ZWMyKGxlZnRSaWdodC54ICsgbGVmdFJpZ2h0LnkpOwogICAgdmVjMiBmYWN0b3IgPSB2ZWMyKDEuMCk7CiAgICBmYWN0b3IueCAtPSAocm91bmRpbmcueCAqIHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLnh5ICsgKHZlYzIoMS4wLCAwLjApICogc2NyZWVuU2l6ZUludiksIDAuMCkueSk7CiAgICBmYWN0b3IueCAtPSAocm91bmRpbmcueSAqIHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLnp3ICsgKHZlYzIoMS4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLnkpOwogICAgZmFjdG9yLnkgLT0gKHJvdW5kaW5nLnggKiB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZC54eSArICh2ZWMyKC0yLjAsIDAuMCkgKiBzY3JlZW5TaXplSW52KSwgMC4wKS55KTsKICAgIGZhY3Rvci55IC09IChyb3VuZGluZy55ICogdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQuencgKyAodmVjMigtMi4wLCAxLjApICogc2NyZWVuU2l6ZUludiksIDAuMCkueSk7CiAgICB3ZWlnaHRzICo9IGNsYW1wKGZhY3RvciwgdmVjMigwLjApLCB2ZWMyKDEuMCkpOwogICAgcmV0dXJuIHdlaWdodHM7Cn0KCnZlYzQgU01BQUJsZW5kaW5nV2VpZ2h0Q2FsY3VsYXRpb25QUyh2ZWMyIHRleGNvb3JkLCB2ZWMyIHBpeGNvb3JkXzEsIHZlYzQgc3Vic2FtcGxlSW5kaWNlcykKewogICAgdmVjNCB3ZWlnaHRzID0gdmVjNCgwLjApOwogICAgdmVjMiBlID0gdGV4dHVyZShlZGdlc1RleCwgdGV4Y29vcmQpLnh5OwogICAgaWYgKGUueSA%IDAuMCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtID0gdGV4Y29vcmQ7CiAgICAgICAgdmVjMiBwYXJhbV8xID0gZTsKICAgICAgICB2ZWM0IHBhcmFtXzIgPSBzdWJzYW1wbGVJbmRpY2VzOwogICAgICAgIHZlYzIgXzI2NjEgPSBTTUFBQ2FsY3VsYXRlRGlhZ1dlaWdodHMocGFyYW0sIHBhcmFtXzEsIHBhcmFtXzIpOwogICAgICAgIHdlaWdodHMgPSB2ZWM0KF8yNjYxLngsIF8yNjYxLnksIHdlaWdodHMueiwgd2VpZ2h0cy53KTsKICAgICAgICBpZiAod2VpZ2h0cy54ID09ICgtd2VpZ2h0cy55KSkKICAgICAgICB7CiAgICAgICAgICAgIHZlYzIgcGFyYW1fMyA9IG9mZnNldDAueHk7CiAgICAgICAgICAgIGZsb2F0IHBhcmFtXzQgPSBvZmZzZXQyLng7CiAgICAgICAgICAgIGZsb2F0IF8yNjgzID0gU01BQVNlYXJjaFhMZWZ0KHBhcmFtXzMsIHBhcmFtXzQpOwogICAgICAgICAgICB2ZWMzIGNvb3JkczsKICAgICAgICAgICAgY29vcmRzLnggPSBfMjY4MzsKICAgICAgICAgICAgY29vcmRzLnkgPSBvZmZzZXQxLnk7CiAgICAgICAgICAgIHZlYzIgZDsKICAgICAgICAgICAgZC54ID0gY29vcmRzLng7CiAgICAgICAgICAgIGZsb2F0IGUxID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmRzLnh5LCAwLjApLng7CiAgICAgICAgICAgIHZlYzIgcGFyYW1fNSA9IG9mZnNldDAuenc7CiAgICAgICAgICAgIGZsb2F0IHBhcmFtXzYgPSBvZmZzZXQyLnk7CiAgICAgICAgICAgIGZsb2F0IF8yNzA1ID0gU01BQVNlYXJjaFhSaWdodChwYXJhbV81LCBwYXJhbV82KTsKICAgICAgICAgICAgY29vcmRzLnogPSBfMjcwNTsKICAgICAgICAgICAgZC55ID0gY29vcmRzLno7CiAgICAgICAgICAgIGQgPSBhYnMoZmxvb3IoKChzY3JlZW5TaXplLnh4ICogZCkgKyAoLXBpeGNvb3JkXzEueHgpKSArIHZlYzIoMC41KSkpOwogICAgICAgICAgICB2ZWMyIHNxcnRfZCA9IHNxcnQoZCk7CiAgICAgICAgICAgIGZsb2F0IGUyID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmRzLnp5ICsgKHZlYzIoMS4wLCAwLjApICogc2NyZWVuU2l6ZUludiksIDAuMCkueDsKICAgICAgICAgICAgdmVjMiBwYXJhbV83ID0gc3FydF9kOwogICAgICAgICAgICBmbG9hdCBwYXJhbV84ID0gZTE7CiAgICAgICAgICAgIGZsb2F0IHBhcmFtXzkgPSBlMjsKICAgICAgICAgICAgZmxvYXQgcGFyYW1fMTAgPSBzdWJzYW1wbGVJbmRpY2VzLnk7CiAgICAgICAgICAgIHZlYzIgXzI3NDQgPSBTTUFBQXJlYShwYXJhbV83LCBwYXJhbV84LCBwYXJhbV85LCBwYXJhbV8xMCk7CiAgICAgICAgICAgIHdlaWdodHMgPSB2ZWM0KF8yNzQ0LngsIF8yNzQ0LnksIHdlaWdodHMueiwgd2VpZ2h0cy53KTsKICAgICAgICAgICAgY29vcmRzLnkgPSB0ZXhjb29yZC55OwogICAgICAgICAgICB2ZWMyIHBhcmFtXzExID0gd2VpZ2h0cy54eTsKICAgICAgICAgICAgdmVjNCBwYXJhbV8xMiA9IGNvb3Jkcy54eXp5OwogICAgICAgICAgICB2ZWMyIHBhcmFtXzEzID0gZDsKICAgICAgICAgICAgdmVjMiBfMjc1OCA9IFNNQUFEZXRlY3RIb3Jpem9udGFsQ29ybmVyUGF0dGVybihwYXJhbV8xMSwgcGFyYW1fMTIsIHBhcmFtXzEzKTsKICAgICAgICAgICAgd2VpZ2h0cyA9IHZlYzQoXzI3NTgueCwgXzI3NTgueSwgd2VpZ2h0cy56LCB3ZWlnaHRzLncpOwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBlLnggPSAwLjA7CiAgICAgICAgfQogICAgfQogICAgaWYgKGUueCA%IDAuMCkKICAgIHsKICAgICAgICB2ZWMyIHBhcmFtXzE0ID0gb2Zmc2V0MS54eTsKICAgICAgICBmbG9hdCBwYXJhbV8xNSA9IG9mZnNldDIuejsKICAgICAgICBmbG9hdCBfMjc3NSA9IFNNQUFTZWFyY2hZVXAocGFyYW1fMTQsIHBhcmFtXzE1KTsKICAgICAgICB2ZWMzIGNvb3Jkc18xOwogICAgICAgIGNvb3Jkc18xLnkgPSBfMjc3NTsKICAgICAgICBjb29yZHNfMS54ID0gb2Zmc2V0MC54OwogICAgICAgIHZlYzIgZF8xOwogICAgICAgIGRfMS54ID0gY29vcmRzXzEueTsKICAgICAgICBmbG9hdCBlMV8xID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmRzXzEueHksIDAuMCkueTsKICAgICAgICB2ZWMyIHBhcmFtXzE2ID0gb2Zmc2V0MS56dzsKICAgICAgICBmbG9hdCBwYXJhbV8xNyA9IG9mZnNldDIudzsKICAgICAgICBmbG9hdCBfMjc5NiA9IFNNQUFTZWFyY2hZRG93bihwYXJhbV8xNiwgcGFyYW1fMTcpOwogICAgICAgIGNvb3Jkc18xLnogPSBfMjc5NjsKICAgICAgICBkXzEueSA9IGNvb3Jkc18xLno7CiAgICAgICAgZF8xID0gYWJzKGZsb29yKCgoc2NyZWVuU2l6ZS55eSAqIGRfMSkgKyAoLXBpeGNvb3JkXzEueXkpKSArIHZlYzIoMC41KSkpOwogICAgICAgIHZlYzIgc3FydF9kXzEgPSBzcXJ0KGRfMSk7CiAgICAgICAgZmxvYXQgZTJfMSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3Jkc18xLnh6ICsgKHZlYzIoMC4wLCAxLjApICogc2NyZWVuU2l6ZUludiksIDAuMCkueTsKICAgICAgICB2ZWMyIHBhcmFtXzE4ID0gc3FydF9kXzE7CiAgICAgICAgZmxvYXQgcGFyYW1fMTkgPSBlMV8xOwogICAgICAgIGZsb2F0IHBhcmFtXzIwID0gZTJfMTsKICAgICAgICBmbG9hdCBwYXJhbV8yMSA9IHN1YnNhbXBsZUluZGljZXMueDsKICAgICAgICB2ZWMyIF8yODM0ID0gU01BQUFyZWEocGFyYW1fMTgsIHBhcmFtXzE5LCBwYXJhbV8yMCwgcGFyYW1fMjEpOwogICAgICAgIHdlaWdodHMgPSB2ZWM0KHdlaWdodHMueCwgd2VpZ2h0cy55LCBfMjgzNC54LCBfMjgzNC55KTsKICAgICAgICBjb29yZHNfMS54ID0gdGV4Y29vcmQueDsKICAgICAgICB2ZWMyIHBhcmFtXzIyID0gd2VpZ2h0cy56dzsKICAgICAgICB2ZWM0IHBhcmFtXzIzID0gY29vcmRzXzEueHl4ejsKICAgICAgICB2ZWMyIHBhcmFtXzI0ID0gZF8xOwogICAgICAgIHZlYzIgXzI4NDggPSBTTUFBRGV0ZWN0VmVydGljYWxDb3JuZXJQYXR0ZXJuKHBhcmFtXzIyLCBwYXJhbV8yMywgcGFyYW1fMjQpOwogICAgICAgIHdlaWdodHMgPSB2ZWM0KHdlaWdodHMueCwgd2VpZ2h0cy55LCBfMjg0OC54LCBfMjg0OC55KTsKICAgIH0KICAgIHJldHVybiB3ZWlnaHRzOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMyIHBhcmFtID0gdGV4Q29vcmQ7CiAgICB2ZWMyIHBhcmFtXzEgPSBwaXhjb29yZDsKICAgIHZlYzQgcGFyYW1fMiA9IHZlYzQoMC4wKTsKICAgIHZlYzQgXzI4NjQgPSBTTUFBQmxlbmRpbmdXZWlnaHRDYWxjdWxhdGlvblBTKHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKTsKICAgIGZyYWdDb2xvciA9IF8yODY0Owp9Cgo";kha_Shaders.smaa_blend_weight_fragData2="s50268:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCB2ZWMyIHNjcmVlblNpemVJbnY7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGVkZ2VzVGV4Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBhcmVhVGV4Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzZWFyY2hUZXg7CnVuaWZvcm0gaGlnaHAgdmVjMiBzY3JlZW5TaXplOwoKaW4gaGlnaHAgdmVjNCBvZmZzZXQwOwppbiBoaWdocCB2ZWM0IG9mZnNldDI7CmluIGhpZ2hwIHZlYzQgb2Zmc2V0MTsKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwppbiBoaWdocCB2ZWMyIHBpeGNvb3JkOwpoaWdocCB2ZWMyIGNkd19lbmQ7CgpoaWdocCB2ZWMyIFNNQUFTZWFyY2hEaWFnMShoaWdocCB2ZWMyIHRleGNvb3JkLCBoaWdocCB2ZWMyIGRpcikKewogICAgaGlnaHAgdmVjNCBjb29yZCA9IHZlYzQodGV4Y29vcmQsIC0xLjAsIDEuMCk7CiAgICBoaWdocCB2ZWMzIHQgPSB2ZWMzKHNjcmVlblNpemVJbnYsIDEuMCk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIGlmIChjb29yZC56ID49IDcuMCkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICBoaWdocCB2ZWMzIF8xODUgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfMTg1LngsIF8xODUueSwgXzE4NS56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIGlmIChjb29yZC53IDw9IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpCiAgICB7CiAgICAgICAgcmV0dXJuIGNvb3JkLnp3OwogICAgfQogICAgaGlnaHAgdmVjMyBfMjIwID0gKHQgKiB2ZWMzKGRpciwgMS4wKSkgKyBjb29yZC54eXo7CiAgICBjb29yZCA9IHZlYzQoXzIyMC54LCBfMjIwLnksIF8yMjAueiwgY29vcmQudyk7CiAgICBjZHdfZW5kID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmQueHksIDAuMCkueHk7CiAgICBjb29yZC53ID0gZG90KGNkd19lbmQsIHZlYzIoMC41KSk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIGhpZ2hwIHZlYzMgXzI0NyA9ICh0ICogdmVjMyhkaXIsIDEuMCkpICsgY29vcmQueHl6OwogICAgY29vcmQgPSB2ZWM0KF8yNDcueCwgXzI0Ny55LCBfMjQ3LnosIGNvb3JkLncpOwogICAgY2R3X2VuZCA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3JkLnh5LCAwLjApLnh5OwogICAgY29vcmQudyA9IGRvdChjZHdfZW5kLCB2ZWMyKDAuNSkpOwogICAgaWYgKGNvb3JkLncgPD0gMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICBoaWdocCB2ZWMzIF8yNzQgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfMjc0LngsIF8yNzQueSwgXzI3NC56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIGlmIChjb29yZC53IDw9IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpCiAgICB7CiAgICAgICAgcmV0dXJuIGNvb3JkLnp3OwogICAgfQogICAgaGlnaHAgdmVjMyBfMzAxID0gKHQgKiB2ZWMzKGRpciwgMS4wKSkgKyBjb29yZC54eXo7CiAgICBjb29yZCA9IHZlYzQoXzMwMS54LCBfMzAxLnksIF8zMDEueiwgY29vcmQudyk7CiAgICBjZHdfZW5kID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmQueHksIDAuMCkueHk7CiAgICBjb29yZC53ID0gZG90KGNkd19lbmQsIHZlYzIoMC41KSk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIGhpZ2hwIHZlYzMgXzMyOCA9ICh0ICogdmVjMyhkaXIsIDEuMCkpICsgY29vcmQueHl6OwogICAgY29vcmQgPSB2ZWM0KF8zMjgueCwgXzMyOC55LCBfMzI4LnosIGNvb3JkLncpOwogICAgY2R3X2VuZCA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3JkLnh5LCAwLjApLnh5OwogICAgY29vcmQudyA9IGRvdChjZHdfZW5kLCB2ZWMyKDAuNSkpOwogICAgaWYgKGNvb3JkLncgPD0gMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICBoaWdocCB2ZWMzIF8zNTUgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfMzU1LngsIF8zNTUueSwgXzM1NS56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIHJldHVybiBjb29yZC56dzsKfQoKaGlnaHAgdmVjNCBTTUFBRGVjb2RlRGlhZ0JpbGluZWFyQWNjZXNzKGlub3V0IGhpZ2hwIHZlYzQgZSkKewogICAgaGlnaHAgdmVjMiBfMTMxID0gZS54eiAqIGFicygoZS54eiAqIDUuMCkgLSB2ZWMyKDMuNzUpKTsKICAgIGUgPSB2ZWM0KF8xMzEueCwgZS55LCBfMTMxLnksIGUudyk7CiAgICByZXR1cm4gZmxvb3IoZSArIHZlYzQoMC41KSk7Cn0KCmhpZ2hwIHZlYzIgU01BQUFyZWFEaWFnKGhpZ2hwIHZlYzIgZGlzdCwgaGlnaHAgdmVjMiBlLCBoaWdocCBmbG9hdCBvZmZzZXQpCnsKICAgIGhpZ2hwIHZlYzIgdGV4Y29vcmQgPSAodmVjMigyMC4wKSAqIGUpICsgZGlzdDsKICAgIHRleGNvb3JkID0gKHZlYzIoMC4wMDYyNTAwMDAwOTMxMzIyNTc0NjE1NDc4NTE1NjI1LCAwLjAwMTc4NTcxNDI5NTY5Mjc0MTg3MDg4MDEyNjk1MzEyNSkgKiB0ZXhjb29yZCkgKyB2ZWMyKDAuMDAzMTI1MDAwMDQ2NTY2MTI4NzMwNzczOTI1NzgxMjUsIDAuMDAwODkyODU3MTQ3ODQ2MzcwOTM1NDQwMDYzNDc2NTYyNSk7CiAgICB0ZXhjb29yZC54ICs9IDAuNTsKICAgIHRleGNvb3JkLnkgKz0gKDAuMTQyODU3MTQ5MjQzMzU0Nzk3MzYzMjgxMjUgKiBvZmZzZXQpOwogICAgcmV0dXJuIHRleHR1cmVMb2QoYXJlYVRleCwgdGV4Y29vcmQsIDAuMCkueHk7Cn0KCmhpZ2hwIHZlYzIgU01BQURlY29kZURpYWdCaWxpbmVhckFjY2Vzcyhpbm91dCBoaWdocCB2ZWMyIGUpCnsKICAgIGUueCAqPSBhYnMoKDUuMCAqIGUueCkgLSAzLjc1KTsKICAgIHJldHVybiBmbG9vcihlICsgdmVjMigwLjUpKTsKfQoKaGlnaHAgdmVjMiBTTUFBU2VhcmNoRGlhZzIoaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgdmVjMiBkaXIpCnsKICAgIGhpZ2hwIHZlYzQgY29vcmQgPSB2ZWM0KHRleGNvb3JkLCAtMS4wLCAxLjApOwogICAgY29vcmQueCArPSAoMC4yNSAqIHNjcmVlblNpemVJbnYueCk7CiAgICBoaWdocCB2ZWMzIHQgPSB2ZWMzKHNjcmVlblNpemVJbnYsIDEuMCk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIGlmIChjb29yZC56ID49IDcuMCkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICBoaWdocCB2ZWMzIF80MTMgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfNDEzLngsIF80MTMueSwgXzQxMy56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIGhpZ2hwIHZlYzIgcGFyYW0gPSBjZHdfZW5kOwogICAgaGlnaHAgdmVjMiBfNDIzID0gU01BQURlY29kZURpYWdCaWxpbmVhckFjY2VzcyhwYXJhbSk7CiAgICBjZHdfZW5kID0gXzQyMzsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIGlmIChjb29yZC53IDw9IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpCiAgICB7CiAgICAgICAgcmV0dXJuIGNvb3JkLnp3OwogICAgfQogICAgaGlnaHAgdmVjMyBfNDQzID0gKHQgKiB2ZWMzKGRpciwgMS4wKSkgKyBjb29yZC54eXo7CiAgICBjb29yZCA9IHZlYzQoXzQ0My54LCBfNDQzLnksIF80NDMueiwgY29vcmQudyk7CiAgICBjZHdfZW5kID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmQueHksIDAuMCkueHk7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzEgPSBjZHdfZW5kOwogICAgaGlnaHAgdmVjMiBfNDUzID0gU01BQURlY29kZURpYWdCaWxpbmVhckFjY2VzcyhwYXJhbV8xKTsKICAgIGNkd19lbmQgPSBfNDUzOwogICAgY29vcmQudyA9IGRvdChjZHdfZW5kLCB2ZWMyKDAuNSkpOwogICAgaWYgKGNvb3JkLncgPD0gMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICBoaWdocCB2ZWMzIF80NzMgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfNDczLngsIF80NzMueSwgXzQ3My56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIGhpZ2hwIHZlYzIgcGFyYW1fMiA9IGNkd19lbmQ7CiAgICBoaWdocCB2ZWMyIF80ODMgPSBTTUFBRGVjb2RlRGlhZ0JpbGluZWFyQWNjZXNzKHBhcmFtXzIpOwogICAgY2R3X2VuZCA9IF80ODM7CiAgICBjb29yZC53ID0gZG90KGNkd19lbmQsIHZlYzIoMC41KSk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIGhpZ2hwIHZlYzMgXzUwMyA9ICh0ICogdmVjMyhkaXIsIDEuMCkpICsgY29vcmQueHl6OwogICAgY29vcmQgPSB2ZWM0KF81MDMueCwgXzUwMy55LCBfNTAzLnosIGNvb3JkLncpOwogICAgY2R3X2VuZCA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3JkLnh5LCAwLjApLnh5OwogICAgaGlnaHAgdmVjMiBwYXJhbV8zID0gY2R3X2VuZDsKICAgIGhpZ2hwIHZlYzIgXzUxMyA9IFNNQUFEZWNvZGVEaWFnQmlsaW5lYXJBY2Nlc3MocGFyYW1fMyk7CiAgICBjZHdfZW5kID0gXzUxMzsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIGlmIChjb29yZC53IDw9IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpCiAgICB7CiAgICAgICAgcmV0dXJuIGNvb3JkLnp3OwogICAgfQogICAgaGlnaHAgdmVjMyBfNTMzID0gKHQgKiB2ZWMzKGRpciwgMS4wKSkgKyBjb29yZC54eXo7CiAgICBjb29yZCA9IHZlYzQoXzUzMy54LCBfNTMzLnksIF81MzMueiwgY29vcmQudyk7CiAgICBjZHdfZW5kID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmQueHksIDAuMCkueHk7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzQgPSBjZHdfZW5kOwogICAgaGlnaHAgdmVjMiBfNTQzID0gU01BQURlY29kZURpYWdCaWxpbmVhckFjY2VzcyhwYXJhbV80KTsKICAgIGNkd19lbmQgPSBfNTQzOwogICAgY29vcmQudyA9IGRvdChjZHdfZW5kLCB2ZWMyKDAuNSkpOwogICAgaWYgKGNvb3JkLncgPD0gMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSkKICAgIHsKICAgICAgICByZXR1cm4gY29vcmQuenc7CiAgICB9CiAgICBoaWdocCB2ZWMzIF81NjMgPSAodCAqIHZlYzMoZGlyLCAxLjApKSArIGNvb3JkLnh5ejsKICAgIGNvb3JkID0gdmVjNChfNTYzLngsIF81NjMueSwgXzU2My56LCBjb29yZC53KTsKICAgIGNkd19lbmQgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZC54eSwgMC4wKS54eTsKICAgIGhpZ2hwIHZlYzIgcGFyYW1fNSA9IGNkd19lbmQ7CiAgICBoaWdocCB2ZWMyIF81NzMgPSBTTUFBRGVjb2RlRGlhZ0JpbGluZWFyQWNjZXNzKHBhcmFtXzUpOwogICAgY2R3X2VuZCA9IF81NzM7CiAgICBjb29yZC53ID0gZG90KGNkd19lbmQsIHZlYzIoMC41KSk7CiAgICBpZiAoY29vcmQudyA8PSAwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1KQogICAgewogICAgICAgIHJldHVybiBjb29yZC56dzsKICAgIH0KICAgIGhpZ2hwIHZlYzMgXzU5MyA9ICh0ICogdmVjMyhkaXIsIDEuMCkpICsgY29vcmQueHl6OwogICAgY29vcmQgPSB2ZWM0KF81OTMueCwgXzU5My55LCBfNTkzLnosIGNvb3JkLncpOwogICAgY2R3X2VuZCA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3JkLnh5LCAwLjApLnh5OwogICAgaGlnaHAgdmVjMiBwYXJhbV82ID0gY2R3X2VuZDsKICAgIGhpZ2hwIHZlYzIgXzYwMyA9IFNNQUFEZWNvZGVEaWFnQmlsaW5lYXJBY2Nlc3MocGFyYW1fNik7CiAgICBjZHdfZW5kID0gXzYwMzsKICAgIGNvb3JkLncgPSBkb3QoY2R3X2VuZCwgdmVjMigwLjUpKTsKICAgIHJldHVybiBjb29yZC56dzsKfQoKaGlnaHAgdmVjMiBTTUFBQ2FsY3VsYXRlRGlhZ1dlaWdodHMoaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgdmVjMiBlLCBoaWdocCB2ZWM0IHN1YnNhbXBsZUluZGljZXMpCnsKICAgIGhpZ2hwIHZlYzIgd2VpZ2h0cyA9IHZlYzIoMC4wKTsKICAgIGhpZ2hwIHZlYzQgZDsKICAgIGlmIChlLnggPiAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbSA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMSA9IHZlYzIoLTEuMCwgMS4wKTsKICAgICAgICBoaWdocCB2ZWMyIF82NTggPSBTTUFBU2VhcmNoRGlhZzEocGFyYW0sIHBhcmFtXzEpOwogICAgICAgIGQgPSB2ZWM0KF82NTgueCwgZC55LCBfNjU4LnksIGQudyk7CiAgICAgICAgaGlnaHAgZmxvYXQgZGFkZCA9IGZsb2F0KGNkd19lbmQueSA%IDAuODk5OTk5OTc2MTU4MTQyMDg5ODQzNzUpOwogICAgICAgIGQueCArPSBkYWRkOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIGQgPSB2ZWM0KHZlYzIoMC4wKS54LCBkLnksIHZlYzIoMC4wKS55LCBkLncpOwogICAgfQogICAgaGlnaHAgdmVjMiBwYXJhbV8yID0gdGV4Y29vcmQ7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzMgPSB2ZWMyKDEuMCwgLTEuMCk7CiAgICBoaWdocCB2ZWMyIF82NzkgPSBTTUFBU2VhcmNoRGlhZzEocGFyYW1fMiwgcGFyYW1fMyk7CiAgICBkID0gdmVjNChkLngsIF82NzkueCwgZC56LCBfNjc5LnkpOwogICAgaWYgKChkLnggKyBkLnkpID4gMi4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzQgY29vcmRzID0gKHZlYzQoKC1kLngpICsgMC4yNSwgZC54LCBkLnksICgtZC55KSAtIDAuMjUpICogc2NyZWVuU2l6ZUludi54eXh5KSArIHRleGNvb3JkLnh5eHk7CiAgICAgICAgaGlnaHAgdmVjMiBfNzIwID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmRzLnh5ICsgKHZlYzIoLTEuMCwgMC4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLnh5OwogICAgICAgIGhpZ2hwIHZlYzQgYzsKICAgICAgICBjID0gdmVjNChfNzIwLngsIF83MjAueSwgYy56LCBjLncpOwogICAgICAgIGhpZ2hwIHZlYzIgXzczMSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3Jkcy56dyArICh2ZWMyKDEuMCwgMC4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLnh5OwogICAgICAgIGMgPSB2ZWM0KGMueCwgYy55LCBfNzMxLngsIF83MzEueSk7CiAgICAgICAgaGlnaHAgdmVjNCBwYXJhbV80ID0gYzsKICAgICAgICBoaWdocCB2ZWM0IF83MzYgPSBTTUFBRGVjb2RlRGlhZ0JpbGluZWFyQWNjZXNzKHBhcmFtXzQpOwogICAgICAgIGMgPSB2ZWM0KF83MzYueSwgXzczNi54LCBfNzM2LncsIF83MzYueik7CiAgICAgICAgaGlnaHAgdmVjMiBjYyA9ICh2ZWMyKDIuMCkgKiBjLnh6KSArIGMueXc7CiAgICAgICAgaGlnaHAgZmxvYXQgYTFjb25keCA9IHN0ZXAoMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSwgZC56KTsKICAgICAgICBoaWdocCBmbG9hdCBhMWNvbmR5ID0gc3RlcCgwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1LCBkLncpOwogICAgICAgIGlmIChhMWNvbmR4ID09IDEuMCkKICAgICAgICB7CiAgICAgICAgICAgIGNjLnggPSAwLjA7CiAgICAgICAgfQogICAgICAgIGlmIChhMWNvbmR5ID09IDEuMCkKICAgICAgICB7CiAgICAgICAgICAgIGNjLnkgPSAwLjA7CiAgICAgICAgfQogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNSA9IGQueHk7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV82ID0gY2M7CiAgICAgICAgaGlnaHAgZmxvYXQgcGFyYW1fNyA9IHN1YnNhbXBsZUluZGljZXMuejsKICAgICAgICB3ZWlnaHRzICs9IFNNQUFBcmVhRGlhZyhwYXJhbV81LCBwYXJhbV82LCBwYXJhbV83KTsKICAgIH0KICAgIGhpZ2hwIHZlYzIgcGFyYW1fOCA9IHRleGNvb3JkOwogICAgaGlnaHAgdmVjMiBwYXJhbV85ID0gdmVjMigtMS4wKTsKICAgIGhpZ2hwIHZlYzIgXzc4MCA9IFNNQUFTZWFyY2hEaWFnMihwYXJhbV84LCBwYXJhbV85KTsKICAgIGQgPSB2ZWM0KF83ODAueCwgZC55LCBfNzgwLnksIGQudyk7CiAgICBpZiAodGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQgKyAodmVjMigxLjAsIDAuMCkgKiBzY3JlZW5TaXplSW52KSwgMC4wKS54ID4gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTAgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzExID0gdmVjMigxLjApOwogICAgICAgIGhpZ2hwIHZlYzIgXzc5NyA9IFNNQUFTZWFyY2hEaWFnMihwYXJhbV8xMCwgcGFyYW1fMTEpOwogICAgICAgIGQgPSB2ZWM0KGQueCwgXzc5Ny54LCBkLnosIF83OTcueSk7CiAgICAgICAgaGlnaHAgZmxvYXQgZGFkZF8xID0gZmxvYXQoY2R3X2VuZC55ID4gMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSk7CiAgICAgICAgZC55ICs9IGRhZGRfMTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBkID0gdmVjNChkLngsIHZlYzIoMC4wKS54LCBkLnosIHZlYzIoMC4wKS55KTsKICAgIH0KICAgIGlmICgoZC54ICsgZC55KSA%IDIuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWM0IGNvb3Jkc18xID0gKHZlYzQoLWQueCwgLWQueCwgZC55LCBkLnkpICogc2NyZWVuU2l6ZUludi54eXh5KSArIHRleGNvb3JkLnh5eHk7CiAgICAgICAgaGlnaHAgdmVjNCBjXzE7CiAgICAgICAgY18xLnggPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZHNfMS54eSArICh2ZWMyKC0xLjAsIDAuMCkgKiBzY3JlZW5TaXplSW52KSwgMC4wKS55OwogICAgICAgIGNfMS55ID0gdGV4dHVyZUxvZChlZGdlc1RleCwgY29vcmRzXzEueHkgKyAodmVjMigwLjAsIC0xLjApICogc2NyZWVuU2l6ZUludiksIDAuMCkueDsKICAgICAgICBoaWdocCB2ZWMyIF84NjYgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZHNfMS56dyArICh2ZWMyKDEuMCwgMC4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLnl4OwogICAgICAgIGNfMSA9IHZlYzQoY18xLngsIGNfMS55LCBfODY2LngsIF84NjYueSk7CiAgICAgICAgaGlnaHAgdmVjMiBjY18xID0gKHZlYzIoMi4wKSAqIGNfMS54eikgKyBjXzEueXc7CiAgICAgICAgaGlnaHAgZmxvYXQgYTFjb25keF8xID0gc3RlcCgwLjg5OTk5OTk3NjE1ODE0MjA4OTg0Mzc1LCBkLnopOwogICAgICAgIGhpZ2hwIGZsb2F0IGExY29uZHlfMSA9IHN0ZXAoMC44OTk5OTk5NzYxNTgxNDIwODk4NDM3NSwgZC53KTsKICAgICAgICBpZiAoYTFjb25keF8xID09IDEuMCkKICAgICAgICB7CiAgICAgICAgICAgIGNjXzEueCA9IDAuMDsKICAgICAgICB9CiAgICAgICAgaWYgKGExY29uZHlfMSA9PSAxLjApCiAgICAgICAgewogICAgICAgICAgICBjY18xLnkgPSAwLjA7CiAgICAgICAgfQogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTIgPSBkLnh5OwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTMgPSBjY18xOwogICAgICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzE0ID0gc3Vic2FtcGxlSW5kaWNlcy53OwogICAgICAgIHdlaWdodHMgKz0gU01BQUFyZWFEaWFnKHBhcmFtXzEyLCBwYXJhbV8xMywgcGFyYW1fMTQpLnl4OwogICAgfQogICAgcmV0dXJuIHdlaWdodHM7Cn0KCmhpZ2hwIGZsb2F0IFNNQUFTZWFyY2hMZW5ndGgoaGlnaHAgdmVjMiBlLCBoaWdocCBmbG9hdCBvZmZzZXQpCnsKICAgIGhpZ2hwIHZlYzIgc2NhbGUgPSB2ZWMyKDMzLjAsIC0zMy4wKTsKICAgIGhpZ2hwIHZlYzIgYmlhcyA9IHZlYzIoNjYuMCwgMzMuMCkgKiB2ZWMyKG9mZnNldCwgMS4wKTsKICAgIHNjYWxlICs9IHZlYzIoLTEuMCwgMS4wKTsKICAgIGJpYXMgKz0gdmVjMigwLjUsIC0wLjUpOwogICAgc2NhbGUgKj0gdmVjMigwLjAxNTYyNSwgMC4wNjI1KTsKICAgIGJpYXMgKj0gdmVjMigwLjAxNTYyNSwgMC4wNjI1KTsKICAgIHJldHVybiB0ZXh0dXJlTG9kKHNlYXJjaFRleCwgKHNjYWxlICogZSkgKyBiaWFzLCAwLjApLng7Cn0KCmhpZ2hwIGZsb2F0IGVuZExvb3BYTGVmdChoaWdocCB2ZWMyIHRleGNvb3JkLCBoaWdocCB2ZWMyIGUpCnsKICAgIGhpZ2hwIHZlYzIgcGFyYW0gPSBlOwogICAgaGlnaHAgZmxvYXQgcGFyYW1fMSA9IDAuMDsKICAgIGhpZ2hwIGZsb2F0IG9mZnNldCA9ICgoLTIuMDA3ODc0MDExOTkzNDA4MjAzMTI1KSAqIFNNQUFTZWFyY2hMZW5ndGgocGFyYW0sIHBhcmFtXzEpKSArIDMuMjU7CiAgICByZXR1cm4gKHNjcmVlblNpemVJbnYueCAqIG9mZnNldCkgKyB0ZXhjb29yZC54Owp9CgpoaWdocCBmbG9hdCBTTUFBU2VhcmNoWExlZnQoaW5vdXQgaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgZmxvYXQgZW5kKQp7CiAgICBoaWdocCB2ZWMyIGUgPSB2ZWMyKDAuMCwgMS4wKTsKICAgIGlmICh0ZXhjb29yZC54IDw9IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtLCBwYXJhbV8xKTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzIsIHBhcmFtXzMpOwogICAgfQogICAgaWYgKGUueCAhPSAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV81ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzQsIHBhcmFtXzUpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMi4wLCAtMC4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueCA8PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV82ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV83ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzYsIHBhcmFtXzcpOwogICAgfQogICAgaWYgKGUueSA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzggPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzkgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fOCwgcGFyYW1fOSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzEwID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8xMCwgcGFyYW1fMTEpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMi4wLCAtMC4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueCA8PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fMTIsIHBhcmFtXzEzKTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xNCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fMTQsIHBhcmFtXzE1KTsKICAgIH0KICAgIGlmIChlLnggIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTYgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzE3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzE2LCBwYXJhbV8xNyk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0yLjAsIC0wLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54IDw9IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzE4ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8xOCwgcGFyYW1fMTkpOwogICAgfQogICAgaWYgKGUueSA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzIwID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8yMCwgcGFyYW1fMjEpOwogICAgfQogICAgaWYgKGUueCAhPSAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fMjIsIHBhcmFtXzIzKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoLTIuMCwgLTAuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnggPD0gZW5kKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI1ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzI0LCBwYXJhbV8yNSk7CiAgICB9CiAgICBpZiAoZS55IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjYgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzI2LCBwYXJhbV8yNyk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI4ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8yOCwgcGFyYW1fMjkpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMi4wLCAtMC4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueCA8PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zMCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fMzAsIHBhcmFtXzMxKTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fMzIsIHBhcmFtXzMzKTsKICAgIH0KICAgIGlmIChlLnggIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzM1ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzM0LCBwYXJhbV8zNSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0yLjAsIC0wLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54IDw9IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzM2ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8zNiwgcGFyYW1fMzcpOwogICAgfQogICAgaWYgKGUueSA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzM4ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV8zOCwgcGFyYW1fMzkpOwogICAgfQogICAgaWYgKGUueCAhPSAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80MCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWExlZnQocGFyYW1fNDAsIHBhcmFtXzQxKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoLTIuMCwgLTAuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnggPD0gZW5kKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDIgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQzID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzQyLCBwYXJhbV80Myk7CiAgICB9CiAgICBpZiAoZS55IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQ1ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhMZWZ0KHBhcmFtXzQ0LCBwYXJhbV80NSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQ2ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80NyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYTGVmdChwYXJhbV80NiwgcGFyYW1fNDcpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMi4wLCAtMC4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzQ4ID0gZTsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzQ5ID0gMC4wOwogICAgaGlnaHAgZmxvYXQgb2Zmc2V0ID0gKCgtMi4wMDc4NzQwMTE5OTM0MDgyMDMxMjUpICogU01BQVNlYXJjaExlbmd0aChwYXJhbV80OCwgcGFyYW1fNDkpKSArIDMuMjU7CiAgICByZXR1cm4gKHNjcmVlblNpemVJbnYueCAqIG9mZnNldCkgKyB0ZXhjb29yZC54Owp9CgpoaWdocCBmbG9hdCBlbmRMb29wWFJpZ2h0KGhpZ2hwIHZlYzIgdGV4Y29vcmQsIGhpZ2hwIHZlYzIgZSkKewogICAgaGlnaHAgdmVjMiBwYXJhbSA9IGU7CiAgICBoaWdocCBmbG9hdCBwYXJhbV8xID0gMC41OwogICAgaGlnaHAgZmxvYXQgb2Zmc2V0ID0gKCgtMi4wMDc4NzQwMTE5OTM0MDgyMDMxMjUpICogU01BQVNlYXJjaExlbmd0aChwYXJhbSwgcGFyYW1fMSkpICsgMy4yNTsKICAgIHJldHVybiAoKC1zY3JlZW5TaXplSW52LngpICogb2Zmc2V0KSArIHRleGNvb3JkLng7Cn0KCmhpZ2hwIGZsb2F0IFNNQUFTZWFyY2hYUmlnaHQoaW5vdXQgaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgZmxvYXQgZW5kKQp7CiAgICBoaWdocCB2ZWMyIGUgPSB2ZWMyKDAuMCwgMS4wKTsKICAgIGlmICh0ZXhjb29yZC54ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFhSaWdodChwYXJhbSwgcGFyYW1fMSk7CiAgICB9CiAgICBpZiAoZS55IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMiwgcGFyYW1fMyk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWFJpZ2h0KHBhcmFtXzQsIHBhcmFtXzUpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigyLjAsIDAuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnggPj0gZW5kKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fNiwgcGFyYW1fNyk7CiAgICB9CiAgICBpZiAoZS55IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fOCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fOCwgcGFyYW1fOSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzEwID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMTAsIHBhcmFtXzExKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMi4wLCAwLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzEyID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMTIsIHBhcmFtXzEzKTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xNCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWFJpZ2h0KHBhcmFtXzE0LCBwYXJhbV8xNSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzE2ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMTYsIHBhcmFtXzE3KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMi4wLCAwLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzE4ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMTgsIHBhcmFtXzE5KTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWFJpZ2h0KHBhcmFtXzIwLCBwYXJhbV8yMSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzIyID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMjIsIHBhcmFtXzIzKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMi4wLCAwLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI0ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yNSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMjQsIHBhcmFtXzI1KTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yNiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWFJpZ2h0KHBhcmFtXzI2LCBwYXJhbV8yNyk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI4ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMjgsIHBhcmFtXzI5KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMi4wLCAwLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzMwID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMzAsIHBhcmFtXzMxKTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWFJpZ2h0KHBhcmFtXzMyLCBwYXJhbV8zMyk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzM0ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zNSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMzQsIHBhcmFtXzM1KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMi4wLCAwLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzM2ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fMzYsIHBhcmFtXzM3KTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zOCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzkgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWFJpZ2h0KHBhcmFtXzM4LCBwYXJhbV8zOSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQwID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80MSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fNDAsIHBhcmFtXzQxKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMi4wLCAwLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC54ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQyID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80MyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fNDIsIHBhcmFtXzQzKTsKICAgIH0KICAgIGlmIChlLnkgPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80NCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWFJpZ2h0KHBhcmFtXzQ0LCBwYXJhbV80NSk7CiAgICB9CiAgICBpZiAoZS54ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQ2ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80NyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BYUmlnaHQocGFyYW1fNDYsIHBhcmFtXzQ3KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMi4wLCAwLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDggPSBlOwogICAgaGlnaHAgZmxvYXQgcGFyYW1fNDkgPSAwLjU7CiAgICBoaWdocCBmbG9hdCBvZmZzZXQgPSAoKC0yLjAwNzg3NDAxMTk5MzQwODIwMzEyNSkgKiBTTUFBU2VhcmNoTGVuZ3RoKHBhcmFtXzQ4LCBwYXJhbV80OSkpICsgMy4yNTsKICAgIHJldHVybiAoKC1zY3JlZW5TaXplSW52LngpICogb2Zmc2V0KSArIHRleGNvb3JkLng7Cn0KCmhpZ2hwIHZlYzIgU01BQUFyZWEoaGlnaHAgdmVjMiBkaXN0LCBoaWdocCBmbG9hdCBlMSwgaGlnaHAgZmxvYXQgZTIsIGhpZ2hwIGZsb2F0IG9mZnNldCkKewogICAgaGlnaHAgdmVjMiB0ZXhjb29yZCA9ICh2ZWMyKDE2LjApICogZmxvb3IoKHZlYzIoZTEsIGUyKSAqIDQuMCkgKyB2ZWMyKDAuNSkpKSArIGRpc3Q7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMDA2MjUwMDAwMDkzMTMyMjU3NDYxNTQ3ODUxNTYyNSwgMC4wMDE3ODU3MTQyOTU2OTI3NDE4NzA4ODAxMjY5NTMxMjUpICogdGV4Y29vcmQpICsgdmVjMigwLjAwMzEyNTAwMDA0NjU2NjEyODczMDc3MzkyNTc4MTI1LCAwLjAwMDg5Mjg1NzE0Nzg0NjM3MDkzNTQ0MDA2MzQ3NjU2MjUpOwogICAgdGV4Y29vcmQueSA9ICgwLjE0Mjg1NzE0OTI0MzM1NDc5NzM2MzI4MTI1ICogb2Zmc2V0KSArIHRleGNvb3JkLnk7CiAgICByZXR1cm4gdGV4dHVyZUxvZChhcmVhVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKfQoKaGlnaHAgdmVjMiBTTUFBRGV0ZWN0SG9yaXpvbnRhbENvcm5lclBhdHRlcm4oaW5vdXQgaGlnaHAgdmVjMiB3ZWlnaHRzLCBoaWdocCB2ZWM0IHRleGNvb3JkLCBoaWdocCB2ZWMyIGQpCnsKICAgIGhpZ2hwIHZlYzIgbGVmdFJpZ2h0ID0gc3RlcChkLCBkLnl4KTsKICAgIGhpZ2hwIHZlYzIgcm91bmRpbmcgPSBsZWZ0UmlnaHQgKiAwLjc1OwogICAgcm91bmRpbmcgLz0gdmVjMihsZWZ0UmlnaHQueCArIGxlZnRSaWdodC55KTsKICAgIGhpZ2hwIHZlYzIgZmFjdG9yID0gdmVjMigxLjApOwogICAgZmFjdG9yLnggLT0gKHJvdW5kaW5nLnggKiB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZC54eSArICh2ZWMyKDAuMCwgMS4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLngpOwogICAgZmFjdG9yLnggLT0gKHJvdW5kaW5nLnkgKiB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZC56dyArICh2ZWMyKDEuMCkgKiBzY3JlZW5TaXplSW52KSwgMC4wKS54KTsKICAgIGZhY3Rvci55IC09IChyb3VuZGluZy54ICogdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQueHkgKyAodmVjMigwLjAsIC0yLjApICogc2NyZWVuU2l6ZUludiksIDAuMCkueCk7CiAgICBmYWN0b3IueSAtPSAocm91bmRpbmcueSAqIHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLnp3ICsgKHZlYzIoMS4wLCAtMi4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLngpOwogICAgd2VpZ2h0cyAqPSBjbGFtcChmYWN0b3IsIHZlYzIoMC4wKSwgdmVjMigxLjApKTsKICAgIHJldHVybiB3ZWlnaHRzOwp9CgpoaWdocCBmbG9hdCBlbmRMb29wWVVwKGhpZ2hwIHZlYzIgdGV4Y29vcmQsIGhpZ2hwIHZlYzIgZSkKewogICAgaGlnaHAgdmVjMiBwYXJhbSA9IGUueXg7CiAgICBoaWdocCBmbG9hdCBwYXJhbV8xID0gMC4wOwogICAgaGlnaHAgZmxvYXQgb2Zmc2V0ID0gKCgtMi4wMDc4NzQwMTE5OTM0MDgyMDMxMjUpICogU01BQVNlYXJjaExlbmd0aChwYXJhbSwgcGFyYW1fMSkpICsgMy4yNTsKICAgIHJldHVybiAoc2NyZWVuU2l6ZUludi55ICogb2Zmc2V0KSArIHRleGNvb3JkLnk7Cn0KCmhpZ2hwIGZsb2F0IFNNQUFTZWFyY2hZVXAoaW5vdXQgaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgZmxvYXQgZW5kKQp7CiAgICBoaWdocCB2ZWMyIGUgPSB2ZWMyKDEuMCwgMC4wKTsKICAgIGlmICh0ZXhjb29yZC55IDw9IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbSwgcGFyYW1fMSk7CiAgICB9CiAgICBpZiAoZS54IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMiwgcGFyYW1fMyk7CiAgICB9CiAgICBpZiAoZS55ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzQsIHBhcmFtXzUpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMC4wLCAtMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA8PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV82ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV83ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV82LCBwYXJhbV83KTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV84ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV85ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV84LCBwYXJhbV85KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTAgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzExID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV8xMCwgcGFyYW1fMTEpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMC4wLCAtMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA8PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzEyLCBwYXJhbV8xMyk7CiAgICB9CiAgICBpZiAoZS54IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzE1ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV8xNCwgcGFyYW1fMTUpOwogICAgfQogICAgaWYgKGUueSAhPSAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xNiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzE2LCBwYXJhbV8xNyk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0wLjAsIC0yLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC55IDw9IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzE4ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMTgsIHBhcmFtXzE5KTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzIwLCBwYXJhbV8yMSk7CiAgICB9CiAgICBpZiAoZS55ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzIyID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMjIsIHBhcmFtXzIzKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoLTAuMCwgLTIuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnkgPD0gZW5kKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI1ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV8yNCwgcGFyYW1fMjUpOwogICAgfQogICAgaWYgKGUueCA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI2ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMjYsIHBhcmFtXzI3KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjggPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI5ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV8yOCwgcGFyYW1fMjkpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMC4wLCAtMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA8PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zMCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzMwLCBwYXJhbV8zMSk7CiAgICB9CiAgICBpZiAoZS54IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzIgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzMzID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV8zMiwgcGFyYW1fMzMpOwogICAgfQogICAgaWYgKGUueSAhPSAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zNCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzM0LCBwYXJhbV8zNSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKC0wLjAsIC0yLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC55IDw9IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzM2ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zNyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fMzYsIHBhcmFtXzM3KTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zOCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzkgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWVVwKHBhcmFtXzM4LCBwYXJhbV8zOSk7CiAgICB9CiAgICBpZiAoZS55ICE9IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQwID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80MSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fNDAsIHBhcmFtXzQxKTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoLTAuMCwgLTIuMCkgKiBzY3JlZW5TaXplSW52KSArIHRleGNvb3JkOwogICAgaWYgKHRleGNvb3JkLnkgPD0gZW5kKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDIgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQzID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV80MiwgcGFyYW1fNDMpOwogICAgfQogICAgaWYgKGUueCA8PSAwLjgyODEwMDAyNTY1MzgzOTExMTMyODEyNSkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQ0ID0gdGV4Y29vcmQ7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80NSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZVXAocGFyYW1fNDQsIHBhcmFtXzQ1KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDYgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQ3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlVcChwYXJhbV80NiwgcGFyYW1fNDcpOwogICAgfQogICAgZSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLCAwLjApLnh5OwogICAgdGV4Y29vcmQgPSAodmVjMigtMC4wLCAtMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzQ4ID0gZS55eDsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzQ5ID0gMC4wOwogICAgaGlnaHAgZmxvYXQgb2Zmc2V0ID0gKCgtMi4wMDc4NzQwMTE5OTM0MDgyMDMxMjUpICogU01BQVNlYXJjaExlbmd0aChwYXJhbV80OCwgcGFyYW1fNDkpKSArIDMuMjU7CiAgICByZXR1cm4gKHNjcmVlblNpemVJbnYueSAqIG9mZnNldCkgKyB0ZXhjb29yZC55Owp9CgpoaWdocCBmbG9hdCBlbmRMb29wWURvd24oaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgdmVjMiBlKQp7CiAgICBoaWdocCB2ZWMyIHBhcmFtID0gZS55eDsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzEgPSAwLjU7CiAgICBoaWdocCBmbG9hdCBvZmZzZXQgPSAoKC0yLjAwNzg3NDAxMTk5MzQwODIwMzEyNSkgKiBTTUFBU2VhcmNoTGVuZ3RoKHBhcmFtLCBwYXJhbV8xKSkgKyAzLjI1OwogICAgcmV0dXJuICgoLXNjcmVlblNpemVJbnYueSkgKiBvZmZzZXQpICsgdGV4Y29vcmQueTsKfQoKaGlnaHAgZmxvYXQgU01BQVNlYXJjaFlEb3duKGlub3V0IGhpZ2hwIHZlYzIgdGV4Y29vcmQsIGhpZ2hwIGZsb2F0IGVuZCkKewogICAgaGlnaHAgdmVjMiBlID0gdmVjMigxLjAsIDAuMCk7CiAgICBpZiAodGV4Y29vcmQueSA%PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbSA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbSwgcGFyYW1fMSk7CiAgICB9CiAgICBpZiAoZS54IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMyA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV8yLCBwYXJhbV8zKTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV80LCBwYXJhbV81KTsKICAgIH0KICAgIGUgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZCwgMC4wKS54eTsKICAgIHRleGNvb3JkID0gKHZlYzIoMC4wLCAyLjApICogc2NyZWVuU2l6ZUludikgKyB0ZXhjb29yZDsKICAgIGlmICh0ZXhjb29yZC55ID49IGVuZCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzYgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fNiwgcGFyYW1fNyk7CiAgICB9CiAgICBpZiAoZS54IDw9IDAuODI4MTAwMDI1NjUzODM5MTExMzI4MTI1KQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fOCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fOSA9IGU7CiAgICAgICAgcmV0dXJuIGVuZExvb3BZRG93bihwYXJhbV84LCBwYXJhbV85KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTAgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzExID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzEwLCBwYXJhbV8xMSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMCwgMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA%PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMTIsIHBhcmFtXzEzKTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xNCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMTQsIHBhcmFtXzE1KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTYgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzE3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzE2LCBwYXJhbV8xNyk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMCwgMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA%PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xOCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMTkgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMTgsIHBhcmFtXzE5KTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMjAsIHBhcmFtXzIxKTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjIgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzIzID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzIyLCBwYXJhbV8yMyk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMCwgMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA%PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yNCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMjQsIHBhcmFtXzI1KTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yNiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMjYsIHBhcmFtXzI3KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMjggPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzI5ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzI4LCBwYXJhbV8yOSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMCwgMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA%PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zMCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzEgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMzAsIHBhcmFtXzMxKTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zMiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMzIsIHBhcmFtXzMzKTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzQgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzM1ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzM0LCBwYXJhbV8zNSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMCwgMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA%PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zNiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzcgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMzYsIHBhcmFtXzM3KTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8zOCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMzkgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fMzgsIHBhcmFtXzM5KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDAgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQxID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzQwLCBwYXJhbV80MSk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMCwgMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBpZiAodGV4Y29vcmQueSA%PSBlbmQpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80MiA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDMgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fNDIsIHBhcmFtXzQzKTsKICAgIH0KICAgIGlmIChlLnggPD0gMC44MjgxMDAwMjU2NTM4MzkxMTEzMjgxMjUpCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV80NCA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDUgPSBlOwogICAgICAgIHJldHVybiBlbmRMb29wWURvd24ocGFyYW1fNDQsIHBhcmFtXzQ1KTsKICAgIH0KICAgIGlmIChlLnkgIT0gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNDYgPSB0ZXhjb29yZDsKICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzQ3ID0gZTsKICAgICAgICByZXR1cm4gZW5kTG9vcFlEb3duKHBhcmFtXzQ2LCBwYXJhbV80Nyk7CiAgICB9CiAgICBlID0gdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQsIDAuMCkueHk7CiAgICB0ZXhjb29yZCA9ICh2ZWMyKDAuMCwgMi4wKSAqIHNjcmVlblNpemVJbnYpICsgdGV4Y29vcmQ7CiAgICBoaWdocCB2ZWMyIHBhcmFtXzQ4ID0gZS55eDsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzQ5ID0gMC41OwogICAgaGlnaHAgZmxvYXQgb2Zmc2V0ID0gKCgtMi4wMDc4NzQwMTE5OTM0MDgyMDMxMjUpICogU01BQVNlYXJjaExlbmd0aChwYXJhbV80OCwgcGFyYW1fNDkpKSArIDMuMjU7CiAgICByZXR1cm4gKCgtc2NyZWVuU2l6ZUludi55KSAqIG9mZnNldCkgKyB0ZXhjb29yZC55Owp9CgpoaWdocCB2ZWMyIFNNQUFEZXRlY3RWZXJ0aWNhbENvcm5lclBhdHRlcm4oaW5vdXQgaGlnaHAgdmVjMiB3ZWlnaHRzLCBoaWdocCB2ZWM0IHRleGNvb3JkLCBoaWdocCB2ZWMyIGQpCnsKICAgIGhpZ2hwIHZlYzIgbGVmdFJpZ2h0ID0gc3RlcChkLCBkLnl4KTsKICAgIGhpZ2hwIHZlYzIgcm91bmRpbmcgPSBsZWZ0UmlnaHQgKiAwLjc1OwogICAgcm91bmRpbmcgLz0gdmVjMihsZWZ0UmlnaHQueCArIGxlZnRSaWdodC55KTsKICAgIGhpZ2hwIHZlYzIgZmFjdG9yID0gdmVjMigxLjApOwogICAgZmFjdG9yLnggLT0gKHJvdW5kaW5nLnggKiB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZC54eSArICh2ZWMyKDEuMCwgMC4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLnkpOwogICAgZmFjdG9yLnggLT0gKHJvdW5kaW5nLnkgKiB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCB0ZXhjb29yZC56dyArICh2ZWMyKDEuMCkgKiBzY3JlZW5TaXplSW52KSwgMC4wKS55KTsKICAgIGZhY3Rvci55IC09IChyb3VuZGluZy54ICogdGV4dHVyZUxvZChlZGdlc1RleCwgdGV4Y29vcmQueHkgKyAodmVjMigtMi4wLCAwLjApICogc2NyZWVuU2l6ZUludiksIDAuMCkueSk7CiAgICBmYWN0b3IueSAtPSAocm91bmRpbmcueSAqIHRleHR1cmVMb2QoZWRnZXNUZXgsIHRleGNvb3JkLnp3ICsgKHZlYzIoLTIuMCwgMS4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLnkpOwogICAgd2VpZ2h0cyAqPSBjbGFtcChmYWN0b3IsIHZlYzIoMC4wKSwgdmVjMigxLjApKTsKICAgIHJldHVybiB3ZWlnaHRzOwp9CgpoaWdocCB2ZWM0IFNNQUFCbGVuZGluZ1dlaWdodENhbGN1bGF0aW9uUFMoaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgdmVjMiBwaXhjb29yZF8xLCBoaWdocCB2ZWM0IHN1YnNhbXBsZUluZGljZXMpCnsKICAgIGhpZ2hwIHZlYzQgd2VpZ2h0cyA9IHZlYzQoMC4wKTsKICAgIGhpZ2hwIHZlYzIgZSA9IHRleHR1cmUoZWRnZXNUZXgsIHRleGNvb3JkKS54eTsKICAgIGlmIChlLnkgPiAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbSA9IHRleGNvb3JkOwogICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fMSA9IGU7CiAgICAgICAgaGlnaHAgdmVjNCBwYXJhbV8yID0gc3Vic2FtcGxlSW5kaWNlczsKICAgICAgICBoaWdocCB2ZWMyIF8yNjYxID0gU01BQUNhbGN1bGF0ZURpYWdXZWlnaHRzKHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKTsKICAgICAgICB3ZWlnaHRzID0gdmVjNChfMjY2MS54LCBfMjY2MS55LCB3ZWlnaHRzLnosIHdlaWdodHMudyk7CiAgICAgICAgaWYgKHdlaWdodHMueCA9PSAoLXdlaWdodHMueSkpCiAgICAgICAgewogICAgICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzMgPSBvZmZzZXQwLnh5OwogICAgICAgICAgICBoaWdocCBmbG9hdCBwYXJhbV80ID0gb2Zmc2V0Mi54OwogICAgICAgICAgICBoaWdocCBmbG9hdCBfMjY4MyA9IFNNQUFTZWFyY2hYTGVmdChwYXJhbV8zLCBwYXJhbV80KTsKICAgICAgICAgICAgaGlnaHAgdmVjMyBjb29yZHM7CiAgICAgICAgICAgIGNvb3Jkcy54ID0gXzI2ODM7CiAgICAgICAgICAgIGNvb3Jkcy55ID0gb2Zmc2V0MS55OwogICAgICAgICAgICBoaWdocCB2ZWMyIGQ7CiAgICAgICAgICAgIGQueCA9IGNvb3Jkcy54OwogICAgICAgICAgICBoaWdocCBmbG9hdCBlMSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3Jkcy54eSwgMC4wKS54OwogICAgICAgICAgICBoaWdocCB2ZWMyIHBhcmFtXzUgPSBvZmZzZXQwLnp3OwogICAgICAgICAgICBoaWdocCBmbG9hdCBwYXJhbV82ID0gb2Zmc2V0Mi55OwogICAgICAgICAgICBoaWdocCBmbG9hdCBfMjcwNSA9IFNNQUFTZWFyY2hYUmlnaHQocGFyYW1fNSwgcGFyYW1fNik7CiAgICAgICAgICAgIGNvb3Jkcy56ID0gXzI3MDU7CiAgICAgICAgICAgIGQueSA9IGNvb3Jkcy56OwogICAgICAgICAgICBkID0gYWJzKGZsb29yKCgoc2NyZWVuU2l6ZS54eCAqIGQpICsgKC1waXhjb29yZF8xLnh4KSkgKyB2ZWMyKDAuNSkpKTsKICAgICAgICAgICAgaGlnaHAgdmVjMiBzcXJ0X2QgPSBzcXJ0KGQpOwogICAgICAgICAgICBoaWdocCBmbG9hdCBlMiA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3Jkcy56eSArICh2ZWMyKDEuMCwgMC4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLng7CiAgICAgICAgICAgIGhpZ2hwIHZlYzIgcGFyYW1fNyA9IHNxcnRfZDsKICAgICAgICAgICAgaGlnaHAgZmxvYXQgcGFyYW1fOCA9IGUxOwogICAgICAgICAgICBoaWdocCBmbG9hdCBwYXJhbV85ID0gZTI7CiAgICAgICAgICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzEwID0gc3Vic2FtcGxlSW5kaWNlcy55OwogICAgICAgICAgICBoaWdocCB2ZWMyIF8yNzQ0ID0gU01BQUFyZWEocGFyYW1fNywgcGFyYW1fOCwgcGFyYW1fOSwgcGFyYW1fMTApOwogICAgICAgICAgICB3ZWlnaHRzID0gdmVjNChfMjc0NC54LCBfMjc0NC55LCB3ZWlnaHRzLnosIHdlaWdodHMudyk7CiAgICAgICAgICAgIGNvb3Jkcy55ID0gdGV4Y29vcmQueTsKICAgICAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMSA9IHdlaWdodHMueHk7CiAgICAgICAgICAgIGhpZ2hwIHZlYzQgcGFyYW1fMTIgPSBjb29yZHMueHl6eTsKICAgICAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xMyA9IGQ7CiAgICAgICAgICAgIGhpZ2hwIHZlYzIgXzI3NTggPSBTTUFBRGV0ZWN0SG9yaXpvbnRhbENvcm5lclBhdHRlcm4ocGFyYW1fMTEsIHBhcmFtXzEyLCBwYXJhbV8xMyk7CiAgICAgICAgICAgIHdlaWdodHMgPSB2ZWM0KF8yNzU4LngsIF8yNzU4LnksIHdlaWdodHMueiwgd2VpZ2h0cy53KTsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgZS54ID0gMC4wOwogICAgICAgIH0KICAgIH0KICAgIGlmIChlLnggPiAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xNCA9IG9mZnNldDEueHk7CiAgICAgICAgaGlnaHAgZmxvYXQgcGFyYW1fMTUgPSBvZmZzZXQyLno7CiAgICAgICAgaGlnaHAgZmxvYXQgXzI3NzUgPSBTTUFBU2VhcmNoWVVwKHBhcmFtXzE0LCBwYXJhbV8xNSk7CiAgICAgICAgaGlnaHAgdmVjMyBjb29yZHNfMTsKICAgICAgICBjb29yZHNfMS55ID0gXzI3NzU7CiAgICAgICAgY29vcmRzXzEueCA9IG9mZnNldDAueDsKICAgICAgICBoaWdocCB2ZWMyIGRfMTsKICAgICAgICBkXzEueCA9IGNvb3Jkc18xLnk7CiAgICAgICAgaGlnaHAgZmxvYXQgZTFfMSA9IHRleHR1cmVMb2QoZWRnZXNUZXgsIGNvb3Jkc18xLnh5LCAwLjApLnk7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xNiA9IG9mZnNldDEuenc7CiAgICAgICAgaGlnaHAgZmxvYXQgcGFyYW1fMTcgPSBvZmZzZXQyLnc7CiAgICAgICAgaGlnaHAgZmxvYXQgXzI3OTYgPSBTTUFBU2VhcmNoWURvd24ocGFyYW1fMTYsIHBhcmFtXzE3KTsKICAgICAgICBjb29yZHNfMS56ID0gXzI3OTY7CiAgICAgICAgZF8xLnkgPSBjb29yZHNfMS56OwogICAgICAgIGRfMSA9IGFicyhmbG9vcigoKHNjcmVlblNpemUueXkgKiBkXzEpICsgKC1waXhjb29yZF8xLnl5KSkgKyB2ZWMyKDAuNSkpKTsKICAgICAgICBoaWdocCB2ZWMyIHNxcnRfZF8xID0gc3FydChkXzEpOwogICAgICAgIGhpZ2hwIGZsb2F0IGUyXzEgPSB0ZXh0dXJlTG9kKGVkZ2VzVGV4LCBjb29yZHNfMS54eiArICh2ZWMyKDAuMCwgMS4wKSAqIHNjcmVlblNpemVJbnYpLCAwLjApLnk7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8xOCA9IHNxcnRfZF8xOwogICAgICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzE5ID0gZTFfMTsKICAgICAgICBoaWdocCBmbG9hdCBwYXJhbV8yMCA9IGUyXzE7CiAgICAgICAgaGlnaHAgZmxvYXQgcGFyYW1fMjEgPSBzdWJzYW1wbGVJbmRpY2VzLng7CiAgICAgICAgaGlnaHAgdmVjMiBfMjgzNCA9IFNNQUFBcmVhKHBhcmFtXzE4LCBwYXJhbV8xOSwgcGFyYW1fMjAsIHBhcmFtXzIxKTsKICAgICAgICB3ZWlnaHRzID0gdmVjNCh3ZWlnaHRzLngsIHdlaWdodHMueSwgXzI4MzQueCwgXzI4MzQueSk7CiAgICAgICAgY29vcmRzXzEueCA9IHRleGNvb3JkLng7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yMiA9IHdlaWdodHMuenc7CiAgICAgICAgaGlnaHAgdmVjNCBwYXJhbV8yMyA9IGNvb3Jkc18xLnh5eHo7CiAgICAgICAgaGlnaHAgdmVjMiBwYXJhbV8yNCA9IGRfMTsKICAgICAgICBoaWdocCB2ZWMyIF8yODQ4ID0gU01BQURldGVjdFZlcnRpY2FsQ29ybmVyUGF0dGVybihwYXJhbV8yMiwgcGFyYW1fMjMsIHBhcmFtXzI0KTsKICAgICAgICB3ZWlnaHRzID0gdmVjNCh3ZWlnaHRzLngsIHdlaWdodHMueSwgXzI4NDgueCwgXzI4NDgueSk7CiAgICB9CiAgICByZXR1cm4gd2VpZ2h0czsKfQoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjMiBwYXJhbSA9IHRleENvb3JkOwogICAgaGlnaHAgdmVjMiBwYXJhbV8xID0gcGl4Y29vcmQ7CiAgICBoaWdocCB2ZWM0IHBhcmFtXzIgPSB2ZWM0KDAuMCk7CiAgICBoaWdocCB2ZWM0IF8yODY0ID0gU01BQUJsZW5kaW5nV2VpZ2h0Q2FsY3VsYXRpb25QUyhwYXJhbSwgcGFyYW1fMSwgcGFyYW1fMik7CiAgICBmcmFnQ29sb3IgPSBfMjg2NDsKfQoK";kha_Shaders.smaa_blend_weight_vertData0="s791:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIHZlYzIgc2NyZWVuU2l6ZTsKdW5pZm9ybSB2ZWMyIHNjcmVlblNpemVJbnY7CgpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiBwb3M7Cm91dCB2ZWMyIHBpeGNvb3JkOwpvdXQgdmVjNCBvZmZzZXQwOwpvdXQgdmVjNCBvZmZzZXQxOwpvdXQgdmVjNCBvZmZzZXQyOwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIHBpeGNvb3JkID0gdGV4Q29vcmQgKiBzY3JlZW5TaXplOwogICAgb2Zmc2V0MCA9IChzY3JlZW5TaXplSW52Lnh5eHkgKiB2ZWM0KC0wLjI1LCAtMC4xMjUsIDEuMjUsIC0wLjEyNSkpICsgdGV4Q29vcmQueHl4eTsKICAgIG9mZnNldDEgPSAoc2NyZWVuU2l6ZUludi54eXh5ICogdmVjNCgtMC4xMjUsIC0wLjI1LCAtMC4xMjUsIDEuMjUpKSArIHRleENvb3JkLnh5eHk7CiAgICBvZmZzZXQyID0gKHNjcmVlblNpemVJbnYueHh5eSAqIHZlYzQoLTMyLjAsIDMyLjAsIC0zMi4wLCAzMi4wKSkgKyB2ZWM0KG9mZnNldDAueHosIG9mZnNldDEueXcpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwp9Cgo";kha_Shaders.smaa_blend_weight_vertData1="s876:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgdmVjMiBzY3JlZW5TaXplOwp1bmlmb3JtIG1lZGl1bXAgdmVjMiBzY3JlZW5TaXplSW52OwoKb3V0IG1lZGl1bXAgdmVjMiB0ZXhDb29yZDsKaW4gbWVkaXVtcCB2ZWMyIHBvczsKb3V0IG1lZGl1bXAgdmVjMiBwaXhjb29yZDsKb3V0IG1lZGl1bXAgdmVjNCBvZmZzZXQwOwpvdXQgbWVkaXVtcCB2ZWM0IG9mZnNldDE7Cm91dCBtZWRpdW1wIHZlYzQgb2Zmc2V0MjsKCnZvaWQgbWFpbigpCnsKICAgIHRleENvb3JkID0gKHBvcyAqIHZlYzIoMC41KSkgKyB2ZWMyKDAuNSk7CiAgICBwaXhjb29yZCA9IHRleENvb3JkICogc2NyZWVuU2l6ZTsKICAgIG9mZnNldDAgPSAoc2NyZWVuU2l6ZUludi54eXh5ICogdmVjNCgtMC4yNSwgLTAuMTI1LCAxLjI1LCAtMC4xMjUpKSArIHRleENvb3JkLnh5eHk7CiAgICBvZmZzZXQxID0gKHNjcmVlblNpemVJbnYueHl4eSAqIHZlYzQoLTAuMTI1LCAtMC4yNSwgLTAuMTI1LCAxLjI1KSkgKyB0ZXhDb29yZC54eXh5OwogICAgb2Zmc2V0MiA9IChzY3JlZW5TaXplSW52Lnh4eXkgKiB2ZWM0KC0zMi4wLCAzMi4wLCAtMzIuMCwgMzIuMCkpICsgdmVjNChvZmZzZXQwLnh6LCBvZmZzZXQxLnl3KTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKfQoK";kha_Shaders.smaa_blend_weight_vertData2="s791:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIHZlYzIgc2NyZWVuU2l6ZTsKdW5pZm9ybSB2ZWMyIHNjcmVlblNpemVJbnY7CgpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiBwb3M7Cm91dCB2ZWMyIHBpeGNvb3JkOwpvdXQgdmVjNCBvZmZzZXQwOwpvdXQgdmVjNCBvZmZzZXQxOwpvdXQgdmVjNCBvZmZzZXQyOwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIHBpeGNvb3JkID0gdGV4Q29vcmQgKiBzY3JlZW5TaXplOwogICAgb2Zmc2V0MCA9IChzY3JlZW5TaXplSW52Lnh5eHkgKiB2ZWM0KC0wLjI1LCAtMC4xMjUsIDEuMjUsIC0wLjEyNSkpICsgdGV4Q29vcmQueHl4eTsKICAgIG9mZnNldDEgPSAoc2NyZWVuU2l6ZUludi54eXh5ICogdmVjNCgtMC4xMjUsIC0wLjI1LCAtMC4xMjUsIDEuMjUpKSArIHRleENvb3JkLnh5eHk7CiAgICBvZmZzZXQyID0gKHNjcmVlblNpemVJbnYueHh5eSAqIHZlYzQoLTMyLjAsIDMyLjAsIC0zMi4wLCAzMi4wKSkgKyB2ZWM0KG9mZnNldDAueHosIG9mZnNldDEueXcpOwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwp9Cgo";kha_Shaders.smaa_edge_detect_fragData0="s2236:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgY29sb3JUZXg7CgppbiBoaWdocCB2ZWM0IG9mZnNldDA7CmluIGhpZ2hwIHZlYzQgb2Zmc2V0MTsKaW4gaGlnaHAgdmVjNCBvZmZzZXQyOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3I7CmluIGhpZ2hwIHZlYzIgdGV4Q29vcmQ7CgpoaWdocCB2ZWMyIFNNQUFDb2xvckVkZ2VEZXRlY3Rpb25QUyhoaWdocCB2ZWMyIHRleGNvb3JkKQp7CiAgICBoaWdocCB2ZWMyIHRocmVzaG9sZCA9IHZlYzIoMC4xMDAwMDAwMDE0OTAxMTYxMTkzODQ3NjU2MjUpOwogICAgaGlnaHAgdmVjMyBDID0gdGV4dHVyZShjb2xvclRleCwgdGV4Y29vcmQpLnh5ejsKICAgIGhpZ2hwIHZlYzMgQ2xlZnQgPSB0ZXh0dXJlKGNvbG9yVGV4LCBvZmZzZXQwLnh5KS54eXo7CiAgICBoaWdocCB2ZWMzIHQgPSBhYnMoQyAtIENsZWZ0KTsKICAgIGhpZ2hwIHZlYzQgZGVsdGE7CiAgICBkZWx0YS54ID0gbWF4KG1heCh0LngsIHQueSksIHQueik7CiAgICBoaWdocCB2ZWMzIEN0b3AgPSB0ZXh0dXJlKGNvbG9yVGV4LCBvZmZzZXQwLnp3KS54eXo7CiAgICB0ID0gYWJzKEMgLSBDdG9wKTsKICAgIGRlbHRhLnkgPSBtYXgobWF4KHQueCwgdC55KSwgdC56KTsKICAgIGhpZ2hwIHZlYzIgZWRnZXMgPSBzdGVwKHRocmVzaG9sZCwgZGVsdGEueHkpOwogICAgaWYgKGRvdChlZGdlcywgdmVjMigxLjApKSA9PSAwLjApCiAgICB7CiAgICAgICAgZGlzY2FyZDsKICAgIH0KICAgIGhpZ2hwIHZlYzMgQ3JpZ2h0ID0gdGV4dHVyZShjb2xvclRleCwgb2Zmc2V0MS54eSkueHl6OwogICAgdCA9IGFicyhDIC0gQ3JpZ2h0KTsKICAgIGRlbHRhLnogPSBtYXgobWF4KHQueCwgdC55KSwgdC56KTsKICAgIGhpZ2hwIHZlYzMgQ2JvdHRvbSA9IHRleHR1cmUoY29sb3JUZXgsIG9mZnNldDEuencpLnh5ejsKICAgIHQgPSBhYnMoQyAtIENib3R0b20pOwogICAgZGVsdGEudyA9IG1heChtYXgodC54LCB0LnkpLCB0LnopOwogICAgaGlnaHAgdmVjMiBtYXhEZWx0YSA9IG1heChkZWx0YS54eSwgZGVsdGEuencpOwogICAgaGlnaHAgdmVjMyBDbGVmdGxlZnQgPSB0ZXh0dXJlKGNvbG9yVGV4LCBvZmZzZXQyLnh5KS54eXo7CiAgICB0ID0gYWJzKEMgLSBDbGVmdGxlZnQpOwogICAgZGVsdGEueiA9IG1heChtYXgodC54LCB0LnkpLCB0LnopOwogICAgaGlnaHAgdmVjMyBDdG9wdG9wID0gdGV4dHVyZShjb2xvclRleCwgb2Zmc2V0Mi56dykueHl6OwogICAgdCA9IGFicyhDIC0gQ3RvcHRvcCk7CiAgICBkZWx0YS53ID0gbWF4KG1heCh0LngsIHQueSksIHQueik7CiAgICBtYXhEZWx0YSA9IG1heChtYXhEZWx0YSwgZGVsdGEuencpOwogICAgaGlnaHAgZmxvYXQgZmluYWxEZWx0YSA9IG1heChtYXhEZWx0YS54LCBtYXhEZWx0YS55KTsKICAgIGVkZ2VzICo9IHN0ZXAodmVjMihmaW5hbERlbHRhKSwgZGVsdGEueHkgKiAyLjApOwogICAgcmV0dXJuIGVkZ2VzOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWMyIHBhcmFtID0gdGV4Q29vcmQ7CiAgICBoaWdocCB2ZWMyIF8yMDQgPSBTTUFBQ29sb3JFZGdlRGV0ZWN0aW9uUFMocGFyYW0pOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMjA0LngsIF8yMDQueSwgZnJhZ0NvbG9yLnosIGZyYWdDb2xvci53KTsKfQoK";kha_Shaders.smaa_edge_detect_fragData1="s2066:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIGNvbG9yVGV4OwoKaW4gdmVjNCBvZmZzZXQwOwppbiB2ZWM0IG9mZnNldDE7CmluIHZlYzQgb2Zmc2V0MjsKb3V0IHZlYzQgZnJhZ0NvbG9yOwppbiB2ZWMyIHRleENvb3JkOwoKdmVjMiBTTUFBQ29sb3JFZGdlRGV0ZWN0aW9uUFModmVjMiB0ZXhjb29yZCkKewogICAgdmVjMiB0aHJlc2hvbGQgPSB2ZWMyKDAuMTAwMDAwMDAxNDkwMTE2MTE5Mzg0NzY1NjI1KTsKICAgIHZlYzMgQyA9IHRleHR1cmUoY29sb3JUZXgsIHRleGNvb3JkKS54eXo7CiAgICB2ZWMzIENsZWZ0ID0gdGV4dHVyZShjb2xvclRleCwgb2Zmc2V0MC54eSkueHl6OwogICAgdmVjMyB0ID0gYWJzKEMgLSBDbGVmdCk7CiAgICB2ZWM0IGRlbHRhOwogICAgZGVsdGEueCA9IG1heChtYXgodC54LCB0LnkpLCB0LnopOwogICAgdmVjMyBDdG9wID0gdGV4dHVyZShjb2xvclRleCwgb2Zmc2V0MC56dykueHl6OwogICAgdCA9IGFicyhDIC0gQ3RvcCk7CiAgICBkZWx0YS55ID0gbWF4KG1heCh0LngsIHQueSksIHQueik7CiAgICB2ZWMyIGVkZ2VzID0gc3RlcCh0aHJlc2hvbGQsIGRlbHRhLnh5KTsKICAgIGlmIChkb3QoZWRnZXMsIHZlYzIoMS4wKSkgPT0gMC4wKQogICAgewogICAgICAgIGRpc2NhcmQ7CiAgICB9CiAgICB2ZWMzIENyaWdodCA9IHRleHR1cmUoY29sb3JUZXgsIG9mZnNldDEueHkpLnh5ejsKICAgIHQgPSBhYnMoQyAtIENyaWdodCk7CiAgICBkZWx0YS56ID0gbWF4KG1heCh0LngsIHQueSksIHQueik7CiAgICB2ZWMzIENib3R0b20gPSB0ZXh0dXJlKGNvbG9yVGV4LCBvZmZzZXQxLnp3KS54eXo7CiAgICB0ID0gYWJzKEMgLSBDYm90dG9tKTsKICAgIGRlbHRhLncgPSBtYXgobWF4KHQueCwgdC55KSwgdC56KTsKICAgIHZlYzIgbWF4RGVsdGEgPSBtYXgoZGVsdGEueHksIGRlbHRhLnp3KTsKICAgIHZlYzMgQ2xlZnRsZWZ0ID0gdGV4dHVyZShjb2xvclRleCwgb2Zmc2V0Mi54eSkueHl6OwogICAgdCA9IGFicyhDIC0gQ2xlZnRsZWZ0KTsKICAgIGRlbHRhLnogPSBtYXgobWF4KHQueCwgdC55KSwgdC56KTsKICAgIHZlYzMgQ3RvcHRvcCA9IHRleHR1cmUoY29sb3JUZXgsIG9mZnNldDIuencpLnh5ejsKICAgIHQgPSBhYnMoQyAtIEN0b3B0b3ApOwogICAgZGVsdGEudyA9IG1heChtYXgodC54LCB0LnkpLCB0LnopOwogICAgbWF4RGVsdGEgPSBtYXgobWF4RGVsdGEsIGRlbHRhLnp3KTsKICAgIGZsb2F0IGZpbmFsRGVsdGEgPSBtYXgobWF4RGVsdGEueCwgbWF4RGVsdGEueSk7CiAgICBlZGdlcyAqPSBzdGVwKHZlYzIoZmluYWxEZWx0YSksIGRlbHRhLnh5ICogMi4wKTsKICAgIHJldHVybiBlZGdlczsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjMiBwYXJhbSA9IHRleENvb3JkOwogICAgdmVjMiBfMjA0ID0gU01BQUNvbG9yRWRnZURldGVjdGlvblBTKHBhcmFtKTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzIwNC54LCBfMjA0LnksIGZyYWdDb2xvci56LCBmcmFnQ29sb3Iudyk7Cn0KCg";kha_Shaders.smaa_edge_detect_fragData2="s2236:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgY29sb3JUZXg7CgppbiBoaWdocCB2ZWM0IG9mZnNldDA7CmluIGhpZ2hwIHZlYzQgb2Zmc2V0MTsKaW4gaGlnaHAgdmVjNCBvZmZzZXQyOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3I7CmluIGhpZ2hwIHZlYzIgdGV4Q29vcmQ7CgpoaWdocCB2ZWMyIFNNQUFDb2xvckVkZ2VEZXRlY3Rpb25QUyhoaWdocCB2ZWMyIHRleGNvb3JkKQp7CiAgICBoaWdocCB2ZWMyIHRocmVzaG9sZCA9IHZlYzIoMC4xMDAwMDAwMDE0OTAxMTYxMTkzODQ3NjU2MjUpOwogICAgaGlnaHAgdmVjMyBDID0gdGV4dHVyZShjb2xvclRleCwgdGV4Y29vcmQpLnh5ejsKICAgIGhpZ2hwIHZlYzMgQ2xlZnQgPSB0ZXh0dXJlKGNvbG9yVGV4LCBvZmZzZXQwLnh5KS54eXo7CiAgICBoaWdocCB2ZWMzIHQgPSBhYnMoQyAtIENsZWZ0KTsKICAgIGhpZ2hwIHZlYzQgZGVsdGE7CiAgICBkZWx0YS54ID0gbWF4KG1heCh0LngsIHQueSksIHQueik7CiAgICBoaWdocCB2ZWMzIEN0b3AgPSB0ZXh0dXJlKGNvbG9yVGV4LCBvZmZzZXQwLnp3KS54eXo7CiAgICB0ID0gYWJzKEMgLSBDdG9wKTsKICAgIGRlbHRhLnkgPSBtYXgobWF4KHQueCwgdC55KSwgdC56KTsKICAgIGhpZ2hwIHZlYzIgZWRnZXMgPSBzdGVwKHRocmVzaG9sZCwgZGVsdGEueHkpOwogICAgaWYgKGRvdChlZGdlcywgdmVjMigxLjApKSA9PSAwLjApCiAgICB7CiAgICAgICAgZGlzY2FyZDsKICAgIH0KICAgIGhpZ2hwIHZlYzMgQ3JpZ2h0ID0gdGV4dHVyZShjb2xvclRleCwgb2Zmc2V0MS54eSkueHl6OwogICAgdCA9IGFicyhDIC0gQ3JpZ2h0KTsKICAgIGRlbHRhLnogPSBtYXgobWF4KHQueCwgdC55KSwgdC56KTsKICAgIGhpZ2hwIHZlYzMgQ2JvdHRvbSA9IHRleHR1cmUoY29sb3JUZXgsIG9mZnNldDEuencpLnh5ejsKICAgIHQgPSBhYnMoQyAtIENib3R0b20pOwogICAgZGVsdGEudyA9IG1heChtYXgodC54LCB0LnkpLCB0LnopOwogICAgaGlnaHAgdmVjMiBtYXhEZWx0YSA9IG1heChkZWx0YS54eSwgZGVsdGEuencpOwogICAgaGlnaHAgdmVjMyBDbGVmdGxlZnQgPSB0ZXh0dXJlKGNvbG9yVGV4LCBvZmZzZXQyLnh5KS54eXo7CiAgICB0ID0gYWJzKEMgLSBDbGVmdGxlZnQpOwogICAgZGVsdGEueiA9IG1heChtYXgodC54LCB0LnkpLCB0LnopOwogICAgaGlnaHAgdmVjMyBDdG9wdG9wID0gdGV4dHVyZShjb2xvclRleCwgb2Zmc2V0Mi56dykueHl6OwogICAgdCA9IGFicyhDIC0gQ3RvcHRvcCk7CiAgICBkZWx0YS53ID0gbWF4KG1heCh0LngsIHQueSksIHQueik7CiAgICBtYXhEZWx0YSA9IG1heChtYXhEZWx0YSwgZGVsdGEuencpOwogICAgaGlnaHAgZmxvYXQgZmluYWxEZWx0YSA9IG1heChtYXhEZWx0YS54LCBtYXhEZWx0YS55KTsKICAgIGVkZ2VzICo9IHN0ZXAodmVjMihmaW5hbERlbHRhKSwgZGVsdGEueHkgKiAyLjApOwogICAgcmV0dXJuIGVkZ2VzOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWMyIHBhcmFtID0gdGV4Q29vcmQ7CiAgICBoaWdocCB2ZWMyIF8yMDQgPSBTTUFBQ29sb3JFZGdlRGV0ZWN0aW9uUFMocGFyYW0pOwogICAgZnJhZ0NvbG9yID0gdmVjNChfMjA0LngsIF8yMDQueSwgZnJhZ0NvbG9yLnosIGZyYWdDb2xvci53KTsKfQoK";kha_Shaders.smaa_edge_detect_vertData0="s635:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIHZlYzIgc2NyZWVuU2l6ZUludjsKCm91dCB2ZWMyIHRleENvb3JkOwppbiB2ZWMyIHBvczsKb3V0IHZlYzQgb2Zmc2V0MDsKb3V0IHZlYzQgb2Zmc2V0MTsKb3V0IHZlYzQgb2Zmc2V0MjsKCnZvaWQgbWFpbigpCnsKICAgIHRleENvb3JkID0gKHBvcyAqIHZlYzIoMC41KSkgKyB2ZWMyKDAuNSk7CiAgICBvZmZzZXQwID0gKHNjcmVlblNpemVJbnYueHl4eSAqIHZlYzQoLTEuMCwgMC4wLCAwLjAsIC0xLjApKSArIHRleENvb3JkLnh5eHk7CiAgICBvZmZzZXQxID0gKHNjcmVlblNpemVJbnYueHl4eSAqIHZlYzQoMS4wLCAwLjAsIDAuMCwgMS4wKSkgKyB0ZXhDb29yZC54eXh5OwogICAgb2Zmc2V0MiA9IChzY3JlZW5TaXplSW52Lnh5eHkgKiB2ZWM0KC0yLjAsIDAuMCwgMC4wLCAtMi4wKSkgKyB0ZXhDb29yZC54eXh5OwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwp9Cgo";kha_Shaders.smaa_edge_detect_vertData1="s699:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgdmVjMiBzY3JlZW5TaXplSW52OwoKb3V0IG1lZGl1bXAgdmVjMiB0ZXhDb29yZDsKaW4gbWVkaXVtcCB2ZWMyIHBvczsKb3V0IG1lZGl1bXAgdmVjNCBvZmZzZXQwOwpvdXQgbWVkaXVtcCB2ZWM0IG9mZnNldDE7Cm91dCBtZWRpdW1wIHZlYzQgb2Zmc2V0MjsKCnZvaWQgbWFpbigpCnsKICAgIHRleENvb3JkID0gKHBvcyAqIHZlYzIoMC41KSkgKyB2ZWMyKDAuNSk7CiAgICBvZmZzZXQwID0gKHNjcmVlblNpemVJbnYueHl4eSAqIHZlYzQoLTEuMCwgMC4wLCAwLjAsIC0xLjApKSArIHRleENvb3JkLnh5eHk7CiAgICBvZmZzZXQxID0gKHNjcmVlblNpemVJbnYueHl4eSAqIHZlYzQoMS4wLCAwLjAsIDAuMCwgMS4wKSkgKyB0ZXhDb29yZC54eXh5OwogICAgb2Zmc2V0MiA9IChzY3JlZW5TaXplSW52Lnh5eHkgKiB2ZWM0KC0yLjAsIDAuMCwgMC4wLCAtMi4wKSkgKyB0ZXhDb29yZC54eXh5OwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwp9Cgo";kha_Shaders.smaa_edge_detect_vertData2="s635:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIHZlYzIgc2NyZWVuU2l6ZUludjsKCm91dCB2ZWMyIHRleENvb3JkOwppbiB2ZWMyIHBvczsKb3V0IHZlYzQgb2Zmc2V0MDsKb3V0IHZlYzQgb2Zmc2V0MTsKb3V0IHZlYzQgb2Zmc2V0MjsKCnZvaWQgbWFpbigpCnsKICAgIHRleENvb3JkID0gKHBvcyAqIHZlYzIoMC41KSkgKyB2ZWMyKDAuNSk7CiAgICBvZmZzZXQwID0gKHNjcmVlblNpemVJbnYueHl4eSAqIHZlYzQoLTEuMCwgMC4wLCAwLjAsIC0xLjApKSArIHRleENvb3JkLnh5eHk7CiAgICBvZmZzZXQxID0gKHNjcmVlblNpemVJbnYueHl4eSAqIHZlYzQoMS4wLCAwLjAsIDAuMCwgMS4wKSkgKyB0ZXhDb29yZC54eXh5OwogICAgb2Zmc2V0MiA9IChzY3JlZW5TaXplSW52Lnh5eHkgKiB2ZWM0KC0yLjAsIDAuMCwgMC4wLCAtMi4wKSkgKyB0ZXhDb29yZC54eXh5OwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwp9Cgo";kha_Shaders.smaa_neighborhood_blend_fragData0="s2946:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgYmxlbmRUZXg7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGNvbG9yVGV4Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzdmVsb2M7CnVuaWZvcm0gaGlnaHAgdmVjMiBzY3JlZW5TaXplSW52OwoKaW4gaGlnaHAgdmVjMiB0ZXhDb29yZDsKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yOwppbiBoaWdocCB2ZWM0IG9mZnNldDsKCmhpZ2hwIHZlYzQgU01BQU5laWdoYm9yaG9vZEJsZW5kaW5nUFMoaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgdmVjNCBvZmZzZXRfMSkKewogICAgaGlnaHAgdmVjNCBhOwogICAgYS54ID0gdGV4dHVyZShibGVuZFRleCwgb2Zmc2V0XzEueHkpLnc7CiAgICBhLnkgPSB0ZXh0dXJlKGJsZW5kVGV4LCBvZmZzZXRfMS56dykueTsKICAgIGhpZ2hwIHZlYzIgXzQxID0gdGV4dHVyZShibGVuZFRleCwgdGV4Y29vcmQpLnh6OwogICAgYSA9IHZlYzQoYS54LCBhLnksIF80MS55LCBfNDEueCk7CiAgICBpZiAoZG90KGEsIHZlYzQoMS4wKSkgPCA5Ljk5OTk5OTc0NzM3ODc1MTYzNTU1MTQ1MjYzNjcxODhlLTA2KQogICAgewogICAgICAgIGhpZ2hwIHZlYzQgY29sb3IgPSB0ZXh0dXJlTG9kKGNvbG9yVGV4LCB0ZXhjb29yZCwgMC4wKTsKICAgICAgICBoaWdocCB2ZWMyIHZlbG9jaXR5ID0gdGV4dHVyZUxvZChzdmVsb2MsIHRleENvb3JkLCAwLjApLnh5OwogICAgICAgIGNvbG9yLncgPSBzcXJ0KDUuMCAqIGxlbmd0aCh2ZWxvY2l0eSkpOwogICAgICAgIHJldHVybiBjb2xvcjsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBib29sIGggPSBtYXgoYS54LCBhLnopID4gbWF4KGEueSwgYS53KTsKICAgICAgICBoaWdocCB2ZWM0IGJsZW5kaW5nT2Zmc2V0ID0gdmVjNCgwLjAsIGEueSwgMC4wLCBhLncpOwogICAgICAgIGhpZ2hwIHZlYzIgYmxlbmRpbmdXZWlnaHQgPSBhLnl3OwogICAgICAgIGlmIChoKQogICAgICAgIHsKICAgICAgICAgICAgYmxlbmRpbmdPZmZzZXQueCA9IGEueDsKICAgICAgICB9CiAgICAgICAgaWYgKGgpCiAgICAgICAgewogICAgICAgICAgICBibGVuZGluZ09mZnNldC55ID0gMC4wOwogICAgICAgIH0KICAgICAgICBpZiAoaCkKICAgICAgICB7CiAgICAgICAgICAgIGJsZW5kaW5nT2Zmc2V0LnogPSBhLno7CiAgICAgICAgfQogICAgICAgIGlmIChoKQogICAgICAgIHsKICAgICAgICAgICAgYmxlbmRpbmdPZmZzZXQudyA9IDAuMDsKICAgICAgICB9CiAgICAgICAgaWYgKGgpCiAgICAgICAgewogICAgICAgICAgICBibGVuZGluZ1dlaWdodC54ID0gYS54OwogICAgICAgIH0KICAgICAgICBpZiAoaCkKICAgICAgICB7CiAgICAgICAgICAgIGJsZW5kaW5nV2VpZ2h0LnkgPSBhLno7CiAgICAgICAgfQogICAgICAgIGJsZW5kaW5nV2VpZ2h0IC89IHZlYzIoZG90KGJsZW5kaW5nV2VpZ2h0LCB2ZWMyKDEuMCkpKTsKICAgICAgICBoaWdocCB2ZWM0IGJsZW5kaW5nQ29vcmQgPSAoYmxlbmRpbmdPZmZzZXQgKiB2ZWM0KHNjcmVlblNpemVJbnYsIC1zY3JlZW5TaXplSW52KSkgKyB0ZXhjb29yZC54eXh5OwogICAgICAgIGhpZ2hwIHZlYzQgY29sb3JfMSA9IHRleHR1cmVMb2QoY29sb3JUZXgsIGJsZW5kaW5nQ29vcmQueHksIDAuMCkgKiBibGVuZGluZ1dlaWdodC54OwogICAgICAgIGNvbG9yXzEgKz0gKHRleHR1cmVMb2QoY29sb3JUZXgsIGJsZW5kaW5nQ29vcmQuencsIDAuMCkgKiBibGVuZGluZ1dlaWdodC55KTsKICAgICAgICBoaWdocCB2ZWMyIHZlbG9jaXR5XzEgPSB0ZXh0dXJlTG9kKHN2ZWxvYywgYmxlbmRpbmdDb29yZC54eSwgMC4wKS54eSAqIGJsZW5kaW5nV2VpZ2h0Lng7CiAgICAgICAgdmVsb2NpdHlfMSArPSAodGV4dHVyZUxvZChzdmVsb2MsIGJsZW5kaW5nQ29vcmQuencsIDAuMCkueHkgKiBibGVuZGluZ1dlaWdodC55KTsKICAgICAgICBjb2xvcl8xLncgPSBzcXJ0KDUuMCAqIGxlbmd0aCh2ZWxvY2l0eV8xKSk7CiAgICAgICAgcmV0dXJuIGNvbG9yXzE7CiAgICB9CiAgICByZXR1cm4gdmVjNCgwLjApOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWMyIHBhcmFtID0gdGV4Q29vcmQ7CiAgICBoaWdocCB2ZWM0IHBhcmFtXzEgPSBvZmZzZXQ7CiAgICBmcmFnQ29sb3IgPSBTTUFBTmVpZ2hib3Job29kQmxlbmRpbmdQUyhwYXJhbSwgcGFyYW1fMSk7Cn0KCg";kha_Shaders.smaa_neighborhood_blend_fragData1="s2812:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIGJsZW5kVGV4Owp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIGNvbG9yVGV4Owp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHN2ZWxvYzsKdW5pZm9ybSB2ZWMyIHNjcmVlblNpemVJbnY7CgppbiB2ZWMyIHRleENvb3JkOwpvdXQgdmVjNCBmcmFnQ29sb3I7CmluIHZlYzQgb2Zmc2V0OwoKdmVjNCBTTUFBTmVpZ2hib3Job29kQmxlbmRpbmdQUyh2ZWMyIHRleGNvb3JkLCB2ZWM0IG9mZnNldF8xKQp7CiAgICB2ZWM0IGE7CiAgICBhLnggPSB0ZXh0dXJlKGJsZW5kVGV4LCBvZmZzZXRfMS54eSkudzsKICAgIGEueSA9IHRleHR1cmUoYmxlbmRUZXgsIG9mZnNldF8xLnp3KS55OwogICAgdmVjMiBfNDEgPSB0ZXh0dXJlKGJsZW5kVGV4LCB0ZXhjb29yZCkueHo7CiAgICBhID0gdmVjNChhLngsIGEueSwgXzQxLnksIF80MS54KTsKICAgIGlmIChkb3QoYSwgdmVjNCgxLjApKSA8IDkuOTk5OTk5NzQ3Mzc4NzUxNjM1NTUxNDUyNjM2NzE4OGUtMDYpCiAgICB7CiAgICAgICAgdmVjNCBjb2xvciA9IHRleHR1cmVMb2QoY29sb3JUZXgsIHRleGNvb3JkLCAwLjApOwogICAgICAgIHZlYzIgdmVsb2NpdHkgPSB0ZXh0dXJlTG9kKHN2ZWxvYywgdGV4Q29vcmQsIDAuMCkueHk7CiAgICAgICAgY29sb3IudyA9IHNxcnQoNS4wICogbGVuZ3RoKHZlbG9jaXR5KSk7CiAgICAgICAgcmV0dXJuIGNvbG9yOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIGJvb2wgaCA9IG1heChhLngsIGEueikgPiBtYXgoYS55LCBhLncpOwogICAgICAgIHZlYzQgYmxlbmRpbmdPZmZzZXQgPSB2ZWM0KDAuMCwgYS55LCAwLjAsIGEudyk7CiAgICAgICAgdmVjMiBibGVuZGluZ1dlaWdodCA9IGEueXc7CiAgICAgICAgaWYgKGgpCiAgICAgICAgewogICAgICAgICAgICBibGVuZGluZ09mZnNldC54ID0gYS54OwogICAgICAgIH0KICAgICAgICBpZiAoaCkKICAgICAgICB7CiAgICAgICAgICAgIGJsZW5kaW5nT2Zmc2V0LnkgPSAwLjA7CiAgICAgICAgfQogICAgICAgIGlmIChoKQogICAgICAgIHsKICAgICAgICAgICAgYmxlbmRpbmdPZmZzZXQueiA9IGEuejsKICAgICAgICB9CiAgICAgICAgaWYgKGgpCiAgICAgICAgewogICAgICAgICAgICBibGVuZGluZ09mZnNldC53ID0gMC4wOwogICAgICAgIH0KICAgICAgICBpZiAoaCkKICAgICAgICB7CiAgICAgICAgICAgIGJsZW5kaW5nV2VpZ2h0LnggPSBhLng7CiAgICAgICAgfQogICAgICAgIGlmIChoKQogICAgICAgIHsKICAgICAgICAgICAgYmxlbmRpbmdXZWlnaHQueSA9IGEuejsKICAgICAgICB9CiAgICAgICAgYmxlbmRpbmdXZWlnaHQgLz0gdmVjMihkb3QoYmxlbmRpbmdXZWlnaHQsIHZlYzIoMS4wKSkpOwogICAgICAgIHZlYzQgYmxlbmRpbmdDb29yZCA9IChibGVuZGluZ09mZnNldCAqIHZlYzQoc2NyZWVuU2l6ZUludiwgLXNjcmVlblNpemVJbnYpKSArIHRleGNvb3JkLnh5eHk7CiAgICAgICAgdmVjNCBjb2xvcl8xID0gdGV4dHVyZUxvZChjb2xvclRleCwgYmxlbmRpbmdDb29yZC54eSwgMC4wKSAqIGJsZW5kaW5nV2VpZ2h0Lng7CiAgICAgICAgY29sb3JfMSArPSAodGV4dHVyZUxvZChjb2xvclRleCwgYmxlbmRpbmdDb29yZC56dywgMC4wKSAqIGJsZW5kaW5nV2VpZ2h0LnkpOwogICAgICAgIHZlYzIgdmVsb2NpdHlfMSA9IHRleHR1cmVMb2Qoc3ZlbG9jLCBibGVuZGluZ0Nvb3JkLnh5LCAwLjApLnh5ICogYmxlbmRpbmdXZWlnaHQueDsKICAgICAgICB2ZWxvY2l0eV8xICs9ICh0ZXh0dXJlTG9kKHN2ZWxvYywgYmxlbmRpbmdDb29yZC56dywgMC4wKS54eSAqIGJsZW5kaW5nV2VpZ2h0LnkpOwogICAgICAgIGNvbG9yXzEudyA9IHNxcnQoNS4wICogbGVuZ3RoKHZlbG9jaXR5XzEpKTsKICAgICAgICByZXR1cm4gY29sb3JfMTsKICAgIH0KICAgIHJldHVybiB2ZWM0KDAuMCk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzIgcGFyYW0gPSB0ZXhDb29yZDsKICAgIHZlYzQgcGFyYW1fMSA9IG9mZnNldDsKICAgIGZyYWdDb2xvciA9IFNNQUFOZWlnaGJvcmhvb2RCbGVuZGluZ1BTKHBhcmFtLCBwYXJhbV8xKTsKfQoK";kha_Shaders.smaa_neighborhood_blend_fragData2="s2946:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgYmxlbmRUZXg7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGNvbG9yVGV4Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzdmVsb2M7CnVuaWZvcm0gaGlnaHAgdmVjMiBzY3JlZW5TaXplSW52OwoKaW4gaGlnaHAgdmVjMiB0ZXhDb29yZDsKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yOwppbiBoaWdocCB2ZWM0IG9mZnNldDsKCmhpZ2hwIHZlYzQgU01BQU5laWdoYm9yaG9vZEJsZW5kaW5nUFMoaGlnaHAgdmVjMiB0ZXhjb29yZCwgaGlnaHAgdmVjNCBvZmZzZXRfMSkKewogICAgaGlnaHAgdmVjNCBhOwogICAgYS54ID0gdGV4dHVyZShibGVuZFRleCwgb2Zmc2V0XzEueHkpLnc7CiAgICBhLnkgPSB0ZXh0dXJlKGJsZW5kVGV4LCBvZmZzZXRfMS56dykueTsKICAgIGhpZ2hwIHZlYzIgXzQxID0gdGV4dHVyZShibGVuZFRleCwgdGV4Y29vcmQpLnh6OwogICAgYSA9IHZlYzQoYS54LCBhLnksIF80MS55LCBfNDEueCk7CiAgICBpZiAoZG90KGEsIHZlYzQoMS4wKSkgPCA5Ljk5OTk5OTc0NzM3ODc1MTYzNTU1MTQ1MjYzNjcxODhlLTA2KQogICAgewogICAgICAgIGhpZ2hwIHZlYzQgY29sb3IgPSB0ZXh0dXJlTG9kKGNvbG9yVGV4LCB0ZXhjb29yZCwgMC4wKTsKICAgICAgICBoaWdocCB2ZWMyIHZlbG9jaXR5ID0gdGV4dHVyZUxvZChzdmVsb2MsIHRleENvb3JkLCAwLjApLnh5OwogICAgICAgIGNvbG9yLncgPSBzcXJ0KDUuMCAqIGxlbmd0aCh2ZWxvY2l0eSkpOwogICAgICAgIHJldHVybiBjb2xvcjsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBib29sIGggPSBtYXgoYS54LCBhLnopID4gbWF4KGEueSwgYS53KTsKICAgICAgICBoaWdocCB2ZWM0IGJsZW5kaW5nT2Zmc2V0ID0gdmVjNCgwLjAsIGEueSwgMC4wLCBhLncpOwogICAgICAgIGhpZ2hwIHZlYzIgYmxlbmRpbmdXZWlnaHQgPSBhLnl3OwogICAgICAgIGlmIChoKQogICAgICAgIHsKICAgICAgICAgICAgYmxlbmRpbmdPZmZzZXQueCA9IGEueDsKICAgICAgICB9CiAgICAgICAgaWYgKGgpCiAgICAgICAgewogICAgICAgICAgICBibGVuZGluZ09mZnNldC55ID0gMC4wOwogICAgICAgIH0KICAgICAgICBpZiAoaCkKICAgICAgICB7CiAgICAgICAgICAgIGJsZW5kaW5nT2Zmc2V0LnogPSBhLno7CiAgICAgICAgfQogICAgICAgIGlmIChoKQogICAgICAgIHsKICAgICAgICAgICAgYmxlbmRpbmdPZmZzZXQudyA9IDAuMDsKICAgICAgICB9CiAgICAgICAgaWYgKGgpCiAgICAgICAgewogICAgICAgICAgICBibGVuZGluZ1dlaWdodC54ID0gYS54OwogICAgICAgIH0KICAgICAgICBpZiAoaCkKICAgICAgICB7CiAgICAgICAgICAgIGJsZW5kaW5nV2VpZ2h0LnkgPSBhLno7CiAgICAgICAgfQogICAgICAgIGJsZW5kaW5nV2VpZ2h0IC89IHZlYzIoZG90KGJsZW5kaW5nV2VpZ2h0LCB2ZWMyKDEuMCkpKTsKICAgICAgICBoaWdocCB2ZWM0IGJsZW5kaW5nQ29vcmQgPSAoYmxlbmRpbmdPZmZzZXQgKiB2ZWM0KHNjcmVlblNpemVJbnYsIC1zY3JlZW5TaXplSW52KSkgKyB0ZXhjb29yZC54eXh5OwogICAgICAgIGhpZ2hwIHZlYzQgY29sb3JfMSA9IHRleHR1cmVMb2QoY29sb3JUZXgsIGJsZW5kaW5nQ29vcmQueHksIDAuMCkgKiBibGVuZGluZ1dlaWdodC54OwogICAgICAgIGNvbG9yXzEgKz0gKHRleHR1cmVMb2QoY29sb3JUZXgsIGJsZW5kaW5nQ29vcmQuencsIDAuMCkgKiBibGVuZGluZ1dlaWdodC55KTsKICAgICAgICBoaWdocCB2ZWMyIHZlbG9jaXR5XzEgPSB0ZXh0dXJlTG9kKHN2ZWxvYywgYmxlbmRpbmdDb29yZC54eSwgMC4wKS54eSAqIGJsZW5kaW5nV2VpZ2h0Lng7CiAgICAgICAgdmVsb2NpdHlfMSArPSAodGV4dHVyZUxvZChzdmVsb2MsIGJsZW5kaW5nQ29vcmQuencsIDAuMCkueHkgKiBibGVuZGluZ1dlaWdodC55KTsKICAgICAgICBjb2xvcl8xLncgPSBzcXJ0KDUuMCAqIGxlbmd0aCh2ZWxvY2l0eV8xKSk7CiAgICAgICAgcmV0dXJuIGNvbG9yXzE7CiAgICB9CiAgICByZXR1cm4gdmVjNCgwLjApOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWMyIHBhcmFtID0gdGV4Q29vcmQ7CiAgICBoaWdocCB2ZWM0IHBhcmFtXzEgPSBvZmZzZXQ7CiAgICBmcmFnQ29sb3IgPSBTTUFBTmVpZ2hib3Job29kQmxlbmRpbmdQUyhwYXJhbSwgcGFyYW1fMSk7Cn0KCg";kha_Shaders.smaa_neighborhood_blend_vertData0="s368:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIHZlYzIgc2NyZWVuU2l6ZUludjsKCm91dCB2ZWMyIHRleENvb3JkOwppbiB2ZWMyIHBvczsKb3V0IHZlYzQgb2Zmc2V0OwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIG9mZnNldCA9IChzY3JlZW5TaXplSW52Lnh5eHkgKiB2ZWM0KDEuMCwgMC4wLCAwLjAsIDEuMCkpICsgdGV4Q29vcmQueHl4eTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKfQoK";kha_Shaders.smaa_neighborhood_blend_vertData1="s411:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgdmVjMiBzY3JlZW5TaXplSW52OwoKb3V0IG1lZGl1bXAgdmVjMiB0ZXhDb29yZDsKaW4gbWVkaXVtcCB2ZWMyIHBvczsKb3V0IG1lZGl1bXAgdmVjNCBvZmZzZXQ7Cgp2b2lkIG1haW4oKQp7CiAgICB0ZXhDb29yZCA9IChwb3MgKiB2ZWMyKDAuNSkpICsgdmVjMigwLjUpOwogICAgb2Zmc2V0ID0gKHNjcmVlblNpemVJbnYueHl4eSAqIHZlYzQoMS4wLCAwLjAsIDAuMCwgMS4wKSkgKyB0ZXhDb29yZC54eXh5OwogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcywgMC4wLCAxLjApOwp9Cgo";kha_Shaders.smaa_neighborhood_blend_vertData2="s368:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIHZlYzIgc2NyZWVuU2l6ZUludjsKCm91dCB2ZWMyIHRleENvb3JkOwppbiB2ZWMyIHBvczsKb3V0IHZlYzQgb2Zmc2V0OwoKdm9pZCBtYWluKCkKewogICAgdGV4Q29vcmQgPSAocG9zICogdmVjMigwLjUpKSArIHZlYzIoMC41KTsKICAgIG9mZnNldCA9IChzY3JlZW5TaXplSW52Lnh5eHkgKiB2ZWM0KDEuMCwgMC4wLCAwLjAsIDEuMCkpICsgdGV4Q29vcmQueHl4eTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTsKfQoK";kha_Shaders.ssgi_blur_pass_fragData0="s2818:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gaGlnaHAgdmVjMiBkaXJJbnY7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHRleDsKCm91dCBoaWdocCB2ZWM0IGZyYWdDb2xvcjsKaW4gaGlnaHAgdmVjMiB0ZXhDb29yZDsKCmhpZ2hwIHZlYzIgb2N0YWhlZHJvbldyYXAoaGlnaHAgdmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKaGlnaHAgdmVjMyBnZXROb3IoaGlnaHAgdmVjMiBlbmMpCnsKICAgIGhpZ2hwIHZlYzMgbjsKICAgIG4ueiA9ICgxLjAgLSBhYnMoZW5jLngpKSAtIGFicyhlbmMueSk7CiAgICBoaWdocCB2ZWMyIF82MTsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF82MSA9IGVuYzsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNjEgPSBvY3RhaGVkcm9uV3JhcChlbmMpOwogICAgfQogICAgbiA9IHZlYzMoXzYxLngsIF82MS55LCBuLnopOwogICAgbiA9IG5vcm1hbGl6ZShuKTsKICAgIHJldHVybiBuOwp9CgpoaWdocCBmbG9hdCBkb0JsdXIoaGlnaHAgZmxvYXQgYmx1cldlaWdodCwgaW50IHBvcywgaGlnaHAgdmVjMyBub3IsIGhpZ2hwIHZlYzIgdGV4Q29vcmRfMSkKewogICAgaGlnaHAgZmxvYXQgcG9zYWRkID0gZmxvYXQocG9zKSArIDAuNTsKICAgIGhpZ2hwIHZlYzMgbm9yMiA9IGdldE5vcih0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZF8xICsgKGRpckludiAqIGZsb2F0KHBvcykpKS54eSk7CiAgICBoaWdocCBmbG9hdCBpbmZsdWVuY2VGYWN0b3IgPSBzdGVwKDAuOTQ5OTk5OTg4MDc5MDcxMDQ0OTIxODc1LCBkb3Qobm9yMiwgbm9yKSk7CiAgICBoaWdocCB2ZWM0IGNvbCA9IHRleHR1cmUodGV4LCB0ZXhDb29yZF8xICsgKGRpckludiAqIHBvc2FkZCkpOwogICAgZnJhZ0NvbG9yICs9ICgoY29sICogYmx1cldlaWdodCkgKiBpbmZsdWVuY2VGYWN0b3IpOwogICAgaGlnaHAgZmxvYXQgd2VpZ2h0ID0gYmx1cldlaWdodCAqIGluZmx1ZW5jZUZhY3RvcjsKICAgIG5vcjIgPSBnZXROb3IodGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmRfMSAtIChkaXJJbnYgKiBmbG9hdChwb3MpKSkueHkpOwogICAgaW5mbHVlbmNlRmFjdG9yID0gc3RlcCgwLjk0OTk5OTk4ODA3OTA3MTA0NDkyMTg3NSwgZG90KG5vcjIsIG5vcikpOwogICAgY29sID0gdGV4dHVyZSh0ZXgsIHRleENvb3JkXzEgLSAoZGlySW52ICogcG9zYWRkKSk7CiAgICBmcmFnQ29sb3IgKz0gKChjb2wgKiBibHVyV2VpZ2h0KSAqIGluZmx1ZW5jZUZhY3Rvcik7CiAgICB3ZWlnaHQgKz0gKGJsdXJXZWlnaHQgKiBpbmZsdWVuY2VGYWN0b3IpOwogICAgcmV0dXJuIHdlaWdodDsKfQoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjMyBub3IgPSBnZXROb3IodGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmQpLnh5KTsKICAgIGZyYWdDb2xvciA9IHRleHR1cmUodGV4LCB0ZXhDb29yZCkgKiAwLjIyNzAyNjk5ODk5NjczNDYxOTE0MDYyNTsKICAgIGhpZ2hwIGZsb2F0IHdlaWdodCA9IDAuMjI3MDI2OTk4OTk2NzM0NjE5MTQwNjI1OwogICAgaGlnaHAgZmxvYXQgXzE2NyA9IGRvQmx1cigwLjE5NDU5NDYwNjc1NzE2NDAwMTQ2NDg0Mzc1LCAxLCBub3IsIHRleENvb3JkKTsKICAgIHdlaWdodCArPSBfMTY3OwogICAgaGlnaHAgZmxvYXQgXzE3NCA9IGRvQmx1cigwLjEyMTYyMTYwMTI4MzU1MDI2MjQ1MTE3MTg3NSwgMiwgbm9yLCB0ZXhDb29yZCk7CiAgICB3ZWlnaHQgKz0gXzE3NDsKICAgIGhpZ2hwIGZsb2F0IF8xODEgPSBkb0JsdXIoMC4wNTQwNTM5OTk0ODM1ODUzNTc2NjYwMTU2MjUsIDMsIG5vciwgdGV4Q29vcmQpOwogICAgd2VpZ2h0ICs9IF8xODE7CiAgICBoaWdocCBmbG9hdCBfMTg4ID0gZG9CbHVyKDAuMDE2MjE2MDAwNTQyMDQ0NjM5NTg3NDAyMzQzNzUsIDQsIG5vciwgdGV4Q29vcmQpOwogICAgd2VpZ2h0ICs9IF8xODg7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KGZyYWdDb2xvciAvIHZlYzQod2VpZ2h0KSk7Cn0KCg";kha_Shaders.ssgi_blur_pass_fragData1="s2634:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIGdidWZmZXIwOwp1bmlmb3JtIHZlYzIgZGlySW52Owp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKCm91dCB2ZWM0IGZyYWdDb2xvcjsKaW4gdmVjMiB0ZXhDb29yZDsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKdmVjMyBnZXROb3IodmVjMiBlbmMpCnsKICAgIHZlYzMgbjsKICAgIG4ueiA9ICgxLjAgLSBhYnMoZW5jLngpKSAtIGFicyhlbmMueSk7CiAgICB2ZWMyIF82MTsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF82MSA9IGVuYzsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNjEgPSBvY3RhaGVkcm9uV3JhcChlbmMpOwogICAgfQogICAgbiA9IHZlYzMoXzYxLngsIF82MS55LCBuLnopOwogICAgbiA9IG5vcm1hbGl6ZShuKTsKICAgIHJldHVybiBuOwp9CgpmbG9hdCBkb0JsdXIoZmxvYXQgYmx1cldlaWdodCwgaW50IHBvcywgdmVjMyBub3IsIHZlYzIgdGV4Q29vcmRfMSkKewogICAgZmxvYXQgcG9zYWRkID0gZmxvYXQocG9zKSArIDAuNTsKICAgIHZlYzMgbm9yMiA9IGdldE5vcih0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZF8xICsgKGRpckludiAqIGZsb2F0KHBvcykpKS54eSk7CiAgICBmbG9hdCBpbmZsdWVuY2VGYWN0b3IgPSBzdGVwKDAuOTQ5OTk5OTg4MDc5MDcxMDQ0OTIxODc1LCBkb3Qobm9yMiwgbm9yKSk7CiAgICB2ZWM0IGNvbCA9IHRleHR1cmUodGV4LCB0ZXhDb29yZF8xICsgKGRpckludiAqIHBvc2FkZCkpOwogICAgZnJhZ0NvbG9yICs9ICgoY29sICogYmx1cldlaWdodCkgKiBpbmZsdWVuY2VGYWN0b3IpOwogICAgZmxvYXQgd2VpZ2h0ID0gYmx1cldlaWdodCAqIGluZmx1ZW5jZUZhY3RvcjsKICAgIG5vcjIgPSBnZXROb3IodGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmRfMSAtIChkaXJJbnYgKiBmbG9hdChwb3MpKSkueHkpOwogICAgaW5mbHVlbmNlRmFjdG9yID0gc3RlcCgwLjk0OTk5OTk4ODA3OTA3MTA0NDkyMTg3NSwgZG90KG5vcjIsIG5vcikpOwogICAgY29sID0gdGV4dHVyZSh0ZXgsIHRleENvb3JkXzEgLSAoZGlySW52ICogcG9zYWRkKSk7CiAgICBmcmFnQ29sb3IgKz0gKChjb2wgKiBibHVyV2VpZ2h0KSAqIGluZmx1ZW5jZUZhY3Rvcik7CiAgICB3ZWlnaHQgKz0gKGJsdXJXZWlnaHQgKiBpbmZsdWVuY2VGYWN0b3IpOwogICAgcmV0dXJuIHdlaWdodDsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjMyBub3IgPSBnZXROb3IodGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmQpLnh5KTsKICAgIGZyYWdDb2xvciA9IHRleHR1cmUodGV4LCB0ZXhDb29yZCkgKiAwLjIyNzAyNjk5ODk5NjczNDYxOTE0MDYyNTsKICAgIGZsb2F0IHdlaWdodCA9IDAuMjI3MDI2OTk4OTk2NzM0NjE5MTQwNjI1OwogICAgZmxvYXQgXzE2NyA9IGRvQmx1cigwLjE5NDU5NDYwNjc1NzE2NDAwMTQ2NDg0Mzc1LCAxLCBub3IsIHRleENvb3JkKTsKICAgIHdlaWdodCArPSBfMTY3OwogICAgZmxvYXQgXzE3NCA9IGRvQmx1cigwLjEyMTYyMTYwMTI4MzU1MDI2MjQ1MTE3MTg3NSwgMiwgbm9yLCB0ZXhDb29yZCk7CiAgICB3ZWlnaHQgKz0gXzE3NDsKICAgIGZsb2F0IF8xODEgPSBkb0JsdXIoMC4wNTQwNTM5OTk0ODM1ODUzNTc2NjYwMTU2MjUsIDMsIG5vciwgdGV4Q29vcmQpOwogICAgd2VpZ2h0ICs9IF8xODE7CiAgICBmbG9hdCBfMTg4ID0gZG9CbHVyKDAuMDE2MjE2MDAwNTQyMDQ0NjM5NTg3NDAyMzQzNzUsIDQsIG5vciwgdGV4Q29vcmQpOwogICAgd2VpZ2h0ICs9IF8xODg7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KGZyYWdDb2xvciAvIHZlYzQod2VpZ2h0KSk7Cn0KCg";kha_Shaders.ssgi_blur_pass_fragData2="s2818:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gaGlnaHAgdmVjMiBkaXJJbnY7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHRleDsKCm91dCBoaWdocCB2ZWM0IGZyYWdDb2xvcjsKaW4gaGlnaHAgdmVjMiB0ZXhDb29yZDsKCmhpZ2hwIHZlYzIgb2N0YWhlZHJvbldyYXAoaGlnaHAgdmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKaGlnaHAgdmVjMyBnZXROb3IoaGlnaHAgdmVjMiBlbmMpCnsKICAgIGhpZ2hwIHZlYzMgbjsKICAgIG4ueiA9ICgxLjAgLSBhYnMoZW5jLngpKSAtIGFicyhlbmMueSk7CiAgICBoaWdocCB2ZWMyIF82MTsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF82MSA9IGVuYzsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNjEgPSBvY3RhaGVkcm9uV3JhcChlbmMpOwogICAgfQogICAgbiA9IHZlYzMoXzYxLngsIF82MS55LCBuLnopOwogICAgbiA9IG5vcm1hbGl6ZShuKTsKICAgIHJldHVybiBuOwp9CgpoaWdocCBmbG9hdCBkb0JsdXIoaGlnaHAgZmxvYXQgYmx1cldlaWdodCwgaW50IHBvcywgaGlnaHAgdmVjMyBub3IsIGhpZ2hwIHZlYzIgdGV4Q29vcmRfMSkKewogICAgaGlnaHAgZmxvYXQgcG9zYWRkID0gZmxvYXQocG9zKSArIDAuNTsKICAgIGhpZ2hwIHZlYzMgbm9yMiA9IGdldE5vcih0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZF8xICsgKGRpckludiAqIGZsb2F0KHBvcykpKS54eSk7CiAgICBoaWdocCBmbG9hdCBpbmZsdWVuY2VGYWN0b3IgPSBzdGVwKDAuOTQ5OTk5OTg4MDc5MDcxMDQ0OTIxODc1LCBkb3Qobm9yMiwgbm9yKSk7CiAgICBoaWdocCB2ZWM0IGNvbCA9IHRleHR1cmUodGV4LCB0ZXhDb29yZF8xICsgKGRpckludiAqIHBvc2FkZCkpOwogICAgZnJhZ0NvbG9yICs9ICgoY29sICogYmx1cldlaWdodCkgKiBpbmZsdWVuY2VGYWN0b3IpOwogICAgaGlnaHAgZmxvYXQgd2VpZ2h0ID0gYmx1cldlaWdodCAqIGluZmx1ZW5jZUZhY3RvcjsKICAgIG5vcjIgPSBnZXROb3IodGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmRfMSAtIChkaXJJbnYgKiBmbG9hdChwb3MpKSkueHkpOwogICAgaW5mbHVlbmNlRmFjdG9yID0gc3RlcCgwLjk0OTk5OTk4ODA3OTA3MTA0NDkyMTg3NSwgZG90KG5vcjIsIG5vcikpOwogICAgY29sID0gdGV4dHVyZSh0ZXgsIHRleENvb3JkXzEgLSAoZGlySW52ICogcG9zYWRkKSk7CiAgICBmcmFnQ29sb3IgKz0gKChjb2wgKiBibHVyV2VpZ2h0KSAqIGluZmx1ZW5jZUZhY3Rvcik7CiAgICB3ZWlnaHQgKz0gKGJsdXJXZWlnaHQgKiBpbmZsdWVuY2VGYWN0b3IpOwogICAgcmV0dXJuIHdlaWdodDsKfQoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjMyBub3IgPSBnZXROb3IodGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmQpLnh5KTsKICAgIGZyYWdDb2xvciA9IHRleHR1cmUodGV4LCB0ZXhDb29yZCkgKiAwLjIyNzAyNjk5ODk5NjczNDYxOTE0MDYyNTsKICAgIGhpZ2hwIGZsb2F0IHdlaWdodCA9IDAuMjI3MDI2OTk4OTk2NzM0NjE5MTQwNjI1OwogICAgaGlnaHAgZmxvYXQgXzE2NyA9IGRvQmx1cigwLjE5NDU5NDYwNjc1NzE2NDAwMTQ2NDg0Mzc1LCAxLCBub3IsIHRleENvb3JkKTsKICAgIHdlaWdodCArPSBfMTY3OwogICAgaGlnaHAgZmxvYXQgXzE3NCA9IGRvQmx1cigwLjEyMTYyMTYwMTI4MzU1MDI2MjQ1MTE3MTg3NSwgMiwgbm9yLCB0ZXhDb29yZCk7CiAgICB3ZWlnaHQgKz0gXzE3NDsKICAgIGhpZ2hwIGZsb2F0IF8xODEgPSBkb0JsdXIoMC4wNTQwNTM5OTk0ODM1ODUzNTc2NjYwMTU2MjUsIDMsIG5vciwgdGV4Q29vcmQpOwogICAgd2VpZ2h0ICs9IF8xODE7CiAgICBoaWdocCBmbG9hdCBfMTg4ID0gZG9CbHVyKDAuMDE2MjE2MDAwNTQyMDQ0NjM5NTg3NDAyMzQzNzUsIDQsIG5vciwgdGV4Q29vcmQpOwogICAgd2VpZ2h0ICs9IF8xODg7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KGZyYWdDb2xvciAvIHZlYzQod2VpZ2h0KSk7Cn0KCg";kha_Shaders.ssgi_pass_fragData0="s4580:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBtYXQ0IFA7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGdidWZmZXJEOwp1bmlmb3JtIGhpZ2hwIHZlYzIgY2FtZXJhUHJvajsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gaGlnaHAgbWF0NCB0aVY7CgppbiBoaWdocCB2ZWMzIHZpZXdSYXk7CmluIGhpZ2hwIHZlYzIgdGV4Q29vcmQ7Cm91dCBoaWdocCB2ZWM0IGZyYWdDb2xvcjsKaGlnaHAgZmxvYXQgb2NjOwpoaWdocCB2ZWMyIGNvb3JkOwpoaWdocCBmbG9hdCBkZXB0aDsKaGlnaHAgdmVjMyBoaXRDb29yZDsKaGlnaHAgdmVjMyB2cG9zOwoKdmVjMyBfMjAyOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCB2ZWMzIGdldFBvc1ZpZXcoaGlnaHAgdmVjMyB2aWV3UmF5XzEsIGhpZ2hwIGZsb2F0IGRlcHRoXzEsIGhpZ2hwIHZlYzIgY2FtZXJhUHJval8xKQp7CiAgICBoaWdocCBmbG9hdCBsaW5lYXJEZXB0aCA9IGNhbWVyYVByb2pfMS55IC8gKGNhbWVyYVByb2pfMS54IC0gZGVwdGhfMSk7CiAgICByZXR1cm4gdmlld1JheV8xICogbGluZWFyRGVwdGg7Cn0KCmhpZ2hwIHZlYzIgZ2V0UHJvamVjdGVkQ29vcmQoaGlnaHAgdmVjMyBoaXRDb29yZF8xKQp7CiAgICBoaWdocCB2ZWM0IHByb2plY3RlZENvb3JkID0gUCAqIHZlYzQoaGl0Q29vcmRfMSwgMS4wKTsKICAgIGhpZ2hwIHZlYzIgXzg4ID0gcHJvamVjdGVkQ29vcmQueHkgLyB2ZWMyKHByb2plY3RlZENvb3JkLncpOwogICAgcHJvamVjdGVkQ29vcmQgPSB2ZWM0KF84OC54LCBfODgueSwgcHJvamVjdGVkQ29vcmQueiwgcHJvamVjdGVkQ29vcmQudyk7CiAgICBoaWdocCB2ZWMyIF85NiA9IChwcm9qZWN0ZWRDb29yZC54eSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBwcm9qZWN0ZWRDb29yZCA9IHZlYzQoXzk2LngsIF85Ni55LCBwcm9qZWN0ZWRDb29yZC56LCBwcm9qZWN0ZWRDb29yZC53KTsKICAgIHJldHVybiBwcm9qZWN0ZWRDb29yZC54eTsKfQoKaGlnaHAgZmxvYXQgZ2V0RGVsdGFEZXB0aChoaWdocCB2ZWMzIGhpdENvb3JkXzEpCnsKICAgIGhpZ2hwIHZlYzMgcGFyYW0gPSBoaXRDb29yZF8xOwogICAgY29vcmQgPSBnZXRQcm9qZWN0ZWRDb29yZChwYXJhbSk7CiAgICBkZXB0aCA9ICh0ZXh0dXJlKGdidWZmZXJELCBjb29yZCkueCAqIDIuMCkgLSAxLjA7CiAgICBoaWdocCB2ZWMzIHAgPSBnZXRQb3NWaWV3KHZpZXdSYXksIGRlcHRoLCBjYW1lcmFQcm9qKTsKICAgIHJldHVybiBwLnogLSBoaXRDb29yZF8xLno7Cn0KCnZvaWQgcmF5Q2FzdChpbm91dCBoaWdocCB2ZWMzIGRpcikKewogICAgaGl0Q29vcmQgPSB2cG9zOwogICAgZGlyICo9IDAuMDA5OTk5OTk5Nzc2NDgyNTgyMDkyMjg1MTU2MjU7CiAgICBoaWdocCBmbG9hdCBkaXN0ID0gMC4yMDAwMDAwMDI5ODAyMzIyMzg3Njk1MzEyNTsKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgODsgaSsrKQogICAgewogICAgICAgIGhpdENvb3JkICs9IGRpcjsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtID0gaGl0Q29vcmQ7CiAgICAgICAgaGlnaHAgZmxvYXQgXzE2NCA9IGdldERlbHRhRGVwdGgocGFyYW0pOwogICAgICAgIGhpZ2hwIGZsb2F0IGRlbHRhID0gXzE2NDsKICAgICAgICBpZiAoKGRlbHRhID4gMC4wKSAmJiAoZGVsdGEgPCAwLjIwMDAwMDAwMjk4MDIzMjIzODc2OTUzMTI1KSkKICAgICAgICB7CiAgICAgICAgICAgIGRpc3QgPSBkaXN0YW5jZSh2cG9zLCBoaXRDb29yZCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0KICAgIG9jYyArPSBkaXN0Owp9CgpoaWdocCB2ZWMzIHRhbmdlbnQoaGlnaHAgdmVjMyBuKQp7CiAgICBoaWdocCB2ZWMzIHQxID0gY3Jvc3MobiwgdmVjMygwLjAsIDAuMCwgMS4wKSk7CiAgICBoaWdocCB2ZWMzIHQyID0gY3Jvc3MobiwgdmVjMygwLjAsIDEuMCwgMC4wKSk7CiAgICBpZiAobGVuZ3RoKHQxKSA%IGxlbmd0aCh0MikpCiAgICB7CiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZSh0MSk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZSh0Mik7CiAgICB9Cn0KCnZvaWQgbWFpbigpCnsKICAgIG9jYyA9IDAuMDsKICAgIGhpZ2hwIHZlYzQgZzAgPSB0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZCk7CiAgICBoaWdocCBmbG9hdCBkID0gKHRleHR1cmUoZ2J1ZmZlckQsIHRleENvb3JkKS54ICogMi4wKSAtIDEuMDsKICAgIGhpZ2hwIHZlYzIgZW5jID0gZzAueHk7CiAgICBoaWdocCB2ZWM0IG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGVuYy54KSkgLSBhYnMoZW5jLnkpOwogICAgaGlnaHAgdmVjMiBfMjM0OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzIzNCA9IGVuYzsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMjM0ID0gb2N0YWhlZHJvbldyYXAoZW5jKTsKICAgIH0KICAgIG4gPSB2ZWM0KF8yMzQueCwgXzIzNC55LCBuLnosIG4udyk7CiAgICBoaWdocCB2ZWMzIF8yNDYgPSBub3JtYWxpemUobi54eXopOwogICAgbiA9IHZlYzQoXzI0Ni54LCBfMjQ2LnksIF8yNDYueiwgbi53KTsKICAgIG4udyA9IDEuMDsKICAgIG4gPSB0aVYgKiBuOwogICAgaGlnaHAgdmVjMyBfMjU2ID0gbm9ybWFsaXplKG4ueHl6KTsKICAgIG4gPSB2ZWM0KF8yNTYueCwgXzI1Ni55LCBfMjU2LnosIG4udyk7CiAgICB2cG9zID0gZ2V0UG9zVmlldyh2aWV3UmF5LCBkLCBjYW1lcmFQcm9qKTsKICAgIGhpZ2hwIHZlYzMgcGFyYW0gPSBuLnh5ejsKICAgIHJheUNhc3QocGFyYW0pOwogICAgaGlnaHAgdmVjMyBvMSA9IG5vcm1hbGl6ZSh0YW5nZW50KG4ueHl6KSk7CiAgICBoaWdocCB2ZWMzIG8yID0gbm9ybWFsaXplKGNyb3NzKG8xLCBuLnh5eikpOwogICAgaGlnaHAgdmVjMyBjMSA9IChvMSArIG8yKSAqIDAuNTsKICAgIGhpZ2hwIHZlYzMgYzIgPSAobzEgLSBvMikgKiAwLjU7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzEgPSBtaXgobi54eXosIG8xLCB2ZWMzKDAuNSkpOwogICAgcmF5Q2FzdChwYXJhbV8xKTsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fMiA9IG1peChuLnh5eiwgbzIsIHZlYzMoMC41KSk7CiAgICByYXlDYXN0KHBhcmFtXzIpOwogICAgaGlnaHAgdmVjMyBwYXJhbV8zID0gbWl4KG4ueHl6LCAtYzEsIHZlYzMoMC41KSk7CiAgICByYXlDYXN0KHBhcmFtXzMpOwogICAgaGlnaHAgdmVjMyBwYXJhbV80ID0gbWl4KG4ueHl6LCAtYzIsIHZlYzMoMC41KSk7CiAgICByYXlDYXN0KHBhcmFtXzQpOwogICAgZnJhZ0NvbG9yLnggPSBvY2MgKiAzLjU5OTk5OTkwNDYzMjU2ODM1OTM3NTsKfQoK";kha_Shaders.ssgi_pass_fragData1="s4172:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1hdDQgUDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBnYnVmZmVyRDsKdW5pZm9ybSB2ZWMyIGNhbWVyYVByb2o7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gbWF0NCB0aVY7CgppbiB2ZWMzIHZpZXdSYXk7CmluIHZlYzIgdGV4Q29vcmQ7Cm91dCB2ZWM0IGZyYWdDb2xvcjsKZmxvYXQgb2NjOwp2ZWMyIGNvb3JkOwpmbG9hdCBkZXB0aDsKdmVjMyBoaXRDb29yZDsKdmVjMyB2cG9zOwoKdmVjMyBfMjAyOwoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9Cgp2ZWMzIGdldFBvc1ZpZXcodmVjMyB2aWV3UmF5XzEsIGZsb2F0IGRlcHRoXzEsIHZlYzIgY2FtZXJhUHJval8xKQp7CiAgICBmbG9hdCBsaW5lYXJEZXB0aCA9IGNhbWVyYVByb2pfMS55IC8gKGNhbWVyYVByb2pfMS54IC0gZGVwdGhfMSk7CiAgICByZXR1cm4gdmlld1JheV8xICogbGluZWFyRGVwdGg7Cn0KCnZlYzIgZ2V0UHJvamVjdGVkQ29vcmQodmVjMyBoaXRDb29yZF8xKQp7CiAgICB2ZWM0IHByb2plY3RlZENvb3JkID0gUCAqIHZlYzQoaGl0Q29vcmRfMSwgMS4wKTsKICAgIHZlYzIgXzg4ID0gcHJvamVjdGVkQ29vcmQueHkgLyB2ZWMyKHByb2plY3RlZENvb3JkLncpOwogICAgcHJvamVjdGVkQ29vcmQgPSB2ZWM0KF84OC54LCBfODgueSwgcHJvamVjdGVkQ29vcmQueiwgcHJvamVjdGVkQ29vcmQudyk7CiAgICB2ZWMyIF85NiA9IChwcm9qZWN0ZWRDb29yZC54eSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBwcm9qZWN0ZWRDb29yZCA9IHZlYzQoXzk2LngsIF85Ni55LCBwcm9qZWN0ZWRDb29yZC56LCBwcm9qZWN0ZWRDb29yZC53KTsKICAgIHJldHVybiBwcm9qZWN0ZWRDb29yZC54eTsKfQoKZmxvYXQgZ2V0RGVsdGFEZXB0aCh2ZWMzIGhpdENvb3JkXzEpCnsKICAgIHZlYzMgcGFyYW0gPSBoaXRDb29yZF8xOwogICAgY29vcmQgPSBnZXRQcm9qZWN0ZWRDb29yZChwYXJhbSk7CiAgICBkZXB0aCA9ICh0ZXh0dXJlKGdidWZmZXJELCBjb29yZCkueCAqIDIuMCkgLSAxLjA7CiAgICB2ZWMzIHAgPSBnZXRQb3NWaWV3KHZpZXdSYXksIGRlcHRoLCBjYW1lcmFQcm9qKTsKICAgIHJldHVybiBwLnogLSBoaXRDb29yZF8xLno7Cn0KCnZvaWQgcmF5Q2FzdChpbm91dCB2ZWMzIGRpcikKewogICAgaGl0Q29vcmQgPSB2cG9zOwogICAgZGlyICo9IDAuMDA5OTk5OTk5Nzc2NDgyNTgyMDkyMjg1MTU2MjU7CiAgICBmbG9hdCBkaXN0ID0gMC4yMDAwMDAwMDI5ODAyMzIyMzg3Njk1MzEyNTsKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgODsgaSsrKQogICAgewogICAgICAgIGhpdENvb3JkICs9IGRpcjsKICAgICAgICB2ZWMzIHBhcmFtID0gaGl0Q29vcmQ7CiAgICAgICAgZmxvYXQgXzE2NCA9IGdldERlbHRhRGVwdGgocGFyYW0pOwogICAgICAgIGZsb2F0IGRlbHRhID0gXzE2NDsKICAgICAgICBpZiAoKGRlbHRhID4gMC4wKSAmJiAoZGVsdGEgPCAwLjIwMDAwMDAwMjk4MDIzMjIzODc2OTUzMTI1KSkKICAgICAgICB7CiAgICAgICAgICAgIGRpc3QgPSBkaXN0YW5jZSh2cG9zLCBoaXRDb29yZCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0KICAgIG9jYyArPSBkaXN0Owp9Cgp2ZWMzIHRhbmdlbnQodmVjMyBuKQp7CiAgICB2ZWMzIHQxID0gY3Jvc3MobiwgdmVjMygwLjAsIDAuMCwgMS4wKSk7CiAgICB2ZWMzIHQyID0gY3Jvc3MobiwgdmVjMygwLjAsIDEuMCwgMC4wKSk7CiAgICBpZiAobGVuZ3RoKHQxKSA%IGxlbmd0aCh0MikpCiAgICB7CiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZSh0MSk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZSh0Mik7CiAgICB9Cn0KCnZvaWQgbWFpbigpCnsKICAgIG9jYyA9IDAuMDsKICAgIHZlYzQgZzAgPSB0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZCk7CiAgICBmbG9hdCBkID0gKHRleHR1cmUoZ2J1ZmZlckQsIHRleENvb3JkKS54ICogMi4wKSAtIDEuMDsKICAgIHZlYzIgZW5jID0gZzAueHk7CiAgICB2ZWM0IG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGVuYy54KSkgLSBhYnMoZW5jLnkpOwogICAgdmVjMiBfMjM0OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzIzNCA9IGVuYzsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMjM0ID0gb2N0YWhlZHJvbldyYXAoZW5jKTsKICAgIH0KICAgIG4gPSB2ZWM0KF8yMzQueCwgXzIzNC55LCBuLnosIG4udyk7CiAgICB2ZWMzIF8yNDYgPSBub3JtYWxpemUobi54eXopOwogICAgbiA9IHZlYzQoXzI0Ni54LCBfMjQ2LnksIF8yNDYueiwgbi53KTsKICAgIG4udyA9IDEuMDsKICAgIG4gPSB0aVYgKiBuOwogICAgdmVjMyBfMjU2ID0gbm9ybWFsaXplKG4ueHl6KTsKICAgIG4gPSB2ZWM0KF8yNTYueCwgXzI1Ni55LCBfMjU2LnosIG4udyk7CiAgICB2cG9zID0gZ2V0UG9zVmlldyh2aWV3UmF5LCBkLCBjYW1lcmFQcm9qKTsKICAgIHZlYzMgcGFyYW0gPSBuLnh5ejsKICAgIHJheUNhc3QocGFyYW0pOwogICAgdmVjMyBvMSA9IG5vcm1hbGl6ZSh0YW5nZW50KG4ueHl6KSk7CiAgICB2ZWMzIG8yID0gbm9ybWFsaXplKGNyb3NzKG8xLCBuLnh5eikpOwogICAgdmVjMyBjMSA9IChvMSArIG8yKSAqIDAuNTsKICAgIHZlYzMgYzIgPSAobzEgLSBvMikgKiAwLjU7CiAgICB2ZWMzIHBhcmFtXzEgPSBtaXgobi54eXosIG8xLCB2ZWMzKDAuNSkpOwogICAgcmF5Q2FzdChwYXJhbV8xKTsKICAgIHZlYzMgcGFyYW1fMiA9IG1peChuLnh5eiwgbzIsIHZlYzMoMC41KSk7CiAgICByYXlDYXN0KHBhcmFtXzIpOwogICAgdmVjMyBwYXJhbV8zID0gbWl4KG4ueHl6LCAtYzEsIHZlYzMoMC41KSk7CiAgICByYXlDYXN0KHBhcmFtXzMpOwogICAgdmVjMyBwYXJhbV80ID0gbWl4KG4ueHl6LCAtYzIsIHZlYzMoMC41KSk7CiAgICByYXlDYXN0KHBhcmFtXzQpOwogICAgZnJhZ0NvbG9yLnggPSBvY2MgKiAzLjU5OTk5OTkwNDYzMjU2ODM1OTM3NTsKfQoK";kha_Shaders.ssgi_pass_fragData2="s4580:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBtYXQ0IFA7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGdidWZmZXJEOwp1bmlmb3JtIGhpZ2hwIHZlYzIgY2FtZXJhUHJvajsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gaGlnaHAgbWF0NCB0aVY7CgppbiBoaWdocCB2ZWMzIHZpZXdSYXk7CmluIGhpZ2hwIHZlYzIgdGV4Q29vcmQ7Cm91dCBoaWdocCB2ZWM0IGZyYWdDb2xvcjsKaGlnaHAgZmxvYXQgb2NjOwpoaWdocCB2ZWMyIGNvb3JkOwpoaWdocCBmbG9hdCBkZXB0aDsKaGlnaHAgdmVjMyBoaXRDb29yZDsKaGlnaHAgdmVjMyB2cG9zOwoKdmVjMyBfMjAyOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCB2ZWMzIGdldFBvc1ZpZXcoaGlnaHAgdmVjMyB2aWV3UmF5XzEsIGhpZ2hwIGZsb2F0IGRlcHRoXzEsIGhpZ2hwIHZlYzIgY2FtZXJhUHJval8xKQp7CiAgICBoaWdocCBmbG9hdCBsaW5lYXJEZXB0aCA9IGNhbWVyYVByb2pfMS55IC8gKGNhbWVyYVByb2pfMS54IC0gZGVwdGhfMSk7CiAgICByZXR1cm4gdmlld1JheV8xICogbGluZWFyRGVwdGg7Cn0KCmhpZ2hwIHZlYzIgZ2V0UHJvamVjdGVkQ29vcmQoaGlnaHAgdmVjMyBoaXRDb29yZF8xKQp7CiAgICBoaWdocCB2ZWM0IHByb2plY3RlZENvb3JkID0gUCAqIHZlYzQoaGl0Q29vcmRfMSwgMS4wKTsKICAgIGhpZ2hwIHZlYzIgXzg4ID0gcHJvamVjdGVkQ29vcmQueHkgLyB2ZWMyKHByb2plY3RlZENvb3JkLncpOwogICAgcHJvamVjdGVkQ29vcmQgPSB2ZWM0KF84OC54LCBfODgueSwgcHJvamVjdGVkQ29vcmQueiwgcHJvamVjdGVkQ29vcmQudyk7CiAgICBoaWdocCB2ZWMyIF85NiA9IChwcm9qZWN0ZWRDb29yZC54eSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBwcm9qZWN0ZWRDb29yZCA9IHZlYzQoXzk2LngsIF85Ni55LCBwcm9qZWN0ZWRDb29yZC56LCBwcm9qZWN0ZWRDb29yZC53KTsKICAgIHJldHVybiBwcm9qZWN0ZWRDb29yZC54eTsKfQoKaGlnaHAgZmxvYXQgZ2V0RGVsdGFEZXB0aChoaWdocCB2ZWMzIGhpdENvb3JkXzEpCnsKICAgIGhpZ2hwIHZlYzMgcGFyYW0gPSBoaXRDb29yZF8xOwogICAgY29vcmQgPSBnZXRQcm9qZWN0ZWRDb29yZChwYXJhbSk7CiAgICBkZXB0aCA9ICh0ZXh0dXJlKGdidWZmZXJELCBjb29yZCkueCAqIDIuMCkgLSAxLjA7CiAgICBoaWdocCB2ZWMzIHAgPSBnZXRQb3NWaWV3KHZpZXdSYXksIGRlcHRoLCBjYW1lcmFQcm9qKTsKICAgIHJldHVybiBwLnogLSBoaXRDb29yZF8xLno7Cn0KCnZvaWQgcmF5Q2FzdChpbm91dCBoaWdocCB2ZWMzIGRpcikKewogICAgaGl0Q29vcmQgPSB2cG9zOwogICAgZGlyICo9IDAuMDA5OTk5OTk5Nzc2NDgyNTgyMDkyMjg1MTU2MjU7CiAgICBoaWdocCBmbG9hdCBkaXN0ID0gMC4yMDAwMDAwMDI5ODAyMzIyMzg3Njk1MzEyNTsKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgODsgaSsrKQogICAgewogICAgICAgIGhpdENvb3JkICs9IGRpcjsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtID0gaGl0Q29vcmQ7CiAgICAgICAgaGlnaHAgZmxvYXQgXzE2NCA9IGdldERlbHRhRGVwdGgocGFyYW0pOwogICAgICAgIGhpZ2hwIGZsb2F0IGRlbHRhID0gXzE2NDsKICAgICAgICBpZiAoKGRlbHRhID4gMC4wKSAmJiAoZGVsdGEgPCAwLjIwMDAwMDAwMjk4MDIzMjIzODc2OTUzMTI1KSkKICAgICAgICB7CiAgICAgICAgICAgIGRpc3QgPSBkaXN0YW5jZSh2cG9zLCBoaXRDb29yZCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0KICAgIG9jYyArPSBkaXN0Owp9CgpoaWdocCB2ZWMzIHRhbmdlbnQoaGlnaHAgdmVjMyBuKQp7CiAgICBoaWdocCB2ZWMzIHQxID0gY3Jvc3MobiwgdmVjMygwLjAsIDAuMCwgMS4wKSk7CiAgICBoaWdocCB2ZWMzIHQyID0gY3Jvc3MobiwgdmVjMygwLjAsIDEuMCwgMC4wKSk7CiAgICBpZiAobGVuZ3RoKHQxKSA%IGxlbmd0aCh0MikpCiAgICB7CiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZSh0MSk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZSh0Mik7CiAgICB9Cn0KCnZvaWQgbWFpbigpCnsKICAgIG9jYyA9IDAuMDsKICAgIGhpZ2hwIHZlYzQgZzAgPSB0ZXh0dXJlKGdidWZmZXIwLCB0ZXhDb29yZCk7CiAgICBoaWdocCBmbG9hdCBkID0gKHRleHR1cmUoZ2J1ZmZlckQsIHRleENvb3JkKS54ICogMi4wKSAtIDEuMDsKICAgIGhpZ2hwIHZlYzIgZW5jID0gZzAueHk7CiAgICBoaWdocCB2ZWM0IG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGVuYy54KSkgLSBhYnMoZW5jLnkpOwogICAgaGlnaHAgdmVjMiBfMjM0OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzIzNCA9IGVuYzsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMjM0ID0gb2N0YWhlZHJvbldyYXAoZW5jKTsKICAgIH0KICAgIG4gPSB2ZWM0KF8yMzQueCwgXzIzNC55LCBuLnosIG4udyk7CiAgICBoaWdocCB2ZWMzIF8yNDYgPSBub3JtYWxpemUobi54eXopOwogICAgbiA9IHZlYzQoXzI0Ni54LCBfMjQ2LnksIF8yNDYueiwgbi53KTsKICAgIG4udyA9IDEuMDsKICAgIG4gPSB0aVYgKiBuOwogICAgaGlnaHAgdmVjMyBfMjU2ID0gbm9ybWFsaXplKG4ueHl6KTsKICAgIG4gPSB2ZWM0KF8yNTYueCwgXzI1Ni55LCBfMjU2LnosIG4udyk7CiAgICB2cG9zID0gZ2V0UG9zVmlldyh2aWV3UmF5LCBkLCBjYW1lcmFQcm9qKTsKICAgIGhpZ2hwIHZlYzMgcGFyYW0gPSBuLnh5ejsKICAgIHJheUNhc3QocGFyYW0pOwogICAgaGlnaHAgdmVjMyBvMSA9IG5vcm1hbGl6ZSh0YW5nZW50KG4ueHl6KSk7CiAgICBoaWdocCB2ZWMzIG8yID0gbm9ybWFsaXplKGNyb3NzKG8xLCBuLnh5eikpOwogICAgaGlnaHAgdmVjMyBjMSA9IChvMSArIG8yKSAqIDAuNTsKICAgIGhpZ2hwIHZlYzMgYzIgPSAobzEgLSBvMikgKiAwLjU7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzEgPSBtaXgobi54eXosIG8xLCB2ZWMzKDAuNSkpOwogICAgcmF5Q2FzdChwYXJhbV8xKTsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fMiA9IG1peChuLnh5eiwgbzIsIHZlYzMoMC41KSk7CiAgICByYXlDYXN0KHBhcmFtXzIpOwogICAgaGlnaHAgdmVjMyBwYXJhbV8zID0gbWl4KG4ueHl6LCAtYzEsIHZlYzMoMC41KSk7CiAgICByYXlDYXN0KHBhcmFtXzMpOwogICAgaGlnaHAgdmVjMyBwYXJhbV80ID0gbWl4KG4ueHl6LCAtYzIsIHZlYzMoMC41KSk7CiAgICByYXlDYXN0KHBhcmFtXzQpOwogICAgZnJhZ0NvbG9yLnggPSBvY2MgKiAzLjU5OTk5OTkwNDYzMjU2ODM1OTM3NTsKfQoK";kha_Shaders.ssr_pass_fragData0="s13127:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBtYXQ0IFA7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGdidWZmZXJEOwp1bmlmb3JtIGhpZ2hwIHZlYzIgY2FtZXJhUHJvajsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGdidWZmZXIxOwp1bmlmb3JtIGhpZ2hwIG1hdDQgdGlWOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCB0ZXg7CgppbiBoaWdocCB2ZWMzIHZpZXdSYXk7CmluIGhpZ2hwIHZlYzIgdGV4Q29vcmQ7Cm91dCBoaWdocCB2ZWM0IGZyYWdDb2xvcjsKaGlnaHAgZmxvYXQgZGVwdGg7CmhpZ2hwIHZlYzMgaGl0Q29vcmQ7CgpoaWdocCB2ZWMyIHVucGFja0Zsb2F0KGhpZ2hwIGZsb2F0IGYpCnsKICAgIHJldHVybiB2ZWMyKGZsb29yKGYpIC8gMTAwLjAsIGZyYWN0KGYpKTsKfQoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCB2ZWMzIGdldFBvc1ZpZXcoaGlnaHAgdmVjMyB2aWV3UmF5XzEsIGhpZ2hwIGZsb2F0IGRlcHRoXzEsIGhpZ2hwIHZlYzIgY2FtZXJhUHJval8xKQp7CiAgICBoaWdocCBmbG9hdCBsaW5lYXJEZXB0aCA9IGNhbWVyYVByb2pfMS55IC8gKGNhbWVyYVByb2pfMS54IC0gZGVwdGhfMSk7CiAgICByZXR1cm4gdmlld1JheV8xICogbGluZWFyRGVwdGg7Cn0KCmhpZ2hwIGZsb2F0IHJhbmQoaGlnaHAgdmVjMiBjbykKewogICAgcmV0dXJuIGZyYWN0KHNpbihkb3QoY28sIHZlYzIoMTIuOTg5ODAwNDUzMTg2MDM1MTU2MjUsIDc4LjIzMzAwMTcwODk4NDM3NSkpKSAqIDQzNzU4LjU0Njg3NSk7Cn0KCmhpZ2hwIHZlYzIgZ2V0UHJvamVjdGVkQ29vcmQoaGlnaHAgdmVjMyBoaXRDb29yZF8xKQp7CiAgICBoaWdocCB2ZWM0IHByb2plY3RlZENvb3JkID0gUCAqIHZlYzQoaGl0Q29vcmRfMSwgMS4wKTsKICAgIGhpZ2hwIHZlYzIgXzExMCA9IHByb2plY3RlZENvb3JkLnh5IC8gdmVjMihwcm9qZWN0ZWRDb29yZC53KTsKICAgIHByb2plY3RlZENvb3JkID0gdmVjNChfMTEwLngsIF8xMTAueSwgcHJvamVjdGVkQ29vcmQueiwgcHJvamVjdGVkQ29vcmQudyk7CiAgICBoaWdocCB2ZWMyIF8xMTggPSAocHJvamVjdGVkQ29vcmQueHkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgcHJvamVjdGVkQ29vcmQgPSB2ZWM0KF8xMTgueCwgXzExOC55LCBwcm9qZWN0ZWRDb29yZC56LCBwcm9qZWN0ZWRDb29yZC53KTsKICAgIHJldHVybiBwcm9qZWN0ZWRDb29yZC54eTsKfQoKaGlnaHAgZmxvYXQgZ2V0RGVsdGFEZXB0aChoaWdocCB2ZWMzIGhpdENvb3JkXzEpCnsKICAgIGhpZ2hwIHZlYzMgcGFyYW0gPSBoaXRDb29yZF8xOwogICAgZGVwdGggPSAodGV4dHVyZShnYnVmZmVyRCwgZ2V0UHJvamVjdGVkQ29vcmQocGFyYW0pKS54ICogMi4wKSAtIDEuMDsKICAgIGhpZ2hwIHZlYzMgdmlld1BvcyA9IGdldFBvc1ZpZXcodmlld1JheSwgZGVwdGgsIGNhbWVyYVByb2opOwogICAgcmV0dXJuIHZpZXdQb3MueiAtIGhpdENvb3JkXzEuejsKfQoKaGlnaHAgdmVjNCBiaW5hcnlTZWFyY2goaW5vdXQgaGlnaHAgdmVjMyBkaXIpCnsKICAgIGRpciAqPSAwLjU7CiAgICBoaXRDb29yZCAtPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMTY2ID0gZ2V0RGVsdGFEZXB0aChwYXJhbSk7CiAgICBpZiAoXzE2NiA8IDAuMCkKICAgIHsKICAgICAgICBoaXRDb29yZCArPSBkaXI7CiAgICB9CiAgICBkaXIgKj0gMC41OwogICAgaGl0Q29vcmQgLT0gZGlyOwogICAgaGlnaHAgdmVjMyBwYXJhbV8xID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMTgwID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8xKTsKICAgIGlmIChfMTgwIDwgMC4wKQogICAgewogICAgICAgIGhpdENvb3JkICs9IGRpcjsKICAgIH0KICAgIGRpciAqPSAwLjU7CiAgICBoaXRDb29yZCAtPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzIgPSBoaXRDb29yZDsKICAgIGhpZ2hwIGZsb2F0IF8xOTQgPSBnZXREZWx0YURlcHRoKHBhcmFtXzIpOwogICAgaWYgKF8xOTQgPCAwLjApCiAgICB7CiAgICAgICAgaGl0Q29vcmQgKz0gZGlyOwogICAgfQogICAgZGlyICo9IDAuNTsKICAgIGhpdENvb3JkIC09IGRpcjsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fMyA9IGhpdENvb3JkOwogICAgaGlnaHAgZmxvYXQgXzIwOCA9IGdldERlbHRhRGVwdGgocGFyYW1fMyk7CiAgICBpZiAoXzIwOCA8IDAuMCkKICAgIHsKICAgICAgICBoaXRDb29yZCArPSBkaXI7CiAgICB9CiAgICBkaXIgKj0gMC41OwogICAgaGl0Q29vcmQgLT0gZGlyOwogICAgaGlnaHAgdmVjMyBwYXJhbV80ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMjIyID0gZ2V0RGVsdGFEZXB0aChwYXJhbV80KTsKICAgIGlmIChfMjIyIDwgMC4wKQogICAgewogICAgICAgIGhpdENvb3JkICs9IGRpcjsKICAgIH0KICAgIGRpciAqPSAwLjU7CiAgICBoaXRDb29yZCAtPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzUgPSBoaXRDb29yZDsKICAgIGhpZ2hwIGZsb2F0IF8yMzYgPSBnZXREZWx0YURlcHRoKHBhcmFtXzUpOwogICAgaWYgKF8yMzYgPCAwLjApCiAgICB7CiAgICAgICAgaGl0Q29vcmQgKz0gZGlyOwogICAgfQogICAgZGlyICo9IDAuNTsKICAgIGhpdENvb3JkIC09IGRpcjsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fNiA9IGhpdENvb3JkOwogICAgaGlnaHAgZmxvYXQgXzI1MCA9IGdldERlbHRhRGVwdGgocGFyYW1fNik7CiAgICBpZiAoXzI1MCA8IDAuMCkKICAgIHsKICAgICAgICBoaXRDb29yZCArPSBkaXI7CiAgICB9CiAgICBoaWdocCB2ZWMzIHBhcmFtXzcgPSBoaXRDb29yZDsKICAgIGhpZ2hwIGZsb2F0IF8yNTkgPSBnZXREZWx0YURlcHRoKHBhcmFtXzcpOwogICAgaWYgKGFicyhfMjU5KSA%IDAuMDA5OTk5OTk5Nzc2NDgyNTgyMDkyMjg1MTU2MjUpCiAgICB7CiAgICAgICAgcmV0dXJuIHZlYzQoMC4wKTsKICAgIH0KICAgIGhpZ2hwIHZlYzMgcGFyYW1fOCA9IGhpdENvb3JkOwogICAgcmV0dXJuIHZlYzQoZ2V0UHJvamVjdGVkQ29vcmQocGFyYW1fOCksIDAuMCwgMS4wKTsKfQoKaGlnaHAgdmVjNCByYXlDYXN0KGlub3V0IGhpZ2hwIHZlYzMgZGlyKQp7CiAgICBkaXIgKj0gMC4wMzk5OTk5OTkxMDU5MzAzMjgzNjkxNDA2MjU7CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMjgzID0gZ2V0RGVsdGFEZXB0aChwYXJhbSk7CiAgICBpZiAoXzI4MyA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzEgPSBkaXI7CiAgICAgICAgaGlnaHAgdmVjNCBfMjg5ID0gYmluYXJ5U2VhcmNoKHBhcmFtXzEpOwogICAgICAgIHJldHVybiBfMjg5OwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgaGlnaHAgdmVjMyBwYXJhbV8yID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMjk2ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8yKTsKICAgIGlmIChfMjk2ID4gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzMgcGFyYW1fMyA9IGRpcjsKICAgICAgICBoaWdocCB2ZWM0IF8zMDIgPSBiaW5hcnlTZWFyY2gocGFyYW1fMyk7CiAgICAgICAgcmV0dXJuIF8zMDI7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzQgPSBoaXRDb29yZDsKICAgIGhpZ2hwIGZsb2F0IF8zMDkgPSBnZXREZWx0YURlcHRoKHBhcmFtXzQpOwogICAgaWYgKF8zMDkgPiAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMyBwYXJhbV81ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzMxNSA9IGJpbmFyeVNlYXJjaChwYXJhbV81KTsKICAgICAgICByZXR1cm4gXzMxNTsKICAgIH0KICAgIGhpdENvb3JkICs9IGRpcjsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fNiA9IGhpdENvb3JkOwogICAgaGlnaHAgZmxvYXQgXzMyMiA9IGdldERlbHRhRGVwdGgocGFyYW1fNik7CiAgICBpZiAoXzMyMiA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzcgPSBkaXI7CiAgICAgICAgaGlnaHAgdmVjNCBfMzI4ID0gYmluYXJ5U2VhcmNoKHBhcmFtXzcpOwogICAgICAgIHJldHVybiBfMzI4OwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgaGlnaHAgdmVjMyBwYXJhbV84ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMzM1ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV84KTsKICAgIGlmIChfMzM1ID4gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzMgcGFyYW1fOSA9IGRpcjsKICAgICAgICBoaWdocCB2ZWM0IF8zNDEgPSBiaW5hcnlTZWFyY2gocGFyYW1fOSk7CiAgICAgICAgcmV0dXJuIF8zNDE7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzEwID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMzQ4ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8xMCk7CiAgICBpZiAoXzM0OCA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzExID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzM1NCA9IGJpbmFyeVNlYXJjaChwYXJhbV8xMSk7CiAgICAgICAgcmV0dXJuIF8zNTQ7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzEyID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMzYxID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8xMik7CiAgICBpZiAoXzM2MSA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzEzID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzM2NyA9IGJpbmFyeVNlYXJjaChwYXJhbV8xMyk7CiAgICAgICAgcmV0dXJuIF8zNjc7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzE0ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMzc0ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8xNCk7CiAgICBpZiAoXzM3NCA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzE1ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzM4MCA9IGJpbmFyeVNlYXJjaChwYXJhbV8xNSk7CiAgICAgICAgcmV0dXJuIF8zODA7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzE2ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMzg3ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8xNik7CiAgICBpZiAoXzM4NyA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzE3ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzM5MyA9IGJpbmFyeVNlYXJjaChwYXJhbV8xNyk7CiAgICAgICAgcmV0dXJuIF8zOTM7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzE4ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDAwID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8xOCk7CiAgICBpZiAoXzQwMCA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzE5ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQwNiA9IGJpbmFyeVNlYXJjaChwYXJhbV8xOSk7CiAgICAgICAgcmV0dXJuIF80MDY7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzIwID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDEzID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8yMCk7CiAgICBpZiAoXzQxMyA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzIxID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQxOSA9IGJpbmFyeVNlYXJjaChwYXJhbV8yMSk7CiAgICAgICAgcmV0dXJuIF80MTk7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzIyID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDI2ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8yMik7CiAgICBpZiAoXzQyNiA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzIzID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQzMiA9IGJpbmFyeVNlYXJjaChwYXJhbV8yMyk7CiAgICAgICAgcmV0dXJuIF80MzI7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzI0ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDM5ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8yNCk7CiAgICBpZiAoXzQzOSA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzI1ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQ0NSA9IGJpbmFyeVNlYXJjaChwYXJhbV8yNSk7CiAgICAgICAgcmV0dXJuIF80NDU7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzI2ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDUyID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8yNik7CiAgICBpZiAoXzQ1MiA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzI3ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQ1OCA9IGJpbmFyeVNlYXJjaChwYXJhbV8yNyk7CiAgICAgICAgcmV0dXJuIF80NTg7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzI4ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDY1ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8yOCk7CiAgICBpZiAoXzQ2NSA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzI5ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQ3MSA9IGJpbmFyeVNlYXJjaChwYXJhbV8yOSk7CiAgICAgICAgcmV0dXJuIF80NzE7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzMwID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDc4ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8zMCk7CiAgICBpZiAoXzQ3OCA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzMxID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQ4NCA9IGJpbmFyeVNlYXJjaChwYXJhbV8zMSk7CiAgICAgICAgcmV0dXJuIF80ODQ7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzMyID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDkxID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8zMik7CiAgICBpZiAoXzQ5MSA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzMzID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQ5NyA9IGJpbmFyeVNlYXJjaChwYXJhbV8zMyk7CiAgICAgICAgcmV0dXJuIF80OTc7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzM0ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNTA0ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8zNCk7CiAgICBpZiAoXzUwNCA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzM1ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzUxMCA9IGJpbmFyeVNlYXJjaChwYXJhbV8zNSk7CiAgICAgICAgcmV0dXJuIF81MTA7CiAgICB9CiAgICByZXR1cm4gdmVjNCgwLjApOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWM0IGcwID0gdGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmQpOwogICAgaGlnaHAgZmxvYXQgcm91Z2huZXNzID0gdW5wYWNrRmxvYXQoZzAueikueTsKICAgIGlmIChyb3VnaG5lc3MgPT0gMS4wKQogICAgewogICAgICAgIGZyYWdDb2xvciA9IHZlYzQodmVjMygwLjApLngsIHZlYzMoMC4wKS55LCB2ZWMzKDAuMCkueiwgZnJhZ0NvbG9yLncpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGhpZ2hwIGZsb2F0IHNwZWMgPSBmcmFjdCh0ZXh0dXJlKGdidWZmZXIxLCB0ZXhDb29yZCkudyk7CiAgICBpZiAoc3BlYyA9PSAwLjApCiAgICB7CiAgICAgICAgZnJhZ0NvbG9yID0gdmVjNCh2ZWMzKDAuMCkueCwgdmVjMygwLjApLnksIHZlYzMoMC4wKS56LCBmcmFnQ29sb3Iudyk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaGlnaHAgZmxvYXQgZCA9ICh0ZXh0dXJlKGdidWZmZXJELCB0ZXhDb29yZCkueCAqIDIuMCkgLSAxLjA7CiAgICBpZiAoZCA9PSAxLjApCiAgICB7CiAgICAgICAgZnJhZ0NvbG9yID0gdmVjNCh2ZWMzKDAuMCkueCwgdmVjMygwLjApLnksIHZlYzMoMC4wKS56LCBmcmFnQ29sb3Iudyk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaGlnaHAgdmVjMiBlbmMgPSBnMC54eTsKICAgIGhpZ2hwIHZlYzMgbjsKICAgIG4ueiA9ICgxLjAgLSBhYnMoZW5jLngpKSAtIGFicyhlbmMueSk7CiAgICBoaWdocCB2ZWMyIF81ODE7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfNTgxID0gZW5jOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF81ODEgPSBvY3RhaGVkcm9uV3JhcChlbmMpOwogICAgfQogICAgbiA9IHZlYzMoXzU4MS54LCBfNTgxLnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgaGlnaHAgdmVjNCB2aWV3Tm9ybWFsID0gdmVjNChuLCAxLjApOwogICAgdmlld05vcm1hbCA9IHRpViAqIHZpZXdOb3JtYWw7CiAgICBoaWdocCB2ZWMzIHZpZXdQb3MgPSBnZXRQb3NWaWV3KHZpZXdSYXksIGQsIGNhbWVyYVByb2opOwogICAgaGlnaHAgdmVjMyByZWZsZWN0ZWQgPSBub3JtYWxpemUocmVmbGVjdCh2aWV3UG9zLCBub3JtYWxpemUodmlld05vcm1hbC54eXopKSk7CiAgICBoaXRDb29yZCA9IHZpZXdQb3M7CiAgICBoaWdocCB2ZWMzIGRpciA9IChyZWZsZWN0ZWQgKiBtYXgoMC4wNTAwMDAwMDA3NDUwNTgwNTk2OTIzODI4MTI1LCAtdmlld1Bvcy56KSkgKiAoMS4wIC0gKChyYW5kKHRleENvb3JkKSAqIDAuNjAwMDAwMDIzODQxODU3OTEwMTU2MjUpICogcm91Z2huZXNzKSk7CiAgICBoaWdocCB2ZWMzIHBhcmFtID0gZGlyOwogICAgaGlnaHAgdmVjNCBfNjM1ID0gcmF5Q2FzdChwYXJhbSk7CiAgICBoaWdocCB2ZWM0IGNvb3JkcyA9IF82MzU7CiAgICBoaWdocCB2ZWMyIGRlbHRhQ29vcmRzID0gYWJzKHZlYzIoMC41KSAtIGNvb3Jkcy54eSk7CiAgICBoaWdocCBmbG9hdCBzY3JlZW5FZGdlRmFjdG9yID0gY2xhbXAoMS4wIC0gKGRlbHRhQ29vcmRzLnggKyBkZWx0YUNvb3Jkcy55KSwgMC4wLCAxLjApOwogICAgaGlnaHAgZmxvYXQgcmVmbGVjdGl2aXR5ID0gMS4wIC0gcm91Z2huZXNzOwogICAgaGlnaHAgZmxvYXQgaW50ZW5zaXR5ID0gKCgocG93KHJlZmxlY3Rpdml0eSwgNS4wKSAqIHNjcmVlbkVkZ2VGYWN0b3IpICogY2xhbXAoLXJlZmxlY3RlZC56LCAwLjAsIDEuMCkpICogY2xhbXAoKDUuMCAtIGxlbmd0aCh2aWV3UG9zIC0gaGl0Q29vcmQpKSAqIDAuMjAwMDAwMDAyOTgwMjMyMjM4NzY5NTMxMjUsIDAuMCwgMS4wKSkgKiBjb29yZHMudzsKICAgIGludGVuc2l0eSA9IGNsYW1wKGludGVuc2l0eSwgMC4wLCAxLjApOwogICAgaWYgKGludGVuc2l0eSA9PSAwLjApCiAgICB7CiAgICAgICAgZnJhZ0NvbG9yID0gdmVjNCh2ZWMzKDAuMCkueCwgdmVjMygwLjApLnksIHZlYzMoMC4wKS56LCBmcmFnQ29sb3Iudyk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaGlnaHAgdmVjMyByZWZsQ29sID0gdGV4dHVyZSh0ZXgsIGNvb3Jkcy54eSkueHl6OwogICAgcmVmbENvbCA9IGNsYW1wKHJlZmxDb2wsIHZlYzMoMC4wKSwgdmVjMygxLjApKTsKICAgIGhpZ2hwIHZlYzMgXzY5OSA9IChyZWZsQ29sICogaW50ZW5zaXR5KSAqIDAuNTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzY5OS54LCBfNjk5LnksIF82OTkueiwgZnJhZ0NvbG9yLncpOwp9Cgo";kha_Shaders.ssr_pass_fragData1="s12012:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1hdDQgUDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBnYnVmZmVyRDsKdW5pZm9ybSB2ZWMyIGNhbWVyYVByb2o7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgZ2J1ZmZlcjE7CnVuaWZvcm0gbWF0NCB0aVY7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgdGV4OwoKaW4gdmVjMyB2aWV3UmF5OwppbiB2ZWMyIHRleENvb3JkOwpvdXQgdmVjNCBmcmFnQ29sb3I7CmZsb2F0IGRlcHRoOwp2ZWMzIGhpdENvb3JkOwoKdmVjMiB1bnBhY2tGbG9hdChmbG9hdCBmKQp7CiAgICByZXR1cm4gdmVjMihmbG9vcihmKSAvIDEwMC4wLCBmcmFjdChmKSk7Cn0KCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKdmVjMyBnZXRQb3NWaWV3KHZlYzMgdmlld1JheV8xLCBmbG9hdCBkZXB0aF8xLCB2ZWMyIGNhbWVyYVByb2pfMSkKewogICAgZmxvYXQgbGluZWFyRGVwdGggPSBjYW1lcmFQcm9qXzEueSAvIChjYW1lcmFQcm9qXzEueCAtIGRlcHRoXzEpOwogICAgcmV0dXJuIHZpZXdSYXlfMSAqIGxpbmVhckRlcHRoOwp9CgpmbG9hdCByYW5kKHZlYzIgY28pCnsKICAgIHJldHVybiBmcmFjdChzaW4oZG90KGNvLCB2ZWMyKDEyLjk4OTgwMDQ1MzE4NjAzNTE1NjI1LCA3OC4yMzMwMDE3MDg5ODQzNzUpKSkgKiA0Mzc1OC41NDY4NzUpOwp9Cgp2ZWMyIGdldFByb2plY3RlZENvb3JkKHZlYzMgaGl0Q29vcmRfMSkKewogICAgdmVjNCBwcm9qZWN0ZWRDb29yZCA9IFAgKiB2ZWM0KGhpdENvb3JkXzEsIDEuMCk7CiAgICB2ZWMyIF8xMTAgPSBwcm9qZWN0ZWRDb29yZC54eSAvIHZlYzIocHJvamVjdGVkQ29vcmQudyk7CiAgICBwcm9qZWN0ZWRDb29yZCA9IHZlYzQoXzExMC54LCBfMTEwLnksIHByb2plY3RlZENvb3JkLnosIHByb2plY3RlZENvb3JkLncpOwogICAgdmVjMiBfMTE4ID0gKHByb2plY3RlZENvb3JkLnh5ICogMC41KSArIHZlYzIoMC41KTsKICAgIHByb2plY3RlZENvb3JkID0gdmVjNChfMTE4LngsIF8xMTgueSwgcHJvamVjdGVkQ29vcmQueiwgcHJvamVjdGVkQ29vcmQudyk7CiAgICByZXR1cm4gcHJvamVjdGVkQ29vcmQueHk7Cn0KCmZsb2F0IGdldERlbHRhRGVwdGgodmVjMyBoaXRDb29yZF8xKQp7CiAgICB2ZWMzIHBhcmFtID0gaGl0Q29vcmRfMTsKICAgIGRlcHRoID0gKHRleHR1cmUoZ2J1ZmZlckQsIGdldFByb2plY3RlZENvb3JkKHBhcmFtKSkueCAqIDIuMCkgLSAxLjA7CiAgICB2ZWMzIHZpZXdQb3MgPSBnZXRQb3NWaWV3KHZpZXdSYXksIGRlcHRoLCBjYW1lcmFQcm9qKTsKICAgIHJldHVybiB2aWV3UG9zLnogLSBoaXRDb29yZF8xLno7Cn0KCnZlYzQgYmluYXJ5U2VhcmNoKGlub3V0IHZlYzMgZGlyKQp7CiAgICBkaXIgKj0gMC41OwogICAgaGl0Q29vcmQgLT0gZGlyOwogICAgdmVjMyBwYXJhbSA9IGhpdENvb3JkOwogICAgZmxvYXQgXzE2NiA9IGdldERlbHRhRGVwdGgocGFyYW0pOwogICAgaWYgKF8xNjYgPCAwLjApCiAgICB7CiAgICAgICAgaGl0Q29vcmQgKz0gZGlyOwogICAgfQogICAgZGlyICo9IDAuNTsKICAgIGhpdENvb3JkIC09IGRpcjsKICAgIHZlYzMgcGFyYW1fMSA9IGhpdENvb3JkOwogICAgZmxvYXQgXzE4MCA9IGdldERlbHRhRGVwdGgocGFyYW1fMSk7CiAgICBpZiAoXzE4MCA8IDAuMCkKICAgIHsKICAgICAgICBoaXRDb29yZCArPSBkaXI7CiAgICB9CiAgICBkaXIgKj0gMC41OwogICAgaGl0Q29vcmQgLT0gZGlyOwogICAgdmVjMyBwYXJhbV8yID0gaGl0Q29vcmQ7CiAgICBmbG9hdCBfMTk0ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8yKTsKICAgIGlmIChfMTk0IDwgMC4wKQogICAgewogICAgICAgIGhpdENvb3JkICs9IGRpcjsKICAgIH0KICAgIGRpciAqPSAwLjU7CiAgICBoaXRDb29yZCAtPSBkaXI7CiAgICB2ZWMzIHBhcmFtXzMgPSBoaXRDb29yZDsKICAgIGZsb2F0IF8yMDggPSBnZXREZWx0YURlcHRoKHBhcmFtXzMpOwogICAgaWYgKF8yMDggPCAwLjApCiAgICB7CiAgICAgICAgaGl0Q29vcmQgKz0gZGlyOwogICAgfQogICAgZGlyICo9IDAuNTsKICAgIGhpdENvb3JkIC09IGRpcjsKICAgIHZlYzMgcGFyYW1fNCA9IGhpdENvb3JkOwogICAgZmxvYXQgXzIyMiA9IGdldERlbHRhRGVwdGgocGFyYW1fNCk7CiAgICBpZiAoXzIyMiA8IDAuMCkKICAgIHsKICAgICAgICBoaXRDb29yZCArPSBkaXI7CiAgICB9CiAgICBkaXIgKj0gMC41OwogICAgaGl0Q29vcmQgLT0gZGlyOwogICAgdmVjMyBwYXJhbV81ID0gaGl0Q29vcmQ7CiAgICBmbG9hdCBfMjM2ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV81KTsKICAgIGlmIChfMjM2IDwgMC4wKQogICAgewogICAgICAgIGhpdENvb3JkICs9IGRpcjsKICAgIH0KICAgIGRpciAqPSAwLjU7CiAgICBoaXRDb29yZCAtPSBkaXI7CiAgICB2ZWMzIHBhcmFtXzYgPSBoaXRDb29yZDsKICAgIGZsb2F0IF8yNTAgPSBnZXREZWx0YURlcHRoKHBhcmFtXzYpOwogICAgaWYgKF8yNTAgPCAwLjApCiAgICB7CiAgICAgICAgaGl0Q29vcmQgKz0gZGlyOwogICAgfQogICAgdmVjMyBwYXJhbV83ID0gaGl0Q29vcmQ7CiAgICBmbG9hdCBfMjU5ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV83KTsKICAgIGlmIChhYnMoXzI1OSkgPiAwLjAwOTk5OTk5OTc3NjQ4MjU4MjA5MjI4NTE1NjI1KQogICAgewogICAgICAgIHJldHVybiB2ZWM0KDAuMCk7CiAgICB9CiAgICB2ZWMzIHBhcmFtXzggPSBoaXRDb29yZDsKICAgIHJldHVybiB2ZWM0KGdldFByb2plY3RlZENvb3JkKHBhcmFtXzgpLCAwLjAsIDEuMCk7Cn0KCnZlYzQgcmF5Q2FzdChpbm91dCB2ZWMzIGRpcikKewogICAgZGlyICo9IDAuMDM5OTk5OTk5MTA1OTMwMzI4MzY5MTQwNjI1OwogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgdmVjMyBwYXJhbSA9IGhpdENvb3JkOwogICAgZmxvYXQgXzI4MyA9IGdldERlbHRhRGVwdGgocGFyYW0pOwogICAgaWYgKF8yODMgPiAwLjApCiAgICB7CiAgICAgICAgdmVjMyBwYXJhbV8xID0gZGlyOwogICAgICAgIHZlYzQgXzI4OSA9IGJpbmFyeVNlYXJjaChwYXJhbV8xKTsKICAgICAgICByZXR1cm4gXzI4OTsKICAgIH0KICAgIGhpdENvb3JkICs9IGRpcjsKICAgIHZlYzMgcGFyYW1fMiA9IGhpdENvb3JkOwogICAgZmxvYXQgXzI5NiA9IGdldERlbHRhRGVwdGgocGFyYW1fMik7CiAgICBpZiAoXzI5NiA%IDAuMCkKICAgIHsKICAgICAgICB2ZWMzIHBhcmFtXzMgPSBkaXI7CiAgICAgICAgdmVjNCBfMzAyID0gYmluYXJ5U2VhcmNoKHBhcmFtXzMpOwogICAgICAgIHJldHVybiBfMzAyOwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgdmVjMyBwYXJhbV80ID0gaGl0Q29vcmQ7CiAgICBmbG9hdCBfMzA5ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV80KTsKICAgIGlmIChfMzA5ID4gMC4wKQogICAgewogICAgICAgIHZlYzMgcGFyYW1fNSA9IGRpcjsKICAgICAgICB2ZWM0IF8zMTUgPSBiaW5hcnlTZWFyY2gocGFyYW1fNSk7CiAgICAgICAgcmV0dXJuIF8zMTU7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICB2ZWMzIHBhcmFtXzYgPSBoaXRDb29yZDsKICAgIGZsb2F0IF8zMjIgPSBnZXREZWx0YURlcHRoKHBhcmFtXzYpOwogICAgaWYgKF8zMjIgPiAwLjApCiAgICB7CiAgICAgICAgdmVjMyBwYXJhbV83ID0gZGlyOwogICAgICAgIHZlYzQgXzMyOCA9IGJpbmFyeVNlYXJjaChwYXJhbV83KTsKICAgICAgICByZXR1cm4gXzMyODsKICAgIH0KICAgIGhpdENvb3JkICs9IGRpcjsKICAgIHZlYzMgcGFyYW1fOCA9IGhpdENvb3JkOwogICAgZmxvYXQgXzMzNSA9IGdldERlbHRhRGVwdGgocGFyYW1fOCk7CiAgICBpZiAoXzMzNSA%IDAuMCkKICAgIHsKICAgICAgICB2ZWMzIHBhcmFtXzkgPSBkaXI7CiAgICAgICAgdmVjNCBfMzQxID0gYmluYXJ5U2VhcmNoKHBhcmFtXzkpOwogICAgICAgIHJldHVybiBfMzQxOwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgdmVjMyBwYXJhbV8xMCA9IGhpdENvb3JkOwogICAgZmxvYXQgXzM0OCA9IGdldERlbHRhRGVwdGgocGFyYW1fMTApOwogICAgaWYgKF8zNDggPiAwLjApCiAgICB7CiAgICAgICAgdmVjMyBwYXJhbV8xMSA9IGRpcjsKICAgICAgICB2ZWM0IF8zNTQgPSBiaW5hcnlTZWFyY2gocGFyYW1fMTEpOwogICAgICAgIHJldHVybiBfMzU0OwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgdmVjMyBwYXJhbV8xMiA9IGhpdENvb3JkOwogICAgZmxvYXQgXzM2MSA9IGdldERlbHRhRGVwdGgocGFyYW1fMTIpOwogICAgaWYgKF8zNjEgPiAwLjApCiAgICB7CiAgICAgICAgdmVjMyBwYXJhbV8xMyA9IGRpcjsKICAgICAgICB2ZWM0IF8zNjcgPSBiaW5hcnlTZWFyY2gocGFyYW1fMTMpOwogICAgICAgIHJldHVybiBfMzY3OwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgdmVjMyBwYXJhbV8xNCA9IGhpdENvb3JkOwogICAgZmxvYXQgXzM3NCA9IGdldERlbHRhRGVwdGgocGFyYW1fMTQpOwogICAgaWYgKF8zNzQgPiAwLjApCiAgICB7CiAgICAgICAgdmVjMyBwYXJhbV8xNSA9IGRpcjsKICAgICAgICB2ZWM0IF8zODAgPSBiaW5hcnlTZWFyY2gocGFyYW1fMTUpOwogICAgICAgIHJldHVybiBfMzgwOwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgdmVjMyBwYXJhbV8xNiA9IGhpdENvb3JkOwogICAgZmxvYXQgXzM4NyA9IGdldERlbHRhRGVwdGgocGFyYW1fMTYpOwogICAgaWYgKF8zODcgPiAwLjApCiAgICB7CiAgICAgICAgdmVjMyBwYXJhbV8xNyA9IGRpcjsKICAgICAgICB2ZWM0IF8zOTMgPSBiaW5hcnlTZWFyY2gocGFyYW1fMTcpOwogICAgICAgIHJldHVybiBfMzkzOwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgdmVjMyBwYXJhbV8xOCA9IGhpdENvb3JkOwogICAgZmxvYXQgXzQwMCA9IGdldERlbHRhRGVwdGgocGFyYW1fMTgpOwogICAgaWYgKF80MDAgPiAwLjApCiAgICB7CiAgICAgICAgdmVjMyBwYXJhbV8xOSA9IGRpcjsKICAgICAgICB2ZWM0IF80MDYgPSBiaW5hcnlTZWFyY2gocGFyYW1fMTkpOwogICAgICAgIHJldHVybiBfNDA2OwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgdmVjMyBwYXJhbV8yMCA9IGhpdENvb3JkOwogICAgZmxvYXQgXzQxMyA9IGdldERlbHRhRGVwdGgocGFyYW1fMjApOwogICAgaWYgKF80MTMgPiAwLjApCiAgICB7CiAgICAgICAgdmVjMyBwYXJhbV8yMSA9IGRpcjsKICAgICAgICB2ZWM0IF80MTkgPSBiaW5hcnlTZWFyY2gocGFyYW1fMjEpOwogICAgICAgIHJldHVybiBfNDE5OwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgdmVjMyBwYXJhbV8yMiA9IGhpdENvb3JkOwogICAgZmxvYXQgXzQyNiA9IGdldERlbHRhRGVwdGgocGFyYW1fMjIpOwogICAgaWYgKF80MjYgPiAwLjApCiAgICB7CiAgICAgICAgdmVjMyBwYXJhbV8yMyA9IGRpcjsKICAgICAgICB2ZWM0IF80MzIgPSBiaW5hcnlTZWFyY2gocGFyYW1fMjMpOwogICAgICAgIHJldHVybiBfNDMyOwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgdmVjMyBwYXJhbV8yNCA9IGhpdENvb3JkOwogICAgZmxvYXQgXzQzOSA9IGdldERlbHRhRGVwdGgocGFyYW1fMjQpOwogICAgaWYgKF80MzkgPiAwLjApCiAgICB7CiAgICAgICAgdmVjMyBwYXJhbV8yNSA9IGRpcjsKICAgICAgICB2ZWM0IF80NDUgPSBiaW5hcnlTZWFyY2gocGFyYW1fMjUpOwogICAgICAgIHJldHVybiBfNDQ1OwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgdmVjMyBwYXJhbV8yNiA9IGhpdENvb3JkOwogICAgZmxvYXQgXzQ1MiA9IGdldERlbHRhRGVwdGgocGFyYW1fMjYpOwogICAgaWYgKF80NTIgPiAwLjApCiAgICB7CiAgICAgICAgdmVjMyBwYXJhbV8yNyA9IGRpcjsKICAgICAgICB2ZWM0IF80NTggPSBiaW5hcnlTZWFyY2gocGFyYW1fMjcpOwogICAgICAgIHJldHVybiBfNDU4OwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgdmVjMyBwYXJhbV8yOCA9IGhpdENvb3JkOwogICAgZmxvYXQgXzQ2NSA9IGdldERlbHRhRGVwdGgocGFyYW1fMjgpOwogICAgaWYgKF80NjUgPiAwLjApCiAgICB7CiAgICAgICAgdmVjMyBwYXJhbV8yOSA9IGRpcjsKICAgICAgICB2ZWM0IF80NzEgPSBiaW5hcnlTZWFyY2gocGFyYW1fMjkpOwogICAgICAgIHJldHVybiBfNDcxOwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgdmVjMyBwYXJhbV8zMCA9IGhpdENvb3JkOwogICAgZmxvYXQgXzQ3OCA9IGdldERlbHRhRGVwdGgocGFyYW1fMzApOwogICAgaWYgKF80NzggPiAwLjApCiAgICB7CiAgICAgICAgdmVjMyBwYXJhbV8zMSA9IGRpcjsKICAgICAgICB2ZWM0IF80ODQgPSBiaW5hcnlTZWFyY2gocGFyYW1fMzEpOwogICAgICAgIHJldHVybiBfNDg0OwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgdmVjMyBwYXJhbV8zMiA9IGhpdENvb3JkOwogICAgZmxvYXQgXzQ5MSA9IGdldERlbHRhRGVwdGgocGFyYW1fMzIpOwogICAgaWYgKF80OTEgPiAwLjApCiAgICB7CiAgICAgICAgdmVjMyBwYXJhbV8zMyA9IGRpcjsKICAgICAgICB2ZWM0IF80OTcgPSBiaW5hcnlTZWFyY2gocGFyYW1fMzMpOwogICAgICAgIHJldHVybiBfNDk3OwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgdmVjMyBwYXJhbV8zNCA9IGhpdENvb3JkOwogICAgZmxvYXQgXzUwNCA9IGdldERlbHRhRGVwdGgocGFyYW1fMzQpOwogICAgaWYgKF81MDQgPiAwLjApCiAgICB7CiAgICAgICAgdmVjMyBwYXJhbV8zNSA9IGRpcjsKICAgICAgICB2ZWM0IF81MTAgPSBiaW5hcnlTZWFyY2gocGFyYW1fMzUpOwogICAgICAgIHJldHVybiBfNTEwOwogICAgfQogICAgcmV0dXJuIHZlYzQoMC4wKTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjNCBnMCA9IHRleHR1cmUoZ2J1ZmZlcjAsIHRleENvb3JkKTsKICAgIGZsb2F0IHJvdWdobmVzcyA9IHVucGFja0Zsb2F0KGcwLnopLnk7CiAgICBpZiAocm91Z2huZXNzID09IDEuMCkKICAgIHsKICAgICAgICBmcmFnQ29sb3IgPSB2ZWM0KHZlYzMoMC4wKS54LCB2ZWMzKDAuMCkueSwgdmVjMygwLjApLnosIGZyYWdDb2xvci53KTsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBmbG9hdCBzcGVjID0gZnJhY3QodGV4dHVyZShnYnVmZmVyMSwgdGV4Q29vcmQpLncpOwogICAgaWYgKHNwZWMgPT0gMC4wKQogICAgewogICAgICAgIGZyYWdDb2xvciA9IHZlYzQodmVjMygwLjApLngsIHZlYzMoMC4wKS55LCB2ZWMzKDAuMCkueiwgZnJhZ0NvbG9yLncpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGZsb2F0IGQgPSAodGV4dHVyZShnYnVmZmVyRCwgdGV4Q29vcmQpLnggKiAyLjApIC0gMS4wOwogICAgaWYgKGQgPT0gMS4wKQogICAgewogICAgICAgIGZyYWdDb2xvciA9IHZlYzQodmVjMygwLjApLngsIHZlYzMoMC4wKS55LCB2ZWMzKDAuMCkueiwgZnJhZ0NvbG9yLncpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIHZlYzIgZW5jID0gZzAueHk7CiAgICB2ZWMzIG47CiAgICBuLnogPSAoMS4wIC0gYWJzKGVuYy54KSkgLSBhYnMoZW5jLnkpOwogICAgdmVjMiBfNTgxOwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzU4MSA9IGVuYzsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfNTgxID0gb2N0YWhlZHJvbldyYXAoZW5jKTsKICAgIH0KICAgIG4gPSB2ZWMzKF81ODEueCwgXzU4MS55LCBuLnopOwogICAgbiA9IG5vcm1hbGl6ZShuKTsKICAgIHZlYzQgdmlld05vcm1hbCA9IHZlYzQobiwgMS4wKTsKICAgIHZpZXdOb3JtYWwgPSB0aVYgKiB2aWV3Tm9ybWFsOwogICAgdmVjMyB2aWV3UG9zID0gZ2V0UG9zVmlldyh2aWV3UmF5LCBkLCBjYW1lcmFQcm9qKTsKICAgIHZlYzMgcmVmbGVjdGVkID0gbm9ybWFsaXplKHJlZmxlY3Qodmlld1Bvcywgbm9ybWFsaXplKHZpZXdOb3JtYWwueHl6KSkpOwogICAgaGl0Q29vcmQgPSB2aWV3UG9zOwogICAgdmVjMyBkaXIgPSAocmVmbGVjdGVkICogbWF4KDAuMDUwMDAwMDAwNzQ1MDU4MDU5NjkyMzgyODEyNSwgLXZpZXdQb3MueikpICogKDEuMCAtICgocmFuZCh0ZXhDb29yZCkgKiAwLjYwMDAwMDAyMzg0MTg1NzkxMDE1NjI1KSAqIHJvdWdobmVzcykpOwogICAgdmVjMyBwYXJhbSA9IGRpcjsKICAgIHZlYzQgXzYzNSA9IHJheUNhc3QocGFyYW0pOwogICAgdmVjNCBjb29yZHMgPSBfNjM1OwogICAgdmVjMiBkZWx0YUNvb3JkcyA9IGFicyh2ZWMyKDAuNSkgLSBjb29yZHMueHkpOwogICAgZmxvYXQgc2NyZWVuRWRnZUZhY3RvciA9IGNsYW1wKDEuMCAtIChkZWx0YUNvb3Jkcy54ICsgZGVsdGFDb29yZHMueSksIDAuMCwgMS4wKTsKICAgIGZsb2F0IHJlZmxlY3Rpdml0eSA9IDEuMCAtIHJvdWdobmVzczsKICAgIGZsb2F0IGludGVuc2l0eSA9ICgoKHBvdyhyZWZsZWN0aXZpdHksIDUuMCkgKiBzY3JlZW5FZGdlRmFjdG9yKSAqIGNsYW1wKC1yZWZsZWN0ZWQueiwgMC4wLCAxLjApKSAqIGNsYW1wKCg1LjAgLSBsZW5ndGgodmlld1BvcyAtIGhpdENvb3JkKSkgKiAwLjIwMDAwMDAwMjk4MDIzMjIzODc2OTUzMTI1LCAwLjAsIDEuMCkpICogY29vcmRzLnc7CiAgICBpbnRlbnNpdHkgPSBjbGFtcChpbnRlbnNpdHksIDAuMCwgMS4wKTsKICAgIGlmIChpbnRlbnNpdHkgPT0gMC4wKQogICAgewogICAgICAgIGZyYWdDb2xvciA9IHZlYzQodmVjMygwLjApLngsIHZlYzMoMC4wKS55LCB2ZWMzKDAuMCkueiwgZnJhZ0NvbG9yLncpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIHZlYzMgcmVmbENvbCA9IHRleHR1cmUodGV4LCBjb29yZHMueHkpLnh5ejsKICAgIHJlZmxDb2wgPSBjbGFtcChyZWZsQ29sLCB2ZWMzKDAuMCksIHZlYzMoMS4wKSk7CiAgICB2ZWMzIF82OTkgPSAocmVmbENvbCAqIGludGVuc2l0eSkgKiAwLjU7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF82OTkueCwgXzY5OS55LCBfNjk5LnosIGZyYWdDb2xvci53KTsKfQoK";kha_Shaders.ssr_pass_fragData2="s13127:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBtYXQ0IFA7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGdidWZmZXJEOwp1bmlmb3JtIGhpZ2hwIHZlYzIgY2FtZXJhUHJvajsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlcjA7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGdidWZmZXIxOwp1bmlmb3JtIGhpZ2hwIG1hdDQgdGlWOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCB0ZXg7CgppbiBoaWdocCB2ZWMzIHZpZXdSYXk7CmluIGhpZ2hwIHZlYzIgdGV4Q29vcmQ7Cm91dCBoaWdocCB2ZWM0IGZyYWdDb2xvcjsKaGlnaHAgZmxvYXQgZGVwdGg7CmhpZ2hwIHZlYzMgaGl0Q29vcmQ7CgpoaWdocCB2ZWMyIHVucGFja0Zsb2F0KGhpZ2hwIGZsb2F0IGYpCnsKICAgIHJldHVybiB2ZWMyKGZsb29yKGYpIC8gMTAwLjAsIGZyYWN0KGYpKTsKfQoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCB2ZWMzIGdldFBvc1ZpZXcoaGlnaHAgdmVjMyB2aWV3UmF5XzEsIGhpZ2hwIGZsb2F0IGRlcHRoXzEsIGhpZ2hwIHZlYzIgY2FtZXJhUHJval8xKQp7CiAgICBoaWdocCBmbG9hdCBsaW5lYXJEZXB0aCA9IGNhbWVyYVByb2pfMS55IC8gKGNhbWVyYVByb2pfMS54IC0gZGVwdGhfMSk7CiAgICByZXR1cm4gdmlld1JheV8xICogbGluZWFyRGVwdGg7Cn0KCmhpZ2hwIGZsb2F0IHJhbmQoaGlnaHAgdmVjMiBjbykKewogICAgcmV0dXJuIGZyYWN0KHNpbihkb3QoY28sIHZlYzIoMTIuOTg5ODAwNDUzMTg2MDM1MTU2MjUsIDc4LjIzMzAwMTcwODk4NDM3NSkpKSAqIDQzNzU4LjU0Njg3NSk7Cn0KCmhpZ2hwIHZlYzIgZ2V0UHJvamVjdGVkQ29vcmQoaGlnaHAgdmVjMyBoaXRDb29yZF8xKQp7CiAgICBoaWdocCB2ZWM0IHByb2plY3RlZENvb3JkID0gUCAqIHZlYzQoaGl0Q29vcmRfMSwgMS4wKTsKICAgIGhpZ2hwIHZlYzIgXzExMCA9IHByb2plY3RlZENvb3JkLnh5IC8gdmVjMihwcm9qZWN0ZWRDb29yZC53KTsKICAgIHByb2plY3RlZENvb3JkID0gdmVjNChfMTEwLngsIF8xMTAueSwgcHJvamVjdGVkQ29vcmQueiwgcHJvamVjdGVkQ29vcmQudyk7CiAgICBoaWdocCB2ZWMyIF8xMTggPSAocHJvamVjdGVkQ29vcmQueHkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgcHJvamVjdGVkQ29vcmQgPSB2ZWM0KF8xMTgueCwgXzExOC55LCBwcm9qZWN0ZWRDb29yZC56LCBwcm9qZWN0ZWRDb29yZC53KTsKICAgIHJldHVybiBwcm9qZWN0ZWRDb29yZC54eTsKfQoKaGlnaHAgZmxvYXQgZ2V0RGVsdGFEZXB0aChoaWdocCB2ZWMzIGhpdENvb3JkXzEpCnsKICAgIGhpZ2hwIHZlYzMgcGFyYW0gPSBoaXRDb29yZF8xOwogICAgZGVwdGggPSAodGV4dHVyZShnYnVmZmVyRCwgZ2V0UHJvamVjdGVkQ29vcmQocGFyYW0pKS54ICogMi4wKSAtIDEuMDsKICAgIGhpZ2hwIHZlYzMgdmlld1BvcyA9IGdldFBvc1ZpZXcodmlld1JheSwgZGVwdGgsIGNhbWVyYVByb2opOwogICAgcmV0dXJuIHZpZXdQb3MueiAtIGhpdENvb3JkXzEuejsKfQoKaGlnaHAgdmVjNCBiaW5hcnlTZWFyY2goaW5vdXQgaGlnaHAgdmVjMyBkaXIpCnsKICAgIGRpciAqPSAwLjU7CiAgICBoaXRDb29yZCAtPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMTY2ID0gZ2V0RGVsdGFEZXB0aChwYXJhbSk7CiAgICBpZiAoXzE2NiA8IDAuMCkKICAgIHsKICAgICAgICBoaXRDb29yZCArPSBkaXI7CiAgICB9CiAgICBkaXIgKj0gMC41OwogICAgaGl0Q29vcmQgLT0gZGlyOwogICAgaGlnaHAgdmVjMyBwYXJhbV8xID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMTgwID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8xKTsKICAgIGlmIChfMTgwIDwgMC4wKQogICAgewogICAgICAgIGhpdENvb3JkICs9IGRpcjsKICAgIH0KICAgIGRpciAqPSAwLjU7CiAgICBoaXRDb29yZCAtPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzIgPSBoaXRDb29yZDsKICAgIGhpZ2hwIGZsb2F0IF8xOTQgPSBnZXREZWx0YURlcHRoKHBhcmFtXzIpOwogICAgaWYgKF8xOTQgPCAwLjApCiAgICB7CiAgICAgICAgaGl0Q29vcmQgKz0gZGlyOwogICAgfQogICAgZGlyICo9IDAuNTsKICAgIGhpdENvb3JkIC09IGRpcjsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fMyA9IGhpdENvb3JkOwogICAgaGlnaHAgZmxvYXQgXzIwOCA9IGdldERlbHRhRGVwdGgocGFyYW1fMyk7CiAgICBpZiAoXzIwOCA8IDAuMCkKICAgIHsKICAgICAgICBoaXRDb29yZCArPSBkaXI7CiAgICB9CiAgICBkaXIgKj0gMC41OwogICAgaGl0Q29vcmQgLT0gZGlyOwogICAgaGlnaHAgdmVjMyBwYXJhbV80ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMjIyID0gZ2V0RGVsdGFEZXB0aChwYXJhbV80KTsKICAgIGlmIChfMjIyIDwgMC4wKQogICAgewogICAgICAgIGhpdENvb3JkICs9IGRpcjsKICAgIH0KICAgIGRpciAqPSAwLjU7CiAgICBoaXRDb29yZCAtPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzUgPSBoaXRDb29yZDsKICAgIGhpZ2hwIGZsb2F0IF8yMzYgPSBnZXREZWx0YURlcHRoKHBhcmFtXzUpOwogICAgaWYgKF8yMzYgPCAwLjApCiAgICB7CiAgICAgICAgaGl0Q29vcmQgKz0gZGlyOwogICAgfQogICAgZGlyICo9IDAuNTsKICAgIGhpdENvb3JkIC09IGRpcjsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fNiA9IGhpdENvb3JkOwogICAgaGlnaHAgZmxvYXQgXzI1MCA9IGdldERlbHRhRGVwdGgocGFyYW1fNik7CiAgICBpZiAoXzI1MCA8IDAuMCkKICAgIHsKICAgICAgICBoaXRDb29yZCArPSBkaXI7CiAgICB9CiAgICBoaWdocCB2ZWMzIHBhcmFtXzcgPSBoaXRDb29yZDsKICAgIGhpZ2hwIGZsb2F0IF8yNTkgPSBnZXREZWx0YURlcHRoKHBhcmFtXzcpOwogICAgaWYgKGFicyhfMjU5KSA%IDAuMDA5OTk5OTk5Nzc2NDgyNTgyMDkyMjg1MTU2MjUpCiAgICB7CiAgICAgICAgcmV0dXJuIHZlYzQoMC4wKTsKICAgIH0KICAgIGhpZ2hwIHZlYzMgcGFyYW1fOCA9IGhpdENvb3JkOwogICAgcmV0dXJuIHZlYzQoZ2V0UHJvamVjdGVkQ29vcmQocGFyYW1fOCksIDAuMCwgMS4wKTsKfQoKaGlnaHAgdmVjNCByYXlDYXN0KGlub3V0IGhpZ2hwIHZlYzMgZGlyKQp7CiAgICBkaXIgKj0gMC4wMzk5OTk5OTkxMDU5MzAzMjgzNjkxNDA2MjU7CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMjgzID0gZ2V0RGVsdGFEZXB0aChwYXJhbSk7CiAgICBpZiAoXzI4MyA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzEgPSBkaXI7CiAgICAgICAgaGlnaHAgdmVjNCBfMjg5ID0gYmluYXJ5U2VhcmNoKHBhcmFtXzEpOwogICAgICAgIHJldHVybiBfMjg5OwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgaGlnaHAgdmVjMyBwYXJhbV8yID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMjk2ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8yKTsKICAgIGlmIChfMjk2ID4gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzMgcGFyYW1fMyA9IGRpcjsKICAgICAgICBoaWdocCB2ZWM0IF8zMDIgPSBiaW5hcnlTZWFyY2gocGFyYW1fMyk7CiAgICAgICAgcmV0dXJuIF8zMDI7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzQgPSBoaXRDb29yZDsKICAgIGhpZ2hwIGZsb2F0IF8zMDkgPSBnZXREZWx0YURlcHRoKHBhcmFtXzQpOwogICAgaWYgKF8zMDkgPiAwLjApCiAgICB7CiAgICAgICAgaGlnaHAgdmVjMyBwYXJhbV81ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzMxNSA9IGJpbmFyeVNlYXJjaChwYXJhbV81KTsKICAgICAgICByZXR1cm4gXzMxNTsKICAgIH0KICAgIGhpdENvb3JkICs9IGRpcjsKICAgIGhpZ2hwIHZlYzMgcGFyYW1fNiA9IGhpdENvb3JkOwogICAgaGlnaHAgZmxvYXQgXzMyMiA9IGdldERlbHRhRGVwdGgocGFyYW1fNik7CiAgICBpZiAoXzMyMiA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzcgPSBkaXI7CiAgICAgICAgaGlnaHAgdmVjNCBfMzI4ID0gYmluYXJ5U2VhcmNoKHBhcmFtXzcpOwogICAgICAgIHJldHVybiBfMzI4OwogICAgfQogICAgaGl0Q29vcmQgKz0gZGlyOwogICAgaGlnaHAgdmVjMyBwYXJhbV84ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMzM1ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV84KTsKICAgIGlmIChfMzM1ID4gMC4wKQogICAgewogICAgICAgIGhpZ2hwIHZlYzMgcGFyYW1fOSA9IGRpcjsKICAgICAgICBoaWdocCB2ZWM0IF8zNDEgPSBiaW5hcnlTZWFyY2gocGFyYW1fOSk7CiAgICAgICAgcmV0dXJuIF8zNDE7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzEwID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMzQ4ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8xMCk7CiAgICBpZiAoXzM0OCA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzExID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzM1NCA9IGJpbmFyeVNlYXJjaChwYXJhbV8xMSk7CiAgICAgICAgcmV0dXJuIF8zNTQ7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzEyID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMzYxID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8xMik7CiAgICBpZiAoXzM2MSA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzEzID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzM2NyA9IGJpbmFyeVNlYXJjaChwYXJhbV8xMyk7CiAgICAgICAgcmV0dXJuIF8zNjc7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzE0ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMzc0ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8xNCk7CiAgICBpZiAoXzM3NCA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzE1ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzM4MCA9IGJpbmFyeVNlYXJjaChwYXJhbV8xNSk7CiAgICAgICAgcmV0dXJuIF8zODA7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzE2ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfMzg3ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8xNik7CiAgICBpZiAoXzM4NyA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzE3ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzM5MyA9IGJpbmFyeVNlYXJjaChwYXJhbV8xNyk7CiAgICAgICAgcmV0dXJuIF8zOTM7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzE4ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDAwID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8xOCk7CiAgICBpZiAoXzQwMCA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzE5ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQwNiA9IGJpbmFyeVNlYXJjaChwYXJhbV8xOSk7CiAgICAgICAgcmV0dXJuIF80MDY7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzIwID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDEzID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8yMCk7CiAgICBpZiAoXzQxMyA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzIxID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQxOSA9IGJpbmFyeVNlYXJjaChwYXJhbV8yMSk7CiAgICAgICAgcmV0dXJuIF80MTk7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzIyID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDI2ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8yMik7CiAgICBpZiAoXzQyNiA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzIzID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQzMiA9IGJpbmFyeVNlYXJjaChwYXJhbV8yMyk7CiAgICAgICAgcmV0dXJuIF80MzI7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzI0ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDM5ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8yNCk7CiAgICBpZiAoXzQzOSA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzI1ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQ0NSA9IGJpbmFyeVNlYXJjaChwYXJhbV8yNSk7CiAgICAgICAgcmV0dXJuIF80NDU7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzI2ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDUyID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8yNik7CiAgICBpZiAoXzQ1MiA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzI3ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQ1OCA9IGJpbmFyeVNlYXJjaChwYXJhbV8yNyk7CiAgICAgICAgcmV0dXJuIF80NTg7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzI4ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDY1ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8yOCk7CiAgICBpZiAoXzQ2NSA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzI5ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQ3MSA9IGJpbmFyeVNlYXJjaChwYXJhbV8yOSk7CiAgICAgICAgcmV0dXJuIF80NzE7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzMwID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDc4ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8zMCk7CiAgICBpZiAoXzQ3OCA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzMxID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQ4NCA9IGJpbmFyeVNlYXJjaChwYXJhbV8zMSk7CiAgICAgICAgcmV0dXJuIF80ODQ7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzMyID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNDkxID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8zMik7CiAgICBpZiAoXzQ5MSA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzMzID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzQ5NyA9IGJpbmFyeVNlYXJjaChwYXJhbV8zMyk7CiAgICAgICAgcmV0dXJuIF80OTc7CiAgICB9CiAgICBoaXRDb29yZCArPSBkaXI7CiAgICBoaWdocCB2ZWMzIHBhcmFtXzM0ID0gaGl0Q29vcmQ7CiAgICBoaWdocCBmbG9hdCBfNTA0ID0gZ2V0RGVsdGFEZXB0aChwYXJhbV8zNCk7CiAgICBpZiAoXzUwNCA%IDAuMCkKICAgIHsKICAgICAgICBoaWdocCB2ZWMzIHBhcmFtXzM1ID0gZGlyOwogICAgICAgIGhpZ2hwIHZlYzQgXzUxMCA9IGJpbmFyeVNlYXJjaChwYXJhbV8zNSk7CiAgICAgICAgcmV0dXJuIF81MTA7CiAgICB9CiAgICByZXR1cm4gdmVjNCgwLjApOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWM0IGcwID0gdGV4dHVyZShnYnVmZmVyMCwgdGV4Q29vcmQpOwogICAgaGlnaHAgZmxvYXQgcm91Z2huZXNzID0gdW5wYWNrRmxvYXQoZzAueikueTsKICAgIGlmIChyb3VnaG5lc3MgPT0gMS4wKQogICAgewogICAgICAgIGZyYWdDb2xvciA9IHZlYzQodmVjMygwLjApLngsIHZlYzMoMC4wKS55LCB2ZWMzKDAuMCkueiwgZnJhZ0NvbG9yLncpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGhpZ2hwIGZsb2F0IHNwZWMgPSBmcmFjdCh0ZXh0dXJlKGdidWZmZXIxLCB0ZXhDb29yZCkudyk7CiAgICBpZiAoc3BlYyA9PSAwLjApCiAgICB7CiAgICAgICAgZnJhZ0NvbG9yID0gdmVjNCh2ZWMzKDAuMCkueCwgdmVjMygwLjApLnksIHZlYzMoMC4wKS56LCBmcmFnQ29sb3Iudyk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaGlnaHAgZmxvYXQgZCA9ICh0ZXh0dXJlKGdidWZmZXJELCB0ZXhDb29yZCkueCAqIDIuMCkgLSAxLjA7CiAgICBpZiAoZCA9PSAxLjApCiAgICB7CiAgICAgICAgZnJhZ0NvbG9yID0gdmVjNCh2ZWMzKDAuMCkueCwgdmVjMygwLjApLnksIHZlYzMoMC4wKS56LCBmcmFnQ29sb3Iudyk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaGlnaHAgdmVjMiBlbmMgPSBnMC54eTsKICAgIGhpZ2hwIHZlYzMgbjsKICAgIG4ueiA9ICgxLjAgLSBhYnMoZW5jLngpKSAtIGFicyhlbmMueSk7CiAgICBoaWdocCB2ZWMyIF81ODE7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfNTgxID0gZW5jOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF81ODEgPSBvY3RhaGVkcm9uV3JhcChlbmMpOwogICAgfQogICAgbiA9IHZlYzMoXzU4MS54LCBfNTgxLnksIG4ueik7CiAgICBuID0gbm9ybWFsaXplKG4pOwogICAgaGlnaHAgdmVjNCB2aWV3Tm9ybWFsID0gdmVjNChuLCAxLjApOwogICAgdmlld05vcm1hbCA9IHRpViAqIHZpZXdOb3JtYWw7CiAgICBoaWdocCB2ZWMzIHZpZXdQb3MgPSBnZXRQb3NWaWV3KHZpZXdSYXksIGQsIGNhbWVyYVByb2opOwogICAgaGlnaHAgdmVjMyByZWZsZWN0ZWQgPSBub3JtYWxpemUocmVmbGVjdCh2aWV3UG9zLCBub3JtYWxpemUodmlld05vcm1hbC54eXopKSk7CiAgICBoaXRDb29yZCA9IHZpZXdQb3M7CiAgICBoaWdocCB2ZWMzIGRpciA9IChyZWZsZWN0ZWQgKiBtYXgoMC4wNTAwMDAwMDA3NDUwNTgwNTk2OTIzODI4MTI1LCAtdmlld1Bvcy56KSkgKiAoMS4wIC0gKChyYW5kKHRleENvb3JkKSAqIDAuNjAwMDAwMDIzODQxODU3OTEwMTU2MjUpICogcm91Z2huZXNzKSk7CiAgICBoaWdocCB2ZWMzIHBhcmFtID0gZGlyOwogICAgaGlnaHAgdmVjNCBfNjM1ID0gcmF5Q2FzdChwYXJhbSk7CiAgICBoaWdocCB2ZWM0IGNvb3JkcyA9IF82MzU7CiAgICBoaWdocCB2ZWMyIGRlbHRhQ29vcmRzID0gYWJzKHZlYzIoMC41KSAtIGNvb3Jkcy54eSk7CiAgICBoaWdocCBmbG9hdCBzY3JlZW5FZGdlRmFjdG9yID0gY2xhbXAoMS4wIC0gKGRlbHRhQ29vcmRzLnggKyBkZWx0YUNvb3Jkcy55KSwgMC4wLCAxLjApOwogICAgaGlnaHAgZmxvYXQgcmVmbGVjdGl2aXR5ID0gMS4wIC0gcm91Z2huZXNzOwogICAgaGlnaHAgZmxvYXQgaW50ZW5zaXR5ID0gKCgocG93KHJlZmxlY3Rpdml0eSwgNS4wKSAqIHNjcmVlbkVkZ2VGYWN0b3IpICogY2xhbXAoLXJlZmxlY3RlZC56LCAwLjAsIDEuMCkpICogY2xhbXAoKDUuMCAtIGxlbmd0aCh2aWV3UG9zIC0gaGl0Q29vcmQpKSAqIDAuMjAwMDAwMDAyOTgwMjMyMjM4NzY5NTMxMjUsIDAuMCwgMS4wKSkgKiBjb29yZHMudzsKICAgIGludGVuc2l0eSA9IGNsYW1wKGludGVuc2l0eSwgMC4wLCAxLjApOwogICAgaWYgKGludGVuc2l0eSA9PSAwLjApCiAgICB7CiAgICAgICAgZnJhZ0NvbG9yID0gdmVjNCh2ZWMzKDAuMCkueCwgdmVjMygwLjApLnksIHZlYzMoMC4wKS56LCBmcmFnQ29sb3Iudyk7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaGlnaHAgdmVjMyByZWZsQ29sID0gdGV4dHVyZSh0ZXgsIGNvb3Jkcy54eSkueHl6OwogICAgcmVmbENvbCA9IGNsYW1wKHJlZmxDb2wsIHZlYzMoMC4wKSwgdmVjMygxLjApKTsKICAgIGhpZ2hwIHZlYzMgXzY5OSA9IChyZWZsQ29sICogaW50ZW5zaXR5KSAqIDAuNTsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzY5OS54LCBfNjk5LnksIF82OTkueiwgZnJhZ0NvbG9yLncpOwp9Cgo";kha_Shaders.taa_pass_fragData0="s848:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzdmVsb2M7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHRleDI7CgppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWM0IGN1cnJlbnQgPSB0ZXh0dXJlKHRleCwgdGV4Q29vcmQpOwogICAgaGlnaHAgdmVjMiB2ZWxvY2l0eSA9IC10ZXh0dXJlTG9kKHN2ZWxvYywgdGV4Q29vcmQsIDAuMCkueHk7CiAgICBoaWdocCB2ZWM0IHByZXZpb3VzID0gdGV4dHVyZSh0ZXgyLCB0ZXhDb29yZCArIHZlbG9jaXR5KTsKICAgIGhpZ2hwIGZsb2F0IGRlbHRhID0gYWJzKChjdXJyZW50LncgKiBjdXJyZW50LncpIC0gKHByZXZpb3VzLncgKiBwcmV2aW91cy53KSkgLyA1LjA7CiAgICBoaWdocCBmbG9hdCB3ZWlnaHQgPSAwLjUgKiBjbGFtcCgxLjAgLSAoc3FydChkZWx0YSkgKiAzMC4wKSwgMC4wLCAxLjApOwogICAgZnJhZ0NvbG9yID0gdmVjNChtaXgoY3VycmVudC54eXosIHByZXZpb3VzLnh5eiwgdmVjMyh3ZWlnaHQpKSwgMS4wKTsKfQoK";kha_Shaders.taa_pass_fragData1="s803:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBzdmVsb2M7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgdGV4MjsKCmluIHZlYzIgdGV4Q29vcmQ7Cm91dCB2ZWM0IGZyYWdDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgY3VycmVudCA9IHRleHR1cmUodGV4LCB0ZXhDb29yZCk7CiAgICB2ZWMyIHZlbG9jaXR5ID0gLXRleHR1cmVMb2Qoc3ZlbG9jLCB0ZXhDb29yZCwgMC4wKS54eTsKICAgIHZlYzQgcHJldmlvdXMgPSB0ZXh0dXJlKHRleDIsIHRleENvb3JkICsgdmVsb2NpdHkpOwogICAgZmxvYXQgZGVsdGEgPSBhYnMoKGN1cnJlbnQudyAqIGN1cnJlbnQudykgLSAocHJldmlvdXMudyAqIHByZXZpb3VzLncpKSAvIDUuMDsKICAgIGZsb2F0IHdlaWdodCA9IDAuNSAqIGNsYW1wKDEuMCAtIChzcXJ0KGRlbHRhKSAqIDMwLjApLCAwLjAsIDEuMCk7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KG1peChjdXJyZW50Lnh5eiwgcHJldmlvdXMueHl6LCB2ZWMzKHdlaWdodCkpLCAxLjApOwp9Cgo";kha_Shaders.taa_pass_fragData2="s848:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBzdmVsb2M7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHRleDI7CgppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWM0IGN1cnJlbnQgPSB0ZXh0dXJlKHRleCwgdGV4Q29vcmQpOwogICAgaGlnaHAgdmVjMiB2ZWxvY2l0eSA9IC10ZXh0dXJlTG9kKHN2ZWxvYywgdGV4Q29vcmQsIDAuMCkueHk7CiAgICBoaWdocCB2ZWM0IHByZXZpb3VzID0gdGV4dHVyZSh0ZXgyLCB0ZXhDb29yZCArIHZlbG9jaXR5KTsKICAgIGhpZ2hwIGZsb2F0IGRlbHRhID0gYWJzKChjdXJyZW50LncgKiBjdXJyZW50LncpIC0gKHByZXZpb3VzLncgKiBwcmV2aW91cy53KSkgLyA1LjA7CiAgICBoaWdocCBmbG9hdCB3ZWlnaHQgPSAwLjUgKiBjbGFtcCgxLjAgLSAoc3FydChkZWx0YSkgKiAzMC4wKSwgMC4wLCAxLjApOwogICAgZnJhZ0NvbG9yID0gdmVjNChtaXgoY3VycmVudC54eXosIHByZXZpb3VzLnh5eiwgdmVjMyh3ZWlnaHQpKSwgMS4wKTsKfQoK";kha_Shaders.world_pass_fragData0="s1820:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCB2ZWMzIEg7CnVuaWZvcm0gaGlnaHAgdmVjMyBBOwp1bmlmb3JtIGhpZ2hwIHZlYzMgQjsKdW5pZm9ybSBoaWdocCB2ZWMzIEM7CnVuaWZvcm0gaGlnaHAgdmVjMyBEOwp1bmlmb3JtIGhpZ2hwIHZlYzMgRTsKdW5pZm9ybSBoaWdocCB2ZWMzIEY7CnVuaWZvcm0gaGlnaHAgdmVjMyBHOwp1bmlmb3JtIGhpZ2hwIHZlYzMgSTsKdW5pZm9ybSBoaWdocCB2ZWMzIHN1bkRpcmVjdGlvbjsKdW5pZm9ybSBoaWdocCB2ZWMzIFo7CnVuaWZvcm0gaGlnaHAgZmxvYXQgZW52bWFwU3RyZW5ndGg7CgppbiBoaWdocCB2ZWMzIG5vcm1hbDsKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yOwoKaGlnaHAgdmVjMyBob3Nla1dpbGtpZShoaWdocCBmbG9hdCBjb3NfdGhldGEsIGhpZ2hwIGZsb2F0IGdhbW1hLCBoaWdocCBmbG9hdCBjb3NfZ2FtbWEpCnsKICAgIGhpZ2hwIHZlYzMgY2hpID0gdmVjMygxLjAgKyAoY29zX2dhbW1hICogY29zX2dhbW1hKSkgLyBwb3coKHZlYzMoMS4wKSArIChIICogSCkpIC0gKEggKiAoMi4wICogY29zX2dhbW1hKSksIHZlYzMoMS41KSk7CiAgICByZXR1cm4gKHZlYzMoMS4wKSArIChBICogZXhwKEIgLyB2ZWMzKGNvc190aGV0YSArIDAuMDA5OTk5OTk5Nzc2NDgyNTgyMDkyMjg1MTU2MjUpKSkpICogKCgoKEMgKyAoRCAqIGV4cChFICogZ2FtbWEpKSkgKyAoRiAqIChjb3NfZ2FtbWEgKiBjb3NfZ2FtbWEpKSkgKyAoRyAqIGNoaSkpICsgKEkgKiBzcXJ0KGNvc190aGV0YSkpKTsKfQoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjMyBuID0gbm9ybWFsaXplKG5vcm1hbCk7CiAgICBoaWdocCBmbG9hdCBwaGkgPSBhY29zKG4ueik7CiAgICBoaWdocCBmbG9hdCB0aGV0YSA9IGF0YW4oLW4ueSwgbi54KSArIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NTsKICAgIGhpZ2hwIGZsb2F0IGNvc190aGV0YSA9IGNsYW1wKG4ueiwgMC4wLCAxLjApOwogICAgaGlnaHAgZmxvYXQgY29zX2dhbW1hID0gZG90KG4sIHN1bkRpcmVjdGlvbik7CiAgICBoaWdocCBmbG9hdCBnYW1tYV92YWwgPSBhY29zKGNvc19nYW1tYSk7CiAgICBoaWdocCBmbG9hdCBwYXJhbSA9IGNvc190aGV0YTsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzEgPSBnYW1tYV92YWw7CiAgICBoaWdocCBmbG9hdCBwYXJhbV8yID0gY29zX2dhbW1hOwogICAgaGlnaHAgdmVjMyBfMTM2ID0gKFogKiBob3Nla1dpbGtpZShwYXJhbSwgcGFyYW1fMSwgcGFyYW1fMikpICogZW52bWFwU3RyZW5ndGg7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8xMzYueCwgXzEzNi55LCBfMTM2LnosIGZyYWdDb2xvci53KTsKfQoK";kha_Shaders.world_pass_fragData1="s1591:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIHZlYzMgSDsKdW5pZm9ybSB2ZWMzIEE7CnVuaWZvcm0gdmVjMyBCOwp1bmlmb3JtIHZlYzMgQzsKdW5pZm9ybSB2ZWMzIEQ7CnVuaWZvcm0gdmVjMyBFOwp1bmlmb3JtIHZlYzMgRjsKdW5pZm9ybSB2ZWMzIEc7CnVuaWZvcm0gdmVjMyBJOwp1bmlmb3JtIHZlYzMgc3VuRGlyZWN0aW9uOwp1bmlmb3JtIHZlYzMgWjsKdW5pZm9ybSBmbG9hdCBlbnZtYXBTdHJlbmd0aDsKCmluIHZlYzMgbm9ybWFsOwpvdXQgdmVjNCBmcmFnQ29sb3I7Cgp2ZWMzIGhvc2VrV2lsa2llKGZsb2F0IGNvc190aGV0YSwgZmxvYXQgZ2FtbWEsIGZsb2F0IGNvc19nYW1tYSkKewogICAgdmVjMyBjaGkgPSB2ZWMzKDEuMCArIChjb3NfZ2FtbWEgKiBjb3NfZ2FtbWEpKSAvIHBvdygodmVjMygxLjApICsgKEggKiBIKSkgLSAoSCAqICgyLjAgKiBjb3NfZ2FtbWEpKSwgdmVjMygxLjUpKTsKICAgIHJldHVybiAodmVjMygxLjApICsgKEEgKiBleHAoQiAvIHZlYzMoY29zX3RoZXRhICsgMC4wMDk5OTk5OTk3NzY0ODI1ODIwOTIyODUxNTYyNSkpKSkgKiAoKCgoQyArIChEICogZXhwKEUgKiBnYW1tYSkpKSArIChGICogKGNvc19nYW1tYSAqIGNvc19nYW1tYSkpKSArIChHICogY2hpKSkgKyAoSSAqIHNxcnQoY29zX3RoZXRhKSkpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUobm9ybWFsKTsKICAgIGZsb2F0IHBoaSA9IGFjb3Mobi56KTsKICAgIGZsb2F0IHRoZXRhID0gYXRhbigtbi55LCBuLngpICsgMy4xNDE1OTI3NDEwMTI1NzMyNDIxODc1OwogICAgZmxvYXQgY29zX3RoZXRhID0gY2xhbXAobi56LCAwLjAsIDEuMCk7CiAgICBmbG9hdCBjb3NfZ2FtbWEgPSBkb3Qobiwgc3VuRGlyZWN0aW9uKTsKICAgIGZsb2F0IGdhbW1hX3ZhbCA9IGFjb3MoY29zX2dhbW1hKTsKICAgIGZsb2F0IHBhcmFtID0gY29zX3RoZXRhOwogICAgZmxvYXQgcGFyYW1fMSA9IGdhbW1hX3ZhbDsKICAgIGZsb2F0IHBhcmFtXzIgPSBjb3NfZ2FtbWE7CiAgICB2ZWMzIF8xMzYgPSAoWiAqIGhvc2VrV2lsa2llKHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKSkgKiBlbnZtYXBTdHJlbmd0aDsKICAgIGZyYWdDb2xvciA9IHZlYzQoXzEzNi54LCBfMTM2LnksIF8xMzYueiwgZnJhZ0NvbG9yLncpOwp9Cgo";kha_Shaders.world_pass_fragData2="s1820:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCB2ZWMzIEg7CnVuaWZvcm0gaGlnaHAgdmVjMyBBOwp1bmlmb3JtIGhpZ2hwIHZlYzMgQjsKdW5pZm9ybSBoaWdocCB2ZWMzIEM7CnVuaWZvcm0gaGlnaHAgdmVjMyBEOwp1bmlmb3JtIGhpZ2hwIHZlYzMgRTsKdW5pZm9ybSBoaWdocCB2ZWMzIEY7CnVuaWZvcm0gaGlnaHAgdmVjMyBHOwp1bmlmb3JtIGhpZ2hwIHZlYzMgSTsKdW5pZm9ybSBoaWdocCB2ZWMzIHN1bkRpcmVjdGlvbjsKdW5pZm9ybSBoaWdocCB2ZWMzIFo7CnVuaWZvcm0gaGlnaHAgZmxvYXQgZW52bWFwU3RyZW5ndGg7CgppbiBoaWdocCB2ZWMzIG5vcm1hbDsKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yOwoKaGlnaHAgdmVjMyBob3Nla1dpbGtpZShoaWdocCBmbG9hdCBjb3NfdGhldGEsIGhpZ2hwIGZsb2F0IGdhbW1hLCBoaWdocCBmbG9hdCBjb3NfZ2FtbWEpCnsKICAgIGhpZ2hwIHZlYzMgY2hpID0gdmVjMygxLjAgKyAoY29zX2dhbW1hICogY29zX2dhbW1hKSkgLyBwb3coKHZlYzMoMS4wKSArIChIICogSCkpIC0gKEggKiAoMi4wICogY29zX2dhbW1hKSksIHZlYzMoMS41KSk7CiAgICByZXR1cm4gKHZlYzMoMS4wKSArIChBICogZXhwKEIgLyB2ZWMzKGNvc190aGV0YSArIDAuMDA5OTk5OTk5Nzc2NDgyNTgyMDkyMjg1MTU2MjUpKSkpICogKCgoKEMgKyAoRCAqIGV4cChFICogZ2FtbWEpKSkgKyAoRiAqIChjb3NfZ2FtbWEgKiBjb3NfZ2FtbWEpKSkgKyAoRyAqIGNoaSkpICsgKEkgKiBzcXJ0KGNvc190aGV0YSkpKTsKfQoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjMyBuID0gbm9ybWFsaXplKG5vcm1hbCk7CiAgICBoaWdocCBmbG9hdCBwaGkgPSBhY29zKG4ueik7CiAgICBoaWdocCBmbG9hdCB0aGV0YSA9IGF0YW4oLW4ueSwgbi54KSArIDMuMTQxNTkyNzQxMDEyNTczMjQyMTg3NTsKICAgIGhpZ2hwIGZsb2F0IGNvc190aGV0YSA9IGNsYW1wKG4ueiwgMC4wLCAxLjApOwogICAgaGlnaHAgZmxvYXQgY29zX2dhbW1hID0gZG90KG4sIHN1bkRpcmVjdGlvbik7CiAgICBoaWdocCBmbG9hdCBnYW1tYV92YWwgPSBhY29zKGNvc19nYW1tYSk7CiAgICBoaWdocCBmbG9hdCBwYXJhbSA9IGNvc190aGV0YTsKICAgIGhpZ2hwIGZsb2F0IHBhcmFtXzEgPSBnYW1tYV92YWw7CiAgICBoaWdocCBmbG9hdCBwYXJhbV8yID0gY29zX2dhbW1hOwogICAgaGlnaHAgdmVjMyBfMTM2ID0gKFogKiBob3Nla1dpbGtpZShwYXJhbSwgcGFyYW1fMSwgcGFyYW1fMikpICogZW52bWFwU3RyZW5ndGg7CiAgICBmcmFnQ29sb3IgPSB2ZWM0KF8xMzYueCwgXzEzNi55LCBfMTM2LnosIGZyYWdDb2xvci53KTsKfQoK";kha_Shaders.world_pass_vertData0="s258:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDQgU01WUDsKCm91dCB2ZWMzIG5vcm1hbDsKaW4gdmVjMyBub3I7CmluIHZlYzMgcG9zOwoKdm9pZCBtYWluKCkKewogICAgbm9ybWFsID0gbm9yOwogICAgdmVjNCBwb3NpdGlvbiA9IFNNVlAgKiB2ZWM0KHBvcywgMS4wKTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbik7Cn0KCg";kha_Shaders.world_pass_vertData1="s311:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBTTVZQOwoKb3V0IG1lZGl1bXAgdmVjMyBub3JtYWw7CmluIG1lZGl1bXAgdmVjMyBub3I7CmluIG1lZGl1bXAgdmVjMyBwb3M7Cgp2b2lkIG1haW4oKQp7CiAgICBub3JtYWwgPSBub3I7CiAgICBtZWRpdW1wIHZlYzQgcG9zaXRpb24gPSBTTVZQICogdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24pOwp9Cgo";kha_Shaders.world_pass_vertData2="s258:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDQgU01WUDsKCm91dCB2ZWMzIG5vcm1hbDsKaW4gdmVjMyBub3I7CmluIHZlYzMgcG9zOwoKdm9pZCBtYWluKCkKewogICAgbm9ybWFsID0gbm9yOwogICAgdmVjNCBwb3NpdGlvbiA9IFNNVlAgKiB2ZWM0KHBvcywgMS4wKTsKICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbik7Cn0KCg";kha_Shaders.Blue_mesh_fragData0="s2327:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmUsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzMgSW1hZ2VUZXh0dXJlX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV9zdG9yZS54eXo7CiAgICBoaWdocCB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuMDE5NjkzMDA1ODMwMDQ5NTE0NzcwNTA3ODEyNSwgMC4yODkzMzcyMTc4MDc3Njk3NzUzOTA2MjUsIDAuNzc0MjM3ODcxMTcwMDQzOTQ1MzEyNSk7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSBJbWFnZVRleHR1cmVfQ29sb3JfcmVzLng7CiAgICBoaWdocCBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGhpZ2hwIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIGhpZ2hwIGZsb2F0IHNwZWN1bGFyID0gMS4wOwogICAgbiAvPSB2ZWMzKChhYnMobi54KSArIGFicyhuLnkpKSArIGFicyhuLnopKTsKICAgIGhpZ2hwIHZlYzIgXzExMDsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8xMTAgPSBuLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8xMTAgPSBvY3RhaGVkcm9uV3JhcChuLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF8xMTAueCwgXzExMC55LCBuLnopOwogICAgZnJhZ0NvbG9yWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIDEuMCAtIGdsX0ZyYWdDb29yZC56KTsKICAgIGZyYWdDb2xvclsxXSA9IHZlYzQoYmFzZWNvbCwgcGFja0Zsb2F0MihvY2NsdXNpb24sIHNwZWN1bGFyKSk7CiAgICBoaWdocCB2ZWMyIHBvc2EgPSAoKHd2cHBvc2l0aW9uLnh5IC8gdmVjMih3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgaGlnaHAgdmVjMiBwb3NiID0gKChwcmV2d3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHByZXZ3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgaGlnaHAgdmVjMiBfMTgzID0gdmVjMihwb3NhIC0gcG9zYik7CiAgICBmcmFnQ29sb3JbMl0gPSB2ZWM0KF8xODMueCwgXzE4My55LCBmcmFnQ29sb3JbMl0ueiwgZnJhZ0NvbG9yWzJdLncpOwp9Cgo";kha_Shaders.Blue_mesh_fragData1="s2132:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIEltYWdlVGV4dHVyZTsKCmluIHZlYzMgd25vcm1hbDsKaW4gdmVjMiB0ZXhDb29yZDsKb3V0IHZlYzQgZnJhZ0NvbG9yWzNdOwppbiB2ZWM0IHd2cHBvc2l0aW9uOwppbiB2ZWM0IHByZXZ3dnBwb3NpdGlvbjsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKZmxvYXQgcGFja0Zsb2F0KGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMTAwLjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9CgpmbG9hdCBwYWNrRmxvYXQyKGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMjU1LjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICB2ZWM0IEltYWdlVGV4dHVyZV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlLCB0ZXhDb29yZCk7CiAgICB2ZWMzIEltYWdlVGV4dHVyZV9Db2xvcl9yZXMgPSBJbWFnZVRleHR1cmVfc3RvcmUueHl6OwogICAgdmVjMyBiYXNlY29sID0gdmVjMygwLjAxOTY5MzAwNTgzMDA0OTUxNDc3MDUwNzgxMjUsIDAuMjg5MzM3MjE3ODA3NzY5Nzc1MzkwNjI1LCAwLjc3NDIzNzg3MTE3MDA0Mzk0NTMxMjUpOwogICAgZmxvYXQgcm91Z2huZXNzID0gSW1hZ2VUZXh0dXJlX0NvbG9yX3Jlcy54OwogICAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICB2ZWMyIF8xMTA7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTEwID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTEwID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTEwLngsIF8xMTAueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIHBhY2tGbG9hdDIob2NjbHVzaW9uLCBzcGVjdWxhcikpOwogICAgdmVjMiBwb3NhID0gKCh3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIHZlYzIgcG9zYiA9ICgocHJldnd2cHBvc2l0aW9uLnh5IC8gdmVjMihwcmV2d3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIHZlYzIgXzE4MyA9IHZlYzIocG9zYSAtIHBvc2IpOwogICAgZnJhZ0NvbG9yWzJdID0gdmVjNChfMTgzLngsIF8xODMueSwgZnJhZ0NvbG9yWzJdLnosIGZyYWdDb2xvclsyXS53KTsKfQoK";kha_Shaders.Blue_mesh_fragData2="s2327:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmUsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzMgSW1hZ2VUZXh0dXJlX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV9zdG9yZS54eXo7CiAgICBoaWdocCB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuMDE5NjkzMDA1ODMwMDQ5NTE0NzcwNTA3ODEyNSwgMC4yODkzMzcyMTc4MDc3Njk3NzUzOTA2MjUsIDAuNzc0MjM3ODcxMTcwMDQzOTQ1MzEyNSk7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSBJbWFnZVRleHR1cmVfQ29sb3JfcmVzLng7CiAgICBoaWdocCBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGhpZ2hwIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIGhpZ2hwIGZsb2F0IHNwZWN1bGFyID0gMS4wOwogICAgbiAvPSB2ZWMzKChhYnMobi54KSArIGFicyhuLnkpKSArIGFicyhuLnopKTsKICAgIGhpZ2hwIHZlYzIgXzExMDsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8xMTAgPSBuLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8xMTAgPSBvY3RhaGVkcm9uV3JhcChuLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF8xMTAueCwgXzExMC55LCBuLnopOwogICAgZnJhZ0NvbG9yWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIDEuMCAtIGdsX0ZyYWdDb29yZC56KTsKICAgIGZyYWdDb2xvclsxXSA9IHZlYzQoYmFzZWNvbCwgcGFja0Zsb2F0MihvY2NsdXNpb24sIHNwZWN1bGFyKSk7CiAgICBoaWdocCB2ZWMyIHBvc2EgPSAoKHd2cHBvc2l0aW9uLnh5IC8gdmVjMih3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgaGlnaHAgdmVjMiBwb3NiID0gKChwcmV2d3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHByZXZ3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgaGlnaHAgdmVjMiBfMTgzID0gdmVjMihwb3NhIC0gcG9zYik7CiAgICBmcmFnQ29sb3JbMl0gPSB2ZWM0KF8xODMueCwgXzE4My55LCBmcmFnQ29sb3JbMl0ueiwgZnJhZ0NvbG9yWzJdLncpOwp9Cgo";kha_Shaders.Blue_mesh_vertData0="s535:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDMgTjsKdW5pZm9ybSBtYXQ0IFdWUDsKdW5pZm9ybSBtYXQ0IHByZXZXVlA7CgppbiB2ZWMzIHBvczsKb3V0IHZlYzIgdGV4Q29vcmQ7CmluIHZlYzIgdGV4OwpvdXQgdmVjMyB3bm9ybWFsOwppbiB2ZWMzIG5vcjsKb3V0IHZlYzQgd3ZwcG9zaXRpb247Cm91dCB2ZWM0IHByZXZ3dnBwb3NpdGlvbjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgdGV4Q29vcmQgPSB0ZXg7CiAgICB3bm9ybWFsID0gbm9ybWFsaXplKE4gKiBub3IpOwogICAgZ2xfUG9zaXRpb24gPSBXVlAgKiBzcG9zOwogICAgd3ZwcG9zaXRpb24gPSBnbF9Qb3NpdGlvbjsKICAgIHByZXZ3dnBwb3NpdGlvbiA9IHByZXZXVlAgKiBzcG9zOwp9Cgo";kha_Shaders.Blue_mesh_vertData1="s652:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0MyBOOwp1bmlmb3JtIG1lZGl1bXAgbWF0NCBXVlA7CnVuaWZvcm0gbWVkaXVtcCBtYXQ0IHByZXZXVlA7CgppbiBtZWRpdW1wIHZlYzMgcG9zOwpvdXQgbWVkaXVtcCB2ZWMyIHRleENvb3JkOwppbiBtZWRpdW1wIHZlYzIgdGV4OwpvdXQgbWVkaXVtcCB2ZWMzIHdub3JtYWw7CmluIG1lZGl1bXAgdmVjMyBub3I7Cm91dCBtZWRpdW1wIHZlYzQgd3ZwcG9zaXRpb247Cm91dCBtZWRpdW1wIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKdm9pZCBtYWluKCkKewogICAgbWVkaXVtcCB2ZWM0IHNwb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIHRleENvb3JkID0gdGV4OwogICAgd25vcm1hbCA9IG5vcm1hbGl6ZShOICogbm9yKTsKICAgIGdsX1Bvc2l0aW9uID0gV1ZQICogc3BvczsKICAgIHd2cHBvc2l0aW9uID0gZ2xfUG9zaXRpb247CiAgICBwcmV2d3ZwcG9zaXRpb24gPSBwcmV2V1ZQICogc3BvczsKfQoK";kha_Shaders.Blue_mesh_vertData2="s535:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDMgTjsKdW5pZm9ybSBtYXQ0IFdWUDsKdW5pZm9ybSBtYXQ0IHByZXZXVlA7CgppbiB2ZWMzIHBvczsKb3V0IHZlYzIgdGV4Q29vcmQ7CmluIHZlYzIgdGV4OwpvdXQgdmVjMyB3bm9ybWFsOwppbiB2ZWMzIG5vcjsKb3V0IHZlYzQgd3ZwcG9zaXRpb247Cm91dCB2ZWM0IHByZXZ3dnBwb3NpdGlvbjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgdGV4Q29vcmQgPSB0ZXg7CiAgICB3bm9ybWFsID0gbm9ybWFsaXplKE4gKiBub3IpOwogICAgZ2xfUG9zaXRpb24gPSBXVlAgKiBzcG9zOwogICAgd3ZwcG9zaXRpb24gPSBnbF9Qb3NpdGlvbjsKICAgIHByZXZ3dnBwb3NpdGlvbiA9IHByZXZXVlAgKiBzcG9zOwp9Cgo";kha_Shaders.Blue_shadowmap_fragData0="s107:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdm9pZCBtYWluKCkKewp9Cgo";kha_Shaders.Blue_shadowmap_fragData1="s110:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp2b2lkIG1haW4oKQp7Cn0KCg";kha_Shaders.Blue_shadowmap_fragData2="s107:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdm9pZCBtYWluKCkKewp9Cgo";kha_Shaders.Blue_shadowmap_vertData0="s175:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDQgTFdWUDsKCmluIHZlYzMgcG9zOwoKdm9pZCBtYWluKCkKewogICAgdmVjNCBzcG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IExXVlAgKiBzcG9zOwp9Cgo";kha_Shaders.Blue_shadowmap_vertData1="s207:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBMV1ZQOwoKaW4gbWVkaXVtcCB2ZWMzIHBvczsKCnZvaWQgbWFpbigpCnsKICAgIG1lZGl1bXAgdmVjNCBzcG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IExXVlAgKiBzcG9zOwp9Cgo";kha_Shaders.Blue_shadowmap_vertData2="s175:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDQgTFdWUDsKCmluIHZlYzMgcG9zOwoKdm9pZCBtYWluKCkKewogICAgdmVjNCBzcG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICBnbF9Qb3NpdGlvbiA9IExXVlAgKiBzcG9zOwp9Cgo";kha_Shaders.Body_armskin_mesh_fragData0="s2250:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmUsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzMgSW1hZ2VUZXh0dXJlX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV9zdG9yZS54eXo7CiAgICBoaWdocCB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuMzE4NDU3NTQzODQ5OTQ1MDY4MzU5Mzc1KTsKICAgIGhpZ2hwIGZsb2F0IHJvdWdobmVzcyA9IEltYWdlVGV4dHVyZV9Db2xvcl9yZXMueDsKICAgIGhpZ2hwIGZsb2F0IG1ldGFsbGljID0gMC4wOwogICAgaGlnaHAgZmxvYXQgb2NjbHVzaW9uID0gMS4wOwogICAgaGlnaHAgZmxvYXQgc3BlY3VsYXIgPSAxLjA7CiAgICBuIC89IHZlYzMoKGFicyhuLngpICsgYWJzKG4ueSkpICsgYWJzKG4ueikpOwogICAgaGlnaHAgdmVjMiBfMTA4OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzEwOCA9IG4ueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzEwOCA9IG9jdGFoZWRyb25XcmFwKG4ueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzEwOC54LCBfMTA4LnksIG4ueik7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgMS4wIC0gZ2xfRnJhZ0Nvb3JkLnopOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBwYWNrRmxvYXQyKG9jY2x1c2lvbiwgc3BlY3VsYXIpKTsKICAgIGhpZ2hwIHZlYzIgcG9zYSA9ICgod3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIHBvc2IgPSAoKHByZXZ3dnBwb3NpdGlvbi54eSAvIHZlYzIocHJldnd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIF8xODEgPSB2ZWMyKHBvc2EgLSBwb3NiKTsKICAgIGZyYWdDb2xvclsyXSA9IHZlYzQoXzE4MS54LCBfMTgxLnksIGZyYWdDb2xvclsyXS56LCBmcmFnQ29sb3JbMl0udyk7Cn0KCg";kha_Shaders.Body_armskin_mesh_fragData1="s2055:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIEltYWdlVGV4dHVyZTsKCmluIHZlYzMgd25vcm1hbDsKaW4gdmVjMiB0ZXhDb29yZDsKb3V0IHZlYzQgZnJhZ0NvbG9yWzNdOwppbiB2ZWM0IHd2cHBvc2l0aW9uOwppbiB2ZWM0IHByZXZ3dnBwb3NpdGlvbjsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKZmxvYXQgcGFja0Zsb2F0KGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMTAwLjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9CgpmbG9hdCBwYWNrRmxvYXQyKGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMjU1LjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICB2ZWM0IEltYWdlVGV4dHVyZV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlLCB0ZXhDb29yZCk7CiAgICB2ZWMzIEltYWdlVGV4dHVyZV9Db2xvcl9yZXMgPSBJbWFnZVRleHR1cmVfc3RvcmUueHl6OwogICAgdmVjMyBiYXNlY29sID0gdmVjMygwLjMxODQ1NzU0Mzg0OTk0NTA2ODM1OTM3NSk7CiAgICBmbG9hdCByb3VnaG5lc3MgPSBJbWFnZVRleHR1cmVfQ29sb3JfcmVzLng7CiAgICBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIGZsb2F0IHNwZWN1bGFyID0gMS4wOwogICAgbiAvPSB2ZWMzKChhYnMobi54KSArIGFicyhuLnkpKSArIGFicyhuLnopKTsKICAgIHZlYzIgXzEwODsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8xMDggPSBuLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8xMDggPSBvY3RhaGVkcm9uV3JhcChuLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF8xMDgueCwgXzEwOC55LCBuLnopOwogICAgZnJhZ0NvbG9yWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIDEuMCAtIGdsX0ZyYWdDb29yZC56KTsKICAgIGZyYWdDb2xvclsxXSA9IHZlYzQoYmFzZWNvbCwgcGFja0Zsb2F0MihvY2NsdXNpb24sIHNwZWN1bGFyKSk7CiAgICB2ZWMyIHBvc2EgPSAoKHd2cHBvc2l0aW9uLnh5IC8gdmVjMih3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgdmVjMiBwb3NiID0gKChwcmV2d3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHByZXZ3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgdmVjMiBfMTgxID0gdmVjMihwb3NhIC0gcG9zYik7CiAgICBmcmFnQ29sb3JbMl0gPSB2ZWM0KF8xODEueCwgXzE4MS55LCBmcmFnQ29sb3JbMl0ueiwgZnJhZ0NvbG9yWzJdLncpOwp9Cgo";kha_Shaders.Body_armskin_mesh_fragData2="s2250:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmUsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzMgSW1hZ2VUZXh0dXJlX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV9zdG9yZS54eXo7CiAgICBoaWdocCB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuMzE4NDU3NTQzODQ5OTQ1MDY4MzU5Mzc1KTsKICAgIGhpZ2hwIGZsb2F0IHJvdWdobmVzcyA9IEltYWdlVGV4dHVyZV9Db2xvcl9yZXMueDsKICAgIGhpZ2hwIGZsb2F0IG1ldGFsbGljID0gMC4wOwogICAgaGlnaHAgZmxvYXQgb2NjbHVzaW9uID0gMS4wOwogICAgaGlnaHAgZmxvYXQgc3BlY3VsYXIgPSAxLjA7CiAgICBuIC89IHZlYzMoKGFicyhuLngpICsgYWJzKG4ueSkpICsgYWJzKG4ueikpOwogICAgaGlnaHAgdmVjMiBfMTA4OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzEwOCA9IG4ueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzEwOCA9IG9jdGFoZWRyb25XcmFwKG4ueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzEwOC54LCBfMTA4LnksIG4ueik7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgMS4wIC0gZ2xfRnJhZ0Nvb3JkLnopOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBwYWNrRmxvYXQyKG9jY2x1c2lvbiwgc3BlY3VsYXIpKTsKICAgIGhpZ2hwIHZlYzIgcG9zYSA9ICgod3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIHBvc2IgPSAoKHByZXZ3dnBwb3NpdGlvbi54eSAvIHZlYzIocHJldnd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIF8xODEgPSB2ZWMyKHBvc2EgLSBwb3NiKTsKICAgIGZyYWdDb2xvclsyXSA9IHZlYzQoXzE4MS54LCBfMTgxLnksIGZyYWdDb2xvclsyXS56LCBmcmFnQ29sb3JbMl0udyk7Cn0KCg";kha_Shaders.Body_armskin_mesh_vertData0="s2242:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIHZlYzQgc2tpbkJvbmVzWzEzNF07CnVuaWZvcm0gbWF0MyBOOwp1bmlmb3JtIG1hdDQgV1ZQOwp1bmlmb3JtIG1hdDQgcHJldldWUDsKCmluIHZlYzMgcG9zOwpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiB0ZXg7CmluIHZlYzQgYm9uZTsKaW4gdmVjNCB3ZWlnaHQ7Cm91dCB2ZWMzIHdub3JtYWw7CmluIHZlYzMgbm9yOwpvdXQgdmVjNCB3dnBwb3NpdGlvbjsKb3V0IHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKdm9pZCBnZXRTa2lubmluZ0R1YWxRdWF0KGl2ZWM0IGJvbmVfMSwgaW5vdXQgdmVjNCB3ZWlnaHRfMSwgaW5vdXQgdmVjNCBBLCBpbm91dCB2ZWM0IEIpCnsKICAgIGl2ZWM0IGJvbmVpID0gYm9uZV8xICogaXZlYzQoMik7CiAgICBtYXQ0IG1hdEEgPSBtYXQ0KHZlYzQoc2tpbkJvbmVzW2JvbmVpLnhdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS56XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnddKSk7CiAgICBtYXQ0IG1hdEIgPSBtYXQ0KHZlYzQoc2tpbkJvbmVzW2JvbmVpLnggKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnkgKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnogKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLncgKyAxXSkpOwogICAgdmVjMyBfMTI5ID0gd2VpZ2h0XzEueHl6ICogc2lnbihtYXRBWzNdICogbWF0QSkueHl6OwogICAgd2VpZ2h0XzEgPSB2ZWM0KF8xMjkueCwgXzEyOS55LCBfMTI5LnosIHdlaWdodF8xLncpOwogICAgQSA9IG1hdEEgKiB3ZWlnaHRfMTsKICAgIEIgPSBtYXRCICogd2VpZ2h0XzE7CiAgICBmbG9hdCBpbnZOb3JtQSA9IDEuMCAvIGxlbmd0aChBKTsKICAgIEEgKj0gaW52Tm9ybUE7CiAgICBCICo9IGludk5vcm1BOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWM0IHNwb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIHRleENvb3JkID0gdGV4OwogICAgdmVjNCBwYXJhbSA9IHdlaWdodDsKICAgIHZlYzQgc2tpbkI7CiAgICB2ZWM0IHBhcmFtXzIgPSBza2luQjsKICAgIHZlYzQgcGFyYW1fMTsKICAgIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQoYm9uZSksIHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKTsKICAgIHZlYzQgc2tpbkEgPSBwYXJhbV8xOwogICAgc2tpbkIgPSBwYXJhbV8yOwogICAgdmVjMyBfMTk2ID0gc3Bvcy54eXogKyAoY3Jvc3Moc2tpbkEueHl6LCBjcm9zcyhza2luQS54eXosIHNwb3MueHl6KSArIChzcG9zLnh5eiAqIHNraW5BLncpKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMTk2LngsIF8xOTYueSwgXzE5Ni56LCBzcG9zLncpOwogICAgdmVjMyBfMjE5ID0gc3Bvcy54eXogKyAoKCgoc2tpbkIueHl6ICogc2tpbkEudykgLSAoc2tpbkEueHl6ICogc2tpbkIudykpICsgY3Jvc3Moc2tpbkEueHl6LCBza2luQi54eXopKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMjE5LngsIF8yMTkueSwgXzIxOS56LCBzcG9zLncpOwogICAgd25vcm1hbCA9IG5vcm1hbGl6ZShOICogKG5vciArIChjcm9zcyhza2luQS54eXosIGNyb3NzKHNraW5BLnh5eiwgbm9yKSArIChub3IgKiBza2luQS53KSkgKiAyLjApKSk7CiAgICBnbF9Qb3NpdGlvbiA9IFdWUCAqIHNwb3M7CiAgICB3dnBwb3NpdGlvbiA9IGdsX1Bvc2l0aW9uOwogICAgcHJldnd2cHBvc2l0aW9uID0gcHJldldWUCAqIHNwb3M7Cn0KCg";kha_Shaders.Body_armskin_mesh_vertData1="s2562:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgdmVjNCBza2luQm9uZXNbMTM0XTsKdW5pZm9ybSBtZWRpdW1wIG1hdDMgTjsKdW5pZm9ybSBtZWRpdW1wIG1hdDQgV1ZQOwp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwcmV2V1ZQOwoKaW4gbWVkaXVtcCB2ZWMzIHBvczsKb3V0IG1lZGl1bXAgdmVjMiB0ZXhDb29yZDsKaW4gbWVkaXVtcCB2ZWMyIHRleDsKaW4gbWVkaXVtcCB2ZWM0IGJvbmU7CmluIG1lZGl1bXAgdmVjNCB3ZWlnaHQ7Cm91dCBtZWRpdW1wIHZlYzMgd25vcm1hbDsKaW4gbWVkaXVtcCB2ZWMzIG5vcjsKb3V0IG1lZGl1bXAgdmVjNCB3dnBwb3NpdGlvbjsKb3V0IG1lZGl1bXAgdmVjNCBwcmV2d3ZwcG9zaXRpb247Cgp2b2lkIGdldFNraW5uaW5nRHVhbFF1YXQobWVkaXVtcCBpdmVjNCBib25lXzEsIGlub3V0IG1lZGl1bXAgdmVjNCB3ZWlnaHRfMSwgaW5vdXQgbWVkaXVtcCB2ZWM0IEEsIGlub3V0IG1lZGl1bXAgdmVjNCBCKQp7CiAgICBtZWRpdW1wIGl2ZWM0IGJvbmVpID0gYm9uZV8xICogaXZlYzQoMik7CiAgICBtZWRpdW1wIG1hdDQgbWF0QSA9IG1hdDQodmVjNChza2luQm9uZXNbYm9uZWkueF0pLCB2ZWM0KHNraW5Cb25lc1tib25laS55XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnpdKSwgdmVjNChza2luQm9uZXNbYm9uZWkud10pKTsKICAgIG1lZGl1bXAgbWF0NCBtYXRCID0gbWF0NCh2ZWM0KHNraW5Cb25lc1tib25laS54ICsgMV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS55ICsgMV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS56ICsgMV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS53ICsgMV0pKTsKICAgIG1lZGl1bXAgdmVjMyBfMTI5ID0gd2VpZ2h0XzEueHl6ICogc2lnbihtYXRBWzNdICogbWF0QSkueHl6OwogICAgd2VpZ2h0XzEgPSB2ZWM0KF8xMjkueCwgXzEyOS55LCBfMTI5LnosIHdlaWdodF8xLncpOwogICAgQSA9IG1hdEEgKiB3ZWlnaHRfMTsKICAgIEIgPSBtYXRCICogd2VpZ2h0XzE7CiAgICBtZWRpdW1wIGZsb2F0IGludk5vcm1BID0gMS4wIC8gbGVuZ3RoKEEpOwogICAgQSAqPSBpbnZOb3JtQTsKICAgIEIgKj0gaW52Tm9ybUE7Cn0KCnZvaWQgbWFpbigpCnsKICAgIG1lZGl1bXAgdmVjNCBzcG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICB0ZXhDb29yZCA9IHRleDsKICAgIG1lZGl1bXAgdmVjNCBwYXJhbSA9IHdlaWdodDsKICAgIG1lZGl1bXAgdmVjNCBza2luQjsKICAgIG1lZGl1bXAgdmVjNCBwYXJhbV8yID0gc2tpbkI7CiAgICBtZWRpdW1wIHZlYzQgcGFyYW1fMTsKICAgIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQoYm9uZSksIHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKTsKICAgIG1lZGl1bXAgdmVjNCBza2luQSA9IHBhcmFtXzE7CiAgICBza2luQiA9IHBhcmFtXzI7CiAgICBtZWRpdW1wIHZlYzMgXzE5NiA9IHNwb3MueHl6ICsgKGNyb3NzKHNraW5BLnh5eiwgY3Jvc3Moc2tpbkEueHl6LCBzcG9zLnh5eikgKyAoc3Bvcy54eXogKiBza2luQS53KSkgKiAyLjApOwogICAgc3BvcyA9IHZlYzQoXzE5Ni54LCBfMTk2LnksIF8xOTYueiwgc3Bvcy53KTsKICAgIG1lZGl1bXAgdmVjMyBfMjE5ID0gc3Bvcy54eXogKyAoKCgoc2tpbkIueHl6ICogc2tpbkEudykgLSAoc2tpbkEueHl6ICogc2tpbkIudykpICsgY3Jvc3Moc2tpbkEueHl6LCBza2luQi54eXopKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMjE5LngsIF8yMTkueSwgXzIxOS56LCBzcG9zLncpOwogICAgd25vcm1hbCA9IG5vcm1hbGl6ZShOICogKG5vciArIChjcm9zcyhza2luQS54eXosIGNyb3NzKHNraW5BLnh5eiwgbm9yKSArIChub3IgKiBza2luQS53KSkgKiAyLjApKSk7CiAgICBnbF9Qb3NpdGlvbiA9IFdWUCAqIHNwb3M7CiAgICB3dnBwb3NpdGlvbiA9IGdsX1Bvc2l0aW9uOwogICAgcHJldnd2cHBvc2l0aW9uID0gcHJldldWUCAqIHNwb3M7Cn0KCg";kha_Shaders.Body_armskin_mesh_vertData2="s2242:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIHZlYzQgc2tpbkJvbmVzWzEzNF07CnVuaWZvcm0gbWF0MyBOOwp1bmlmb3JtIG1hdDQgV1ZQOwp1bmlmb3JtIG1hdDQgcHJldldWUDsKCmluIHZlYzMgcG9zOwpvdXQgdmVjMiB0ZXhDb29yZDsKaW4gdmVjMiB0ZXg7CmluIHZlYzQgYm9uZTsKaW4gdmVjNCB3ZWlnaHQ7Cm91dCB2ZWMzIHdub3JtYWw7CmluIHZlYzMgbm9yOwpvdXQgdmVjNCB3dnBwb3NpdGlvbjsKb3V0IHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKdm9pZCBnZXRTa2lubmluZ0R1YWxRdWF0KGl2ZWM0IGJvbmVfMSwgaW5vdXQgdmVjNCB3ZWlnaHRfMSwgaW5vdXQgdmVjNCBBLCBpbm91dCB2ZWM0IEIpCnsKICAgIGl2ZWM0IGJvbmVpID0gYm9uZV8xICogaXZlYzQoMik7CiAgICBtYXQ0IG1hdEEgPSBtYXQ0KHZlYzQoc2tpbkJvbmVzW2JvbmVpLnhdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS56XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnddKSk7CiAgICBtYXQ0IG1hdEIgPSBtYXQ0KHZlYzQoc2tpbkJvbmVzW2JvbmVpLnggKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnkgKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnogKyAxXSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLncgKyAxXSkpOwogICAgdmVjMyBfMTI5ID0gd2VpZ2h0XzEueHl6ICogc2lnbihtYXRBWzNdICogbWF0QSkueHl6OwogICAgd2VpZ2h0XzEgPSB2ZWM0KF8xMjkueCwgXzEyOS55LCBfMTI5LnosIHdlaWdodF8xLncpOwogICAgQSA9IG1hdEEgKiB3ZWlnaHRfMTsKICAgIEIgPSBtYXRCICogd2VpZ2h0XzE7CiAgICBmbG9hdCBpbnZOb3JtQSA9IDEuMCAvIGxlbmd0aChBKTsKICAgIEEgKj0gaW52Tm9ybUE7CiAgICBCICo9IGludk5vcm1BOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWM0IHNwb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIHRleENvb3JkID0gdGV4OwogICAgdmVjNCBwYXJhbSA9IHdlaWdodDsKICAgIHZlYzQgc2tpbkI7CiAgICB2ZWM0IHBhcmFtXzIgPSBza2luQjsKICAgIHZlYzQgcGFyYW1fMTsKICAgIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQoYm9uZSksIHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKTsKICAgIHZlYzQgc2tpbkEgPSBwYXJhbV8xOwogICAgc2tpbkIgPSBwYXJhbV8yOwogICAgdmVjMyBfMTk2ID0gc3Bvcy54eXogKyAoY3Jvc3Moc2tpbkEueHl6LCBjcm9zcyhza2luQS54eXosIHNwb3MueHl6KSArIChzcG9zLnh5eiAqIHNraW5BLncpKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMTk2LngsIF8xOTYueSwgXzE5Ni56LCBzcG9zLncpOwogICAgdmVjMyBfMjE5ID0gc3Bvcy54eXogKyAoKCgoc2tpbkIueHl6ICogc2tpbkEudykgLSAoc2tpbkEueHl6ICogc2tpbkIudykpICsgY3Jvc3Moc2tpbkEueHl6LCBza2luQi54eXopKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMjE5LngsIF8yMTkueSwgXzIxOS56LCBzcG9zLncpOwogICAgd25vcm1hbCA9IG5vcm1hbGl6ZShOICogKG5vciArIChjcm9zcyhza2luQS54eXosIGNyb3NzKHNraW5BLnh5eiwgbm9yKSArIChub3IgKiBza2luQS53KSkgKiAyLjApKSk7CiAgICBnbF9Qb3NpdGlvbiA9IFdWUCAqIHNwb3M7CiAgICB3dnBwb3NpdGlvbiA9IGdsX1Bvc2l0aW9uOwogICAgcHJldnd2cHBvc2l0aW9uID0gcHJldldWUCAqIHNwb3M7Cn0KCg";kha_Shaders.Body_armskin_shadowmap_vertData0="s1788:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIHZlYzQgc2tpbkJvbmVzWzEzNF07CnVuaWZvcm0gbWF0NCBMV1ZQOwoKaW4gdmVjMyBwb3M7CmluIHZlYzQgYm9uZTsKaW4gdmVjNCB3ZWlnaHQ7Cgp2b2lkIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQgYm9uZV8xLCBpbm91dCB2ZWM0IHdlaWdodF8xLCBpbm91dCB2ZWM0IEEsIGlub3V0IHZlYzQgQikKewogICAgaXZlYzQgYm9uZWkgPSBib25lXzEgKiBpdmVjNCgyKTsKICAgIG1hdDQgbWF0QSA9IG1hdDQodmVjNChza2luQm9uZXNbYm9uZWkueF0pLCB2ZWM0KHNraW5Cb25lc1tib25laS55XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnpdKSwgdmVjNChza2luQm9uZXNbYm9uZWkud10pKTsKICAgIG1hdDQgbWF0QiA9IG1hdDQodmVjNChza2luQm9uZXNbYm9uZWkueCArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueSArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueiArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkudyArIDFdKSk7CiAgICB2ZWMzIF8xMjkgPSB3ZWlnaHRfMS54eXogKiBzaWduKG1hdEFbM10gKiBtYXRBKS54eXo7CiAgICB3ZWlnaHRfMSA9IHZlYzQoXzEyOS54LCBfMTI5LnksIF8xMjkueiwgd2VpZ2h0XzEudyk7CiAgICBBID0gbWF0QSAqIHdlaWdodF8xOwogICAgQiA9IG1hdEIgKiB3ZWlnaHRfMTsKICAgIGZsb2F0IGludk5vcm1BID0gMS4wIC8gbGVuZ3RoKEEpOwogICAgQSAqPSBpbnZOb3JtQTsKICAgIEIgKj0gaW52Tm9ybUE7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgdmVjNCBwYXJhbSA9IHdlaWdodDsKICAgIHZlYzQgc2tpbkI7CiAgICB2ZWM0IHBhcmFtXzIgPSBza2luQjsKICAgIHZlYzQgcGFyYW1fMTsKICAgIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQoYm9uZSksIHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKTsKICAgIHZlYzQgc2tpbkEgPSBwYXJhbV8xOwogICAgc2tpbkIgPSBwYXJhbV8yOwogICAgdmVjMyBfMTkwID0gc3Bvcy54eXogKyAoY3Jvc3Moc2tpbkEueHl6LCBjcm9zcyhza2luQS54eXosIHNwb3MueHl6KSArIChzcG9zLnh5eiAqIHNraW5BLncpKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMTkwLngsIF8xOTAueSwgXzE5MC56LCBzcG9zLncpOwogICAgdmVjMyBfMjEzID0gc3Bvcy54eXogKyAoKCgoc2tpbkIueHl6ICogc2tpbkEudykgLSAoc2tpbkEueHl6ICogc2tpbkIudykpICsgY3Jvc3Moc2tpbkEueHl6LCBza2luQi54eXopKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMjEzLngsIF8yMTMueSwgXzIxMy56LCBzcG9zLncpOwogICAgZ2xfUG9zaXRpb24gPSBMV1ZQICogc3BvczsKfQoK";kha_Shaders.Body_armskin_shadowmap_vertData1="s2023:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgdmVjNCBza2luQm9uZXNbMTM0XTsKdW5pZm9ybSBtZWRpdW1wIG1hdDQgTFdWUDsKCmluIG1lZGl1bXAgdmVjMyBwb3M7CmluIG1lZGl1bXAgdmVjNCBib25lOwppbiBtZWRpdW1wIHZlYzQgd2VpZ2h0OwoKdm9pZCBnZXRTa2lubmluZ0R1YWxRdWF0KG1lZGl1bXAgaXZlYzQgYm9uZV8xLCBpbm91dCBtZWRpdW1wIHZlYzQgd2VpZ2h0XzEsIGlub3V0IG1lZGl1bXAgdmVjNCBBLCBpbm91dCBtZWRpdW1wIHZlYzQgQikKewogICAgbWVkaXVtcCBpdmVjNCBib25laSA9IGJvbmVfMSAqIGl2ZWM0KDIpOwogICAgbWVkaXVtcCBtYXQ0IG1hdEEgPSBtYXQ0KHZlYzQoc2tpbkJvbmVzW2JvbmVpLnhdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueV0pLCB2ZWM0KHNraW5Cb25lc1tib25laS56XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnddKSk7CiAgICBtZWRpdW1wIG1hdDQgbWF0QiA9IG1hdDQodmVjNChza2luQm9uZXNbYm9uZWkueCArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueSArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueiArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkudyArIDFdKSk7CiAgICBtZWRpdW1wIHZlYzMgXzEyOSA9IHdlaWdodF8xLnh5eiAqIHNpZ24obWF0QVszXSAqIG1hdEEpLnh5ejsKICAgIHdlaWdodF8xID0gdmVjNChfMTI5LngsIF8xMjkueSwgXzEyOS56LCB3ZWlnaHRfMS53KTsKICAgIEEgPSBtYXRBICogd2VpZ2h0XzE7CiAgICBCID0gbWF0QiAqIHdlaWdodF8xOwogICAgbWVkaXVtcCBmbG9hdCBpbnZOb3JtQSA9IDEuMCAvIGxlbmd0aChBKTsKICAgIEEgKj0gaW52Tm9ybUE7CiAgICBCICo9IGludk5vcm1BOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBtZWRpdW1wIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgbWVkaXVtcCB2ZWM0IHBhcmFtID0gd2VpZ2h0OwogICAgbWVkaXVtcCB2ZWM0IHNraW5COwogICAgbWVkaXVtcCB2ZWM0IHBhcmFtXzIgPSBza2luQjsKICAgIG1lZGl1bXAgdmVjNCBwYXJhbV8xOwogICAgZ2V0U2tpbm5pbmdEdWFsUXVhdChpdmVjNChib25lKSwgcGFyYW0sIHBhcmFtXzEsIHBhcmFtXzIpOwogICAgbWVkaXVtcCB2ZWM0IHNraW5BID0gcGFyYW1fMTsKICAgIHNraW5CID0gcGFyYW1fMjsKICAgIG1lZGl1bXAgdmVjMyBfMTkwID0gc3Bvcy54eXogKyAoY3Jvc3Moc2tpbkEueHl6LCBjcm9zcyhza2luQS54eXosIHNwb3MueHl6KSArIChzcG9zLnh5eiAqIHNraW5BLncpKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMTkwLngsIF8xOTAueSwgXzE5MC56LCBzcG9zLncpOwogICAgbWVkaXVtcCB2ZWMzIF8yMTMgPSBzcG9zLnh5eiArICgoKChza2luQi54eXogKiBza2luQS53KSAtIChza2luQS54eXogKiBza2luQi53KSkgKyBjcm9zcyhza2luQS54eXosIHNraW5CLnh5eikpICogMi4wKTsKICAgIHNwb3MgPSB2ZWM0KF8yMTMueCwgXzIxMy55LCBfMjEzLnosIHNwb3Mudyk7CiAgICBnbF9Qb3NpdGlvbiA9IExXVlAgKiBzcG9zOwp9Cgo";kha_Shaders.Body_armskin_shadowmap_vertData2="s1788:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIHZlYzQgc2tpbkJvbmVzWzEzNF07CnVuaWZvcm0gbWF0NCBMV1ZQOwoKaW4gdmVjMyBwb3M7CmluIHZlYzQgYm9uZTsKaW4gdmVjNCB3ZWlnaHQ7Cgp2b2lkIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQgYm9uZV8xLCBpbm91dCB2ZWM0IHdlaWdodF8xLCBpbm91dCB2ZWM0IEEsIGlub3V0IHZlYzQgQikKewogICAgaXZlYzQgYm9uZWkgPSBib25lXzEgKiBpdmVjNCgyKTsKICAgIG1hdDQgbWF0QSA9IG1hdDQodmVjNChza2luQm9uZXNbYm9uZWkueF0pLCB2ZWM0KHNraW5Cb25lc1tib25laS55XSksIHZlYzQoc2tpbkJvbmVzW2JvbmVpLnpdKSwgdmVjNChza2luQm9uZXNbYm9uZWkud10pKTsKICAgIG1hdDQgbWF0QiA9IG1hdDQodmVjNChza2luQm9uZXNbYm9uZWkueCArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueSArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkueiArIDFdKSwgdmVjNChza2luQm9uZXNbYm9uZWkudyArIDFdKSk7CiAgICB2ZWMzIF8xMjkgPSB3ZWlnaHRfMS54eXogKiBzaWduKG1hdEFbM10gKiBtYXRBKS54eXo7CiAgICB3ZWlnaHRfMSA9IHZlYzQoXzEyOS54LCBfMTI5LnksIF8xMjkueiwgd2VpZ2h0XzEudyk7CiAgICBBID0gbWF0QSAqIHdlaWdodF8xOwogICAgQiA9IG1hdEIgKiB3ZWlnaHRfMTsKICAgIGZsb2F0IGludk5vcm1BID0gMS4wIC8gbGVuZ3RoKEEpOwogICAgQSAqPSBpbnZOb3JtQTsKICAgIEIgKj0gaW52Tm9ybUE7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgdmVjNCBwYXJhbSA9IHdlaWdodDsKICAgIHZlYzQgc2tpbkI7CiAgICB2ZWM0IHBhcmFtXzIgPSBza2luQjsKICAgIHZlYzQgcGFyYW1fMTsKICAgIGdldFNraW5uaW5nRHVhbFF1YXQoaXZlYzQoYm9uZSksIHBhcmFtLCBwYXJhbV8xLCBwYXJhbV8yKTsKICAgIHZlYzQgc2tpbkEgPSBwYXJhbV8xOwogICAgc2tpbkIgPSBwYXJhbV8yOwogICAgdmVjMyBfMTkwID0gc3Bvcy54eXogKyAoY3Jvc3Moc2tpbkEueHl6LCBjcm9zcyhza2luQS54eXosIHNwb3MueHl6KSArIChzcG9zLnh5eiAqIHNraW5BLncpKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMTkwLngsIF8xOTAueSwgXzE5MC56LCBzcG9zLncpOwogICAgdmVjMyBfMjEzID0gc3Bvcy54eXogKyAoKCgoc2tpbkIueHl6ICogc2tpbkEudykgLSAoc2tpbkEueHl6ICogc2tpbkIudykpICsgY3Jvc3Moc2tpbkEueHl6LCBza2luQi54eXopKSAqIDIuMCk7CiAgICBzcG9zID0gdmVjNChfMjEzLngsIF8yMTMueSwgXzIxMy56LCBzcG9zLncpOwogICAgZ2xfUG9zaXRpb24gPSBMV1ZQICogc3BvczsKfQoK";kha_Shaders.Bot_armskin_mesh_fragData0="s2250:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmUsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzMgSW1hZ2VUZXh0dXJlX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV9zdG9yZS54eXo7CiAgICBoaWdocCB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuODAwMDAwMDExOTIwOTI4OTU1MDc4MTI1KTsKICAgIGhpZ2hwIGZsb2F0IHJvdWdobmVzcyA9IEltYWdlVGV4dHVyZV9Db2xvcl9yZXMueDsKICAgIGhpZ2hwIGZsb2F0IG1ldGFsbGljID0gMC4wOwogICAgaGlnaHAgZmxvYXQgb2NjbHVzaW9uID0gMS4wOwogICAgaGlnaHAgZmxvYXQgc3BlY3VsYXIgPSAxLjA7CiAgICBuIC89IHZlYzMoKGFicyhuLngpICsgYWJzKG4ueSkpICsgYWJzKG4ueikpOwogICAgaGlnaHAgdmVjMiBfMTA4OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzEwOCA9IG4ueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzEwOCA9IG9jdGFoZWRyb25XcmFwKG4ueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzEwOC54LCBfMTA4LnksIG4ueik7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgMS4wIC0gZ2xfRnJhZ0Nvb3JkLnopOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBwYWNrRmxvYXQyKG9jY2x1c2lvbiwgc3BlY3VsYXIpKTsKICAgIGhpZ2hwIHZlYzIgcG9zYSA9ICgod3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIHBvc2IgPSAoKHByZXZ3dnBwb3NpdGlvbi54eSAvIHZlYzIocHJldnd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIF8xODEgPSB2ZWMyKHBvc2EgLSBwb3NiKTsKICAgIGZyYWdDb2xvclsyXSA9IHZlYzQoXzE4MS54LCBfMTgxLnksIGZyYWdDb2xvclsyXS56LCBmcmFnQ29sb3JbMl0udyk7Cn0KCg";kha_Shaders.Bot_armskin_mesh_fragData1="s2055:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIEltYWdlVGV4dHVyZTsKCmluIHZlYzMgd25vcm1hbDsKaW4gdmVjMiB0ZXhDb29yZDsKb3V0IHZlYzQgZnJhZ0NvbG9yWzNdOwppbiB2ZWM0IHd2cHBvc2l0aW9uOwppbiB2ZWM0IHByZXZ3dnBwb3NpdGlvbjsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKZmxvYXQgcGFja0Zsb2F0KGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMTAwLjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9CgpmbG9hdCBwYWNrRmxvYXQyKGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMjU1LjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICB2ZWM0IEltYWdlVGV4dHVyZV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlLCB0ZXhDb29yZCk7CiAgICB2ZWMzIEltYWdlVGV4dHVyZV9Db2xvcl9yZXMgPSBJbWFnZVRleHR1cmVfc3RvcmUueHl6OwogICAgdmVjMyBiYXNlY29sID0gdmVjMygwLjgwMDAwMDAxMTkyMDkyODk1NTA3ODEyNSk7CiAgICBmbG9hdCByb3VnaG5lc3MgPSBJbWFnZVRleHR1cmVfQ29sb3JfcmVzLng7CiAgICBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIGZsb2F0IHNwZWN1bGFyID0gMS4wOwogICAgbiAvPSB2ZWMzKChhYnMobi54KSArIGFicyhuLnkpKSArIGFicyhuLnopKTsKICAgIHZlYzIgXzEwODsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8xMDggPSBuLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8xMDggPSBvY3RhaGVkcm9uV3JhcChuLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF8xMDgueCwgXzEwOC55LCBuLnopOwogICAgZnJhZ0NvbG9yWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIDEuMCAtIGdsX0ZyYWdDb29yZC56KTsKICAgIGZyYWdDb2xvclsxXSA9IHZlYzQoYmFzZWNvbCwgcGFja0Zsb2F0MihvY2NsdXNpb24sIHNwZWN1bGFyKSk7CiAgICB2ZWMyIHBvc2EgPSAoKHd2cHBvc2l0aW9uLnh5IC8gdmVjMih3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgdmVjMiBwb3NiID0gKChwcmV2d3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHByZXZ3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgdmVjMiBfMTgxID0gdmVjMihwb3NhIC0gcG9zYik7CiAgICBmcmFnQ29sb3JbMl0gPSB2ZWM0KF8xODEueCwgXzE4MS55LCBmcmFnQ29sb3JbMl0ueiwgZnJhZ0NvbG9yWzJdLncpOwp9Cgo";kha_Shaders.Bot_armskin_mesh_fragData2="s2250:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmUsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzMgSW1hZ2VUZXh0dXJlX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV9zdG9yZS54eXo7CiAgICBoaWdocCB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuODAwMDAwMDExOTIwOTI4OTU1MDc4MTI1KTsKICAgIGhpZ2hwIGZsb2F0IHJvdWdobmVzcyA9IEltYWdlVGV4dHVyZV9Db2xvcl9yZXMueDsKICAgIGhpZ2hwIGZsb2F0IG1ldGFsbGljID0gMC4wOwogICAgaGlnaHAgZmxvYXQgb2NjbHVzaW9uID0gMS4wOwogICAgaGlnaHAgZmxvYXQgc3BlY3VsYXIgPSAxLjA7CiAgICBuIC89IHZlYzMoKGFicyhuLngpICsgYWJzKG4ueSkpICsgYWJzKG4ueikpOwogICAgaGlnaHAgdmVjMiBfMTA4OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzEwOCA9IG4ueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzEwOCA9IG9jdGFoZWRyb25XcmFwKG4ueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzEwOC54LCBfMTA4LnksIG4ueik7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgMS4wIC0gZ2xfRnJhZ0Nvb3JkLnopOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBwYWNrRmxvYXQyKG9jY2x1c2lvbiwgc3BlY3VsYXIpKTsKICAgIGhpZ2hwIHZlYzIgcG9zYSA9ICgod3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIHBvc2IgPSAoKHByZXZ3dnBwb3NpdGlvbi54eSAvIHZlYzIocHJldnd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIF8xODEgPSB2ZWMyKHBvc2EgLSBwb3NiKTsKICAgIGZyYWdDb2xvclsyXSA9IHZlYzQoXzE4MS54LCBfMTgxLnksIGZyYWdDb2xvclsyXS56LCBmcmFnQ29sb3JbMl0udyk7Cn0KCg";kha_Shaders.Decal2_decal_fragData0="s3030:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlckQ7CnVuaWZvcm0gaGlnaHAgbWF0NCBpbnZWUDsKdW5pZm9ybSBoaWdocCBtYXQ0IGludlc7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIEltYWdlVGV4dHVyZTsKCmluIGhpZ2hwIHZlYzMgd25vcm1hbDsKaW4gaGlnaHAgdmVjNCB3dnBwb3NpdGlvbjsKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yWzJdOwoKaGlnaHAgdmVjMyBnZXRQb3MyKGhpZ2hwIG1hdDQgaW52VlBfMSwgaGlnaHAgZmxvYXQgZGVwdGgsIGhpZ2hwIHZlYzIgY29vcmQpCnsKICAgIGhpZ2hwIHZlYzQgcG9zID0gdmVjNCgoY29vcmQgKiAyLjApIC0gdmVjMigxLjApLCBkZXB0aCwgMS4wKTsKICAgIHBvcyA9IGludlZQXzEgKiBwb3M7CiAgICBoaWdocCB2ZWMzIF82NSA9IHBvcy54eXogLyB2ZWMzKHBvcy53KTsKICAgIHBvcyA9IHZlYzQoXzY1LngsIF82NS55LCBfNjUueiwgcG9zLncpOwogICAgcmV0dXJuIHBvcy54eXo7Cn0KCmhpZ2hwIHZlYzIgb2N0YWhlZHJvbldyYXAoaGlnaHAgdmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKaGlnaHAgZmxvYXQgcGFja0Zsb2F0KGhpZ2hwIGZsb2F0IGYxLCBoaWdocCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMTAwLjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICBoaWdocCB2ZWMyIHNjcmVlblBvc2l0aW9uID0gd3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHd2cHBvc2l0aW9uLncpOwogICAgaGlnaHAgdmVjMiBkZXB0aENvb3JkID0gKHNjcmVlblBvc2l0aW9uICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIGZsb2F0IGRlcHRoID0gKHRleHR1cmUoZ2J1ZmZlckQsIGRlcHRoQ29vcmQpLnggKiAyLjApIC0gMS4wOwogICAgaGlnaHAgdmVjMyB3cG9zID0gZ2V0UG9zMihpbnZWUCwgZGVwdGgsIGRlcHRoQ29vcmQpOwogICAgaGlnaHAgdmVjNCBtcG9zID0gaW52VyAqIHZlYzQod3BvcywgMS4wKTsKICAgIGlmIChhYnMobXBvcy54KSA%IDEuMCkKICAgIHsKICAgICAgICBkaXNjYXJkOwogICAgfQogICAgaWYgKGFicyhtcG9zLnkpID4gMS4wKQogICAgewogICAgICAgIGRpc2NhcmQ7CiAgICB9CiAgICBpZiAoYWJzKG1wb3MueikgPiAxLjApCiAgICB7CiAgICAgICAgZGlzY2FyZDsKICAgIH0KICAgIGhpZ2hwIHZlYzIgdGV4Q29vcmQgPSAobXBvcy54eSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWM0IEltYWdlVGV4dHVyZV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlLCB0ZXhDb29yZCk7CiAgICBoaWdocCB2ZWMzIF8xNjcgPSBwb3coSW1hZ2VUZXh0dXJlX3N0b3JlLnh5eiwgdmVjMygyLjIwMDAwMDA0NzY4MzcxNTgyMDMxMjUpKTsKICAgIEltYWdlVGV4dHVyZV9zdG9yZSA9IHZlYzQoXzE2Ny54LCBfMTY3LnksIF8xNjcueiwgSW1hZ2VUZXh0dXJlX3N0b3JlLncpOwogICAgaGlnaHAgdmVjMyBJbWFnZVRleHR1cmVfQ29sb3JfcmVzID0gSW1hZ2VUZXh0dXJlX3N0b3JlLnh5ejsKICAgIGhpZ2hwIHZlYzMgYmFzZWNvbCA9IEltYWdlVGV4dHVyZV9Db2xvcl9yZXM7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSAwLjYwMDAwMDAyMzg0MTg1NzkxMDE1NjI1OwogICAgaGlnaHAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBoaWdocCBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICBoaWdocCB2ZWMyIF8xOTc7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTk3ID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTk3ID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTk3LngsIF8xOTcueSwgbi56KTsKICAgIGhpZ2hwIGZsb2F0IGFscGhhID0gSW1hZ2VUZXh0dXJlX3N0b3JlLnc7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgYWxwaGEpOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBhbHBoYSk7Cn0KCg";kha_Shaders.Decal2_decal_fragData1="s2774:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIGdidWZmZXJEOwp1bmlmb3JtIG1hdDQgaW52VlA7CnVuaWZvcm0gbWF0NCBpbnZXOwp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIEltYWdlVGV4dHVyZTsKCmluIHZlYzMgd25vcm1hbDsKaW4gdmVjNCB3dnBwb3NpdGlvbjsKb3V0IHZlYzQgZnJhZ0NvbG9yWzJdOwoKdmVjMyBnZXRQb3MyKG1hdDQgaW52VlBfMSwgZmxvYXQgZGVwdGgsIHZlYzIgY29vcmQpCnsKICAgIHZlYzQgcG9zID0gdmVjNCgoY29vcmQgKiAyLjApIC0gdmVjMigxLjApLCBkZXB0aCwgMS4wKTsKICAgIHBvcyA9IGludlZQXzEgKiBwb3M7CiAgICB2ZWMzIF82NSA9IHBvcy54eXogLyB2ZWMzKHBvcy53KTsKICAgIHBvcyA9IHZlYzQoXzY1LngsIF82NS55LCBfNjUueiwgcG9zLncpOwogICAgcmV0dXJuIHBvcy54eXo7Cn0KCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKZmxvYXQgcGFja0Zsb2F0KGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMTAwLjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICB2ZWMyIHNjcmVlblBvc2l0aW9uID0gd3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHd2cHBvc2l0aW9uLncpOwogICAgdmVjMiBkZXB0aENvb3JkID0gKHNjcmVlblBvc2l0aW9uICogMC41KSArIHZlYzIoMC41KTsKICAgIGZsb2F0IGRlcHRoID0gKHRleHR1cmUoZ2J1ZmZlckQsIGRlcHRoQ29vcmQpLnggKiAyLjApIC0gMS4wOwogICAgdmVjMyB3cG9zID0gZ2V0UG9zMihpbnZWUCwgZGVwdGgsIGRlcHRoQ29vcmQpOwogICAgdmVjNCBtcG9zID0gaW52VyAqIHZlYzQod3BvcywgMS4wKTsKICAgIGlmIChhYnMobXBvcy54KSA%IDEuMCkKICAgIHsKICAgICAgICBkaXNjYXJkOwogICAgfQogICAgaWYgKGFicyhtcG9zLnkpID4gMS4wKQogICAgewogICAgICAgIGRpc2NhcmQ7CiAgICB9CiAgICBpZiAoYWJzKG1wb3MueikgPiAxLjApCiAgICB7CiAgICAgICAgZGlzY2FyZDsKICAgIH0KICAgIHZlYzIgdGV4Q29vcmQgPSAobXBvcy54eSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICB2ZWM0IEltYWdlVGV4dHVyZV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlLCB0ZXhDb29yZCk7CiAgICB2ZWMzIF8xNjcgPSBwb3coSW1hZ2VUZXh0dXJlX3N0b3JlLnh5eiwgdmVjMygyLjIwMDAwMDA0NzY4MzcxNTgyMDMxMjUpKTsKICAgIEltYWdlVGV4dHVyZV9zdG9yZSA9IHZlYzQoXzE2Ny54LCBfMTY3LnksIF8xNjcueiwgSW1hZ2VUZXh0dXJlX3N0b3JlLncpOwogICAgdmVjMyBJbWFnZVRleHR1cmVfQ29sb3JfcmVzID0gSW1hZ2VUZXh0dXJlX3N0b3JlLnh5ejsKICAgIHZlYzMgYmFzZWNvbCA9IEltYWdlVGV4dHVyZV9Db2xvcl9yZXM7CiAgICBmbG9hdCByb3VnaG5lc3MgPSAwLjYwMDAwMDAyMzg0MTg1NzkxMDE1NjI1OwogICAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICB2ZWMyIF8xOTc7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTk3ID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTk3ID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTk3LngsIF8xOTcueSwgbi56KTsKICAgIGZsb2F0IGFscGhhID0gSW1hZ2VUZXh0dXJlX3N0b3JlLnc7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgYWxwaGEpOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBhbHBoYSk7Cn0KCg";kha_Shaders.Decal2_decal_fragData2="s3030:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlckQ7CnVuaWZvcm0gaGlnaHAgbWF0NCBpbnZWUDsKdW5pZm9ybSBoaWdocCBtYXQ0IGludlc7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIEltYWdlVGV4dHVyZTsKCmluIGhpZ2hwIHZlYzMgd25vcm1hbDsKaW4gaGlnaHAgdmVjNCB3dnBwb3NpdGlvbjsKb3V0IGhpZ2hwIHZlYzQgZnJhZ0NvbG9yWzJdOwoKaGlnaHAgdmVjMyBnZXRQb3MyKGhpZ2hwIG1hdDQgaW52VlBfMSwgaGlnaHAgZmxvYXQgZGVwdGgsIGhpZ2hwIHZlYzIgY29vcmQpCnsKICAgIGhpZ2hwIHZlYzQgcG9zID0gdmVjNCgoY29vcmQgKiAyLjApIC0gdmVjMigxLjApLCBkZXB0aCwgMS4wKTsKICAgIHBvcyA9IGludlZQXzEgKiBwb3M7CiAgICBoaWdocCB2ZWMzIF82NSA9IHBvcy54eXogLyB2ZWMzKHBvcy53KTsKICAgIHBvcyA9IHZlYzQoXzY1LngsIF82NS55LCBfNjUueiwgcG9zLncpOwogICAgcmV0dXJuIHBvcy54eXo7Cn0KCmhpZ2hwIHZlYzIgb2N0YWhlZHJvbldyYXAoaGlnaHAgdmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKaGlnaHAgZmxvYXQgcGFja0Zsb2F0KGhpZ2hwIGZsb2F0IGYxLCBoaWdocCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMTAwLjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBoaWdocCB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICBoaWdocCB2ZWMyIHNjcmVlblBvc2l0aW9uID0gd3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHd2cHBvc2l0aW9uLncpOwogICAgaGlnaHAgdmVjMiBkZXB0aENvb3JkID0gKHNjcmVlblBvc2l0aW9uICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIGZsb2F0IGRlcHRoID0gKHRleHR1cmUoZ2J1ZmZlckQsIGRlcHRoQ29vcmQpLnggKiAyLjApIC0gMS4wOwogICAgaGlnaHAgdmVjMyB3cG9zID0gZ2V0UG9zMihpbnZWUCwgZGVwdGgsIGRlcHRoQ29vcmQpOwogICAgaGlnaHAgdmVjNCBtcG9zID0gaW52VyAqIHZlYzQod3BvcywgMS4wKTsKICAgIGlmIChhYnMobXBvcy54KSA%IDEuMCkKICAgIHsKICAgICAgICBkaXNjYXJkOwogICAgfQogICAgaWYgKGFicyhtcG9zLnkpID4gMS4wKQogICAgewogICAgICAgIGRpc2NhcmQ7CiAgICB9CiAgICBpZiAoYWJzKG1wb3MueikgPiAxLjApCiAgICB7CiAgICAgICAgZGlzY2FyZDsKICAgIH0KICAgIGhpZ2hwIHZlYzIgdGV4Q29vcmQgPSAobXBvcy54eSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWM0IEltYWdlVGV4dHVyZV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlLCB0ZXhDb29yZCk7CiAgICBoaWdocCB2ZWMzIF8xNjcgPSBwb3coSW1hZ2VUZXh0dXJlX3N0b3JlLnh5eiwgdmVjMygyLjIwMDAwMDA0NzY4MzcxNTgyMDMxMjUpKTsKICAgIEltYWdlVGV4dHVyZV9zdG9yZSA9IHZlYzQoXzE2Ny54LCBfMTY3LnksIF8xNjcueiwgSW1hZ2VUZXh0dXJlX3N0b3JlLncpOwogICAgaGlnaHAgdmVjMyBJbWFnZVRleHR1cmVfQ29sb3JfcmVzID0gSW1hZ2VUZXh0dXJlX3N0b3JlLnh5ejsKICAgIGhpZ2hwIHZlYzMgYmFzZWNvbCA9IEltYWdlVGV4dHVyZV9Db2xvcl9yZXM7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSAwLjYwMDAwMDAyMzg0MTg1NzkxMDE1NjI1OwogICAgaGlnaHAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBoaWdocCBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICBoaWdocCB2ZWMyIF8xOTc7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTk3ID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTk3ID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTk3LngsIF8xOTcueSwgbi56KTsKICAgIGhpZ2hwIGZsb2F0IGFscGhhID0gSW1hZ2VUZXh0dXJlX3N0b3JlLnc7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgYWxwaGEpOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBhbHBoYSk7Cn0KCg";kha_Shaders.Decal2_decal_vertData0="s346:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDMgTjsKdW5pZm9ybSBtYXQ0IFdWUDsKCm91dCB2ZWMzIHdub3JtYWw7Cm91dCB2ZWM0IHd2cHBvc2l0aW9uOwppbiB2ZWMzIHBvczsKaW4gdmVjMyBub3I7CmluIHZlYzIgdGV4OwoKdm9pZCBtYWluKCkKewogICAgd25vcm1hbCA9IE4gKiB2ZWMzKDAuMCwgMC4wLCAxLjApOwogICAgd3ZwcG9zaXRpb24gPSBXVlAgKiB2ZWM0KHBvcywgMS4wKTsKICAgIGdsX1Bvc2l0aW9uID0gd3ZwcG9zaXRpb247Cn0KCg";kha_Shaders.Decal2_decal_vertData1="s420:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0MyBOOwp1bmlmb3JtIG1lZGl1bXAgbWF0NCBXVlA7CgpvdXQgbWVkaXVtcCB2ZWMzIHdub3JtYWw7Cm91dCBtZWRpdW1wIHZlYzQgd3ZwcG9zaXRpb247CmluIG1lZGl1bXAgdmVjMyBwb3M7CmluIG1lZGl1bXAgdmVjMyBub3I7CmluIG1lZGl1bXAgdmVjMiB0ZXg7Cgp2b2lkIG1haW4oKQp7CiAgICB3bm9ybWFsID0gTiAqIHZlYzMoMC4wLCAwLjAsIDEuMCk7CiAgICB3dnBwb3NpdGlvbiA9IFdWUCAqIHZlYzQocG9zLCAxLjApOwogICAgZ2xfUG9zaXRpb24gPSB3dnBwb3NpdGlvbjsKfQoK";kha_Shaders.Decal2_decal_vertData2="s346:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDMgTjsKdW5pZm9ybSBtYXQ0IFdWUDsKCm91dCB2ZWMzIHdub3JtYWw7Cm91dCB2ZWM0IHd2cHBvc2l0aW9uOwppbiB2ZWMzIHBvczsKaW4gdmVjMyBub3I7CmluIHZlYzIgdGV4OwoKdm9pZCBtYWluKCkKewogICAgd25vcm1hbCA9IE4gKiB2ZWMzKDAuMCwgMC4wLCAxLjApOwogICAgd3ZwcG9zaXRpb24gPSBXVlAgKiB2ZWM0KHBvcywgMS4wKTsKICAgIGdsX1Bvc2l0aW9uID0gd3ZwcG9zaXRpb247Cn0KCg";kha_Shaders.Decal_decal_fragData0="s3083:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlckQ7CnVuaWZvcm0gaGlnaHAgbWF0NCBpbnZWUDsKdW5pZm9ybSBoaWdocCBtYXQ0IGludlc7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIEltYWdlVGV4dHVyZV8wMDE7CgppbiBoaWdocCB2ZWMzIHdub3JtYWw7CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247Cm91dCBoaWdocCB2ZWM0IGZyYWdDb2xvclsyXTsKCmhpZ2hwIHZlYzMgZ2V0UG9zMihoaWdocCBtYXQ0IGludlZQXzEsIGhpZ2hwIGZsb2F0IGRlcHRoLCBoaWdocCB2ZWMyIGNvb3JkKQp7CiAgICBoaWdocCB2ZWM0IHBvcyA9IHZlYzQoKGNvb3JkICogMi4wKSAtIHZlYzIoMS4wKSwgZGVwdGgsIDEuMCk7CiAgICBwb3MgPSBpbnZWUF8xICogcG9zOwogICAgaGlnaHAgdmVjMyBfNjUgPSBwb3MueHl6IC8gdmVjMyhwb3Mudyk7CiAgICBwb3MgPSB2ZWM0KF82NS54LCBfNjUueSwgXzY1LnosIHBvcy53KTsKICAgIHJldHVybiBwb3MueHl6Owp9CgpoaWdocCB2ZWMyIG9jdGFoZWRyb25XcmFwKGhpZ2hwIHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAoLTEuMCksICh2LnkgPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdChoaWdocCBmbG9hdCBmMSwgaGlnaHAgZmxvYXQgZjIpCnsKICAgIHJldHVybiBmbG9vcihmMSAqIDEwMC4wKSArIG1pbihmMiwgMC45OTAwMDAwMDk1MzY3NDMxNjQwNjI1KTsKfQoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjMyBuID0gbm9ybWFsaXplKHdub3JtYWwpOwogICAgaGlnaHAgdmVjMiBzY3JlZW5Qb3NpdGlvbiA9IHd2cHBvc2l0aW9uLnh5IC8gdmVjMih3dnBwb3NpdGlvbi53KTsKICAgIGhpZ2hwIHZlYzIgZGVwdGhDb29yZCA9IChzY3JlZW5Qb3NpdGlvbiAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCBmbG9hdCBkZXB0aCA9ICh0ZXh0dXJlKGdidWZmZXJELCBkZXB0aENvb3JkKS54ICogMi4wKSAtIDEuMDsKICAgIGhpZ2hwIHZlYzMgd3BvcyA9IGdldFBvczIoaW52VlAsIGRlcHRoLCBkZXB0aENvb3JkKTsKICAgIGhpZ2hwIHZlYzQgbXBvcyA9IGludlcgKiB2ZWM0KHdwb3MsIDEuMCk7CiAgICBpZiAoYWJzKG1wb3MueCkgPiAxLjApCiAgICB7CiAgICAgICAgZGlzY2FyZDsKICAgIH0KICAgIGlmIChhYnMobXBvcy55KSA%IDEuMCkKICAgIHsKICAgICAgICBkaXNjYXJkOwogICAgfQogICAgaWYgKGFicyhtcG9zLnopID4gMS4wKQogICAgewogICAgICAgIGRpc2NhcmQ7CiAgICB9CiAgICBoaWdocCB2ZWMyIHRleENvb3JkID0gKG1wb3MueHkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgaGlnaHAgdmVjNCBJbWFnZVRleHR1cmVfMDAxX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmVfMDAxLCB0ZXhDb29yZCk7CiAgICBoaWdocCB2ZWMzIF8xNjcgPSBwb3coSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZS54eXosIHZlYzMoMi4yMDAwMDAwNDc2ODM3MTU4MjAzMTI1KSk7CiAgICBJbWFnZVRleHR1cmVfMDAxX3N0b3JlID0gdmVjNChfMTY3LngsIF8xNjcueSwgXzE2Ny56LCBJbWFnZVRleHR1cmVfMDAxX3N0b3JlLncpOwogICAgaGlnaHAgdmVjMyBJbWFnZVRleHR1cmVfMDAxX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV8wMDFfc3RvcmUueHl6OwogICAgaGlnaHAgdmVjMyBiYXNlY29sID0gSW1hZ2VUZXh0dXJlXzAwMV9Db2xvcl9yZXM7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSAwLjYwMDAwMDAyMzg0MTg1NzkxMDE1NjI1OwogICAgaGlnaHAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBoaWdocCBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICBoaWdocCB2ZWMyIF8xOTc7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTk3ID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTk3ID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTk3LngsIF8xOTcueSwgbi56KTsKICAgIGhpZ2hwIGZsb2F0IGFscGhhID0gSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZS53OwogICAgZnJhZ0NvbG9yWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIGFscGhhKTsKICAgIGZyYWdDb2xvclsxXSA9IHZlYzQoYmFzZWNvbCwgYWxwaGEpOwp9Cgo";kha_Shaders.Decal_decal_fragData1="s2827:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIGdidWZmZXJEOwp1bmlmb3JtIG1hdDQgaW52VlA7CnVuaWZvcm0gbWF0NCBpbnZXOwp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIEltYWdlVGV4dHVyZV8wMDE7CgppbiB2ZWMzIHdub3JtYWw7CmluIHZlYzQgd3ZwcG9zaXRpb247Cm91dCB2ZWM0IGZyYWdDb2xvclsyXTsKCnZlYzMgZ2V0UG9zMihtYXQ0IGludlZQXzEsIGZsb2F0IGRlcHRoLCB2ZWMyIGNvb3JkKQp7CiAgICB2ZWM0IHBvcyA9IHZlYzQoKGNvb3JkICogMi4wKSAtIHZlYzIoMS4wKSwgZGVwdGgsIDEuMCk7CiAgICBwb3MgPSBpbnZWUF8xICogcG9zOwogICAgdmVjMyBfNjUgPSBwb3MueHl6IC8gdmVjMyhwb3Mudyk7CiAgICBwb3MgPSB2ZWM0KF82NS54LCBfNjUueSwgXzY1LnosIHBvcy53KTsKICAgIHJldHVybiBwb3MueHl6Owp9Cgp2ZWMyIG9jdGFoZWRyb25XcmFwKHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAoLTEuMCksICh2LnkgPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSk7Cn0KCmZsb2F0IHBhY2tGbG9hdChmbG9hdCBmMSwgZmxvYXQgZjIpCnsKICAgIHJldHVybiBmbG9vcihmMSAqIDEwMC4wKSArIG1pbihmMiwgMC45OTAwMDAwMDk1MzY3NDMxNjQwNjI1KTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjMyBuID0gbm9ybWFsaXplKHdub3JtYWwpOwogICAgdmVjMiBzY3JlZW5Qb3NpdGlvbiA9IHd2cHBvc2l0aW9uLnh5IC8gdmVjMih3dnBwb3NpdGlvbi53KTsKICAgIHZlYzIgZGVwdGhDb29yZCA9IChzY3JlZW5Qb3NpdGlvbiAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBmbG9hdCBkZXB0aCA9ICh0ZXh0dXJlKGdidWZmZXJELCBkZXB0aENvb3JkKS54ICogMi4wKSAtIDEuMDsKICAgIHZlYzMgd3BvcyA9IGdldFBvczIoaW52VlAsIGRlcHRoLCBkZXB0aENvb3JkKTsKICAgIHZlYzQgbXBvcyA9IGludlcgKiB2ZWM0KHdwb3MsIDEuMCk7CiAgICBpZiAoYWJzKG1wb3MueCkgPiAxLjApCiAgICB7CiAgICAgICAgZGlzY2FyZDsKICAgIH0KICAgIGlmIChhYnMobXBvcy55KSA%IDEuMCkKICAgIHsKICAgICAgICBkaXNjYXJkOwogICAgfQogICAgaWYgKGFicyhtcG9zLnopID4gMS4wKQogICAgewogICAgICAgIGRpc2NhcmQ7CiAgICB9CiAgICB2ZWMyIHRleENvb3JkID0gKG1wb3MueHkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgdmVjNCBJbWFnZVRleHR1cmVfMDAxX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmVfMDAxLCB0ZXhDb29yZCk7CiAgICB2ZWMzIF8xNjcgPSBwb3coSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZS54eXosIHZlYzMoMi4yMDAwMDAwNDc2ODM3MTU4MjAzMTI1KSk7CiAgICBJbWFnZVRleHR1cmVfMDAxX3N0b3JlID0gdmVjNChfMTY3LngsIF8xNjcueSwgXzE2Ny56LCBJbWFnZVRleHR1cmVfMDAxX3N0b3JlLncpOwogICAgdmVjMyBJbWFnZVRleHR1cmVfMDAxX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV8wMDFfc3RvcmUueHl6OwogICAgdmVjMyBiYXNlY29sID0gSW1hZ2VUZXh0dXJlXzAwMV9Db2xvcl9yZXM7CiAgICBmbG9hdCByb3VnaG5lc3MgPSAwLjYwMDAwMDAyMzg0MTg1NzkxMDE1NjI1OwogICAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICB2ZWMyIF8xOTc7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTk3ID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTk3ID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTk3LngsIF8xOTcueSwgbi56KTsKICAgIGZsb2F0IGFscGhhID0gSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZS53OwogICAgZnJhZ0NvbG9yWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIGFscGhhKTsKICAgIGZyYWdDb2xvclsxXSA9IHZlYzQoYmFzZWNvbCwgYWxwaGEpOwp9Cgo";kha_Shaders.Decal_decal_fragData2="s3083:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZ2J1ZmZlckQ7CnVuaWZvcm0gaGlnaHAgbWF0NCBpbnZWUDsKdW5pZm9ybSBoaWdocCBtYXQ0IGludlc7CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIEltYWdlVGV4dHVyZV8wMDE7CgppbiBoaWdocCB2ZWMzIHdub3JtYWw7CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247Cm91dCBoaWdocCB2ZWM0IGZyYWdDb2xvclsyXTsKCmhpZ2hwIHZlYzMgZ2V0UG9zMihoaWdocCBtYXQ0IGludlZQXzEsIGhpZ2hwIGZsb2F0IGRlcHRoLCBoaWdocCB2ZWMyIGNvb3JkKQp7CiAgICBoaWdocCB2ZWM0IHBvcyA9IHZlYzQoKGNvb3JkICogMi4wKSAtIHZlYzIoMS4wKSwgZGVwdGgsIDEuMCk7CiAgICBwb3MgPSBpbnZWUF8xICogcG9zOwogICAgaGlnaHAgdmVjMyBfNjUgPSBwb3MueHl6IC8gdmVjMyhwb3Mudyk7CiAgICBwb3MgPSB2ZWM0KF82NS54LCBfNjUueSwgXzY1LnosIHBvcy53KTsKICAgIHJldHVybiBwb3MueHl6Owp9CgpoaWdocCB2ZWMyIG9jdGFoZWRyb25XcmFwKGhpZ2hwIHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAoLTEuMCksICh2LnkgPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdChoaWdocCBmbG9hdCBmMSwgaGlnaHAgZmxvYXQgZjIpCnsKICAgIHJldHVybiBmbG9vcihmMSAqIDEwMC4wKSArIG1pbihmMiwgMC45OTAwMDAwMDk1MzY3NDMxNjQwNjI1KTsKfQoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjMyBuID0gbm9ybWFsaXplKHdub3JtYWwpOwogICAgaGlnaHAgdmVjMiBzY3JlZW5Qb3NpdGlvbiA9IHd2cHBvc2l0aW9uLnh5IC8gdmVjMih3dnBwb3NpdGlvbi53KTsKICAgIGhpZ2hwIHZlYzIgZGVwdGhDb29yZCA9IChzY3JlZW5Qb3NpdGlvbiAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCBmbG9hdCBkZXB0aCA9ICh0ZXh0dXJlKGdidWZmZXJELCBkZXB0aENvb3JkKS54ICogMi4wKSAtIDEuMDsKICAgIGhpZ2hwIHZlYzMgd3BvcyA9IGdldFBvczIoaW52VlAsIGRlcHRoLCBkZXB0aENvb3JkKTsKICAgIGhpZ2hwIHZlYzQgbXBvcyA9IGludlcgKiB2ZWM0KHdwb3MsIDEuMCk7CiAgICBpZiAoYWJzKG1wb3MueCkgPiAxLjApCiAgICB7CiAgICAgICAgZGlzY2FyZDsKICAgIH0KICAgIGlmIChhYnMobXBvcy55KSA%IDEuMCkKICAgIHsKICAgICAgICBkaXNjYXJkOwogICAgfQogICAgaWYgKGFicyhtcG9zLnopID4gMS4wKQogICAgewogICAgICAgIGRpc2NhcmQ7CiAgICB9CiAgICBoaWdocCB2ZWMyIHRleENvb3JkID0gKG1wb3MueHkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgaGlnaHAgdmVjNCBJbWFnZVRleHR1cmVfMDAxX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmVfMDAxLCB0ZXhDb29yZCk7CiAgICBoaWdocCB2ZWMzIF8xNjcgPSBwb3coSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZS54eXosIHZlYzMoMi4yMDAwMDAwNDc2ODM3MTU4MjAzMTI1KSk7CiAgICBJbWFnZVRleHR1cmVfMDAxX3N0b3JlID0gdmVjNChfMTY3LngsIF8xNjcueSwgXzE2Ny56LCBJbWFnZVRleHR1cmVfMDAxX3N0b3JlLncpOwogICAgaGlnaHAgdmVjMyBJbWFnZVRleHR1cmVfMDAxX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV8wMDFfc3RvcmUueHl6OwogICAgaGlnaHAgdmVjMyBiYXNlY29sID0gSW1hZ2VUZXh0dXJlXzAwMV9Db2xvcl9yZXM7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSAwLjYwMDAwMDAyMzg0MTg1NzkxMDE1NjI1OwogICAgaGlnaHAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBoaWdocCBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICBoaWdocCB2ZWMyIF8xOTc7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTk3ID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTk3ID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTk3LngsIF8xOTcueSwgbi56KTsKICAgIGhpZ2hwIGZsb2F0IGFscGhhID0gSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZS53OwogICAgZnJhZ0NvbG9yWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIGFscGhhKTsKICAgIGZyYWdDb2xvclsxXSA9IHZlYzQoYmFzZWNvbCwgYWxwaGEpOwp9Cgo";kha_Shaders.Decal_decal_vertData0="s346:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDMgTjsKdW5pZm9ybSBtYXQ0IFdWUDsKCm91dCB2ZWMzIHdub3JtYWw7Cm91dCB2ZWM0IHd2cHBvc2l0aW9uOwppbiB2ZWMzIHBvczsKaW4gdmVjMyBub3I7CmluIHZlYzIgdGV4OwoKdm9pZCBtYWluKCkKewogICAgd25vcm1hbCA9IE4gKiB2ZWMzKDAuMCwgMC4wLCAxLjApOwogICAgd3ZwcG9zaXRpb24gPSBXVlAgKiB2ZWM0KHBvcywgMS4wKTsKICAgIGdsX1Bvc2l0aW9uID0gd3ZwcG9zaXRpb247Cn0KCg";kha_Shaders.Decal_decal_vertData1="s420:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0MyBOOwp1bmlmb3JtIG1lZGl1bXAgbWF0NCBXVlA7CgpvdXQgbWVkaXVtcCB2ZWMzIHdub3JtYWw7Cm91dCBtZWRpdW1wIHZlYzQgd3ZwcG9zaXRpb247CmluIG1lZGl1bXAgdmVjMyBwb3M7CmluIG1lZGl1bXAgdmVjMyBub3I7CmluIG1lZGl1bXAgdmVjMiB0ZXg7Cgp2b2lkIG1haW4oKQp7CiAgICB3bm9ybWFsID0gTiAqIHZlYzMoMC4wLCAwLjAsIDEuMCk7CiAgICB3dnBwb3NpdGlvbiA9IFdWUCAqIHZlYzQocG9zLCAxLjApOwogICAgZ2xfUG9zaXRpb24gPSB3dnBwb3NpdGlvbjsKfQoK";kha_Shaders.Decal_decal_vertData2="s346:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDMgTjsKdW5pZm9ybSBtYXQ0IFdWUDsKCm91dCB2ZWMzIHdub3JtYWw7Cm91dCB2ZWM0IHd2cHBvc2l0aW9uOwppbiB2ZWMzIHBvczsKaW4gdmVjMyBub3I7CmluIHZlYzIgdGV4OwoKdm9pZCBtYWluKCkKewogICAgd25vcm1hbCA9IE4gKiB2ZWMzKDAuMCwgMC4wLCAxLjApOwogICAgd3ZwcG9zaXRpb24gPSBXVlAgKiB2ZWM0KHBvcywgMS4wKTsKICAgIGdsX1Bvc2l0aW9uID0gd3ZwcG9zaXRpb247Cn0KCg";kha_Shaders.Ground_mesh_fragData0="s2704:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBJbWFnZVRleHR1cmVfMDAxOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmUsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzMgXzgwID0gcG93KEltYWdlVGV4dHVyZV9zdG9yZS54eXosIHZlYzMoMi4yMDAwMDAwNDc2ODM3MTU4MjAzMTI1KSk7CiAgICBJbWFnZVRleHR1cmVfc3RvcmUgPSB2ZWM0KF84MC54LCBfODAueSwgXzgwLnosIEltYWdlVGV4dHVyZV9zdG9yZS53KTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlXzAwMSwgdGV4Q29vcmQpOwogICAgaGlnaHAgdmVjMyBJbWFnZVRleHR1cmVfQ29sb3JfcmVzID0gSW1hZ2VUZXh0dXJlX3N0b3JlLnh5ejsKICAgIGhpZ2hwIHZlYzMgSW1hZ2VUZXh0dXJlXzAwMV9Db2xvcl9yZXMgPSBJbWFnZVRleHR1cmVfMDAxX3N0b3JlLnh5ejsKICAgIGhpZ2hwIHZlYzMgYmFzZWNvbCA9IEltYWdlVGV4dHVyZV9Db2xvcl9yZXM7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSBJbWFnZVRleHR1cmVfMDAxX0NvbG9yX3Jlcy54OwogICAgaGlnaHAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBoaWdocCBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICBoaWdocCB2ZWMyIF8xMjI7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTIyID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTIyID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTIyLngsIF8xMjIueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIHBhY2tGbG9hdDIob2NjbHVzaW9uLCBzcGVjdWxhcikpOwogICAgaGlnaHAgdmVjMiBwb3NhID0gKCh3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgcG9zYiA9ICgocHJldnd2cHBvc2l0aW9uLnh5IC8gdmVjMihwcmV2d3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgXzE5NSA9IHZlYzIocG9zYSAtIHBvc2IpOwogICAgZnJhZ0NvbG9yWzJdID0gdmVjNChfMTk1LngsIF8xOTUueSwgZnJhZ0NvbG9yWzJdLnosIGZyYWdDb2xvclsyXS53KTsKfQoK";kha_Shaders.Ground_mesh_fragData1="s2488:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIEltYWdlVGV4dHVyZTsKdW5pZm9ybSBtZWRpdW1wIHNhbXBsZXIyRCBJbWFnZVRleHR1cmVfMDAxOwoKaW4gdmVjMyB3bm9ybWFsOwppbiB2ZWMyIHRleENvb3JkOwpvdXQgdmVjNCBmcmFnQ29sb3JbM107CmluIHZlYzQgd3ZwcG9zaXRpb247CmluIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpmbG9hdCBwYWNrRmxvYXQoZmxvYXQgZjEsIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmZsb2F0IHBhY2tGbG9hdDIoZmxvYXQgZjEsIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIHZlYzQgSW1hZ2VUZXh0dXJlX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmUsIHRleENvb3JkKTsKICAgIHZlYzMgXzgwID0gcG93KEltYWdlVGV4dHVyZV9zdG9yZS54eXosIHZlYzMoMi4yMDAwMDAwNDc2ODM3MTU4MjAzMTI1KSk7CiAgICBJbWFnZVRleHR1cmVfc3RvcmUgPSB2ZWM0KF84MC54LCBfODAueSwgXzgwLnosIEltYWdlVGV4dHVyZV9zdG9yZS53KTsKICAgIHZlYzQgSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlXzAwMSwgdGV4Q29vcmQpOwogICAgdmVjMyBJbWFnZVRleHR1cmVfQ29sb3JfcmVzID0gSW1hZ2VUZXh0dXJlX3N0b3JlLnh5ejsKICAgIHZlYzMgSW1hZ2VUZXh0dXJlXzAwMV9Db2xvcl9yZXMgPSBJbWFnZVRleHR1cmVfMDAxX3N0b3JlLnh5ejsKICAgIHZlYzMgYmFzZWNvbCA9IEltYWdlVGV4dHVyZV9Db2xvcl9yZXM7CiAgICBmbG9hdCByb3VnaG5lc3MgPSBJbWFnZVRleHR1cmVfMDAxX0NvbG9yX3Jlcy54OwogICAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICB2ZWMyIF8xMjI7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTIyID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTIyID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTIyLngsIF8xMjIueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIHBhY2tGbG9hdDIob2NjbHVzaW9uLCBzcGVjdWxhcikpOwogICAgdmVjMiBwb3NhID0gKCh3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIHZlYzIgcG9zYiA9ICgocHJldnd2cHBvc2l0aW9uLnh5IC8gdmVjMihwcmV2d3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIHZlYzIgXzE5NSA9IHZlYzIocG9zYSAtIHBvc2IpOwogICAgZnJhZ0NvbG9yWzJdID0gdmVjNChfMTk1LngsIF8xOTUueSwgZnJhZ0NvbG9yWzJdLnosIGZyYWdDb2xvclsyXS53KTsKfQoK";kha_Shaders.Ground_mesh_fragData2="s2704:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBJbWFnZVRleHR1cmVfMDAxOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmUsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzMgXzgwID0gcG93KEltYWdlVGV4dHVyZV9zdG9yZS54eXosIHZlYzMoMi4yMDAwMDAwNDc2ODM3MTU4MjAzMTI1KSk7CiAgICBJbWFnZVRleHR1cmVfc3RvcmUgPSB2ZWM0KF84MC54LCBfODAueSwgXzgwLnosIEltYWdlVGV4dHVyZV9zdG9yZS53KTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlXzAwMSwgdGV4Q29vcmQpOwogICAgaGlnaHAgdmVjMyBJbWFnZVRleHR1cmVfQ29sb3JfcmVzID0gSW1hZ2VUZXh0dXJlX3N0b3JlLnh5ejsKICAgIGhpZ2hwIHZlYzMgSW1hZ2VUZXh0dXJlXzAwMV9Db2xvcl9yZXMgPSBJbWFnZVRleHR1cmVfMDAxX3N0b3JlLnh5ejsKICAgIGhpZ2hwIHZlYzMgYmFzZWNvbCA9IEltYWdlVGV4dHVyZV9Db2xvcl9yZXM7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSBJbWFnZVRleHR1cmVfMDAxX0NvbG9yX3Jlcy54OwogICAgaGlnaHAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBoaWdocCBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICBoaWdocCB2ZWMyIF8xMjI7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTIyID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTIyID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTIyLngsIF8xMjIueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIHBhY2tGbG9hdDIob2NjbHVzaW9uLCBzcGVjdWxhcikpOwogICAgaGlnaHAgdmVjMiBwb3NhID0gKCh3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgcG9zYiA9ICgocHJldnd2cHBvc2l0aW9uLnh5IC8gdmVjMihwcmV2d3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgXzE5NSA9IHZlYzIocG9zYSAtIHBvc2IpOwogICAgZnJhZ0NvbG9yWzJdID0gdmVjNChfMTk1LngsIF8xOTUueSwgZnJhZ0NvbG9yWzJdLnosIGZyYWdDb2xvclsyXS53KTsKfQoK";kha_Shaders.Gun2_mesh_fragData0="s2255:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmUsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzMgSW1hZ2VUZXh0dXJlX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV9zdG9yZS54eXo7CiAgICBoaWdocCB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuMDI3MTU3NjYwNTczNzIwOTMyMDA2ODM1OTM3NSk7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSBJbWFnZVRleHR1cmVfQ29sb3JfcmVzLng7CiAgICBoaWdocCBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGhpZ2hwIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIGhpZ2hwIGZsb2F0IHNwZWN1bGFyID0gMS4wOwogICAgbiAvPSB2ZWMzKChhYnMobi54KSArIGFicyhuLnkpKSArIGFicyhuLnopKTsKICAgIGhpZ2hwIHZlYzIgXzEwODsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8xMDggPSBuLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8xMDggPSBvY3RhaGVkcm9uV3JhcChuLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF8xMDgueCwgXzEwOC55LCBuLnopOwogICAgZnJhZ0NvbG9yWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIDEuMCAtIGdsX0ZyYWdDb29yZC56KTsKICAgIGZyYWdDb2xvclsxXSA9IHZlYzQoYmFzZWNvbCwgcGFja0Zsb2F0MihvY2NsdXNpb24sIHNwZWN1bGFyKSk7CiAgICBoaWdocCB2ZWMyIHBvc2EgPSAoKHd2cHBvc2l0aW9uLnh5IC8gdmVjMih3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgaGlnaHAgdmVjMiBwb3NiID0gKChwcmV2d3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHByZXZ3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgaGlnaHAgdmVjMiBfMTgxID0gdmVjMihwb3NhIC0gcG9zYik7CiAgICBmcmFnQ29sb3JbMl0gPSB2ZWM0KF8xODEueCwgXzE4MS55LCBmcmFnQ29sb3JbMl0ueiwgZnJhZ0NvbG9yWzJdLncpOwp9Cgo";kha_Shaders.Gun2_mesh_fragData1="s2060:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIEltYWdlVGV4dHVyZTsKCmluIHZlYzMgd25vcm1hbDsKaW4gdmVjMiB0ZXhDb29yZDsKb3V0IHZlYzQgZnJhZ0NvbG9yWzNdOwppbiB2ZWM0IHd2cHBvc2l0aW9uOwppbiB2ZWM0IHByZXZ3dnBwb3NpdGlvbjsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKZmxvYXQgcGFja0Zsb2F0KGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMTAwLjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9CgpmbG9hdCBwYWNrRmxvYXQyKGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMjU1LjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICB2ZWM0IEltYWdlVGV4dHVyZV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlLCB0ZXhDb29yZCk7CiAgICB2ZWMzIEltYWdlVGV4dHVyZV9Db2xvcl9yZXMgPSBJbWFnZVRleHR1cmVfc3RvcmUueHl6OwogICAgdmVjMyBiYXNlY29sID0gdmVjMygwLjAyNzE1NzY2MDU3MzcyMDkzMjAwNjgzNTkzNzUpOwogICAgZmxvYXQgcm91Z2huZXNzID0gSW1hZ2VUZXh0dXJlX0NvbG9yX3Jlcy54OwogICAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICB2ZWMyIF8xMDg7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTA4ID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTA4ID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTA4LngsIF8xMDgueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIHBhY2tGbG9hdDIob2NjbHVzaW9uLCBzcGVjdWxhcikpOwogICAgdmVjMiBwb3NhID0gKCh3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIHZlYzIgcG9zYiA9ICgocHJldnd2cHBvc2l0aW9uLnh5IC8gdmVjMihwcmV2d3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIHZlYzIgXzE4MSA9IHZlYzIocG9zYSAtIHBvc2IpOwogICAgZnJhZ0NvbG9yWzJdID0gdmVjNChfMTgxLngsIF8xODEueSwgZnJhZ0NvbG9yWzJdLnosIGZyYWdDb2xvclsyXS53KTsKfQoK";kha_Shaders.Gun2_mesh_fragData2="s2255:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmUsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzMgSW1hZ2VUZXh0dXJlX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV9zdG9yZS54eXo7CiAgICBoaWdocCB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuMDI3MTU3NjYwNTczNzIwOTMyMDA2ODM1OTM3NSk7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSBJbWFnZVRleHR1cmVfQ29sb3JfcmVzLng7CiAgICBoaWdocCBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGhpZ2hwIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIGhpZ2hwIGZsb2F0IHNwZWN1bGFyID0gMS4wOwogICAgbiAvPSB2ZWMzKChhYnMobi54KSArIGFicyhuLnkpKSArIGFicyhuLnopKTsKICAgIGhpZ2hwIHZlYzIgXzEwODsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8xMDggPSBuLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8xMDggPSBvY3RhaGVkcm9uV3JhcChuLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF8xMDgueCwgXzEwOC55LCBuLnopOwogICAgZnJhZ0NvbG9yWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIDEuMCAtIGdsX0ZyYWdDb29yZC56KTsKICAgIGZyYWdDb2xvclsxXSA9IHZlYzQoYmFzZWNvbCwgcGFja0Zsb2F0MihvY2NsdXNpb24sIHNwZWN1bGFyKSk7CiAgICBoaWdocCB2ZWMyIHBvc2EgPSAoKHd2cHBvc2l0aW9uLnh5IC8gdmVjMih3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgaGlnaHAgdmVjMiBwb3NiID0gKChwcmV2d3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHByZXZ3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgaGlnaHAgdmVjMiBfMTgxID0gdmVjMihwb3NhIC0gcG9zYik7CiAgICBmcmFnQ29sb3JbMl0gPSB2ZWM0KF8xODEueCwgXzE4MS55LCBmcmFnQ29sb3JbMl0ueiwgZnJhZ0NvbG9yWzJdLncpOwp9Cgo";kha_Shaders.Gun_mesh_fragData0="s2328:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmUsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzMgSW1hZ2VUZXh0dXJlX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV9zdG9yZS54eXo7CiAgICBoaWdocCB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuMTk5NDQ5OTQxNTE1OTIyNTQ2Mzg2NzE4NzUsIDAuMTc5MTM5NTI0Njk4MjU3NDQ2Mjg5MDYyNSwgMC45MzAxMTExMTAyMTA0MTg3MDExNzE4NzUpOwogICAgaGlnaHAgZmxvYXQgcm91Z2huZXNzID0gSW1hZ2VUZXh0dXJlX0NvbG9yX3Jlcy54OwogICAgaGlnaHAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBoaWdocCBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICBoaWdocCB2ZWMyIF8xMTA7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTEwID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTEwID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTEwLngsIF8xMTAueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIHBhY2tGbG9hdDIob2NjbHVzaW9uLCBzcGVjdWxhcikpOwogICAgaGlnaHAgdmVjMiBwb3NhID0gKCh3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgcG9zYiA9ICgocHJldnd2cHBvc2l0aW9uLnh5IC8gdmVjMihwcmV2d3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgXzE4MyA9IHZlYzIocG9zYSAtIHBvc2IpOwogICAgZnJhZ0NvbG9yWzJdID0gdmVjNChfMTgzLngsIF8xODMueSwgZnJhZ0NvbG9yWzJdLnosIGZyYWdDb2xvclsyXS53KTsKfQoK";kha_Shaders.Gun_mesh_fragData1="s2134:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIEltYWdlVGV4dHVyZTsKCmluIHZlYzMgd25vcm1hbDsKaW4gdmVjMiB0ZXhDb29yZDsKb3V0IHZlYzQgZnJhZ0NvbG9yWzNdOwppbiB2ZWM0IHd2cHBvc2l0aW9uOwppbiB2ZWM0IHByZXZ3dnBwb3NpdGlvbjsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKZmxvYXQgcGFja0Zsb2F0KGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMTAwLjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9CgpmbG9hdCBwYWNrRmxvYXQyKGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMjU1LjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICB2ZWM0IEltYWdlVGV4dHVyZV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlLCB0ZXhDb29yZCk7CiAgICB2ZWMzIEltYWdlVGV4dHVyZV9Db2xvcl9yZXMgPSBJbWFnZVRleHR1cmVfc3RvcmUueHl6OwogICAgdmVjMyBiYXNlY29sID0gdmVjMygwLjE5OTQ0OTk0MTUxNTkyMjU0NjM4NjcxODc1LCAwLjE3OTEzOTUyNDY5ODI1NzQ0NjI4OTA2MjUsIDAuOTMwMTExMTEwMjEwNDE4NzAxMTcxODc1KTsKICAgIGZsb2F0IHJvdWdobmVzcyA9IEltYWdlVGV4dHVyZV9Db2xvcl9yZXMueDsKICAgIGZsb2F0IG1ldGFsbGljID0gMC4wOwogICAgZmxvYXQgb2NjbHVzaW9uID0gMS4wOwogICAgZmxvYXQgc3BlY3VsYXIgPSAxLjA7CiAgICBuIC89IHZlYzMoKGFicyhuLngpICsgYWJzKG4ueSkpICsgYWJzKG4ueikpOwogICAgdmVjMiBfMTEwOwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzExMCA9IG4ueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzExMCA9IG9jdGFoZWRyb25XcmFwKG4ueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzExMC54LCBfMTEwLnksIG4ueik7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgMS4wIC0gZ2xfRnJhZ0Nvb3JkLnopOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBwYWNrRmxvYXQyKG9jY2x1c2lvbiwgc3BlY3VsYXIpKTsKICAgIHZlYzIgcG9zYSA9ICgod3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICB2ZWMyIHBvc2IgPSAoKHByZXZ3dnBwb3NpdGlvbi54eSAvIHZlYzIocHJldnd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICB2ZWMyIF8xODMgPSB2ZWMyKHBvc2EgLSBwb3NiKTsKICAgIGZyYWdDb2xvclsyXSA9IHZlYzQoXzE4My54LCBfMTgzLnksIGZyYWdDb2xvclsyXS56LCBmcmFnQ29sb3JbMl0udyk7Cn0KCg";kha_Shaders.Gun_mesh_fragData2="s2328:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmUsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzMgSW1hZ2VUZXh0dXJlX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV9zdG9yZS54eXo7CiAgICBoaWdocCB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuMTk5NDQ5OTQxNTE1OTIyNTQ2Mzg2NzE4NzUsIDAuMTc5MTM5NTI0Njk4MjU3NDQ2Mjg5MDYyNSwgMC45MzAxMTExMTAyMTA0MTg3MDExNzE4NzUpOwogICAgaGlnaHAgZmxvYXQgcm91Z2huZXNzID0gSW1hZ2VUZXh0dXJlX0NvbG9yX3Jlcy54OwogICAgaGlnaHAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBoaWdocCBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICBoaWdocCB2ZWMyIF8xMTA7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTEwID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTEwID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTEwLngsIF8xMTAueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIHBhY2tGbG9hdDIob2NjbHVzaW9uLCBzcGVjdWxhcikpOwogICAgaGlnaHAgdmVjMiBwb3NhID0gKCh3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgcG9zYiA9ICgocHJldnd2cHBvc2l0aW9uLnh5IC8gdmVjMihwcmV2d3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgXzE4MyA9IHZlYzIocG9zYSAtIHBvc2IpOwogICAgZnJhZ0NvbG9yWzJdID0gdmVjNChfMTgzLngsIF8xODMueSwgZnJhZ0NvbG9yWzJdLnosIGZyYWdDb2xvclsyXS53KTsKfQoK";kha_Shaders.Joints_armskin_mesh_fragData0="s2254:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmUsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzMgSW1hZ2VUZXh0dXJlX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV9zdG9yZS54eXo7CiAgICBoaWdocCB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuMTE0ODg3NjAyNjI3Mjc3Mzc0MjY3NTc4MTI1KTsKICAgIGhpZ2hwIGZsb2F0IHJvdWdobmVzcyA9IEltYWdlVGV4dHVyZV9Db2xvcl9yZXMueDsKICAgIGhpZ2hwIGZsb2F0IG1ldGFsbGljID0gMC4wOwogICAgaGlnaHAgZmxvYXQgb2NjbHVzaW9uID0gMS4wOwogICAgaGlnaHAgZmxvYXQgc3BlY3VsYXIgPSAxLjA7CiAgICBuIC89IHZlYzMoKGFicyhuLngpICsgYWJzKG4ueSkpICsgYWJzKG4ueikpOwogICAgaGlnaHAgdmVjMiBfMTA4OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzEwOCA9IG4ueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzEwOCA9IG9jdGFoZWRyb25XcmFwKG4ueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzEwOC54LCBfMTA4LnksIG4ueik7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgMS4wIC0gZ2xfRnJhZ0Nvb3JkLnopOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBwYWNrRmxvYXQyKG9jY2x1c2lvbiwgc3BlY3VsYXIpKTsKICAgIGhpZ2hwIHZlYzIgcG9zYSA9ICgod3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIHBvc2IgPSAoKHByZXZ3dnBwb3NpdGlvbi54eSAvIHZlYzIocHJldnd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIF8xODEgPSB2ZWMyKHBvc2EgLSBwb3NiKTsKICAgIGZyYWdDb2xvclsyXSA9IHZlYzQoXzE4MS54LCBfMTgxLnksIGZyYWdDb2xvclsyXS56LCBmcmFnQ29sb3JbMl0udyk7Cn0KCg";kha_Shaders.Joints_armskin_mesh_fragData1="s2059:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIEltYWdlVGV4dHVyZTsKCmluIHZlYzMgd25vcm1hbDsKaW4gdmVjMiB0ZXhDb29yZDsKb3V0IHZlYzQgZnJhZ0NvbG9yWzNdOwppbiB2ZWM0IHd2cHBvc2l0aW9uOwppbiB2ZWM0IHByZXZ3dnBwb3NpdGlvbjsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKZmxvYXQgcGFja0Zsb2F0KGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMTAwLjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9CgpmbG9hdCBwYWNrRmxvYXQyKGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMjU1LjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICB2ZWM0IEltYWdlVGV4dHVyZV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlLCB0ZXhDb29yZCk7CiAgICB2ZWMzIEltYWdlVGV4dHVyZV9Db2xvcl9yZXMgPSBJbWFnZVRleHR1cmVfc3RvcmUueHl6OwogICAgdmVjMyBiYXNlY29sID0gdmVjMygwLjExNDg4NzYwMjYyNzI3NzM3NDI2NzU3ODEyNSk7CiAgICBmbG9hdCByb3VnaG5lc3MgPSBJbWFnZVRleHR1cmVfQ29sb3JfcmVzLng7CiAgICBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIGZsb2F0IHNwZWN1bGFyID0gMS4wOwogICAgbiAvPSB2ZWMzKChhYnMobi54KSArIGFicyhuLnkpKSArIGFicyhuLnopKTsKICAgIHZlYzIgXzEwODsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF8xMDggPSBuLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF8xMDggPSBvY3RhaGVkcm9uV3JhcChuLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF8xMDgueCwgXzEwOC55LCBuLnopOwogICAgZnJhZ0NvbG9yWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIDEuMCAtIGdsX0ZyYWdDb29yZC56KTsKICAgIGZyYWdDb2xvclsxXSA9IHZlYzQoYmFzZWNvbCwgcGFja0Zsb2F0MihvY2NsdXNpb24sIHNwZWN1bGFyKSk7CiAgICB2ZWMyIHBvc2EgPSAoKHd2cHBvc2l0aW9uLnh5IC8gdmVjMih3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgdmVjMiBwb3NiID0gKChwcmV2d3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHByZXZ3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgdmVjMiBfMTgxID0gdmVjMihwb3NhIC0gcG9zYik7CiAgICBmcmFnQ29sb3JbMl0gPSB2ZWM0KF8xODEueCwgXzE4MS55LCBmcmFnQ29sb3JbMl0ueiwgZnJhZ0NvbG9yWzJdLncpOwp9Cgo";kha_Shaders.Joints_armskin_mesh_fragData2="s2254:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlX3N0b3JlID0gdGV4dHVyZShJbWFnZVRleHR1cmUsIHRleENvb3JkKTsKICAgIGhpZ2hwIHZlYzMgSW1hZ2VUZXh0dXJlX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV9zdG9yZS54eXo7CiAgICBoaWdocCB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuMTE0ODg3NjAyNjI3Mjc3Mzc0MjY3NTc4MTI1KTsKICAgIGhpZ2hwIGZsb2F0IHJvdWdobmVzcyA9IEltYWdlVGV4dHVyZV9Db2xvcl9yZXMueDsKICAgIGhpZ2hwIGZsb2F0IG1ldGFsbGljID0gMC4wOwogICAgaGlnaHAgZmxvYXQgb2NjbHVzaW9uID0gMS4wOwogICAgaGlnaHAgZmxvYXQgc3BlY3VsYXIgPSAxLjA7CiAgICBuIC89IHZlYzMoKGFicyhuLngpICsgYWJzKG4ueSkpICsgYWJzKG4ueikpOwogICAgaGlnaHAgdmVjMiBfMTA4OwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzEwOCA9IG4ueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzEwOCA9IG9jdGFoZWRyb25XcmFwKG4ueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzEwOC54LCBfMTA4LnksIG4ueik7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgMS4wIC0gZ2xfRnJhZ0Nvb3JkLnopOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBwYWNrRmxvYXQyKG9jY2x1c2lvbiwgc3BlY3VsYXIpKTsKICAgIGhpZ2hwIHZlYzIgcG9zYSA9ICgod3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIHBvc2IgPSAoKHByZXZ3dnBwb3NpdGlvbi54eSAvIHZlYzIocHJldnd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIF8xODEgPSB2ZWMyKHBvc2EgLSBwb3NiKTsKICAgIGZyYWdDb2xvclsyXSA9IHZlYzQoXzE4MS54LCBfMTgxLnksIGZyYWdDb2xvclsyXS56LCBmcmFnQ29sb3JbMl0udyk7Cn0KCg";kha_Shaders.Material_002_mesh_fragData0="s1996:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzMgYmFzZWNvbCA9IHZlYzMoMC44MDAwMDAwNzE1MjU1NzM3MzA0Njg3NSwgMC42MTIwNTE1NDY1NzM2Mzg5MTYwMTU2MjUsIDAuMCk7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGhpZ2hwIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIGhpZ2hwIGZsb2F0IHNwZWN1bGFyID0gMC4wOwogICAgbiAvPSB2ZWMzKChhYnMobi54KSArIGFicyhuLnkpKSArIGFicyhuLnopKTsKICAgIGhpZ2hwIHZlYzIgXzkyOwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzkyID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfOTIgPSBvY3RhaGVkcm9uV3JhcChuLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF85Mi54LCBfOTIueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIHBhY2tGbG9hdDIob2NjbHVzaW9uLCBzcGVjdWxhcikpOwogICAgaGlnaHAgdmVjMiBwb3NhID0gKCh3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgcG9zYiA9ICgocHJldnd2cHBvc2l0aW9uLnh5IC8gdmVjMihwcmV2d3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgXzE2NiA9IHZlYzIocG9zYSAtIHBvc2IpOwogICAgZnJhZ0NvbG9yWzJdID0gdmVjNChfMTY2LngsIF8xNjYueSwgZnJhZ0NvbG9yWzJdLnosIGZyYWdDb2xvclsyXS53KTsKfQoK";kha_Shaders.Material_002_mesh_fragData1="s1823:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7CgppbiB2ZWMzIHdub3JtYWw7Cm91dCB2ZWM0IGZyYWdDb2xvclszXTsKaW4gdmVjNCB3dnBwb3NpdGlvbjsKaW4gdmVjNCBwcmV2d3ZwcG9zaXRpb247Cgp2ZWMyIG9jdGFoZWRyb25XcmFwKHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAoLTEuMCksICh2LnkgPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSk7Cn0KCmZsb2F0IHBhY2tGbG9hdChmbG9hdCBmMSwgZmxvYXQgZjIpCnsKICAgIHJldHVybiBmbG9vcihmMSAqIDEwMC4wKSArIG1pbihmMiwgMC45OTAwMDAwMDk1MzY3NDMxNjQwNjI1KTsKfQoKZmxvYXQgcGFja0Zsb2F0MihmbG9hdCBmMSwgZmxvYXQgZjIpCnsKICAgIHJldHVybiBmbG9vcihmMSAqIDI1NS4wKSArIG1pbihmMiwgMC45OTAwMDAwMDk1MzY3NDMxNjQwNjI1KTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjMyBuID0gbm9ybWFsaXplKHdub3JtYWwpOwogICAgdmVjMyBiYXNlY29sID0gdmVjMygwLjgwMDAwMDA3MTUyNTU3MzczMDQ2ODc1LCAwLjYxMjA1MTU0NjU3MzYzODkxNjAxNTYyNSwgMC4wKTsKICAgIGZsb2F0IHJvdWdobmVzcyA9IDAuMDsKICAgIGZsb2F0IG1ldGFsbGljID0gMC4wOwogICAgZmxvYXQgb2NjbHVzaW9uID0gMS4wOwogICAgZmxvYXQgc3BlY3VsYXIgPSAwLjA7CiAgICBuIC89IHZlYzMoKGFicyhuLngpICsgYWJzKG4ueSkpICsgYWJzKG4ueikpOwogICAgdmVjMiBfOTI7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfOTIgPSBuLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF85MiA9IG9jdGFoZWRyb25XcmFwKG4ueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzkyLngsIF85Mi55LCBuLnopOwogICAgZnJhZ0NvbG9yWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIDEuMCAtIGdsX0ZyYWdDb29yZC56KTsKICAgIGZyYWdDb2xvclsxXSA9IHZlYzQoYmFzZWNvbCwgcGFja0Zsb2F0MihvY2NsdXNpb24sIHNwZWN1bGFyKSk7CiAgICB2ZWMyIHBvc2EgPSAoKHd2cHBvc2l0aW9uLnh5IC8gdmVjMih3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgdmVjMiBwb3NiID0gKChwcmV2d3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHByZXZ3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgdmVjMiBfMTY2ID0gdmVjMihwb3NhIC0gcG9zYik7CiAgICBmcmFnQ29sb3JbMl0gPSB2ZWM0KF8xNjYueCwgXzE2Ni55LCBmcmFnQ29sb3JbMl0ueiwgZnJhZ0NvbG9yWzJdLncpOwp9Cgo";kha_Shaders.Material_002_mesh_fragData2="s1996:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzMgYmFzZWNvbCA9IHZlYzMoMC44MDAwMDAwNzE1MjU1NzM3MzA0Njg3NSwgMC42MTIwNTE1NDY1NzM2Mzg5MTYwMTU2MjUsIDAuMCk7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGhpZ2hwIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIGhpZ2hwIGZsb2F0IHNwZWN1bGFyID0gMC4wOwogICAgbiAvPSB2ZWMzKChhYnMobi54KSArIGFicyhuLnkpKSArIGFicyhuLnopKTsKICAgIGhpZ2hwIHZlYzIgXzkyOwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzkyID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfOTIgPSBvY3RhaGVkcm9uV3JhcChuLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF85Mi54LCBfOTIueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIHBhY2tGbG9hdDIob2NjbHVzaW9uLCBzcGVjdWxhcikpOwogICAgaGlnaHAgdmVjMiBwb3NhID0gKCh3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgcG9zYiA9ICgocHJldnd2cHBvc2l0aW9uLnh5IC8gdmVjMihwcmV2d3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgXzE2NiA9IHZlYzIocG9zYSAtIHBvc2IpOwogICAgZnJhZ0NvbG9yWzJdID0gdmVjNChfMTY2LngsIF8xNjYueSwgZnJhZ0NvbG9yWzJdLnosIGZyYWdDb2xvclsyXS53KTsKfQoK";kha_Shaders.Material_002_mesh_vertData0="s466:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDMgTjsKdW5pZm9ybSBtYXQ0IFdWUDsKdW5pZm9ybSBtYXQ0IHByZXZXVlA7CgppbiB2ZWMzIHBvczsKb3V0IHZlYzMgd25vcm1hbDsKaW4gdmVjMyBub3I7Cm91dCB2ZWM0IHd2cHBvc2l0aW9uOwpvdXQgdmVjNCBwcmV2d3ZwcG9zaXRpb247Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWM0IHNwb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIHdub3JtYWwgPSBub3JtYWxpemUoTiAqIG5vcik7CiAgICBnbF9Qb3NpdGlvbiA9IFdWUCAqIHNwb3M7CiAgICB3dnBwb3NpdGlvbiA9IGdsX1Bvc2l0aW9uOwogICAgcHJldnd2cHBvc2l0aW9uID0gcHJldldWUCAqIHNwb3M7Cn0KCg";kha_Shaders.Material_002_mesh_vertData1="s562:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0MyBOOwp1bmlmb3JtIG1lZGl1bXAgbWF0NCBXVlA7CnVuaWZvcm0gbWVkaXVtcCBtYXQ0IHByZXZXVlA7CgppbiBtZWRpdW1wIHZlYzMgcG9zOwpvdXQgbWVkaXVtcCB2ZWMzIHdub3JtYWw7CmluIG1lZGl1bXAgdmVjMyBub3I7Cm91dCBtZWRpdW1wIHZlYzQgd3ZwcG9zaXRpb247Cm91dCBtZWRpdW1wIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKdm9pZCBtYWluKCkKewogICAgbWVkaXVtcCB2ZWM0IHNwb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIHdub3JtYWwgPSBub3JtYWxpemUoTiAqIG5vcik7CiAgICBnbF9Qb3NpdGlvbiA9IFdWUCAqIHNwb3M7CiAgICB3dnBwb3NpdGlvbiA9IGdsX1Bvc2l0aW9uOwogICAgcHJldnd2cHBvc2l0aW9uID0gcHJldldWUCAqIHNwb3M7Cn0KCg";kha_Shaders.Material_002_mesh_vertData2="s466:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDMgTjsKdW5pZm9ybSBtYXQ0IFdWUDsKdW5pZm9ybSBtYXQ0IHByZXZXVlA7CgppbiB2ZWMzIHBvczsKb3V0IHZlYzMgd25vcm1hbDsKaW4gdmVjMyBub3I7Cm91dCB2ZWM0IHd2cHBvc2l0aW9uOwpvdXQgdmVjNCBwcmV2d3ZwcG9zaXRpb247Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWM0IHNwb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIHdub3JtYWwgPSBub3JtYWxpemUoTiAqIG5vcik7CiAgICBnbF9Qb3NpdGlvbiA9IFdWUCAqIHNwb3M7CiAgICB3dnBwb3NpdGlvbiA9IGdsX1Bvc2l0aW9uOwogICAgcHJldnd2cHBvc2l0aW9uID0gcHJldldWUCAqIHNwb3M7Cn0KCg";kha_Shaders.Particle_mesh_fragData0="s1984:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwppbiBoaWdocCBmbG9hdCBwX2ZhZGU7CgpoaWdocCB2ZWMyIG9jdGFoZWRyb25XcmFwKGhpZ2hwIHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAoLTEuMCksICh2LnkgPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdChoaWdocCBmbG9hdCBmMSwgaGlnaHAgZmxvYXQgZjIpCnsKICAgIHJldHVybiBmbG9vcihmMSAqIDEwMC4wKSArIG1pbihmMiwgMC45OTAwMDAwMDk1MzY3NDMxNjQwNjI1KTsKfQoKaGlnaHAgZmxvYXQgcGFja0Zsb2F0MihoaWdocCBmbG9hdCBmMSwgaGlnaHAgZmxvYXQgZjIpCnsKICAgIHJldHVybiBmbG9vcihmMSAqIDI1NS4wKSArIG1pbihmMiwgMC45OTAwMDAwMDk1MzY3NDMxNjQwNjI1KTsKfQoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjMyBuID0gbm9ybWFsaXplKHdub3JtYWwpOwogICAgaGlnaHAgdmVjMyBiYXNlY29sID0gdmVjMygwLjgwMDAwMDAxMTkyMDkyODk1NTA3ODEyNSk7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGhpZ2hwIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIGhpZ2hwIGZsb2F0IHNwZWN1bGFyID0gMC4wOwogICAgbiAvPSB2ZWMzKChhYnMobi54KSArIGFicyhuLnkpKSArIGFicyhuLnopKTsKICAgIGhpZ2hwIHZlYzIgXzkxOwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzkxID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfOTEgPSBvY3RhaGVkcm9uV3JhcChuLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF85MS54LCBfOTEueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIHBhY2tGbG9hdDIob2NjbHVzaW9uLCBzcGVjdWxhcikpOwogICAgaGlnaHAgdmVjMiBwb3NhID0gKCh3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgcG9zYiA9ICgocHJldnd2cHBvc2l0aW9uLnh5IC8gdmVjMihwcmV2d3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgXzE2NSA9IHZlYzIocG9zYSAtIHBvc2IpOwogICAgZnJhZ0NvbG9yWzJdID0gdmVjNChfMTY1LngsIF8xNjUueSwgZnJhZ0NvbG9yWzJdLnosIGZyYWdDb2xvclsyXS53KTsKfQoK";kha_Shaders.Particle_mesh_fragData1="s1803:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7CgppbiB2ZWMzIHdub3JtYWw7Cm91dCB2ZWM0IGZyYWdDb2xvclszXTsKaW4gdmVjNCB3dnBwb3NpdGlvbjsKaW4gdmVjNCBwcmV2d3ZwcG9zaXRpb247CmluIGZsb2F0IHBfZmFkZTsKCnZlYzIgb2N0YWhlZHJvbldyYXAodmVjMiB2KQp7CiAgICByZXR1cm4gKHZlYzIoMS4wKSAtIGFicyh2Lnl4KSkgKiB2ZWMyKCh2LnggPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSwgKHYueSA%PSAwLjApID8gMS4wIDogKC0xLjApKTsKfQoKZmxvYXQgcGFja0Zsb2F0KGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMTAwLjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9CgpmbG9hdCBwYWNrRmxvYXQyKGZsb2F0IGYxLCBmbG9hdCBmMikKewogICAgcmV0dXJuIGZsb29yKGYxICogMjU1LjApICsgbWluKGYyLCAwLjk5MDAwMDAwOTUzNjc0MzE2NDA2MjUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICB2ZWMzIG4gPSBub3JtYWxpemUod25vcm1hbCk7CiAgICB2ZWMzIGJhc2Vjb2wgPSB2ZWMzKDAuODAwMDAwMDExOTIwOTI4OTU1MDc4MTI1KTsKICAgIGZsb2F0IHJvdWdobmVzcyA9IDAuMDsKICAgIGZsb2F0IG1ldGFsbGljID0gMC4wOwogICAgZmxvYXQgb2NjbHVzaW9uID0gMS4wOwogICAgZmxvYXQgc3BlY3VsYXIgPSAwLjA7CiAgICBuIC89IHZlYzMoKGFicyhuLngpICsgYWJzKG4ueSkpICsgYWJzKG4ueikpOwogICAgdmVjMiBfOTE7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfOTEgPSBuLnh5OwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIF85MSA9IG9jdGFoZWRyb25XcmFwKG4ueHkpOwogICAgfQogICAgbiA9IHZlYzMoXzkxLngsIF85MS55LCBuLnopOwogICAgZnJhZ0NvbG9yWzBdID0gdmVjNChuLnh5LCBwYWNrRmxvYXQobWV0YWxsaWMsIHJvdWdobmVzcyksIDEuMCAtIGdsX0ZyYWdDb29yZC56KTsKICAgIGZyYWdDb2xvclsxXSA9IHZlYzQoYmFzZWNvbCwgcGFja0Zsb2F0MihvY2NsdXNpb24sIHNwZWN1bGFyKSk7CiAgICB2ZWMyIHBvc2EgPSAoKHd2cHBvc2l0aW9uLnh5IC8gdmVjMih3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgdmVjMiBwb3NiID0gKChwcmV2d3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHByZXZ3dnBwb3NpdGlvbi53KSkgKiAwLjUpICsgdmVjMigwLjUpOwogICAgdmVjMiBfMTY1ID0gdmVjMihwb3NhIC0gcG9zYik7CiAgICBmcmFnQ29sb3JbMl0gPSB2ZWM0KF8xNjUueCwgXzE2NS55LCBmcmFnQ29sb3JbMl0ueiwgZnJhZ0NvbG9yWzJdLncpOwp9Cgo";kha_Shaders.Particle_mesh_fragData2="s1984:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwppbiBoaWdocCBmbG9hdCBwX2ZhZGU7CgpoaWdocCB2ZWMyIG9jdGFoZWRyb25XcmFwKGhpZ2hwIHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAoLTEuMCksICh2LnkgPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdChoaWdocCBmbG9hdCBmMSwgaGlnaHAgZmxvYXQgZjIpCnsKICAgIHJldHVybiBmbG9vcihmMSAqIDEwMC4wKSArIG1pbihmMiwgMC45OTAwMDAwMDk1MzY3NDMxNjQwNjI1KTsKfQoKaGlnaHAgZmxvYXQgcGFja0Zsb2F0MihoaWdocCBmbG9hdCBmMSwgaGlnaHAgZmxvYXQgZjIpCnsKICAgIHJldHVybiBmbG9vcihmMSAqIDI1NS4wKSArIG1pbihmMiwgMC45OTAwMDAwMDk1MzY3NDMxNjQwNjI1KTsKfQoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjMyBuID0gbm9ybWFsaXplKHdub3JtYWwpOwogICAgaGlnaHAgdmVjMyBiYXNlY29sID0gdmVjMygwLjgwMDAwMDAxMTkyMDkyODk1NTA3ODEyNSk7CiAgICBoaWdocCBmbG9hdCByb3VnaG5lc3MgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGhpZ2hwIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIGhpZ2hwIGZsb2F0IHNwZWN1bGFyID0gMC4wOwogICAgbiAvPSB2ZWMzKChhYnMobi54KSArIGFicyhuLnkpKSArIGFicyhuLnopKTsKICAgIGhpZ2hwIHZlYzIgXzkxOwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzkxID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfOTEgPSBvY3RhaGVkcm9uV3JhcChuLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF85MS54LCBfOTEueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIHBhY2tGbG9hdDIob2NjbHVzaW9uLCBzcGVjdWxhcikpOwogICAgaGlnaHAgdmVjMiBwb3NhID0gKCh3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgcG9zYiA9ICgocHJldnd2cHBvc2l0aW9uLnh5IC8gdmVjMihwcmV2d3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgXzE2NSA9IHZlYzIocG9zYSAtIHBvc2IpOwogICAgZnJhZ0NvbG9yWzJdID0gdmVjNChfMTY1LngsIF8xNjUueSwgZnJhZ0NvbG9yWzJdLnosIGZyYWdDb2xvclsyXS53KTsKfQoK";kha_Shaders.Particle_mesh_vertData0="s2360:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDMgTjsKdW5pZm9ybSBtYXQ0IHBkOwp1bmlmb3JtIG1hdDQgV1ZQOwp1bmlmb3JtIG1hdDQgcHJldldWUDsKCmluIHZlYzMgcG9zOwpvdXQgdmVjMyB3bm9ybWFsOwppbiB2ZWMzIG5vcjsKaW4gdmVjMyBvZmY7Cm91dCBmbG9hdCBwX2ZhZGU7Cm91dCB2ZWM0IHd2cHBvc2l0aW9uOwpvdXQgdmVjNCBwcmV2d3ZwcG9zaXRpb247CgpmbG9hdCBmaGFzaChmbG9hdCBuKQp7CiAgICByZXR1cm4gZnJhY3Qoc2luKG4pICogNDM3NTguNTQ2ODc1KTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjNCBzcG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICB3bm9ybWFsID0gbm9ybWFsaXplKE4gKiBub3IpOwogICAgdmVjMyBfNDUgPSBzcG9zLnh5eiArIG9mZjsKICAgIHNwb3MgPSB2ZWM0KF80NS54LCBfNDUueSwgXzQ1LnosIHNwb3Mudyk7CiAgICBmbG9hdCBwX2FnZSA9IHBkWzNdLncgLSAoZmxvYXQoZ2xfSW5zdGFuY2VJRCkgKiBwZFswXS55KTsKICAgIGZsb2F0IHBhcmFtID0gZmxvYXQoZ2xfSW5zdGFuY2VJRCk7CiAgICBwX2FnZSAtPSAoKHBfYWdlICogZmhhc2gocGFyYW0pKSAqIHBkWzJdLncpOwogICAgaWYgKChwZFswXS54ID4gMC4wKSAmJiAocF9hZ2UgPCAwLjApKQogICAgewogICAgICAgIHBfYWdlICs9IChmbG9hdChpbnQoKC1wX2FnZSkgLyBwZFswXS54KSArIDEpICogcGRbMF0ueCk7CiAgICB9CiAgICBmbG9hdCBwX2xpZmV0aW1lID0gcGRbMF0uejsKICAgIGlmICgocF9hZ2UgPCAwLjApIHx8IChwX2FnZSA%IHBfbGlmZXRpbWUpKQogICAgewogICAgICAgIHNwb3MueiA9IC05OTk5OS4wOwogICAgICAgIHNwb3MueSA9IC05OTk5OS4wOwogICAgICAgIHNwb3MueCA9IC05OTk5OS4wOwogICAgfQogICAgcF9hZ2UgLz0gMi4wOwogICAgdmVjMyBwX3ZlbG9jaXR5ID0gdmVjMyhwZFsxXS54LCBwZFsxXS55LCBwZFsxXS56KTsKICAgIGZsb2F0IHBhcmFtXzEgPSBmbG9hdChnbF9JbnN0YW5jZUlEKTsKICAgIHBfdmVsb2NpdHkueCArPSAoKGZoYXNoKHBhcmFtXzEpICogcGRbMV0udykgLSAocGRbMV0udyAvIDIuMCkpOwogICAgZmxvYXQgcGFyYW1fMiA9IGZsb2F0KGdsX0luc3RhbmNlSUQpICsgcGRbMF0udzsKICAgIHBfdmVsb2NpdHkueSArPSAoKGZoYXNoKHBhcmFtXzIpICogcGRbMV0udykgLSAocGRbMV0udyAvIDIuMCkpOwogICAgZmxvYXQgcGFyYW1fMyA9IGZsb2F0KGdsX0luc3RhbmNlSUQpICsgKDIuMCAqIHBkWzBdLncpOwogICAgcF92ZWxvY2l0eS56ICs9ICgoZmhhc2gocGFyYW1fMykgKiBwZFsxXS53KSAtIChwZFsxXS53IC8gMi4wKSk7CiAgICBwX3ZlbG9jaXR5LnggKz0gKChwZFsyXS54ICogcF9hZ2UpIC8gNS4wKTsKICAgIHBfdmVsb2NpdHkueSArPSAoKHBkWzJdLnkgKiBwX2FnZSkgLyA1LjApOwogICAgcF92ZWxvY2l0eS56ICs9ICgocGRbMl0ueiAqIHBfYWdlKSAvIDUuMCk7CiAgICB2ZWMzIHBfbG9jYXRpb24gPSBwX3ZlbG9jaXR5ICogcF9hZ2U7CiAgICB2ZWMzIF8yMjEgPSBzcG9zLnh5eiArIHBfbG9jYXRpb247CiAgICBzcG9zID0gdmVjNChfMjIxLngsIF8yMjEueSwgXzIyMS56LCBzcG9zLncpOwogICAgcF9mYWRlID0gc2luKG1pbigocF9hZ2UgLyAyLjApICogMy4xNDE1OTIwMjU3NTY4MzU5Mzc1LCAzLjE0MTU5MjAyNTc1NjgzNTkzNzUpKTsKICAgIGdsX1Bvc2l0aW9uID0gV1ZQICogc3BvczsKICAgIHd2cHBvc2l0aW9uID0gZ2xfUG9zaXRpb247CiAgICBwcmV2d3ZwcG9zaXRpb24gPSBwcmV2V1ZQICogc3BvczsKfQoK";kha_Shaders.Particle_mesh_vertData1="s2616:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0MyBOOwp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwZDsKdW5pZm9ybSBtZWRpdW1wIG1hdDQgV1ZQOwp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwcmV2V1ZQOwoKaW4gbWVkaXVtcCB2ZWMzIHBvczsKb3V0IG1lZGl1bXAgdmVjMyB3bm9ybWFsOwppbiBtZWRpdW1wIHZlYzMgbm9yOwppbiBtZWRpdW1wIHZlYzMgb2ZmOwpvdXQgbWVkaXVtcCBmbG9hdCBwX2ZhZGU7Cm91dCBtZWRpdW1wIHZlYzQgd3ZwcG9zaXRpb247Cm91dCBtZWRpdW1wIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKbWVkaXVtcCBmbG9hdCBmaGFzaChtZWRpdW1wIGZsb2F0IG4pCnsKICAgIHJldHVybiBmcmFjdChzaW4obikgKiA0Mzc1OC41NDY4NzUpOwp9Cgp2b2lkIG1haW4oKQp7CiAgICBtZWRpdW1wIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgd25vcm1hbCA9IG5vcm1hbGl6ZShOICogbm9yKTsKICAgIG1lZGl1bXAgdmVjMyBfNDUgPSBzcG9zLnh5eiArIG9mZjsKICAgIHNwb3MgPSB2ZWM0KF80NS54LCBfNDUueSwgXzQ1LnosIHNwb3Mudyk7CiAgICBtZWRpdW1wIGZsb2F0IHBfYWdlID0gcGRbM10udyAtIChmbG9hdChnbF9JbnN0YW5jZUlEKSAqIHBkWzBdLnkpOwogICAgbWVkaXVtcCBmbG9hdCBwYXJhbSA9IGZsb2F0KGdsX0luc3RhbmNlSUQpOwogICAgcF9hZ2UgLT0gKChwX2FnZSAqIGZoYXNoKHBhcmFtKSkgKiBwZFsyXS53KTsKICAgIGlmICgocGRbMF0ueCA%IDAuMCkgJiYgKHBfYWdlIDwgMC4wKSkKICAgIHsKICAgICAgICBwX2FnZSArPSAoZmxvYXQoaW50KCgtcF9hZ2UpIC8gcGRbMF0ueCkgKyAxKSAqIHBkWzBdLngpOwogICAgfQogICAgbWVkaXVtcCBmbG9hdCBwX2xpZmV0aW1lID0gcGRbMF0uejsKICAgIGlmICgocF9hZ2UgPCAwLjApIHx8IChwX2FnZSA%IHBfbGlmZXRpbWUpKQogICAgewogICAgICAgIHNwb3MueiA9IC05OTk5OS4wOwogICAgICAgIHNwb3MueSA9IC05OTk5OS4wOwogICAgICAgIHNwb3MueCA9IC05OTk5OS4wOwogICAgfQogICAgcF9hZ2UgLz0gMi4wOwogICAgbWVkaXVtcCB2ZWMzIHBfdmVsb2NpdHkgPSB2ZWMzKHBkWzFdLngsIHBkWzFdLnksIHBkWzFdLnopOwogICAgbWVkaXVtcCBmbG9hdCBwYXJhbV8xID0gZmxvYXQoZ2xfSW5zdGFuY2VJRCk7CiAgICBwX3ZlbG9jaXR5LnggKz0gKChmaGFzaChwYXJhbV8xKSAqIHBkWzFdLncpIC0gKHBkWzFdLncgLyAyLjApKTsKICAgIG1lZGl1bXAgZmxvYXQgcGFyYW1fMiA9IGZsb2F0KGdsX0luc3RhbmNlSUQpICsgcGRbMF0udzsKICAgIHBfdmVsb2NpdHkueSArPSAoKGZoYXNoKHBhcmFtXzIpICogcGRbMV0udykgLSAocGRbMV0udyAvIDIuMCkpOwogICAgbWVkaXVtcCBmbG9hdCBwYXJhbV8zID0gZmxvYXQoZ2xfSW5zdGFuY2VJRCkgKyAoMi4wICogcGRbMF0udyk7CiAgICBwX3ZlbG9jaXR5LnogKz0gKChmaGFzaChwYXJhbV8zKSAqIHBkWzFdLncpIC0gKHBkWzFdLncgLyAyLjApKTsKICAgIHBfdmVsb2NpdHkueCArPSAoKHBkWzJdLnggKiBwX2FnZSkgLyA1LjApOwogICAgcF92ZWxvY2l0eS55ICs9ICgocGRbMl0ueSAqIHBfYWdlKSAvIDUuMCk7CiAgICBwX3ZlbG9jaXR5LnogKz0gKChwZFsyXS56ICogcF9hZ2UpIC8gNS4wKTsKICAgIG1lZGl1bXAgdmVjMyBwX2xvY2F0aW9uID0gcF92ZWxvY2l0eSAqIHBfYWdlOwogICAgbWVkaXVtcCB2ZWMzIF8yMjEgPSBzcG9zLnh5eiArIHBfbG9jYXRpb247CiAgICBzcG9zID0gdmVjNChfMjIxLngsIF8yMjEueSwgXzIyMS56LCBzcG9zLncpOwogICAgcF9mYWRlID0gc2luKG1pbigocF9hZ2UgLyAyLjApICogMy4xNDE1OTIwMjU3NTY4MzU5Mzc1LCAzLjE0MTU5MjAyNTc1NjgzNTkzNzUpKTsKICAgIGdsX1Bvc2l0aW9uID0gV1ZQICogc3BvczsKICAgIHd2cHBvc2l0aW9uID0gZ2xfUG9zaXRpb247CiAgICBwcmV2d3ZwcG9zaXRpb24gPSBwcmV2V1ZQICogc3BvczsKfQoK";kha_Shaders.Particle_mesh_vertData2="s2360:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDMgTjsKdW5pZm9ybSBtYXQ0IHBkOwp1bmlmb3JtIG1hdDQgV1ZQOwp1bmlmb3JtIG1hdDQgcHJldldWUDsKCmluIHZlYzMgcG9zOwpvdXQgdmVjMyB3bm9ybWFsOwppbiB2ZWMzIG5vcjsKaW4gdmVjMyBvZmY7Cm91dCBmbG9hdCBwX2ZhZGU7Cm91dCB2ZWM0IHd2cHBvc2l0aW9uOwpvdXQgdmVjNCBwcmV2d3ZwcG9zaXRpb247CgpmbG9hdCBmaGFzaChmbG9hdCBuKQp7CiAgICByZXR1cm4gZnJhY3Qoc2luKG4pICogNDM3NTguNTQ2ODc1KTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjNCBzcG9zID0gdmVjNChwb3MsIDEuMCk7CiAgICB3bm9ybWFsID0gbm9ybWFsaXplKE4gKiBub3IpOwogICAgdmVjMyBfNDUgPSBzcG9zLnh5eiArIG9mZjsKICAgIHNwb3MgPSB2ZWM0KF80NS54LCBfNDUueSwgXzQ1LnosIHNwb3Mudyk7CiAgICBmbG9hdCBwX2FnZSA9IHBkWzNdLncgLSAoZmxvYXQoZ2xfSW5zdGFuY2VJRCkgKiBwZFswXS55KTsKICAgIGZsb2F0IHBhcmFtID0gZmxvYXQoZ2xfSW5zdGFuY2VJRCk7CiAgICBwX2FnZSAtPSAoKHBfYWdlICogZmhhc2gocGFyYW0pKSAqIHBkWzJdLncpOwogICAgaWYgKChwZFswXS54ID4gMC4wKSAmJiAocF9hZ2UgPCAwLjApKQogICAgewogICAgICAgIHBfYWdlICs9IChmbG9hdChpbnQoKC1wX2FnZSkgLyBwZFswXS54KSArIDEpICogcGRbMF0ueCk7CiAgICB9CiAgICBmbG9hdCBwX2xpZmV0aW1lID0gcGRbMF0uejsKICAgIGlmICgocF9hZ2UgPCAwLjApIHx8IChwX2FnZSA%IHBfbGlmZXRpbWUpKQogICAgewogICAgICAgIHNwb3MueiA9IC05OTk5OS4wOwogICAgICAgIHNwb3MueSA9IC05OTk5OS4wOwogICAgICAgIHNwb3MueCA9IC05OTk5OS4wOwogICAgfQogICAgcF9hZ2UgLz0gMi4wOwogICAgdmVjMyBwX3ZlbG9jaXR5ID0gdmVjMyhwZFsxXS54LCBwZFsxXS55LCBwZFsxXS56KTsKICAgIGZsb2F0IHBhcmFtXzEgPSBmbG9hdChnbF9JbnN0YW5jZUlEKTsKICAgIHBfdmVsb2NpdHkueCArPSAoKGZoYXNoKHBhcmFtXzEpICogcGRbMV0udykgLSAocGRbMV0udyAvIDIuMCkpOwogICAgZmxvYXQgcGFyYW1fMiA9IGZsb2F0KGdsX0luc3RhbmNlSUQpICsgcGRbMF0udzsKICAgIHBfdmVsb2NpdHkueSArPSAoKGZoYXNoKHBhcmFtXzIpICogcGRbMV0udykgLSAocGRbMV0udyAvIDIuMCkpOwogICAgZmxvYXQgcGFyYW1fMyA9IGZsb2F0KGdsX0luc3RhbmNlSUQpICsgKDIuMCAqIHBkWzBdLncpOwogICAgcF92ZWxvY2l0eS56ICs9ICgoZmhhc2gocGFyYW1fMykgKiBwZFsxXS53KSAtIChwZFsxXS53IC8gMi4wKSk7CiAgICBwX3ZlbG9jaXR5LnggKz0gKChwZFsyXS54ICogcF9hZ2UpIC8gNS4wKTsKICAgIHBfdmVsb2NpdHkueSArPSAoKHBkWzJdLnkgKiBwX2FnZSkgLyA1LjApOwogICAgcF92ZWxvY2l0eS56ICs9ICgocGRbMl0ueiAqIHBfYWdlKSAvIDUuMCk7CiAgICB2ZWMzIHBfbG9jYXRpb24gPSBwX3ZlbG9jaXR5ICogcF9hZ2U7CiAgICB2ZWMzIF8yMjEgPSBzcG9zLnh5eiArIHBfbG9jYXRpb247CiAgICBzcG9zID0gdmVjNChfMjIxLngsIF8yMjEueSwgXzIyMS56LCBzcG9zLncpOwogICAgcF9mYWRlID0gc2luKG1pbigocF9hZ2UgLyAyLjApICogMy4xNDE1OTIwMjU3NTY4MzU5Mzc1LCAzLjE0MTU5MjAyNTc1NjgzNTkzNzUpKTsKICAgIGdsX1Bvc2l0aW9uID0gV1ZQICogc3BvczsKICAgIHd2cHBvc2l0aW9uID0gZ2xfUG9zaXRpb247CiAgICBwcmV2d3ZwcG9zaXRpb24gPSBwcmV2V1ZQICogc3BvczsKfQoK";kha_Shaders.Particle_shadowmap_fragData0="s139:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKaW4gaGlnaHAgZmxvYXQgcF9mYWRlOwoKdm9pZCBtYWluKCkKewp9Cgo";kha_Shaders.Particle_shadowmap_fragData1="s134:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7CgppbiBmbG9hdCBwX2ZhZGU7Cgp2b2lkIG1haW4oKQp7Cn0KCg";kha_Shaders.Particle_shadowmap_fragData2="s139:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKaW4gaGlnaHAgZmxvYXQgcF9mYWRlOwoKdm9pZCBtYWluKCkKewp9Cgo";kha_Shaders.Particle_shadowmap_vertData0="s2070:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDQgcGQ7CnVuaWZvcm0gbWF0NCBMV1ZQOwoKaW4gdmVjMyBwb3M7CmluIHZlYzMgb2ZmOwpvdXQgZmxvYXQgcF9mYWRlOwoKZmxvYXQgZmhhc2goZmxvYXQgbikKewogICAgcmV0dXJuIGZyYWN0KHNpbihuKSAqIDQzNzU4LjU0Njg3NSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgdmVjMyBfMzUgPSBzcG9zLnh5eiArIG9mZjsKICAgIHNwb3MgPSB2ZWM0KF8zNS54LCBfMzUueSwgXzM1LnosIHNwb3Mudyk7CiAgICBmbG9hdCBwX2FnZSA9IHBkWzNdLncgLSAoZmxvYXQoZ2xfSW5zdGFuY2VJRCkgKiBwZFswXS55KTsKICAgIGZsb2F0IHBhcmFtID0gZmxvYXQoZ2xfSW5zdGFuY2VJRCk7CiAgICBwX2FnZSAtPSAoKHBfYWdlICogZmhhc2gocGFyYW0pKSAqIHBkWzJdLncpOwogICAgaWYgKChwZFswXS54ID4gMC4wKSAmJiAocF9hZ2UgPCAwLjApKQogICAgewogICAgICAgIHBfYWdlICs9IChmbG9hdChpbnQoKC1wX2FnZSkgLyBwZFswXS54KSArIDEpICogcGRbMF0ueCk7CiAgICB9CiAgICBmbG9hdCBwX2xpZmV0aW1lID0gcGRbMF0uejsKICAgIGlmICgocF9hZ2UgPCAwLjApIHx8IChwX2FnZSA%IHBfbGlmZXRpbWUpKQogICAgewogICAgICAgIHNwb3MueiA9IC05OTk5OS4wOwogICAgICAgIHNwb3MueSA9IC05OTk5OS4wOwogICAgICAgIHNwb3MueCA9IC05OTk5OS4wOwogICAgfQogICAgcF9hZ2UgLz0gMi4wOwogICAgdmVjMyBwX3ZlbG9jaXR5ID0gdmVjMyhwZFsxXS54LCBwZFsxXS55LCBwZFsxXS56KTsKICAgIGZsb2F0IHBhcmFtXzEgPSBmbG9hdChnbF9JbnN0YW5jZUlEKTsKICAgIHBfdmVsb2NpdHkueCArPSAoKGZoYXNoKHBhcmFtXzEpICogcGRbMV0udykgLSAocGRbMV0udyAvIDIuMCkpOwogICAgZmxvYXQgcGFyYW1fMiA9IGZsb2F0KGdsX0luc3RhbmNlSUQpICsgcGRbMF0udzsKICAgIHBfdmVsb2NpdHkueSArPSAoKGZoYXNoKHBhcmFtXzIpICogcGRbMV0udykgLSAocGRbMV0udyAvIDIuMCkpOwogICAgZmxvYXQgcGFyYW1fMyA9IGZsb2F0KGdsX0luc3RhbmNlSUQpICsgKDIuMCAqIHBkWzBdLncpOwogICAgcF92ZWxvY2l0eS56ICs9ICgoZmhhc2gocGFyYW1fMykgKiBwZFsxXS53KSAtIChwZFsxXS53IC8gMi4wKSk7CiAgICBwX3ZlbG9jaXR5LnggKz0gKChwZFsyXS54ICogcF9hZ2UpIC8gNS4wKTsKICAgIHBfdmVsb2NpdHkueSArPSAoKHBkWzJdLnkgKiBwX2FnZSkgLyA1LjApOwogICAgcF92ZWxvY2l0eS56ICs9ICgocGRbMl0ueiAqIHBfYWdlKSAvIDUuMCk7CiAgICB2ZWMzIHBfbG9jYXRpb24gPSBwX3ZlbG9jaXR5ICogcF9hZ2U7CiAgICB2ZWMzIF8yMTEgPSBzcG9zLnh5eiArIHBfbG9jYXRpb247CiAgICBzcG9zID0gdmVjNChfMjExLngsIF8yMTEueSwgXzIxMS56LCBzcG9zLncpOwogICAgcF9mYWRlID0gc2luKG1pbigocF9hZ2UgLyAyLjApICogMy4xNDE1OTIwMjU3NTY4MzU5Mzc1LCAzLjE0MTU5MjAyNTc1NjgzNTkzNzUpKTsKICAgIGdsX1Bvc2l0aW9uID0gTFdWUCAqIHNwb3M7Cn0KCg";kha_Shaders.Particle_shadowmap_vertData1="s2262:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwZDsKdW5pZm9ybSBtZWRpdW1wIG1hdDQgTFdWUDsKCmluIG1lZGl1bXAgdmVjMyBwb3M7CmluIG1lZGl1bXAgdmVjMyBvZmY7Cm91dCBtZWRpdW1wIGZsb2F0IHBfZmFkZTsKCm1lZGl1bXAgZmxvYXQgZmhhc2gobWVkaXVtcCBmbG9hdCBuKQp7CiAgICByZXR1cm4gZnJhY3Qoc2luKG4pICogNDM3NTguNTQ2ODc1KTsKfQoKdm9pZCBtYWluKCkKewogICAgbWVkaXVtcCB2ZWM0IHNwb3MgPSB2ZWM0KHBvcywgMS4wKTsKICAgIG1lZGl1bXAgdmVjMyBfMzUgPSBzcG9zLnh5eiArIG9mZjsKICAgIHNwb3MgPSB2ZWM0KF8zNS54LCBfMzUueSwgXzM1LnosIHNwb3Mudyk7CiAgICBtZWRpdW1wIGZsb2F0IHBfYWdlID0gcGRbM10udyAtIChmbG9hdChnbF9JbnN0YW5jZUlEKSAqIHBkWzBdLnkpOwogICAgbWVkaXVtcCBmbG9hdCBwYXJhbSA9IGZsb2F0KGdsX0luc3RhbmNlSUQpOwogICAgcF9hZ2UgLT0gKChwX2FnZSAqIGZoYXNoKHBhcmFtKSkgKiBwZFsyXS53KTsKICAgIGlmICgocGRbMF0ueCA%IDAuMCkgJiYgKHBfYWdlIDwgMC4wKSkKICAgIHsKICAgICAgICBwX2FnZSArPSAoZmxvYXQoaW50KCgtcF9hZ2UpIC8gcGRbMF0ueCkgKyAxKSAqIHBkWzBdLngpOwogICAgfQogICAgbWVkaXVtcCBmbG9hdCBwX2xpZmV0aW1lID0gcGRbMF0uejsKICAgIGlmICgocF9hZ2UgPCAwLjApIHx8IChwX2FnZSA%IHBfbGlmZXRpbWUpKQogICAgewogICAgICAgIHNwb3MueiA9IC05OTk5OS4wOwogICAgICAgIHNwb3MueSA9IC05OTk5OS4wOwogICAgICAgIHNwb3MueCA9IC05OTk5OS4wOwogICAgfQogICAgcF9hZ2UgLz0gMi4wOwogICAgbWVkaXVtcCB2ZWMzIHBfdmVsb2NpdHkgPSB2ZWMzKHBkWzFdLngsIHBkWzFdLnksIHBkWzFdLnopOwogICAgbWVkaXVtcCBmbG9hdCBwYXJhbV8xID0gZmxvYXQoZ2xfSW5zdGFuY2VJRCk7CiAgICBwX3ZlbG9jaXR5LnggKz0gKChmaGFzaChwYXJhbV8xKSAqIHBkWzFdLncpIC0gKHBkWzFdLncgLyAyLjApKTsKICAgIG1lZGl1bXAgZmxvYXQgcGFyYW1fMiA9IGZsb2F0KGdsX0luc3RhbmNlSUQpICsgcGRbMF0udzsKICAgIHBfdmVsb2NpdHkueSArPSAoKGZoYXNoKHBhcmFtXzIpICogcGRbMV0udykgLSAocGRbMV0udyAvIDIuMCkpOwogICAgbWVkaXVtcCBmbG9hdCBwYXJhbV8zID0gZmxvYXQoZ2xfSW5zdGFuY2VJRCkgKyAoMi4wICogcGRbMF0udyk7CiAgICBwX3ZlbG9jaXR5LnogKz0gKChmaGFzaChwYXJhbV8zKSAqIHBkWzFdLncpIC0gKHBkWzFdLncgLyAyLjApKTsKICAgIHBfdmVsb2NpdHkueCArPSAoKHBkWzJdLnggKiBwX2FnZSkgLyA1LjApOwogICAgcF92ZWxvY2l0eS55ICs9ICgocGRbMl0ueSAqIHBfYWdlKSAvIDUuMCk7CiAgICBwX3ZlbG9jaXR5LnogKz0gKChwZFsyXS56ICogcF9hZ2UpIC8gNS4wKTsKICAgIG1lZGl1bXAgdmVjMyBwX2xvY2F0aW9uID0gcF92ZWxvY2l0eSAqIHBfYWdlOwogICAgbWVkaXVtcCB2ZWMzIF8yMTEgPSBzcG9zLnh5eiArIHBfbG9jYXRpb247CiAgICBzcG9zID0gdmVjNChfMjExLngsIF8yMTEueSwgXzIxMS56LCBzcG9zLncpOwogICAgcF9mYWRlID0gc2luKG1pbigocF9hZ2UgLyAyLjApICogMy4xNDE1OTIwMjU3NTY4MzU5Mzc1LCAzLjE0MTU5MjAyNTc1NjgzNTkzNzUpKTsKICAgIGdsX1Bvc2l0aW9uID0gTFdWUCAqIHNwb3M7Cn0KCg";kha_Shaders.Particle_shadowmap_vertData2="s2070:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDQgcGQ7CnVuaWZvcm0gbWF0NCBMV1ZQOwoKaW4gdmVjMyBwb3M7CmluIHZlYzMgb2ZmOwpvdXQgZmxvYXQgcF9mYWRlOwoKZmxvYXQgZmhhc2goZmxvYXQgbikKewogICAgcmV0dXJuIGZyYWN0KHNpbihuKSAqIDQzNzU4LjU0Njg3NSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgc3BvcyA9IHZlYzQocG9zLCAxLjApOwogICAgdmVjMyBfMzUgPSBzcG9zLnh5eiArIG9mZjsKICAgIHNwb3MgPSB2ZWM0KF8zNS54LCBfMzUueSwgXzM1LnosIHNwb3Mudyk7CiAgICBmbG9hdCBwX2FnZSA9IHBkWzNdLncgLSAoZmxvYXQoZ2xfSW5zdGFuY2VJRCkgKiBwZFswXS55KTsKICAgIGZsb2F0IHBhcmFtID0gZmxvYXQoZ2xfSW5zdGFuY2VJRCk7CiAgICBwX2FnZSAtPSAoKHBfYWdlICogZmhhc2gocGFyYW0pKSAqIHBkWzJdLncpOwogICAgaWYgKChwZFswXS54ID4gMC4wKSAmJiAocF9hZ2UgPCAwLjApKQogICAgewogICAgICAgIHBfYWdlICs9IChmbG9hdChpbnQoKC1wX2FnZSkgLyBwZFswXS54KSArIDEpICogcGRbMF0ueCk7CiAgICB9CiAgICBmbG9hdCBwX2xpZmV0aW1lID0gcGRbMF0uejsKICAgIGlmICgocF9hZ2UgPCAwLjApIHx8IChwX2FnZSA%IHBfbGlmZXRpbWUpKQogICAgewogICAgICAgIHNwb3MueiA9IC05OTk5OS4wOwogICAgICAgIHNwb3MueSA9IC05OTk5OS4wOwogICAgICAgIHNwb3MueCA9IC05OTk5OS4wOwogICAgfQogICAgcF9hZ2UgLz0gMi4wOwogICAgdmVjMyBwX3ZlbG9jaXR5ID0gdmVjMyhwZFsxXS54LCBwZFsxXS55LCBwZFsxXS56KTsKICAgIGZsb2F0IHBhcmFtXzEgPSBmbG9hdChnbF9JbnN0YW5jZUlEKTsKICAgIHBfdmVsb2NpdHkueCArPSAoKGZoYXNoKHBhcmFtXzEpICogcGRbMV0udykgLSAocGRbMV0udyAvIDIuMCkpOwogICAgZmxvYXQgcGFyYW1fMiA9IGZsb2F0KGdsX0luc3RhbmNlSUQpICsgcGRbMF0udzsKICAgIHBfdmVsb2NpdHkueSArPSAoKGZoYXNoKHBhcmFtXzIpICogcGRbMV0udykgLSAocGRbMV0udyAvIDIuMCkpOwogICAgZmxvYXQgcGFyYW1fMyA9IGZsb2F0KGdsX0luc3RhbmNlSUQpICsgKDIuMCAqIHBkWzBdLncpOwogICAgcF92ZWxvY2l0eS56ICs9ICgoZmhhc2gocGFyYW1fMykgKiBwZFsxXS53KSAtIChwZFsxXS53IC8gMi4wKSk7CiAgICBwX3ZlbG9jaXR5LnggKz0gKChwZFsyXS54ICogcF9hZ2UpIC8gNS4wKTsKICAgIHBfdmVsb2NpdHkueSArPSAoKHBkWzJdLnkgKiBwX2FnZSkgLyA1LjApOwogICAgcF92ZWxvY2l0eS56ICs9ICgocGRbMl0ueiAqIHBfYWdlKSAvIDUuMCk7CiAgICB2ZWMzIHBfbG9jYXRpb24gPSBwX3ZlbG9jaXR5ICogcF9hZ2U7CiAgICB2ZWMzIF8yMTEgPSBzcG9zLnh5eiArIHBfbG9jYXRpb247CiAgICBzcG9zID0gdmVjNChfMjExLngsIF8yMTEueSwgXzIxMS56LCBzcG9zLncpOwogICAgcF9mYWRlID0gc2luKG1pbigocF9hZ2UgLyAyLjApICogMy4xNDE1OTIwMjU3NTY4MzU5Mzc1LCAzLjE0MTU5MjAyNTc1NjgzNTkzNzUpKTsKICAgIGdsX1Bvc2l0aW9uID0gTFdWUCAqIHNwb3M7Cn0KCg";kha_Shaders.Wall_mesh_fragData0="s2720:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlXzAwMTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlXzAwMSwgdGV4Q29vcmQpOwogICAgaGlnaHAgdmVjMyBfODAgPSBwb3coSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZS54eXosIHZlYzMoMi4yMDAwMDAwNDc2ODM3MTU4MjAzMTI1KSk7CiAgICBJbWFnZVRleHR1cmVfMDAxX3N0b3JlID0gdmVjNChfODAueCwgXzgwLnksIF84MC56LCBJbWFnZVRleHR1cmVfMDAxX3N0b3JlLncpOwogICAgaGlnaHAgdmVjNCBJbWFnZVRleHR1cmVfc3RvcmUgPSB0ZXh0dXJlKEltYWdlVGV4dHVyZSwgdGV4Q29vcmQpOwogICAgaGlnaHAgdmVjMyBJbWFnZVRleHR1cmVfMDAxX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV8wMDFfc3RvcmUueHl6OwogICAgaGlnaHAgdmVjMyBJbWFnZVRleHR1cmVfQ29sb3JfcmVzID0gSW1hZ2VUZXh0dXJlX3N0b3JlLnh5ejsKICAgIGhpZ2hwIHZlYzMgYmFzZWNvbCA9IEltYWdlVGV4dHVyZV8wMDFfQ29sb3JfcmVzOwogICAgaGlnaHAgZmxvYXQgcm91Z2huZXNzID0gSW1hZ2VUZXh0dXJlX0NvbG9yX3Jlcy54OwogICAgaGlnaHAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBoaWdocCBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICBoaWdocCB2ZWMyIF8xMjI7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTIyID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTIyID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTIyLngsIF8xMjIueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIHBhY2tGbG9hdDIob2NjbHVzaW9uLCBzcGVjdWxhcikpOwogICAgaGlnaHAgdmVjMiBwb3NhID0gKCh3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgcG9zYiA9ICgocHJldnd2cHBvc2l0aW9uLnh5IC8gdmVjMihwcmV2d3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgXzE5NSA9IHZlYzIocG9zYSAtIHBvc2IpOwogICAgZnJhZ0NvbG9yWzJdID0gdmVjNChfMTk1LngsIF8xOTUueSwgZnJhZ0NvbG9yWzJdLnosIGZyYWdDb2xvclsyXS53KTsKfQoK";kha_Shaders.Wall_mesh_fragData1="s2504:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIEltYWdlVGV4dHVyZV8wMDE7CnVuaWZvcm0gbWVkaXVtcCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gdmVjMyB3bm9ybWFsOwppbiB2ZWMyIHRleENvb3JkOwpvdXQgdmVjNCBmcmFnQ29sb3JbM107CmluIHZlYzQgd3ZwcG9zaXRpb247CmluIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKdmVjMiBvY3RhaGVkcm9uV3JhcCh2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpmbG9hdCBwYWNrRmxvYXQoZmxvYXQgZjEsIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmZsb2F0IHBhY2tGbG9hdDIoZmxvYXQgZjEsIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIHZlYzQgSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlXzAwMSwgdGV4Q29vcmQpOwogICAgdmVjMyBfODAgPSBwb3coSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZS54eXosIHZlYzMoMi4yMDAwMDAwNDc2ODM3MTU4MjAzMTI1KSk7CiAgICBJbWFnZVRleHR1cmVfMDAxX3N0b3JlID0gdmVjNChfODAueCwgXzgwLnksIF84MC56LCBJbWFnZVRleHR1cmVfMDAxX3N0b3JlLncpOwogICAgdmVjNCBJbWFnZVRleHR1cmVfc3RvcmUgPSB0ZXh0dXJlKEltYWdlVGV4dHVyZSwgdGV4Q29vcmQpOwogICAgdmVjMyBJbWFnZVRleHR1cmVfMDAxX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV8wMDFfc3RvcmUueHl6OwogICAgdmVjMyBJbWFnZVRleHR1cmVfQ29sb3JfcmVzID0gSW1hZ2VUZXh0dXJlX3N0b3JlLnh5ejsKICAgIHZlYzMgYmFzZWNvbCA9IEltYWdlVGV4dHVyZV8wMDFfQ29sb3JfcmVzOwogICAgZmxvYXQgcm91Z2huZXNzID0gSW1hZ2VUZXh0dXJlX0NvbG9yX3Jlcy54OwogICAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICB2ZWMyIF8xMjI7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTIyID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTIyID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTIyLngsIF8xMjIueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIHBhY2tGbG9hdDIob2NjbHVzaW9uLCBzcGVjdWxhcikpOwogICAgdmVjMiBwb3NhID0gKCh3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIHZlYzIgcG9zYiA9ICgocHJldnd2cHBvc2l0aW9uLnh5IC8gdmVjMihwcmV2d3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIHZlYzIgXzE5NSA9IHZlYzIocG9zYSAtIHBvc2IpOwogICAgZnJhZ0NvbG9yWzJdID0gdmVjNChfMTk1LngsIF8xOTUueSwgZnJhZ0NvbG9yWzJdLnosIGZyYWdDb2xvclsyXS53KTsKfQoK";kha_Shaders.Wall_mesh_fragData2="s2720:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlXzAwMTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgSW1hZ2VUZXh0dXJlOwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwppbiBoaWdocCB2ZWMyIHRleENvb3JkOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzQgSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZSA9IHRleHR1cmUoSW1hZ2VUZXh0dXJlXzAwMSwgdGV4Q29vcmQpOwogICAgaGlnaHAgdmVjMyBfODAgPSBwb3coSW1hZ2VUZXh0dXJlXzAwMV9zdG9yZS54eXosIHZlYzMoMi4yMDAwMDAwNDc2ODM3MTU4MjAzMTI1KSk7CiAgICBJbWFnZVRleHR1cmVfMDAxX3N0b3JlID0gdmVjNChfODAueCwgXzgwLnksIF84MC56LCBJbWFnZVRleHR1cmVfMDAxX3N0b3JlLncpOwogICAgaGlnaHAgdmVjNCBJbWFnZVRleHR1cmVfc3RvcmUgPSB0ZXh0dXJlKEltYWdlVGV4dHVyZSwgdGV4Q29vcmQpOwogICAgaGlnaHAgdmVjMyBJbWFnZVRleHR1cmVfMDAxX0NvbG9yX3JlcyA9IEltYWdlVGV4dHVyZV8wMDFfc3RvcmUueHl6OwogICAgaGlnaHAgdmVjMyBJbWFnZVRleHR1cmVfQ29sb3JfcmVzID0gSW1hZ2VUZXh0dXJlX3N0b3JlLnh5ejsKICAgIGhpZ2hwIHZlYzMgYmFzZWNvbCA9IEltYWdlVGV4dHVyZV8wMDFfQ29sb3JfcmVzOwogICAgaGlnaHAgZmxvYXQgcm91Z2huZXNzID0gSW1hZ2VUZXh0dXJlX0NvbG9yX3Jlcy54OwogICAgaGlnaHAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBoaWdocCBmbG9hdCBzcGVjdWxhciA9IDEuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICBoaWdocCB2ZWMyIF8xMjI7CiAgICBpZiAobi56ID49IDAuMCkKICAgIHsKICAgICAgICBfMTIyID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfMTIyID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfMTIyLngsIF8xMjIueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIHBhY2tGbG9hdDIob2NjbHVzaW9uLCBzcGVjdWxhcikpOwogICAgaGlnaHAgdmVjMiBwb3NhID0gKCh3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgcG9zYiA9ICgocHJldnd2cHBvc2l0aW9uLnh5IC8gdmVjMihwcmV2d3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIGhpZ2hwIHZlYzIgXzE5NSA9IHZlYzIocG9zYSAtIHBvc2IpOwogICAgZnJhZ0NvbG9yWzJdID0gdmVjNChfMTk1LngsIF8xOTUueSwgZnJhZ0NvbG9yWzJdLnosIGZyYWdDb2xvclsyXS53KTsKfQoK";kha_Shaders.armdefault_mesh_fragData0="s1954:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzMgYmFzZWNvbCA9IHZlYzMoMC44MDAwMDAwMTE5MjA5Mjg5NTUwNzgxMjUpOwogICAgaGlnaHAgZmxvYXQgcm91Z2huZXNzID0gMC4wOwogICAgaGlnaHAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBoaWdocCBmbG9hdCBzcGVjdWxhciA9IDAuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICBoaWdocCB2ZWMyIF85MTsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF85MSA9IG4ueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzkxID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfOTEueCwgXzkxLnksIG4ueik7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgMS4wIC0gZ2xfRnJhZ0Nvb3JkLnopOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBwYWNrRmxvYXQyKG9jY2x1c2lvbiwgc3BlY3VsYXIpKTsKICAgIGhpZ2hwIHZlYzIgcG9zYSA9ICgod3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIHBvc2IgPSAoKHByZXZ3dnBwb3NpdGlvbi54eSAvIHZlYzIocHJldnd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIF8xNjUgPSB2ZWMyKHBvc2EgLSBwb3NiKTsKICAgIGZyYWdDb2xvclsyXSA9IHZlYzQoXzE2NS54LCBfMTY1LnksIGZyYWdDb2xvclsyXS56LCBmcmFnQ29sb3JbMl0udyk7Cn0KCg";kha_Shaders.armdefault_mesh_fragData1="s1780:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7CgppbiB2ZWMzIHdub3JtYWw7Cm91dCB2ZWM0IGZyYWdDb2xvclszXTsKaW4gdmVjNCB3dnBwb3NpdGlvbjsKaW4gdmVjNCBwcmV2d3ZwcG9zaXRpb247Cgp2ZWMyIG9jdGFoZWRyb25XcmFwKHZlYzIgdikKewogICAgcmV0dXJuICh2ZWMyKDEuMCkgLSBhYnModi55eCkpICogdmVjMigodi54ID49IDAuMCkgPyAxLjAgOiAoLTEuMCksICh2LnkgPj0gMC4wKSA:IDEuMCA6ICgtMS4wKSk7Cn0KCmZsb2F0IHBhY2tGbG9hdChmbG9hdCBmMSwgZmxvYXQgZjIpCnsKICAgIHJldHVybiBmbG9vcihmMSAqIDEwMC4wKSArIG1pbihmMiwgMC45OTAwMDAwMDk1MzY3NDMxNjQwNjI1KTsKfQoKZmxvYXQgcGFja0Zsb2F0MihmbG9hdCBmMSwgZmxvYXQgZjIpCnsKICAgIHJldHVybiBmbG9vcihmMSAqIDI1NS4wKSArIG1pbihmMiwgMC45OTAwMDAwMDk1MzY3NDMxNjQwNjI1KTsKfQoKdm9pZCBtYWluKCkKewogICAgdmVjMyBuID0gbm9ybWFsaXplKHdub3JtYWwpOwogICAgdmVjMyBiYXNlY29sID0gdmVjMygwLjgwMDAwMDAxMTkyMDkyODk1NTA3ODEyNSk7CiAgICBmbG9hdCByb3VnaG5lc3MgPSAwLjA7CiAgICBmbG9hdCBtZXRhbGxpYyA9IDAuMDsKICAgIGZsb2F0IG9jY2x1c2lvbiA9IDEuMDsKICAgIGZsb2F0IHNwZWN1bGFyID0gMC4wOwogICAgbiAvPSB2ZWMzKChhYnMobi54KSArIGFicyhuLnkpKSArIGFicyhuLnopKTsKICAgIHZlYzIgXzkxOwogICAgaWYgKG4ueiA%PSAwLjApCiAgICB7CiAgICAgICAgXzkxID0gbi54eTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBfOTEgPSBvY3RhaGVkcm9uV3JhcChuLnh5KTsKICAgIH0KICAgIG4gPSB2ZWMzKF85MS54LCBfOTEueSwgbi56KTsKICAgIGZyYWdDb2xvclswXSA9IHZlYzQobi54eSwgcGFja0Zsb2F0KG1ldGFsbGljLCByb3VnaG5lc3MpLCAxLjAgLSBnbF9GcmFnQ29vcmQueik7CiAgICBmcmFnQ29sb3JbMV0gPSB2ZWM0KGJhc2Vjb2wsIHBhY2tGbG9hdDIob2NjbHVzaW9uLCBzcGVjdWxhcikpOwogICAgdmVjMiBwb3NhID0gKCh3dnBwb3NpdGlvbi54eSAvIHZlYzIod3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIHZlYzIgcG9zYiA9ICgocHJldnd2cHBvc2l0aW9uLnh5IC8gdmVjMihwcmV2d3ZwcG9zaXRpb24udykpICogMC41KSArIHZlYzIoMC41KTsKICAgIHZlYzIgXzE2NSA9IHZlYzIocG9zYSAtIHBvc2IpOwogICAgZnJhZ0NvbG9yWzJdID0gdmVjNChfMTY1LngsIF8xNjUueSwgZnJhZ0NvbG9yWzJdLnosIGZyYWdDb2xvclsyXS53KTsKfQoK";kha_Shaders.armdefault_mesh_fragData2="s1954:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKaW4gaGlnaHAgdmVjMyB3bm9ybWFsOwpvdXQgaGlnaHAgdmVjNCBmcmFnQ29sb3JbM107CmluIGhpZ2hwIHZlYzQgd3ZwcG9zaXRpb247CmluIGhpZ2hwIHZlYzQgcHJldnd2cHBvc2l0aW9uOwoKaGlnaHAgdmVjMiBvY3RhaGVkcm9uV3JhcChoaWdocCB2ZWMyIHYpCnsKICAgIHJldHVybiAodmVjMigxLjApIC0gYWJzKHYueXgpKSAqIHZlYzIoKHYueCA%PSAwLjApID8gMS4wIDogKC0xLjApLCAodi55ID49IDAuMCkgPyAxLjAgOiAoLTEuMCkpOwp9CgpoaWdocCBmbG9hdCBwYWNrRmxvYXQoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAxMDAuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCmhpZ2hwIGZsb2F0IHBhY2tGbG9hdDIoaGlnaHAgZmxvYXQgZjEsIGhpZ2hwIGZsb2F0IGYyKQp7CiAgICByZXR1cm4gZmxvb3IoZjEgKiAyNTUuMCkgKyBtaW4oZjIsIDAuOTkwMDAwMDA5NTM2NzQzMTY0MDYyNSk7Cn0KCnZvaWQgbWFpbigpCnsKICAgIGhpZ2hwIHZlYzMgbiA9IG5vcm1hbGl6ZSh3bm9ybWFsKTsKICAgIGhpZ2hwIHZlYzMgYmFzZWNvbCA9IHZlYzMoMC44MDAwMDAwMTE5MjA5Mjg5NTUwNzgxMjUpOwogICAgaGlnaHAgZmxvYXQgcm91Z2huZXNzID0gMC4wOwogICAgaGlnaHAgZmxvYXQgbWV0YWxsaWMgPSAwLjA7CiAgICBoaWdocCBmbG9hdCBvY2NsdXNpb24gPSAxLjA7CiAgICBoaWdocCBmbG9hdCBzcGVjdWxhciA9IDAuMDsKICAgIG4gLz0gdmVjMygoYWJzKG4ueCkgKyBhYnMobi55KSkgKyBhYnMobi56KSk7CiAgICBoaWdocCB2ZWMyIF85MTsKICAgIGlmIChuLnogPj0gMC4wKQogICAgewogICAgICAgIF85MSA9IG4ueHk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgXzkxID0gb2N0YWhlZHJvbldyYXAobi54eSk7CiAgICB9CiAgICBuID0gdmVjMyhfOTEueCwgXzkxLnksIG4ueik7CiAgICBmcmFnQ29sb3JbMF0gPSB2ZWM0KG4ueHksIHBhY2tGbG9hdChtZXRhbGxpYywgcm91Z2huZXNzKSwgMS4wIC0gZ2xfRnJhZ0Nvb3JkLnopOwogICAgZnJhZ0NvbG9yWzFdID0gdmVjNChiYXNlY29sLCBwYWNrRmxvYXQyKG9jY2x1c2lvbiwgc3BlY3VsYXIpKTsKICAgIGhpZ2hwIHZlYzIgcG9zYSA9ICgod3ZwcG9zaXRpb24ueHkgLyB2ZWMyKHd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIHBvc2IgPSAoKHByZXZ3dnBwb3NpdGlvbi54eSAvIHZlYzIocHJldnd2cHBvc2l0aW9uLncpKSAqIDAuNSkgKyB2ZWMyKDAuNSk7CiAgICBoaWdocCB2ZWMyIF8xNjUgPSB2ZWMyKHBvc2EgLSBwb3NiKTsKICAgIGZyYWdDb2xvclsyXSA9IHZlYzQoXzE2NS54LCBfMTY1LnksIGZyYWdDb2xvclsyXS56LCBmcmFnQ29sb3JbMl0udyk7Cn0KCg";kha_Shaders.painter_colored_fragData0="s223:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKb3V0IGhpZ2hwIHZlYzQgRnJhZ0NvbG9yOwppbiBoaWdocCB2ZWM0IGZyYWdtZW50Q29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBGcmFnQ29sb3IgPSBmcmFnbWVudENvbG9yOwp9Cgo";kha_Shaders.painter_colored_fragData1="s210:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7CgpvdXQgdmVjNCBGcmFnQ29sb3I7CmluIHZlYzQgZnJhZ21lbnRDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIEZyYWdDb2xvciA9IGZyYWdtZW50Q29sb3I7Cn0KCg";kha_Shaders.painter_colored_fragData2="s223:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKb3V0IGhpZ2hwIHZlYzQgRnJhZ0NvbG9yOwppbiBoaWdocCB2ZWM0IGZyYWdtZW50Q29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBGcmFnQ29sb3IgPSBmcmFnbWVudENvbG9yOwp9Cgo";kha_Shaders.painter_colored_vertData0="s311:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmluIHZlYzMgdmVydGV4UG9zaXRpb247Cm91dCB2ZWM0IGZyYWdtZW50Q29sb3I7CmluIHZlYzQgdmVydGV4Q29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2ZWM0KHZlcnRleFBvc2l0aW9uLCAxLjApOwogICAgZnJhZ21lbnRDb2xvciA9IHZlcnRleENvbG9yOwp9Cgo";kha_Shaders.painter_colored_vertData1="s354:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwcm9qZWN0aW9uTWF0cml4OwoKaW4gbWVkaXVtcCB2ZWMzIHZlcnRleFBvc2l0aW9uOwpvdXQgbWVkaXVtcCB2ZWM0IGZyYWdtZW50Q29sb3I7CmluIG1lZGl1bXAgdmVjNCB2ZXJ0ZXhDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZlYzQodmVydGV4UG9zaXRpb24sIDEuMCk7CiAgICBmcmFnbWVudENvbG9yID0gdmVydGV4Q29sb3I7Cn0KCg";kha_Shaders.painter_colored_vertData2="s311:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmluIHZlYzMgdmVydGV4UG9zaXRpb247Cm91dCB2ZWM0IGZyYWdtZW50Q29sb3I7CmluIHZlYzQgdmVydGV4Q29sb3I7Cgp2b2lkIG1haW4oKQp7CiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2ZWM0KHZlcnRleFBvc2l0aW9uLCAxLjApOwogICAgZnJhZ21lbnRDb2xvciA9IHZlcnRleENvbG9yOwp9Cgo";kha_Shaders.painter_image_fragData0="s487:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4OwoKaW4gaGlnaHAgdmVjMiB0ZXhDb29yZDsKaW4gaGlnaHAgdmVjNCBjb2xvcjsKb3V0IGhpZ2hwIHZlYzQgRnJhZ0NvbG9yOwoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjNCB0ZXhjb2xvciA9IHRleHR1cmUodGV4LCB0ZXhDb29yZCkgKiBjb2xvcjsKICAgIGhpZ2hwIHZlYzMgXzMyID0gdGV4Y29sb3IueHl6ICogY29sb3IudzsKICAgIHRleGNvbG9yID0gdmVjNChfMzIueCwgXzMyLnksIF8zMi56LCB0ZXhjb2xvci53KTsKICAgIEZyYWdDb2xvciA9IHRleGNvbG9yOwp9Cgo";kha_Shaders.painter_image_fragData1="s452:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKCmluIHZlYzIgdGV4Q29vcmQ7CmluIHZlYzQgY29sb3I7Cm91dCB2ZWM0IEZyYWdDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgdGV4Y29sb3IgPSB0ZXh0dXJlKHRleCwgdGV4Q29vcmQpICogY29sb3I7CiAgICB2ZWMzIF8zMiA9IHRleGNvbG9yLnh5eiAqIGNvbG9yLnc7CiAgICB0ZXhjb2xvciA9IHZlYzQoXzMyLngsIF8zMi55LCBfMzIueiwgdGV4Y29sb3Iudyk7CiAgICBGcmFnQ29sb3IgPSB0ZXhjb2xvcjsKfQoK";kha_Shaders.painter_image_fragData2="s487:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4OwoKaW4gaGlnaHAgdmVjMiB0ZXhDb29yZDsKaW4gaGlnaHAgdmVjNCBjb2xvcjsKb3V0IGhpZ2hwIHZlYzQgRnJhZ0NvbG9yOwoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjNCB0ZXhjb2xvciA9IHRleHR1cmUodGV4LCB0ZXhDb29yZCkgKiBjb2xvcjsKICAgIGhpZ2hwIHZlYzMgXzMyID0gdGV4Y29sb3IueHl6ICogY29sb3IudzsKICAgIHRleGNvbG9yID0gdmVjNChfMzIueCwgXzMyLnksIF8zMi56LCB0ZXhjb2xvci53KTsKICAgIEZyYWdDb2xvciA9IHRleGNvbG9yOwp9Cgo";kha_Shaders.painter_image_vertData0="s380:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmluIHZlYzMgdmVydGV4UG9zaXRpb247Cm91dCB2ZWMyIHRleENvb3JkOwppbiB2ZWMyIHRleFBvc2l0aW9uOwpvdXQgdmVjNCBjb2xvcjsKaW4gdmVjNCB2ZXJ0ZXhDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZlYzQodmVydGV4UG9zaXRpb24sIDEuMCk7CiAgICB0ZXhDb29yZCA9IHRleFBvc2l0aW9uOwogICAgY29sb3IgPSB2ZXJ0ZXhDb2xvcjsKfQoK";kha_Shaders.painter_image_vertData1="s444:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwcm9qZWN0aW9uTWF0cml4OwoKaW4gbWVkaXVtcCB2ZWMzIHZlcnRleFBvc2l0aW9uOwpvdXQgbWVkaXVtcCB2ZWMyIHRleENvb3JkOwppbiBtZWRpdW1wIHZlYzIgdGV4UG9zaXRpb247Cm91dCBtZWRpdW1wIHZlYzQgY29sb3I7CmluIG1lZGl1bXAgdmVjNCB2ZXJ0ZXhDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZlYzQodmVydGV4UG9zaXRpb24sIDEuMCk7CiAgICB0ZXhDb29yZCA9IHRleFBvc2l0aW9uOwogICAgY29sb3IgPSB2ZXJ0ZXhDb2xvcjsKfQoK";kha_Shaders.painter_image_vertData2="s380:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmluIHZlYzMgdmVydGV4UG9zaXRpb247Cm91dCB2ZWMyIHRleENvb3JkOwppbiB2ZWMyIHRleFBvc2l0aW9uOwpvdXQgdmVjNCBjb2xvcjsKaW4gdmVjNCB2ZXJ0ZXhDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZlYzQodmVydGV4UG9zaXRpb24sIDEuMCk7CiAgICB0ZXhDb29yZCA9IHRleFBvc2l0aW9uOwogICAgY29sb3IgPSB2ZXJ0ZXhDb2xvcjsKfQoK";kha_Shaders.painter_text_fragData0="s367:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4OwoKb3V0IGhpZ2hwIHZlYzQgRnJhZ0NvbG9yOwppbiBoaWdocCB2ZWM0IGZyYWdtZW50Q29sb3I7CmluIGhpZ2hwIHZlYzIgdGV4Q29vcmQ7Cgp2b2lkIG1haW4oKQp7CiAgICBGcmFnQ29sb3IgPSB2ZWM0KGZyYWdtZW50Q29sb3IueHl6LCB0ZXh0dXJlKHRleCwgdGV4Q29vcmQpLnggKiBmcmFnbWVudENvbG9yLncpOwp9Cgo";kha_Shaders.painter_text_fragData1="s348:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKCm91dCB2ZWM0IEZyYWdDb2xvcjsKaW4gdmVjNCBmcmFnbWVudENvbG9yOwppbiB2ZWMyIHRleENvb3JkOwoKdm9pZCBtYWluKCkKewogICAgRnJhZ0NvbG9yID0gdmVjNChmcmFnbWVudENvbG9yLnh5eiwgdGV4dHVyZSh0ZXgsIHRleENvb3JkKS54ICogZnJhZ21lbnRDb2xvci53KTsKfQoK";kha_Shaders.painter_text_fragData2="s367:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4OwoKb3V0IGhpZ2hwIHZlYzQgRnJhZ0NvbG9yOwppbiBoaWdocCB2ZWM0IGZyYWdtZW50Q29sb3I7CmluIGhpZ2hwIHZlYzIgdGV4Q29vcmQ7Cgp2b2lkIG1haW4oKQp7CiAgICBGcmFnQ29sb3IgPSB2ZWM0KGZyYWdtZW50Q29sb3IueHl6LCB0ZXh0dXJlKHRleCwgdGV4Q29vcmQpLnggKiBmcmFnbWVudENvbG9yLncpOwp9Cgo";kha_Shaders.painter_text_vertData0="s402:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmluIHZlYzMgdmVydGV4UG9zaXRpb247Cm91dCB2ZWMyIHRleENvb3JkOwppbiB2ZWMyIHRleFBvc2l0aW9uOwpvdXQgdmVjNCBmcmFnbWVudENvbG9yOwppbiB2ZWM0IHZlcnRleENvbG9yOwoKdm9pZCBtYWluKCkKewogICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmVjNCh2ZXJ0ZXhQb3NpdGlvbiwgMS4wKTsKICAgIHRleENvb3JkID0gdGV4UG9zaXRpb247CiAgICBmcmFnbWVudENvbG9yID0gdmVydGV4Q29sb3I7Cn0KCg";kha_Shaders.painter_text_vertData1="s466:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwcm9qZWN0aW9uTWF0cml4OwoKaW4gbWVkaXVtcCB2ZWMzIHZlcnRleFBvc2l0aW9uOwpvdXQgbWVkaXVtcCB2ZWMyIHRleENvb3JkOwppbiBtZWRpdW1wIHZlYzIgdGV4UG9zaXRpb247Cm91dCBtZWRpdW1wIHZlYzQgZnJhZ21lbnRDb2xvcjsKaW4gbWVkaXVtcCB2ZWM0IHZlcnRleENvbG9yOwoKdm9pZCBtYWluKCkKewogICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmVjNCh2ZXJ0ZXhQb3NpdGlvbiwgMS4wKTsKICAgIHRleENvb3JkID0gdGV4UG9zaXRpb247CiAgICBmcmFnbWVudENvbG9yID0gdmVydGV4Q29sb3I7Cn0KCg";kha_Shaders.painter_text_vertData2="s402:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmluIHZlYzMgdmVydGV4UG9zaXRpb247Cm91dCB2ZWMyIHRleENvb3JkOwppbiB2ZWMyIHRleFBvc2l0aW9uOwpvdXQgdmVjNCBmcmFnbWVudENvbG9yOwppbiB2ZWM0IHZlcnRleENvbG9yOwoKdm9pZCBtYWluKCkKewogICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmVjNCh2ZXJ0ZXhQb3NpdGlvbiwgMS4wKTsKICAgIHRleENvb3JkID0gdGV4UG9zaXRpb247CiAgICBmcmFnbWVudENvbG9yID0gdmVydGV4Q29sb3I7Cn0KCg";kha_Shaders.painter_video_vertData0="s380:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmluIHZlYzMgdmVydGV4UG9zaXRpb247Cm91dCB2ZWMyIHRleENvb3JkOwppbiB2ZWMyIHRleFBvc2l0aW9uOwpvdXQgdmVjNCBjb2xvcjsKaW4gdmVjNCB2ZXJ0ZXhDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZlYzQodmVydGV4UG9zaXRpb24sIDEuMCk7CiAgICB0ZXhDb29yZCA9IHRleFBvc2l0aW9uOwogICAgY29sb3IgPSB2ZXJ0ZXhDb2xvcjsKfQoK";kha_Shaders.painter_video_vertData1="s444:I3ZlcnNpb24gMzMwIGVzCgp1bmlmb3JtIG1lZGl1bXAgbWF0NCBwcm9qZWN0aW9uTWF0cml4OwoKaW4gbWVkaXVtcCB2ZWMzIHZlcnRleFBvc2l0aW9uOwpvdXQgbWVkaXVtcCB2ZWMyIHRleENvb3JkOwppbiBtZWRpdW1wIHZlYzIgdGV4UG9zaXRpb247Cm91dCBtZWRpdW1wIHZlYzQgY29sb3I7CmluIG1lZGl1bXAgdmVjNCB2ZXJ0ZXhDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZlYzQodmVydGV4UG9zaXRpb24sIDEuMCk7CiAgICB0ZXhDb29yZCA9IHRleFBvc2l0aW9uOwogICAgY29sb3IgPSB2ZXJ0ZXhDb2xvcjsKfQoK";kha_Shaders.painter_video_vertData2="s380:I3ZlcnNpb24gMzAwIGVzCgp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKCmluIHZlYzMgdmVydGV4UG9zaXRpb247Cm91dCB2ZWMyIHRleENvb3JkOwppbiB2ZWMyIHRleFBvc2l0aW9uOwpvdXQgdmVjNCBjb2xvcjsKaW4gdmVjNCB2ZXJ0ZXhDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZlYzQodmVydGV4UG9zaXRpb24sIDEuMCk7CiAgICB0ZXhDb29yZCA9IHRleFBvc2l0aW9uOwogICAgY29sb3IgPSB2ZXJ0ZXhDb2xvcjsKfQoK";kha_Shaders.painter_video_fragData0="s487:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4OwoKaW4gaGlnaHAgdmVjMiB0ZXhDb29yZDsKaW4gaGlnaHAgdmVjNCBjb2xvcjsKb3V0IGhpZ2hwIHZlYzQgRnJhZ0NvbG9yOwoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjNCB0ZXhjb2xvciA9IHRleHR1cmUodGV4LCB0ZXhDb29yZCkgKiBjb2xvcjsKICAgIGhpZ2hwIHZlYzMgXzMyID0gdGV4Y29sb3IueHl6ICogY29sb3IudzsKICAgIHRleGNvbG9yID0gdmVjNChfMzIueCwgXzMyLnksIF8zMi56LCB0ZXhjb2xvci53KTsKICAgIEZyYWdDb2xvciA9IHRleGNvbG9yOwp9Cgo";kha_Shaders.painter_video_fragData1="s452:I3ZlcnNpb24gMzMwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gbWVkaXVtcCBpbnQ7Cgp1bmlmb3JtIG1lZGl1bXAgc2FtcGxlcjJEIHRleDsKCmluIHZlYzIgdGV4Q29vcmQ7CmluIHZlYzQgY29sb3I7Cm91dCB2ZWM0IEZyYWdDb2xvcjsKCnZvaWQgbWFpbigpCnsKICAgIHZlYzQgdGV4Y29sb3IgPSB0ZXh0dXJlKHRleCwgdGV4Q29vcmQpICogY29sb3I7CiAgICB2ZWMzIF8zMiA9IHRleGNvbG9yLnh5eiAqIGNvbG9yLnc7CiAgICB0ZXhjb2xvciA9IHZlYzQoXzMyLngsIF8zMi55LCBfMzIueiwgdGV4Y29sb3Iudyk7CiAgICBGcmFnQ29sb3IgPSB0ZXhjb2xvcjsKfQoK";kha_Shaders.painter_video_fragData2="s487:I3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpwcmVjaXNpb24gaGlnaHAgaW50OwoKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdGV4OwoKaW4gaGlnaHAgdmVjMiB0ZXhDb29yZDsKaW4gaGlnaHAgdmVjNCBjb2xvcjsKb3V0IGhpZ2hwIHZlYzQgRnJhZ0NvbG9yOwoKdm9pZCBtYWluKCkKewogICAgaGlnaHAgdmVjNCB0ZXhjb2xvciA9IHRleHR1cmUodGV4LCB0ZXhDb29yZCkgKiBjb2xvcjsKICAgIGhpZ2hwIHZlYzMgXzMyID0gdGV4Y29sb3IueHl6ICogY29sb3IudzsKICAgIHRleGNvbG9yID0gdmVjNChfMzIueCwgXzMyLnksIF8zMi56LCB0ZXhjb2xvci53KTsKICAgIEZyYWdDb2xvciA9IHRleGNvbG9yOwp9Cgo";kha_System.renderListeners=[];kha_System.foregroundListeners=[];kha_System.backgroundListeners=[];kha_SystemImpl.mobile=false;kha_SystemImpl.ios=false;kha_SystemImpl.mobileAudioPlaying=false;kha_SystemImpl.chrome=false;kha_SystemImpl.firefox=false;kha_SystemImpl.ie=false;kha_SystemImpl.insideInputEvent=false;kha_SystemImpl.leftMouseCtrlDown=false;kha_SystemImpl.minimumScroll=999;kha_SystemImpl.lastFirstTouchX=0;kha_SystemImpl.lastFirstTouchY=0;kha_SystemImpl.iosSoundEnabled=false;kha_SystemImpl.soundEnabled=false;kha_SystemImpl.iosTouchs=[];kha_audio2_ogg_vorbis_VorbisDecodeState.INVALID_BITS=-1;kha_audio2_ogg_vorbis_VorbisTools.INVERSE_DB_TABLE=[1.0649863e-7,1.1341951e-7,1.2079015e-7,1.2863978e-7,1.3699951e-7,1.4590251e-7,1.5538408e-7,1.6548181e-7,1.7623575e-7,1.8768855e-7,1.9988561e-7,2.128753e-7,2.2670913e-7,2.4144197e-7,2.5713223e-7,2.7384213e-7,2.9163793e-7,3.1059021e-7,3.3077411e-7,3.5226968e-7,3.7516214e-7,3.9954229e-7,4.255068e-7,4.5315863e-7,4.8260743e-7,5.1396998e-7,5.4737065e-7,5.8294187e-7,6.2082472e-7,6.6116941e-7,7.0413592e-7,7.4989464e-7,7.9862701e-7,8.505263e-7,9.0579828e-7,9.6466216e-7,10273513e-13,10941144e-13,11652161e-13,12409384e-13,13215816e-13,14074654e-13,14989305e-13,15963394e-13,17000785e-13,18105592e-13,19282195e-13,20535261e-13,21869758e-13,23290978e-13,24804557e-13,26416497e-13,2813319e-12,29961443e-13,31908506e-13,33982101e-13,36190449e-13,38542308e-13,41047004e-13,4371447e-12,46555282e-13,49580707e-13,5280274e-12,5623416e-12,59888572e-13,63780469e-13,67925283e-13,72339451e-13,77040476e-13,82047e-10,87378876e-13,93057248e-13,99104632e-13,10554501e-12,11240392e-12,11970856e-12,12748789e-12,13577278e-12,14459606e-12,15399272e-12,16400004e-12,17465768e-12,18600792e-12,19809576e-12,21096914e-12,22467911e-12,23928002e-12,25482978e-12,27139006e-12,28902651e-12,30780908e-12,32781225e-12,34911534e-12,37180282e-12,39596466e-12,42169667e-12,4491009e-11,47828601e-12,50936773e-12,54246931e-12,57772202e-12,61526565e-12,65524908e-12,69783085e-12,74317983e-12,79147585e-12,8429104e-11,89768747e-12,95602426e-12,.00010181521,.00010843174,.00011547824,.00012298267,.00013097477,.00013948625,.00014855085,.00015820453,.00016848555,.00017943469,.00019109536,.00020351382,.00021673929,.00023082423,.00024582449,.00026179955,.00027881276,.00029693158,.00031622787,.00033677814,.00035866388,.00038197188,.00040679456,.00043323036,.00046138411,.00049136745,.00052329927,.00055730621,.00059352311,.00063209358,.00067317058,716917e-9,.0007635063,.00081312324,.00086596457,.00092223983,.00098217216,.0010459992,.0011139742,.0011863665,.0012634633,.0013455702,.0014330129,.0015261382,.0016253153,.0017309374,.0018434235,.0019632195,.0020908006,.0022266726,.0023713743,.0025254795,.0026895994,.0028643847,.0030505286,.0032487691,.0034598925,.0036847358,.0039241906,.0041792066,.004450795,.0047400328,.0050480668,.0053761186,.0057254891,.0060975636,.0064938176,.0069158225,.0073652516,.0078438871,.0083536271,.0088964928,.009474637,.010090352,.01074608,.011444421,.012188144,.012980198,.013823725,.014722068,.015678791,.016697687,.017782797,.018938423,.020169149,.021479854,.022875735,.02436233,.025945531,.027631618,.029427276,.031339626,.033376252,.035545228,.037855157,.040315199,.042935108,.045725273,.048696758,.051861348,.055231591,.05882085,.062643361,.066714279,.071049749,.075666962,.080584227,.085821044,.091398179,.097337747,.1036633,.11039993,.11757434,.12521498,.13335215,.14201813,.15124727,.16107617,.1715438,.18269168,.19456402,.20720788,.22067342,.23501402,.25028656,.26655159,.28387361,.30232132,.32196786,.34289114,.36517414,.38890521,.41417847,.44109412,.4697589,.50028648,.53279791,.56742212,.6042964,.64356699,.68538959,.72993007,.77736504,.8278826,.88168307,.9389798,1];kha_graphics2_Graphics.fontGlyphs=function($this){var $r;var _g=[];{var _g1=32;while(_g1<256){var i=_g1++;_g.push(i)}}$r=_g;return $r}(this);kha_graphics4_CubeMap.GL_RGBA16F=34842;kha_graphics4_CubeMap.GL_RGBA32F=34836;kha_graphics4_CubeMap.GL_R16F=33325;kha_graphics4_CubeMap.GL_R32F=33326;kha_graphics4_CubeMap.GL_DEPTH_COMPONENT24=33190;kha_graphics4_CubeMap.GL_DEPTH24_STENCIL8=35056;kha_graphics4_CubeMap.GL_DEPTH32F_STENCIL8=36013;kha_input_Gamepad.__meta__={statics:{sendConnectEvent:{input:null},sendDisconnectEvent:{input:null}},fields:{sendAxisEvent:{input:null},sendButtonEvent:{input:null}}};kha_input_Gamepad.instances=[];kha_input_Gamepad.connectListeners=[];kha_input_Gamepad.disconnectListeners=[];kha_input_Keyboard.__meta__={fields:{sendDownEvent:{input:null},sendUpEvent:{input:null},sendPressEvent:{input:null}}};kha_input_Mouse.__meta__={fields:{sendLeaveEvent:{input:null},sendDownEvent:{input:null},sendUpEvent:{input:null},sendMoveEvent:{input:null},sendWheelEvent:{input:null}}};kha_internal_BytesBlob.bufferSize=2e3;kha_internal_HdrFormat.exposurePattern=new EReg("EXPOSURE=\\s*([0-9]*[.][0-9]*)","i");kha_internal_HdrFormat.formatPattern=new EReg("FORMAT=32-bit_rle_rgbe","i");kha_internal_HdrFormat.widthHeightPattern=new EReg("-Y ([0-9]+) \\+X ([0-9]+)","i");kha_js_AEAudioChannel.todo=[];kha_js_Sound.loading=[];kha_network_ControllerBuilder.nextId=0;zui_Canvas.assetMap=new haxe_ds_IntMap;zui_Canvas.events=[];zui_Canvas.screenW=-1;zui_Canvas.screenH=-1;zui_Themes.dark={FONT_SIZE:13,ELEMENT_W:100,ELEMENT_H:22,ELEMENT_OFFSET:2,ARROW_SIZE:5,BUTTON_H:17,CHECK_SIZE:15,CHECK_SELECT_SIZE:8,SCROLL_W:8,TEXT_OFFSET:8,TAB_W:12,LINE_STRENGTH:1,FLASH_SPEED:.5,TOOLTIP_DELAY:1,FILL_WINDOW_BG:false,FILL_BUTTON_BG:true,FILL_ACCENT_BG:false,WINDOW_BG_COL:-14671840,WINDOW_TINT_COL:-1,ACCENT_COL:-12566464,ACCENT_HOVER_COL:-11513776,ACCENT_SELECT_COL:-10066330,PANEL_BG_COL:-16777216,PANEL_TEXT_COL:-1118482,BUTTON_COL:-13948117,BUTTON_TEXT_COL:-3487289,BUTTON_HOVER_COL:-12895429,BUTTON_PRESSED_COL:-15000805,TEXT_COL:-3487289,LABEL_COL:-5592406,ARROW_COL:-3487289,SEPARATOR_COL:-14277082};zui_Zui.comboFirst=true;Main.main()})(typeof exports!="undefined"?exports:typeof window!="undefined"?window:typeof self!="undefined"?self:this,typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this);